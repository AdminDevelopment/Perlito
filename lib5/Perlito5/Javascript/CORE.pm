# Do not edit this file - Generated by Perlito5 8.0
use v5;
use utf8;
use strict;
use warnings;
no warnings ('redefine', 'once', 'void', 'uninitialized', 'misc', 'recursion');
use Perlito5::Perl5::Runtime;
our $MATCH = Perlito5::Match->new();
package main;
use v5;
package Perlito5::Javascript::CORE;
sub Perlito5::Javascript::CORE::emit_javascript {
    return ('//' . chr(10) . '//' . chr(10) . '// lib/Perlito5/Javascript/CORE.js' . chr(10) . '//' . chr(10) . '// CORE functions for "Perlito" Perl5-in-Javascript' . chr(10) . '//' . chr(10) . '// AUTHORS' . chr(10) . '//' . chr(10) . '// Flavio Soibelmann Glock  fglock@gmail.com' . chr(10) . '//' . chr(10) . '// COPYRIGHT' . chr(10) . '//' . chr(10) . '// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.' . chr(10) . '//' . chr(10) . '// This program is free software; you can redistribute it and/or modify it' . chr(10) . '// under the same terms as Perl itself.' . chr(10) . '//' . chr(10) . '// See http://www.perl.com/perl/misc/Artistic.html' . chr(10) . chr(10) . 'var CORE = NAMESPACE.CORE;' . chr(10) . chr(10) . 'var isNode = typeof require != "undefined";' . chr(10) . 'if (isNode) {' . chr(10) . '    CORE.print = function(List__) {' . chr(10) . '        var i;' . chr(10) . '        for (i = 0; i < List__.length; i++) {' . chr(10) . '            var s = string(List__[i]);' . chr(10) . '            process.stdout.write(s);' . chr(10) . '        }' . chr(10) . '        return true;' . chr(10) . '    }' . chr(10) . '} else {' . chr(10) . '    var _print_buf = "";' . chr(10) . '    CORE.print = function(List__) {' . chr(10) . '        var i;' . chr(10) . '        for (i = 0; i < List__.length; i++) {' . chr(10) . '            var s = string(List__[i]);' . chr(10) . '            if (s.substr(s.length - 2, 2) == "' . chr(92) . 'n") {' . chr(10) . '                print(_print_buf + s.substr(0, s.length - 2));' . chr(10) . '                _print_buf = "";' . chr(10) . '            }' . chr(10) . '            else if (s.substr(s.length - 1, 1) == "' . chr(92) . 'n") {' . chr(10) . '                print(_print_buf + s.substr(0, s.length - 1));' . chr(10) . '                _print_buf = "";' . chr(10) . '            }' . chr(10) . '            else {' . chr(10) . '                _print_buf = _print_buf + s;' . chr(10) . '            }' . chr(10) . '        }' . chr(10) . '        return true;' . chr(10) . '    };' . chr(10) . '}' . chr(10) . chr(10) . 'CORE.say = function(List__) {' . chr(10) . '    CORE.print(List__);' . chr(10) . '    return CORE.print(["' . chr(92) . 'n"]);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.die = function(List__) {' . chr(10) . '    var i;' . chr(10) . '    var s = "";' . chr(10) . '    for (i = 0; i < List__.length; i++) {' . chr(10) . '        s = s + string(List__[i]);' . chr(10) . '    }' . chr(10) . '    throw(new Error("Died: " + s));' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.warn = function(List__) {' . chr(10) . '    var i;' . chr(10) . '    var s = "";' . chr(10) . '    for (i = 0; i < List__.length; i++) {' . chr(10) . '        s = s + string(List__[i]);' . chr(10) . '    }' . chr(10) . '    CORE.print(["Warning: " + s + "' . chr(92) . 'n"]);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.bless = function(List__) {' . chr(10) . '    var o        = List__[0];' . chr(10) . '    var pkg_name = List__[1];' . chr(10) . '    if (typeof pkg_name === "object") {' . chr(10) . '        // bless {}, Class' . chr(10) . '        o._class_ = pkg_name;' . chr(10) . '        return o;' . chr(10) . '    }' . chr(10) . '    if (!NAMESPACE.hasOwnProperty(pkg_name)) {' . chr(10) . '        make_package(pkg_name);' . chr(10) . '    }' . chr(10) . '    o._class_ = NAMESPACE[pkg_name];' . chr(10) . '    return o;' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.chr = function(List__) {' . chr(10) . '    return String.fromCharCode(num(List__[0]));' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.ord = function(List__) {' . chr(10) . '    return string(List__[0]).charCodeAt(0);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.substr = function(List__) {' . chr(10) . '    var expr        = List__[0];' . chr(10) . '    var offset      = List__[1];' . chr(10) . '    var length      = List__[2];' . chr(10) . '    var replacement = List__[3];' . chr(10) . '    return string(expr).substr(offset, length);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.scalar = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o == null) {' . chr(10) . '        return 1;' . chr(10) . '    };' . chr(10) . '    if (typeof o.scalar === "function") {' . chr(10) . '        return o.scalar();' . chr(10) . '    }' . chr(10) . '    if (typeof o === "object" && (o instanceof Array)) {' . chr(10) . '        return o.length;' . chr(10) . '    }' . chr(10) . '    switch (typeof o) {' . chr(10) . '        case "string": return 1;' . chr(10) . '        case "function": return 1;' . chr(10) . '        case "number": return 1;' . chr(10) . '        case "boolean": return 1;' . chr(10) . '    }' . chr(10) . '    var l = 0;' . chr(10) . '    for (var i in o) {' . chr(10) . '        l++;' . chr(10) . '    }' . chr(10) . '    return l;' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.values = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o == null) {' . chr(10) . '        return [];' . chr(10) . '    };' . chr(10) . '    if (typeof o.values === "function") {' . chr(10) . '        return o.values();' . chr(10) . '    }' . chr(10) . '    var out = [];' . chr(10) . '    for (var i in o) {' . chr(10) . '        out.push(o[i]);' . chr(10) . '    }' . chr(10) . '    return out;' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.keys = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o == null) {' . chr(10) . '        return [];' . chr(10) . '    }' . chr(10) . '    if (typeof o.keys === "function") {' . chr(10) . '        return o.keys();' . chr(10) . '    }' . chr(10) . '    var out = [];' . chr(10) . '    for (var i in o) {' . chr(10) . '        out.push(i);' . chr(10) . '    }' . chr(10) . '    return out;' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.pop = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o.length == null) {' . chr(10) . '        return null;' . chr(10) . '    }' . chr(10) . '    return o.pop();' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.shift = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o.length == null) {' . chr(10) . '        return null;' . chr(10) . '    }' . chr(10) . '    return o.shift();' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.push = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    var v = List__[1];' . chr(10) . '    return o.push(v);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.unshift = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    var v = List__[1];' . chr(10) . '    return o.unshift(v);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.join = function(List__) {' . chr(10) . '    var s = List__[0];' . chr(10) . '    var o = List__[1];' . chr(10) . '    return o.join(s);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.index = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    var s = List__[1];' . chr(10) . '    try {' . chr(10) . '        return o.indexOf(s);' . chr(10) . '    }' . chr(10) . '    catch(err) {' . chr(10) . '        return -1;' . chr(10) . '    }' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.length = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (typeof o.string === "function") {' . chr(10) . '        return o.string().length;' . chr(10) . '    }' . chr(10) . '    return o.length;' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.ref = function(List__) {' . chr(10) . '    var o = List__[0];' . chr(10) . '    if (o == null) {' . chr(10) . '        return "";' . chr(10) . '    }' . chr(10) . '    if (o._class_ && typeof o._class_._ref_ === "string") {' . chr(10) . '        // blessed reference' . chr(10) . '        return o._class_._ref_;' . chr(10) . '    }' . chr(10) . '    if (typeof o._ref_ === "string") {' . chr(10) . '        // un-blessed reference' . chr(10) . '        return o._ref_;' . chr(10) . '    }' . chr(10) . '    if (typeof o === "function") {' . chr(10) . '        return "CODE";' . chr(10) . '    }' . chr(10) . '    return "";' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.split = function(List__) {' . chr(10) . '    var pattern = List__[0];' . chr(10) . '    var s       = List__[1];' . chr(10) . '    var limit   = List__[2];' . chr(10) . '    if (typeof pattern === "string") {' . chr(10) . '        if (pattern == " ") {' . chr(10) . '            var res = [];' . chr(10) . '            for (var i_ = 0, a_ = s.split(/(?: |' . chr(92) . 'n)+/); i_ < a_.length ; i_++) {' . chr(10) . '                if (a_[i_] != "") {' . chr(10) . '                    res.push(a_[i_])' . chr(10) . '                }' . chr(10) . '            }' . chr(10) . '            return res;' . chr(10) . '        }' . chr(10) . '    }' . chr(10) . '    CORE.die(["not implemented"]);' . chr(10) . '};' . chr(10) . chr(10) . 'CORE.prototype = function(List__, data) {' . chr(10) . '    var name = List__[0];' . chr(10) . '    // TODO - fully qualify "name" using information from "data"' . chr(10) . '    // TODO - lookup in CORE::GLOBAL' . chr(10) . '    NAMESPACE["Perlito5"].v_PROTO._hash_[name] || NAMESPACE["Perlito5"].v_CORE_PROTO._hash_[name]' . chr(10) . '};' . chr(10) . chr(10))
};
1;

1;
