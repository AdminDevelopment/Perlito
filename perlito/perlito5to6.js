// Do not edit this file - Generated by Perlito5 9.0
//
// lib/Perlito5/Javascript2/Runtime.js
//
// Runtime for "Perlito" Perl5-in-Javascript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

"use strict";
var isNode = typeof require != "undefined";

if (typeof p5pkg !== "object") {
    var p5pkg = {};
    var p5LOCAL = [];

    var universal = function () {};
    p5pkg.UNIVERSAL = new universal();
    p5pkg.UNIVERSAL._ref_ = "UNIVERSAL";
    p5pkg.UNIVERSAL.isa = function (List__) {
        // TODO - use @ISA
        return List__[0]._class_._ref_ == List__[1]
    };
    p5pkg.UNIVERSAL.can = function (List__) {
        var o = List__[0];
        var s = List__[1];
        if ( s.indexOf("::") == -1 ) {
            return p5method_lookup(s, o._class_._ref__, {})
        }
        var c = s.split("::");
        s = c.pop(); 
        return p5method_lookup(s, c.join("::"), {});
    };
    p5pkg.UNIVERSAL.DOES = p5pkg.UNIVERSAL.can;

    var core = function () {};
    p5pkg["CORE"] = new core();
    p5pkg["CORE"]._ref_ = "CORE";

    var core_global = function () {};
    core_global.prototype = p5pkg.CORE;
    p5pkg["CORE::GLOBAL"] = new core_global();
    p5pkg["CORE::GLOBAL"]._ref_ = "CORE::GLOBAL";

    var p5_error = function (type, v) {
        this.type = type;
        this.v = this.message = v;
        this.toString = function(){
            if (this.type == 'break') {
                return 'Can\'t "break" outside a given block'
            }
            if (this.type == 'next' || this.type == 'last' || this.type == 'redo') {
                if (this.v == "") { return 'Can\'t "' + this.type + '" outside a loop block' }
                return 'Label not found for "' + this.type + ' ' + this.v + '"';
            }
            return this.v;
        };
    };
    p5_error.prototype = Error.prototype;
}

function p5make_package(pkg_name) {
    if (!p5pkg.hasOwnProperty(pkg_name)) {
        var tmp = function () {};
        tmp.prototype = p5pkg["CORE::GLOBAL"];
        p5pkg[pkg_name] = new tmp();
        p5pkg[pkg_name]._ref_ = pkg_name;
        p5pkg[pkg_name]._class_ = p5pkg[pkg_name];  // XXX memory leak
        p5pkg[pkg_name]._is_package_ = 1;

        // TODO - add the other package global variables
        p5pkg[pkg_name]["List_ISA"] = [];
        p5pkg[pkg_name]["v_a"] = null;
        p5pkg[pkg_name]["v_b"] = null;
        p5pkg[pkg_name]["v__"] = null;
        p5pkg[pkg_name]["v_AUTOLOAD"] = null;
    }
    return p5pkg[pkg_name];
}

function p5code_lookup_by_name(package_name, sub_name) {
    // sub_name can be a function already
    if (typeof sub_name === "function") {
        return sub_name;
    }
    // sub_name can have an optional namespace
    var parts = sub_name.split(/::/);
    if (parts.length > 1) {
        sub_name = parts.pop();
        package_name = parts.join("::");
    }
    if (p5pkg.hasOwnProperty(package_name)) {
        var c = p5pkg[package_name];
        if ( c.hasOwnProperty(sub_name) ) {
            return c[sub_name]
        }
    }
    return null;
}

function p5get_class_for_method(method, class_name, seen) {
    // default mro
    // TODO - cache the methods that were already looked up
    if ( p5pkg[class_name].hasOwnProperty(method) ) {
        return class_name
    }
    var isa = p5pkg[class_name].List_ISA;
    if (isa) {
        for (var i = 0; i < isa.length; i++) {
            if (!seen[isa[i]]) {
                var m = p5get_class_for_method(method, isa[i], seen);
                if (m) {
                    return m 
                }
                seen[isa[i]]++;
            }
        }
    }
}

function p5method_lookup(method, class_name, seen) {
    var c = p5get_class_for_method(method, class_name, seen);
    if (c) {
        return p5pkg[c][method]
    }
    if ( p5pkg.UNIVERSAL.hasOwnProperty(method) ) {
        return p5pkg.UNIVERSAL[method]
    }
}

function p5call(invocant, method, list, p5want) {

    if (typeof invocant === "string") {
        list.unshift(invocant);
        invocant = p5make_package(invocant);
    }
    else if ( invocant.hasOwnProperty("_is_package_") ) {
        list.unshift(invocant._ref_);   // invocant is a "package" object
    }
    else {
        list.unshift(invocant);
    }

    if ( invocant.hasOwnProperty("_class_") ) {

        if ( invocant._class_.hasOwnProperty(method) ) {
            return invocant._class_[method](list, p5want)
        }
        var m = p5method_lookup(method, invocant._class_._ref_, {});
        if (m) {
            return m(list, p5want)
        }

        // method can have an optional namespace
        var pkg_name = method.split(/::/);
        if (pkg_name.length > 1) {
            var name = pkg_name.pop();
            pkg_name = pkg_name.join("::");
            m = p5method_lookup(name, pkg_name, {});
            if (m) {
                return m(list, p5want)
            }
            p5pkg.CORE.die(["method not found: ", name, " in class ", pkg_name]);
        }

        pkg_name = p5get_class_for_method('AUTOLOAD', invocant._class_._ref_, {}) || p5get_class_for_method('AUTOLOAD', "UNIVERSAL", {});
        if (pkg_name) {
            p5pkg[pkg_name]["v_AUTOLOAD"] = invocant._class_._ref_ + "::" + method;
            return p5pkg[pkg_name]["AUTOLOAD"](list, p5want);
        }

        p5pkg.CORE.die(["method not found: ", method, " in class ", invocant._class_._ref_]);

    }

    p5pkg.CORE.die(["Can't call method ", method, " on unblessed reference"]);

}

function p5call_sub(namespace, name, list, p5want) {
    if(p5pkg[namespace].hasOwnProperty(name)) {
        return p5pkg[namespace][name](list, p5want)
    }
    if(p5pkg[namespace].hasOwnProperty("AUTOLOAD")) {
        p5pkg[namespace]["v_AUTOLOAD"] = namespace + "::" + name;
        return p5pkg[namespace]["AUTOLOAD"](list, p5want)
    }
    p5pkg.CORE.die(["Undefined subroutine &" + namespace + "::" + name]);
}

function p5sub_exists(name, current_pkg_name) {
    var v = name;
    var pkg_name = v.split(/::/);
    if (pkg_name.length > 1) {
        v = pkg_name.pop();
        pkg_name = pkg_name.join("::");
    }
    else {
        pkg_name = current_pkg_name;
    }
    var c = v.charCodeAt(0);
    if (c < 27) {
        v = String.fromCharCode(c + 64) + v.substr(1);
        pkg_name = 'main';
    }
    return p5pkg.hasOwnProperty(pkg_name) && p5pkg[pkg_name].hasOwnProperty(v) 
}

function p5sub_prototype(name, current_pkg_name) {
    if (typeof name === "function") {
        return name._prototype_;
    }
    var v = name;
    var pkg_name = v.split(/::/);
    if (pkg_name.length > 1) {
        v = pkg_name.pop();
        pkg_name = pkg_name.join("::");
    }
    else {
        pkg_name = current_pkg_name;
    }
    var c = v.charCodeAt(0);
    if (c < 27) {
        v = String.fromCharCode(c + 64) + v.substr(1);
        pkg_name = 'main';
    }
    if (p5pkg[pkg_name].hasOwnProperty(v)) {
        return p5pkg[pkg_name][v]._prototype_
    }
    return p5pkg["Perlito5"].v_PROTO._hash_[name] || p5pkg["Perlito5"].v_CORE_PROTO._hash_[name]
}

function p5scalar_deref(v, current_pkg_name, autoviv_type) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            v = String.fromCharCode(c + 64) + v.substr(1);
            pkg_name = 'main';
        }
        var name = "v_"+v;
        if (!p5make_package(pkg_name)[name]) {
            if (autoviv_type == 'array') {
                p5pkg[pkg_name][name] = new p5ArrayRef([]);
            }
            else if (autoviv_type == 'hash') {
                p5pkg[pkg_name][name] = new p5HashRef([]);
            }
            else if (autoviv_type == 'scalar') {
                p5pkg[pkg_name][name] = new p5ScalarRef([]);
            }
        }
        return p5pkg[pkg_name][name];
    }
    if (!v._scalar_) {
        if (autoviv_type == 'array') {
            v._scalar_ = new p5ArrayRef([]);
        }
        else if (autoviv_type == 'hash') {
            v._scalar_ = new p5HashRef([]);
        }
        else if (autoviv_type == 'scalar') {
            v._scalar_ = new p5ScalarRef([]);
        }
    }
    return v._scalar_;
}

function p5scalar_deref_set(v, n, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            v = String.fromCharCode(c + 64) + v.substr(1);
            pkg_name = 'main';
        }
        var name = "v_"+v;
        p5make_package(pkg_name)[name] = n;
        return p5pkg[pkg_name][name];
    }
    v._scalar_ = n;
    return v._scalar_;
}

function p5array_deref(v, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            v = String.fromCharCode(c + 64) + v.substr(1);
            pkg_name = 'main';
        }
        var name = "List_"+v;
        if (!p5make_package(pkg_name)[name]) {
                p5pkg[pkg_name][name] = [];
        }
        return p5pkg[pkg_name][name];
    }
    return v._array_;
}

function p5global_array(pkg_name, name) {
    var v = "List_"+name;
    if (!p5make_package(pkg_name).hasOwnProperty(v)) {
        p5pkg[pkg_name][v] = [];
    }
    return p5pkg[pkg_name][v];
}

function p5hash_deref(v, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            v = String.fromCharCode(c + 64) + v.substr(1);
            pkg_name = 'main';
        }
        var name = "Hash_"+v;
        if (!p5make_package(pkg_name)[name]) {
                p5pkg[pkg_name][name] = [];
        }
        return p5pkg[pkg_name][name];
    }
    return v._hash_;
}

function p5global_hash(pkg_name, name) {
    var v = "Hash_"+name;
    if (!p5make_package(pkg_name).hasOwnProperty(v)) {
        p5pkg[pkg_name][v] = {};
    }
    return p5pkg[pkg_name][v];
}

p5make_package("main");
p5make_package("Perlito5");
p5pkg["Perlito5"].v_PKG_NAME = "main";
p5pkg["main"]["v_@"] = [];      // $@
p5pkg["main"]["v_|"] = 0;       // $|
p5pkg["main"]["v_/"] = "\n";    // $/
p5pkg["main"]['v_"'] = " ";     // $"
p5pkg["main"]["List_#"] = [];   // @#
p5scalar_deref_set(String.fromCharCode(15), isNode ? "node.js" : "javascript2");  // $^O
p5pkg["main"]["List_INC"] = [];
p5pkg["main"]["Hash_INC"] = {};
p5pkg["main"]["List_ARGV"] = [];
p5pkg["main"]["Hash_ENV"] = {};
p5pkg["main"]["Hash_SIG"] = {};
if (isNode) {
    p5pkg["main"]["List_ARGV"] = process.argv.splice(2);

    p5pkg["main"]["Hash_ENV"] = {};
    for (var e in process.env) p5pkg["main"]["Hash_ENV"][e] = process.env[e];

    p5pkg["main"]["v_$"]       = process.pid;
} else if (typeof arguments === "object") {
    p5pkg["main"]["List_ARGV"] = arguments;
}

p5make_package("Perlito5::IO");
p5make_package("Perlito5::Runtime");
p5make_package("Perlito5::Grammar");

var sigils = { '@' : 'List_', '%' : 'Hash_', '$' : 'v_', '&' : '' };

function p5typeglob_set(namespace, name, obj) {
    p5make_package(namespace);
    if ( obj.hasOwnProperty("_ref_") ) {
        if ( obj._ref_ == "HASH" ) {
            p5pkg[namespace][sigils['%'] + name] = obj._hash_;
        }
        else if ( obj._ref_ == "ARRAY" ) {
            p5pkg[namespace][sigils['@'] + name] = obj._array_;
        }
        else if ( obj._ref_ == "SCALAR" ) {
            p5pkg[namespace][sigils['$'] + name] = obj._scalar_;
        }
        else if ( obj._ref_ == "CODE" ) {
            p5pkg[namespace][sigils['&'] + name] = obj._code_;
        }
        else if ( obj._ref_ == "GLOB" ) {
            // TODO
            p5pkg[namespace][name] = obj;
        }
    }
    else {
        p5pkg[namespace][name] = obj;   // native CODE
        // TODO - non-reference
    }
    return p5pkg[namespace][name];  // TODO - return GLOB
}

function p5typeglob_deref_set(v, obj, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        return p5typeglob_set(pkg_name, v, obj);
    }
    CORE.die(["TODO: can't p5typeglob_deref_set()"]);
}

function p5cleanup_local(idx, value) {
    while (p5LOCAL.length > idx) {
        var l = p5LOCAL.pop();
        l();
    }
    return value;
}

//-------- Reference

var p5id = Math.floor(Math.random() * 1000000000) + 1000000000;

function p5HashRef(o) {
    this._hash_ = o;
    this._ref_ = "HASH";
    this.bool = function() { return 1 };
}

function p5ArrayRef(o) {
    this._array_ = o;
    this._ref_ = "ARRAY";
    this.bool = function() { return 1 };
}

function p5ScalarRef(o) {
    this._scalar_ = o;
    this._ref_ = "SCALAR";
    this.bool = function() { return 1 };
}

function p5GlobRef(o) {
    this._scalar_ = o;
    this._ref_ = "GLOB";
    this.bool = function() { return 1 };
}

function p5CodeRef(o) {
    this._code_ = o;
    this._ref_ = "CODE";
    this.bool = function() { return 1 };
}

//-------- Hash 

Object.defineProperty( Object.prototype, "p5hget", {
    enumerable : false,
    value : function (i) { return this[i] }
});
Object.defineProperty( Object.prototype, "p5hset", {
    enumerable : false,
    value : function (i, v) { this[i] = v; return this[i] }
});

Object.defineProperty( Object.prototype, "p5incr", {
    enumerable : false,
    value : function (i) {
        this[i] = p5incr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Object.prototype, "p5postincr", {
    enumerable : false,
    value : function (i) {
        var v = this[i];
        this[i] = p5incr_(this[i]);
        return v;
    }
});
Object.defineProperty( Object.prototype, "p5decr", {
    enumerable : false,
    value : function (i) {
        this[i] = p5decr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Object.prototype, "p5postdecr", {
    enumerable : false,
    value : function (i) {
        var v = this[i];
        this[i] = p5decr_(this[i]);
        return v;
    }
});

Object.defineProperty( Object.prototype, "p5hget_array", {
    enumerable : false,
    value : function (i) {
        if (this[i] == null) { this[i] = new p5ArrayRef([]) }
        return this[i]
    }
});
Object.defineProperty( Object.prototype, "p5hget_hash", {
    enumerable : false,
    value : function (i) {
        if (this[i] == null) { this[i] = new p5HashRef({}) }
        return this[i]
    }
});

//-------


var p5context = function(List__, p5want) {
    if (p5want) {
        return p5list_to_a(List__);
    }
    // scalar: return the last value
    var o = List__;
    while (o instanceof Array) {
        o =   o.length
            ? o[o.length-1]
            : null;
    }
    return o;
}

var p5list_to_a = function(args) {
    var res = [];
    for (var i = 0; i < args.length; i++) {
        var o = args[i];
        if  (  o == null
            || o._class_    // perl5 blessed reference
            || o._ref_      // perl5 un-blessed reference
            )
        {
            res.push(o);
        }
        else if (o instanceof Array) {
            // perl5 array
            for (var j = 0; j < o.length; j++) {
                res.push(o[j]);
            }
        }
        else if (typeof o === "object") {
            // perl5 hash
            for(var j in o) {
                if (o.hasOwnProperty(j)) {
                    res.push(j);
                    res.push(o[j]);
                }
            }
        }
        else {
            // non-ref
            res.push(o);
        }
    }
    return res;
};

var p5_list_of_refs = function(a) {
    // implements \( @a )
    var res = [];
    for (var i = 0; i < a.length; i++) {
        res.push(new p5ScalarRef(a[i]));
    }
    return res;
};

var p5a_to_h = function(a) {
    var res = {};
    for (var i = 0; i < a.length; i+=2) {
        res[p5str(a[i])] = a[i+1];
    }
    return res;
};

var p5idx = function(a, i) {
    return i >= 0 ? i : a.length + i
};

var p5str = function(o) {
    if (o == null) {
        return "";
    }
    if (typeof o === "object") {
        if (o instanceof Array) {
            return CORE.join(["", o]);
        }
        if ( o.hasOwnProperty("_ref_") ) {
            var class_name = '';
            if (o._class_ && typeof o._class_._ref_ === "string") {
                // blessed reference
                // test for overload
                var meth = p5method_lookup('(""', o._class_._ref_, {});
                if (meth) {
                    return p5str(meth([o], 0));
                }
                // TODO - test the "fallback" flag
                meth = p5method_lookup('(0+', o._class_._ref_, {});
                if (meth) {
                    return p5str(meth([o], 0));
                }
                // no overload, strigify the reference instead
                class_name = o._class_._ref_ + '=';
            }
            if (!o._id_) { o._id_ = p5id++ }
            return [class_name, o._ref_, '(0x', o._id_.toString( 16 ), ')'].join('');
        }
    }
    if (typeof o === "function") {
        var class_name = '';
        if (o._class_ && typeof o._class_._ref_ === "string") {
            // blessed reference
            class_name = o._class_._ref_ + '=';
        }
        if (!o._id_) { o._id_ = p5id++ }
        return [class_name, 'CODE(0x', o._id_.toString( 16 ), ')'].join('');
    }
    if (typeof o == "number" && Math.abs(o) < 0.0001 && o != 0) {
        return o.toExponential().replace(/e-(\d)$/,"e-0$1");
    }
    if (typeof o === "boolean") {
        return o ? "1" : "";
    }
    if (typeof o !== "string") {
        return "" + o;
    }
    return o;
};

var p5num = function(o) {
    if (o == null) {
        return 0;
    }
    if (typeof o === "object") {
        if (o instanceof Array) {
            return o.length;
        }
        if ( o.hasOwnProperty("_ref_") ) {
            if (o._class_ && typeof o._class_._ref_ === "string") {
                // blessed reference
                // test for overload
                var meth = p5method_lookup('(0+', o._class_._ref_, {});
                if (meth) {
                    return p5num(meth([o], 0));
                }
                // TODO - test the "fallback" flag
                meth = p5method_lookup('(""', o._class_._ref_, {});
                if (meth) {
                    return p5num(meth([o], 0));
                }
            }
        }
    }
    if (typeof o !== "number") {
        var s = p5str(o).trim();
        var s1 = s.substr(0, 3).toUpperCase();
        if ( s1 == "NAN" ) { return NaN };
        if ( s1 == "INF" ) { return Infinity };
        s1 = s.substr(0, 4).toUpperCase();
        if ( s1 == "-NAN" ) { return NaN };
        if ( s1 == "-INF" ) { return -Infinity };
        s1 = parseFloat(s);
        if ( isNaN(s1) ) { return 0 };
        return s1;
    }
    return o;
};

var p5bool = function(o) {
    if (o) {
        if (typeof o === "boolean") {
            return o;
        }
        if (typeof o === "number") {
            return o;
        }
        if (typeof o === "string") {
            return o != "" && o != "0";
        }
        if (typeof o.length === "number") {
            return o.length;
        }
        if (o instanceof Error) {
            return true;
        }
        for (var i in o) {
            return true;
        }
    }
    return false;
};

var p5incr_ = function(o) {
    if (typeof o === "number") {
        return o + 1;
    }
    return p5str_inc(p5str(o));
};

var p5decr_ = function(o) {
    if (typeof o === "number") {
        return o - 1;
    }
    return p5num(o) - 1;
};

var p5modulo = function(o, k) {
    var m = o % k;
    if ( k < 0 && m > 0 ) {
        m = m + k;
    }
    else if ( k > 0 && m < 0 ) {
        m = m + k;
    }
    return m;
};

var p5shift_left = function(o, k) {
    return k < 31 ? o << k : o * Math.pow(2, k);
};

var p5and = function(a, fb) {
    if (p5bool(a)) {
        return fb();
    }
    return a;
};

var p5or = function(a, fb) {
    if (p5bool(a)) {
        return a;
    }
    return fb();
};

var p5defined_or = function(a, fb) {
    if (a == null) {
        return fb();
    }
    return a;
};

var p5xor = function(a, fb) {
    return p5bool(a) ? !p5bool(fb()) : fb()
};

var p5cmp = function(a, b) {
    return a > b ? 1 : a < b ? -1 : 0 
};

var p5complement = function(a) {
    return a < 0 ? ~a : 4294967295 - a
    // return a < 0 ? ~a : 18446744073709551615 - a
};

var p5str_replicate = function(o, n) {
    n = p5num(n);
    return n ? Array(n + 1).join(o) : "";
};

var p5list_replicate = function(o, n) {
    o = p5list_to_a([o]);
    n = p5num(n);
    var out = [];
    for(var i = 0; i < n; i++) {
        for(var j = 0; j < o.length; j++) {
            out.push(o[j]);
        }
    }
    return out;
};

var p5str_inc = function(s) {
    s = p5str(s);
    if (s.length < 2) {
        if (s.match(/[012345678ABCDEFGHIJKLMNOPQRSTUVWXYabcdefghijklmnopqrstuvwxy]/)) {
            return String.fromCharCode(s.charCodeAt(0) + 1);
        }
        if (s == "9") {
            return "10";
        }
        if (s == "Z") {
            return "AA";
        }
        if (s == "z") {
            return "aa";
        }
        return "1";
    }
    var c = p5str_inc(s.substr(s.length-1, 1));
    if (c.length == 1) {
        return s.substr(0, s.length-1) + c;
    }
    return p5str_inc(s.substr(0, s.length-1)) + c.substr(c.length-1, 1);
};

var p5range = function(a, b) {
    var tmp = [];
    if (typeof a === "number" || typeof b === "number") {
        a = p5num(a);
        b = p5num(b);
        while (a <= b) {
            tmp.push(a);
            a++;
        }
    }
    else {
        a = p5str(a);
        b = p5str(b);
        while (  (a.length < b.length)
              || (a.length == b.length && a <= b) ) {
            tmp.push(a);
            a = p5incr_(a);
        }
    }
    return tmp;
};

var p5negative = function(o) {
    if (o == null) {
        return '-0';
    }
    if (typeof o === "object" && (o instanceof Array)) {
        return -(o.length);
    }
    if (typeof o !== "number") {
        var s = p5str(o);
        var s1 = parseFloat(s.trim());
        if ( isNaN(s1) ) {
            var c = s.substr(0, 1);
            if ( c == '+' ) { s = s.substr(1); return '-' + s }
            if ( c == '-' ) { s = s.substr(1); return '+' + s }
            if ( c.length && !c.match(/[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz]/) ) {
                if ( s.trim().substr(0,1) == "-" ) { return 0 };
                return '-0';
            };
            return '-' + s
        };
        return -s1;
    }
    return -o;
};

var p5qr = function(s, modifier) {
    // TODO
    CORE.die(["qr() not yet implemented"]);
};

var p5tr = function(s, search, replace, modifier, want) {
    var count = 0;
    // TODO - expand character lists in spec
    // TODO - modifiers
    search = search.split("");
    replace = replace.split("");
    while (search.length > replace.length) {
        replace.push(replace[replace.length-1]);
    }
    var tr = {};
    for(var i = 0; i < search.length; i++) {
        tr[search[i]] = replace[i];
    }
    var res = s.split("");
    for(var i = 0; i < res.length; i++) {
        if (tr.hasOwnProperty(res[i])) {
            res[i] = tr[res[i]];
            count++;
        }
    }
    return [res.join(''), count]
};

var p5for = function(namespace, var_name, func, args, cont, label) {
    var _redo = false;
    var v_old = namespace[var_name];
    for(var i = 0; i < args.length; i++) {
        namespace[var_name] = args[i];
        try {
            func()
        }
        catch(err) {
            if (err instanceof p5_error && err.v == label) {
                if (err.type == 'last') { return }
                else if (err.type == 'redo') { i--; _redo = true }
                else if (err.type != 'next') { throw(err) }
            }
            else {
                throw(err)
            }
        }
        if (cont) {
            try {
                if (!_redo) { cont() }
            }
            catch(err) {
                if (err instanceof p5_error && err.v == label) {
                    if (err.type == 'last') { return }
                    else if (err.type == 'redo') { _redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
       }
   }
    namespace[var_name] = v_old;
};

var p5for_lex = function(func, args, cont, label) {
    var _redo = false;
    for(var i = 0; i < args.length; i++) {
        try {
            func(args[i])
        }
        catch(err) {
            if (err instanceof p5_error && err.v == label) {
                if (err.type == 'last') { return }
                else if (err.type == 'redo') { i--; _redo = true }
                else if (err.type != 'next') { throw(err) }
            }            
            else {
                throw(err)
            }
        }
        if (cont) {
            try {
                if (!_redo) { cont() }
            }
            catch(err) {
                if (err instanceof p5_error && err.v == label) {
                    if (err.type == 'last') { return }
                    else if (err.type == 'redo') { _redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
        }
    }
};

var p5while = function(func, cond, cont, label, redo) {
    while (redo || p5bool(cond())) {
        redo = false;
        try {
            func()
        }
        catch(err) {
            if (err instanceof p5_error && err.v == label) {
                if (err.type == 'last') { return }
                else if (err.type == 'redo') { redo = true }
                else if (err.type != 'next') { throw(err) }
            }            
            else {
                throw(err)
            }
        }
        if (cont) {
            try {
                if (!redo) { cont() }
            }
            catch(err) {
                if (err instanceof p5_error && err.v == label) {
                    if (err.type == 'last') { return }
                    else if (err.type == 'redo') { redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
        }
    }
};

var p5map = function(namespace, func, args) {
    var v_old = namespace["v__"];
    var out = [];
    for(var i = 0; i < args.length; i++) {
        namespace["v__"] = args[i];
        var o = p5list_to_a([func(1)]);
        for(var j = 0; j < o.length; j++) {
            out.push(o[j]);
        }
    }
    namespace["v__"] = v_old;
    return out;
};

var p5grep = function(namespace, func, args) {
    var v_old = namespace["v__"];
    var out = [];
    for(var i = 0; i < args.length; i++) {
        namespace["v__"] = args[i];
        if (p5bool(func(0))) {
            out.push(args[i])
        }
    }
    namespace["v__"] = v_old;
    return out;
};

var p5sort = function(namespace, func, args) {
    var a_old = namespace["v_a"];
    var b_old = namespace["v_b"];
    var out = 
        func == null
        ? args.sort()
        : args.sort(
            function(a, b) {
                namespace["v_a"] = a;
                namespace["v_b"] = b;
                return func(0);
            }
        );
    namespace["v_a"] = a_old;
    namespace["v_b"] = b_old;
    return out;
};

//
// lib/Perlito5/Javascript2/Runtime.js
//
// Runtime for "Perlito" Perl5-in-Javascript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

//-------- Array 

Object.defineProperty( Array.prototype, "p5aget", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        return this[i] 
    }
});
Object.defineProperty( Array.prototype, "p5aset", {
    enumerable : false,
    value : function (i, v) {
        if (i < 0) { i =  this.length + i };
        this[i] = v;
        return this[i]
    }
});

Object.defineProperty( Array.prototype, "p5incr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        this[i] = p5incr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Array.prototype, "p5postincr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this[i];
        this[i] = p5incr_(this[i]);
        return v;
    }
});
Object.defineProperty( Array.prototype, "p5decr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        this[i] = p5decr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Array.prototype, "p5postdecr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this[i];
        this[i] = p5decr_(this[i]);
        return v;
    }
});

Object.defineProperty( Array.prototype, "p5aget_array", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        if (this[i] == null) { this[i] = new p5ArrayRef([]) }
        return this[i]
    }
});
Object.defineProperty( Array.prototype, "p5aget_hash", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        if (this[i] == null) { this[i] = new p5HashRef({}) }
        return this[i]
    }
});
Object.defineProperty( Array.prototype, "p5unshift", {
    enumerable : false,
    configurable : true,
    value : function (args) { 
        for(var i = args.length-1; i >= 0; i--) {
            this.unshift(args[i]);
        }
        return this.length; 
    }
});
Object.defineProperty( Array.prototype, "p5push", {
    enumerable : false,
    configurable : true,
    value : function (args) { 
        for(var i = 0; i < args.length; i++) {
            this.push(args[i]);
        }
        return this.length; 
    }
});

var p5tie_array = function(v, List__) {
    var pkg_name = p5str(List__.shift());

    var res = p5call(pkg_name, 'TIEARRAY', List__, null);
    
    // TODO
    
    //  A class implementing an ordinary array should have the following methods:
    //      TIEARRAY pkg_name, LIST
    //      FETCH this, key
    //      STORE this, key, value
    //      FETCHSIZE this
    //      STORESIZE this, count
    //      CLEAR this
    //      PUSH this, LIST
    //      POP this
    //      SHIFT this
    //      UNSHIFT this, LIST
    //      SPLICE this, offset, length, LIST
    //      EXTEND this, count
    //      DESTROY this
    //      UNTIE this
    
    Object.defineProperty( v, "p5aget", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            return p5call(res, 'FETCH', [i]);
        }
    });
    Object.defineProperty( v, "p5aset", {
        enumerable : false,
        configurable : true,
        value : function (i, value) {
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5incr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5incr_(p5call(res, 'FETCH', [i]));
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5postincr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            p5call(res, 'STORE', [i, p5incr_(value)]);
            return value;
        }
    });
    Object.defineProperty( v, "p5decr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5decr_(p5call(res, 'FETCH', [i]));
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5postdecr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            p5call(res, 'STORE', [i, p5decr_(value)]);
            return value;
        }
    });
    
    Object.defineProperty( v, "p5aget_array", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            if (value == null) {
                value = new p5ArrayRef([]);
                p5call(res, 'STORE', [i, value]);
            }
            return value;
        }
    });
    Object.defineProperty( v, "p5aget_hash", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            if (value == null) {
                value = new p5HashRef({});
                p5call(res, 'STORE', [i, value]);
            }
            return value;
        }
    });
    Object.defineProperty( v, "p5untie", {
        enumerable : false,
        configurable : true,
        value : function (i) { return p5call(res, 'UNTIE', []) }
    });
    Object.defineProperty( v, "shift", {
        enumerable : false,
        configurable : true,
        value : function () { return p5call(res, 'SHIFT', []) }
    });
    Object.defineProperty( v, "pop", {
        enumerable : false,
        configurable : true,
        value : function () { return p5call(res, 'POP', []) }
    });
    Object.defineProperty( v, "p5unshift", {
        enumerable : false,
        configurable : true,
        value : function (args) { 
            for(var i = args.length-1; i >= 0; i--) {
                p5call(res, 'UNSHIFT', [args[i]]);
            }
            return p5call(res, 'FETCHSIZE', []); 
        }
    });
    Object.defineProperty( v, "p5push", {
        enumerable : false,
        configurable : true,
        value : function (args) { 
            for(var i = 0; i < args.length; i++) {
                p5call(res, 'PUSH', [args[i]]);
            }
            return p5call(res, 'FETCHSIZE', []); 
        }
    });

    return res;
};

var p5untie_array = function(v) {
    if (v.hasOwnProperty('p5untie')) {
        var res = v.p5untie();  // call UNTIE
        delete v.p5aget;
        delete v.p5aset;
        delete v.p5incr;
        delete v.p5postincr;
        delete v.p5decr;
        delete v.p5postdecr;
        delete v.p5aget_array;
        delete v.p5aget_hash;
        delete v.p5untie;
        delete v.shift;
        delete v.pop;
        delete v.p5unshift;
        delete v.p5push;
        return res;
    }
    else {
        return null;
    }
};


function p5ArrayOfAlias(o) {

    // this is the structure that represents @_
    // _array = [ ref, index,
    //            ref, index,
    //            ...
    //          ]

    // TODO - autovivify array cells

    this._array_ = o;

    this.p5aget = function (i) {
        if (i < 0) { i =  this.length + i };
        return this._array_[i+i][this._array_[i+i+1]]; 
    }
    this.p5aset = function (i, v) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = v;
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5incr = function (i) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = p5incr_(this._array_[i+i][this._array_[i+i+1]]);
        return this._array_[i+i][this._array_[i+i+1]];
    }
    this.p5postincr = function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this._array_[i+i][this._array_[i+i+1]];
        this._array_[i+i][this._array_[i+i+1]] = p5incr_(this._array_[i+i][this._array_[i+i+1]]);
        return v;
    }
    this.p5decr = function (i) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = p5decr_(this._array_[i+i][this._array_[i+i+1]]);
        return this._array_[i+i][this._array_[i+i+1]];
    }
    this.p5postdecr = function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this._array_[i+i][this._array_[i+i+1]];
        this._array_[i+i][this._array_[i+i+1]] = p5decr_(this._array_[i+i][this._array_[i+i+1]]);
        return v;
    }
    this.p5aget_array = function (i) {
        if (i < 0) { i =  this.length + i };
        if (this._array_[i+i][this._array_[i+i+1]] == null) {
            this._array_[i+i][this._array_[i+i+1]] = new p5ArrayRef([])
        }
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5aget_hash = function (i) {
        if (i < 0) { i =  this.length + i };
        if (this._array_[i+i][this._array_[i+i+1]] == null) {
            this._array_[i+i][this._array_[i+i+1]] = new p5HashRef({})
        }
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5unshift = function (args) { 
        for(var i = args.length-1; i >= 0; i--) {
            this.unshift(0);
            this.unshift([args[i]]);
        }
        return this._array_.length / 2; 
    }
    this.p5push = function (args) { 
        for(var i = 0; i < args.length; i++) {
            this.push([args[i]]);
            this.push(0);
        }
        return this._array_.length / 2; 
    }
    this.shift = function () { 
        var v0 = this._array_.shift();
        return v0[this._array_.shift()];
    }
    this.pop = function () { 
        var v1 = this._array_.pop();
        var v0 = this._array_.pop();
        return v0[v1];
    }
}


//
//
// lib/Perlito5/Javascript2/CORE.js
//
// CORE functions for "Perlito" Perl5-in-Javascript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var CORE = p5pkg.CORE;

var isNode = typeof require != "undefined";

CORE.bless = function(List__) {
    var o        = List__[0];
    var pkg_name = List__[1];
    if (typeof pkg_name === "object") {
        // bless {}, Class
        o._class_ = pkg_name;
        return o;
    }
    if (!p5pkg.hasOwnProperty(pkg_name)) {
        p5make_package(pkg_name);
    }
    o._class_ = p5pkg[pkg_name];
    return o;
};

CORE.caller = function(List__, want) {
    return p5pkg["Perlito5"].v_CALLER._array_ ?
           p5pkg["Perlito5"].v_CALLER._array_[0]._array_ :
           p5context([], want);
};

CORE.chr = function(List__) {
    var v = p5num(List__[0]);
    return String.fromCharCode(v >= 0 ? v : 65533);
};

CORE.ord = function(List__) {
    return p5str(List__[0]).charCodeAt(0);
};

CORE.oct = function(List__) {
    var v = List__[0];
    var b = v.substr(0,2);
    v = v.replace("_", "");
    if (b == "0b" || b == "0B") { return parseInt(v.substr(2), 2)  }
    if (b == "0x" || b == "0X") { return parseInt(v.substr(2), 16) }
    return parseInt(v, 8);
};

CORE.abs   = function(List__) { return Math.abs(List__[0]) };
CORE.exp   = function(List__) { return Math.exp(List__[0]) };
CORE.log   = function(List__) { return Math.log(List__[0]) };
CORE.cos   = function(List__) { return Math.cos(List__[0]) };
CORE.sin   = function(List__) { return Math.sin(List__[0]) };
CORE.sqrt  = function(List__) { return Math.sqrt(List__[0]) };
CORE.atan2 = function(List__) { return Math.atan2(List__[0], List__[1]) };
CORE.int   = function(List__) { return List__[0] > 0 ? Math.floor(List__[0]) : Math.ceil(List__[0]) };

CORE.rand = function(List__) {
    var v = p5num(List__[0]) || 1;
    return Math.random() * v;
};

CORE.lc      = function(List__) { return p5str(List__[0]).toLowerCase() };
CORE.uc      = function(List__) { return p5str(List__[0]).toUpperCase() };

CORE.lcfirst = function(List__) {
    var s = p5str(List__[0]);
    var c = s.length > 0 ? s.slice(0,1).toLowerCase() : "";
    s = s.length > 1 ? s.substr(1) : "";
    return c + s
};

CORE.ucfirst = function(List__) {
    var s = p5str(List__[0]);
    var c = s.length > 0 ? s.slice(0,1).toUpperCase() : "";
    s = s.length > 1 ? s.substr(1) : "";
    return c + s
};

CORE.quotemeta = function(List__) {
    var s = p5str(List__[0]);
    var out = [];
    for(var i = 0; i < s.length; i++) {
        if (s.substr(i, 1).match(/[^0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/)) {
            out.push(String.fromCharCode(92));
        }
        out.push(s.substr(i, 1));
    }
    return out.join("");       
};

CORE.substr = function(List__) {
    var expr        = List__[0];
    var offset      = List__[1];
    var length      = List__[2];
    var replacement = List__[3];
    if (length < 0) {
        var s = p5str(expr);
        length = s.length - offset + length;
    } 
    return p5str(expr).substr(offset, length);
};

CORE.values = function(List__, p5want) {
    var o = List__[0];
    delete o["_each_"];
    if (p5want) {
        if (o == null) {
            return [];
        };
        if (typeof o.values === "function") {
            return o.values();
        }
        var out = [];
        for (var i in o) {
            out.push(o[i]);
        }
        return out;
    }
    return CORE.keys(List__, p5want);
};

CORE.keys = function(List__, p5want) {
    var o = List__[0];
    delete o["_each_"];
    if (p5want) {
        if (o == null) {
            return [];
        }
        if (typeof o.keys === "function") {
            return o.keys();
        }
        var out = [];
        for (var i in o) {
            out.push(i);
        }
        return out;
    }
    else {
        if (o == null) {
            return 0;
        }
        if (typeof o.keys === "function") {
            return p5num(o.keys());
        }
        var out = 0;
        for (var i in o) {
            out++;
        }
        return out;
    }
};

CORE.each = function(List__, p5want) {
    var o = List__[0];
    if (o.hasOwnProperty("_each_")) {
        return o._each_(p5want)
    }
    var keys = CORE.keys([o], 1);
    var i = 0;
    o._each_ = function () {
        if (i < keys.length) {
            i++;
            return p5want ? [keys[i-1], o[keys[i-1]]] : keys[i-1];
        }
        i = 0;
        return p5want ? [] : null;
    };
    return o._each_(p5want);
};

CORE.reverse = function(List__) {
    var o = List__[0];
    if (o == null) {
        return "";
    }
    if (typeof o === "string") {
        return o.split("").reverse().join("")
    }
    var out = [];
    for(var i = 0; i < o.length; i++) {
        out.unshift(o[i]);
    }
    return out;
};

CORE.splice = function(List__, p5want) {
    var array  = List__.shift();
    // CORE.say([ array ]);
    var offset = p5num(List__.shift());
    var limit  = List__.length ? p5num(List__.shift()) : (array.length + 1);

    if (limit < 0) {
        limit = array.length + limit - 1;
    }

    var list = [offset, limit];
    for(var i = 0; i < List__.length; i++) {
        list = p5list_to_a([ list, List__[i] ]);
    }

    var out = array.splice.apply(array, list);
    // CORE.say([ CORE.join([":",array]), " ofs=", offset, " lim=", limit, " list=", list, " out=", CORE.join([":",out])  ]);
    return p5want ? out : out.pop();
};

CORE.join = function(List__) {
    var s = List__[0];
    var o = List__[1];
    return o.join(s);
};

CORE.index = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        return o.indexOf(s, p5num(List__[2]));
    }
    catch(err) {
        return -1;
    }
};
CORE.rindex = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        if (List__.length > 2) {
            var i = p5num(List__[2]);
            if (i < 0) {
                if (s.length == 0) {
                    return 0;
                }
                return -1;
            }
            return o.lastIndexOf(s, i);
        }
        return o.lastIndexOf(s);
    }
    catch(err) {
        return -1;
    }
};

CORE.length = function(List__) {
    return p5str(List__[0]).length;
};

CORE.pack    = function(List__) { CORE.warn([ "CORE::pack not implemented" ]) };
CORE.unpack  = function(List__) { CORE.warn([ "CORE::unpack not implemented" ]) };

CORE.ref = function(List__) {
    var o = List__[0];
    if (o == null) {
        return "";
    }
    if (o._class_ && typeof o._class_._ref_ === "string") {
        // blessed reference
        return o._class_._ref_;
    }
    if (typeof o._ref_ === "string") {
        // un-blessed reference
        return o._ref_;
    }
    if (typeof o === "function") {
        return "CODE";
    }
    return "";
};

CORE.split = function(List__, want) {
    var pattern = List__[0];
    var s       = p5str(List__[1]);
    var limit   = p5num(List__[2]);
    if (!want) {
        // scalar context
        return p5num(CORE.split(List__, 1));
    }
    if (limit == 0) {
        // strip trailing empty strings and undef
        var res = CORE.split([pattern, s, -1], 1);
        while (res.length && (res[res.length - 1] == '' || typeof res[res.length - 1] == "undefined") ) {
            res.pop()
        }
        return res;
    }
    if (s == '') {
        return []
    }
    // make sure pattern is a RegExp
    if (typeof pattern === "object" && (pattern instanceof RegExp)) {
        pattern = pattern.source;
    }
    else {
        pattern = p5str(pattern);
        if (pattern == " ") {
            // single space string is special
            pattern = "(?: |\t|\n)+";
            s = s.replace(/^(?: |\t|\n)+/, "");
        }
    }
    // add "g", "m" modifiers
    var flags = "g";
    if (pattern.substr(0, 1) == "^" || pattern.substr(-1,1) == "$") {
        flags = flags + "m";
    }
    pattern = new RegExp(pattern, flags);
    var res = [];
    var pos = 0;
    var count = 0;
    while (1) {
        if (limit > 0 && limit <= (count + 1)) {
            res.push(s.substr(pos));
            return res;
        }
        var m = pattern.exec(s);
        if (m === null) {
            // no match
            res.push(s.substr(pos));
            return res;
        }
        if (m[0].length == 0 && m.index == pos) {
            // pointer didn't move
            pattern.lastIndex = pattern.lastIndex + 1;
        }
        else {
            var part = s.substr(pos, m.index - pos);
            res.push(part);
            count++;
            pos = m.index + m[0].length;
            pattern.lastIndex = pos;
        }
        for (var i = 1; i < m.length ; i++) {
            res.push(m[i]);     // captured substrings; don't increment count
        }
    }
};


//
//
// lib/Perlito5/Javascript2/IO.js
//
// I/O functions for "Perlito" Perl5-in-Javascript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var isNode = typeof require != "undefined";
if (isNode) {

    var fs = require("fs");

    p5typeglob_set("Perlito5::IO", "print", function (List__, p5want) {
        var i;
        List__.shift(); // TODO - use IO::FILE
        for (var i = 0; i < List__.length; i++) {
            process.stdout.write(p5str(List__[i]));
        }
        return 1;
    } );

    var p5atime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["atime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5mtime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["mtime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5ctime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["ctime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5size = function(s) {
        try {
            var stat = fs.statSync(s); return stat["size"];
        }
        catch(err) {
            return '';
        }
    };
    var p5is_file = function(s) {
        try {
            var stat = fs.statSync(s); return stat.isFile() ? 1 : 0;
        }
        catch(err) {
            return '';
        }
    };
    var p5is_directory = function(s) {
        try {
            var stat = fs.statSync(s); return stat.isDirectory() ? 1 : 0;
        }
        catch(err) {
            return '';
        }
    };
    var p5file_exists = function(s) {
        return p5is_file(s) || p5is_directory(s);
    };

    CORE.chdir = function(List__) {
        try {
            process.chdir(p5str(List__[0]));
            return 1;
        }
        catch(err) {
            return '';
        }
    };

    CORE.close = function(List__) {
        try {
            fs.closeSync(p5str(List__[0]));
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.exit = function(List__) {
        process.exit(List__[0]);
    };

    CORE.rename = function(List__) {
        try {
            fs.renameSync(p5str(List__[0]), p5str(List__[1]));
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.unlink = function(List__) {
        var count = 0;
        try {
            for(var i = 0; i < List__.length; i++) {
                fs.unlinkSync(p5str(List__[i]));
                count++;
            }
            return count;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return count;
        }
    };

    p5typeglob_set("Perlito5::IO", "slurp", function(List__) {
        return fs.readFileSync(List__[0],"utf8");
    });

} else {
    // not running in node.js
    p5typeglob_set("Perlito5::IO", "print", function (List__, p5want) {
        var i;
        List__.shift(); // TODO - use IO::FILE
        for (var i = 0; i < List__.length; i++) {
            write(p5str(List__[i]));
        }
        return 1;
    });
    p5typeglob_set("Perlito5::IO", "slurp", function(List__) {
        var filename = List__[0];
        if (typeof readFile == "function") {
            return readFile(filename);
        }
        if (typeof read == "function") {
            // v8
            return read(filename);
        }
        p5pkg.CORE.die(["Perlito5::IO::slurp() not implemented"]);
    });
}

CORE.die = function(List__) {
    var i;
    var s = "";
    for (var i = 0; i < List__.length; i++) {
        s = s + p5str(List__[i]);
    }
    try {
        s = s + "\n" + new Error().stack;
    }
    catch(err) { }
    p5pkg["main"]["v_@"] = "Died: " + s;
    throw(new p5_error("die", "Died: " + s));
};

CORE.say = function(List__) {
    CORE.print(List__);
    return CORE.print(["\n"]);
};

CORE.print = function(List__) {
    var i;
    for (var i = 0; i < List__.length; i++) {
        p5pkg['Perlito5::IO'].print([ 'STDOUT', List__[i] ]);
    }
    return 1;
};

CORE.warn = function(List__) {
    var i;
    var s = "";
    for (var i = 0; i < List__.length; i++) {
        s = s + p5str(List__[i]);
    }
    try {
        s = s + "\n" + new Error().stack;
    }
    catch(err) { }
    p5pkg['Perlito5::IO'].print([ 'STDERR', "Warning: " + s + "\n"]);
};


/**
 * Copyright (c) 2010 Jakob Westhoff
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

CORE.sprintf = function(List__) {
    var format = List__[0];
    var list = List__[1];

    // Check for format definition
    if ( typeof format != 'string' ) {
        CORE.die(["sprintf: The first arguments need to be a valid format string."]);
    }
    
    /**
     * Define the regex to match a formating string
     * The regex consists of the following parts:
     * percent sign to indicate the start
     * (optional) sign specifier
     * (optional) padding specifier
     * (optional) alignment specifier
     * (optional) width specifier
     * (optional) precision specifier
     * type specifier:
     *  % - literal percent sign
     *  b - binary number
     *  c - ASCII character represented by the given value
     *  d - signed decimal number
     *  f - floating point value
     *  o - octal number
     *  s - string
     *  x - hexadecimal number (lowercase characters)
     *  X - hexadecimal number (uppercase characters)
     */
    var r = new RegExp( /%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g );

    /**
     * Each format string is splitted into the following parts:
     * 0: Full format string
     * 1: sign specifier (+)
     * 2: padding specifier (0/<space>/'<any char>)
     * 3: if the padding character starts with a ' this will be the real 
     *    padding character
     * 4: alignment specifier
     * 5: width specifier
     * 6: precision specifier including the dot
     * 7: precision specifier without the dot
     * 8: type specifier
     */
    var parts      = [];
    var paramIndex = 0;
    var part;
    while ( part = r.exec( format ) ) {
        // Check if an input value has been provided, for the current
        // format string
        if ( paramIndex >= list.length ) {
            CORE.die(["sprintf: At least one argument was missing."]);
        }

        parts[parts.length] = {
            /* beginning of the part in the string */
            begin: part.index,
            /* end of the part in the string */
            end: part.index + part[0].length,
            /* force sign */
            sign: ( part[1] == '+' ),
            /* is the given data negative */
            negative: ( parseInt( list[paramIndex] ) < 0 ) ? true : false,
            /* padding character (default: <space>) */
            padding: ( part[2] == undefined )
                     ? ( ' ' ) /* default */
                     : ( ( part[2].substring( 0, 1 ) == "'" ) 
                         ? ( part[3] ) /* use special char */
                         : ( part[2] ) /* use normal <space> or zero */
                       ),
            /* should the output be aligned left?*/
            alignLeft: ( part[4] == '-' ),
            /* width specifier (number or false) */
            width: ( part[5] != undefined ) ? part[5] : false,
            /* precision specifier (number or false) */
            precision: ( part[7] != undefined ) ? part[7] : false,
            /* type specifier */
            type: part[8],
            /* the given data associated with this part converted to a string */
            data: ( part[8] != '%' ) ? String ( list[paramIndex++] ) : false
        };
    }

    var newString = "";
    var start = 0;
    // Generate our new formated string
    for( var i=0; i<parts.length; ++i ) {
        // Add first unformated string part
        newString += format.substring( start, parts[i].begin );
        
        // Mark the new string start
        start = parts[i].end;

        // Create the appropriate preformat substitution
        // This substitution is only the correct type conversion. All the
        // different options and flags haven't been applied to it at this
        // point
        var preSubstitution = "";
        switch ( parts[i].type ) {
            case '%':
                preSubstitution = "%";
            break;
            case 'b':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 2 );
            break;
            case 'c':
                preSubstitution = String.fromCharCode( Math.abs( parseInt( parts[i].data ) ) );
            break;
            case 'd':
                preSubstitution = String( Math.abs( parseInt( parts[i].data ) ) );
            break;
            case 'f':
                preSubstitution = ( parts[i].precision == false )
                                  ? ( String( ( Math.abs( parseFloat( parts[i].data ) ) ) ) )
                                  : ( Math.abs( parseFloat( parts[i].data ) ).toFixed( parts[i].precision ) );
            break;
            case 'o':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 8 );
            break;
            case 's':
                preSubstitution = parts[i].data.substring( 0, parts[i].precision ? parts[i].precision : parts[i].data.length ); /* Cut if precision is defined */
            break;
            case 'x':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 16 ).toLowerCase();
            break;
            case 'X':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 16 ).toUpperCase();
            break;
            default:
                throw 'sprintf: Unknown type "' + parts[i].type + '" detected. This should never happen. Maybe the regex is wrong.';
        }

        // The % character is a special type and does not need further processing
        if ( parts[i].type ==  "%" ) {
            newString += preSubstitution;
            continue;
        }

        // Modify the preSubstitution by taking sign, padding and width
        // into account

        // Pad the string based on the given width
        if ( parts[i].width != false ) {
            // Padding needed?
            if ( parts[i].width > preSubstitution.length ) 
            {
                var origLength = preSubstitution.length;
                for( var j = 0; j < parts[i].width - origLength; ++j ) 
                {
                    preSubstitution = ( parts[i].alignLeft == true ) 
                                      ? ( preSubstitution + parts[i].padding )
                                      : ( parts[i].padding + preSubstitution );
                }
            }
        }

        // Add a sign symbol if neccessary or enforced, but only if we are
        // not handling a string
        if ( parts[i].type == 'b' 
          || parts[i].type == 'd' 
          || parts[i].type == 'o' 
          || parts[i].type == 'f' 
          || parts[i].type == 'x' 
          || parts[i].type == 'X' ) {
            if ( parts[i].negative == true ) {
                preSubstitution = "-" + preSubstitution;
            }
            else if ( parts[i].sign == true ) {
                preSubstitution = "+" + preSubstitution;
            }
        }

        // Add the substitution to the new string
        newString += preSubstitution;
    }

    // Add the last part of the given format string, which may still be there
    newString += format.substring( start, format.length );

    return newString;
};

CORE.printf = function(List__) {
    return CORE.print([ CORE.sprintf(List__) ]);
};

var p5want;
var List__ = [];
(function () {
	p5make_package("Perlito5");
	(function () {
		p5make_package("Perlito5X::strict");
		p5typeglob_set("Perlito5X::strict", "import", (function () {
			var tmp100;
			tmp100 = function (List__, p5want) {
				return ((p5make_package("Perlito5")["v_STRICT"] = (1)));
			};
			tmp100._prototype_ = null;
			return tmp100
		})());
		p5typeglob_set("Perlito5X::strict", "unimport", (function () {
			var tmp101;
			tmp101 = function (List__, p5want) {
				return ((p5make_package("Perlito5")["v_STRICT"] = (0)));
			};
			tmp101._prototype_ = null;
			return tmp101
		})());
		1;
	})();
	// use strict
;
	// use warnings
;
	(function () {
		null;
		p5make_package("Perlito5::Match");
		p5typeglob_set("Perlito5::Match", "flat", (function () {
			var tmp102;
			tmp102 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				return (( ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('capture') != null) ? (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('capture') : CORE.substr(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('str'), (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('from'), (p5num((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('to')) - p5num((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('from')))]), p5want)));
			};
			tmp102._prototype_ = null;
			return tmp102
		})());
		1;
	})();
	// use Perlito5::Match
;
	(function () {
		p5make_package("Perlito5::Grammar::Precedence");
		// use feature
;
		p5typeglob_set("Perlito5::Grammar::Precedence", "new", (function () {
			var tmp103;
			tmp103 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::Grammar::Precedence"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp103._prototype_ = null;
			return tmp103
		})());
		var v_Operator;
		v_Operator = ((new p5HashRef({})));
		var v_Precedence;
		v_Precedence = ((new p5HashRef({})));
		var v_PrefixPrecedence;
		v_PrefixPrecedence = ((new p5HashRef({})));
		var v_Assoc;
		v_Assoc = ((new p5HashRef({})));
		p5typeglob_set("Perlito5::Grammar::Precedence", "is_assoc_type", (function () {
			var tmp104;
			tmp104 = function (List__, p5want) {
				var v_assoc_type;
				v_assoc_type = (List__.shift());
				var v_op_name;
				v_op_name = (List__.shift());
				return ((v_Assoc || (v_Assoc = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_assoc_type))._hash_.p5hget(p5str(v_op_name)));
			};
			tmp104._prototype_ = null;
			return tmp104
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "is_fixity_type", (function () {
			var tmp105;
			tmp105 = function (List__, p5want) {
				var v_fixity_type;
				v_fixity_type = (List__.shift());
				var v_op_name;
				v_op_name = (List__.shift());
				return ((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_fixity_type))._hash_.p5hget(p5str(v_op_name)));
			};
			tmp105._prototype_ = null;
			return tmp105
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "is_term", (function () {
			var tmp106;
			tmp106 = function (List__, p5want) {
				var v_token;
				v_token = (List__.shift());
				return (p5or(p5context([(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'term')], 0), function () {
							return p5or(p5context([(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix_or_term')], 0), function () {
								return p5context([(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix')], p5want)
							})
						}));
			};
			tmp106._prototype_ = null;
			return tmp106
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "is_num", (function () {
			var tmp107;
			tmp107 = function (List__, p5want) {
				return (p5and((p5str(List__.p5aget(0)) >= '0'), function () {
							return (p5str(List__.p5aget(0)) <= '9')
						}));
			};
			tmp107._prototype_ = null;
			return tmp107
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "is_ident_middle", (function () {
			var tmp108;
			tmp108 = function (List__, p5want) {
				var v_c;
				v_c = (List__.shift());
				return (p5or(p5context([p5and((p5str(v_c) >= 'a'), function () {
							return (p5str(v_c) <= 'z')
						})], 0), function () {
							return p5or(p5context([p5and((p5str(v_c) >= '0'), function () {
								return (p5str(v_c) <= '9')
							})], 0), function () {
								return p5context([(p5str(v_c) == '_')], p5want)
							})
						}));
			};
			tmp108._prototype_ = null;
			return tmp108
		})());
		var List_Parsed_op_chars = [];
		List_Parsed_op_chars = [2, 1];
		var Hash_Parsed_op = {};
		Hash_Parsed_op = p5a_to_h(['?', (function () {
					var tmp114;
					tmp114 = function (List__, p5want) {
						return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_ternary", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
					};
					tmp114._prototype_ = null;
					return tmp114
				})(), '(', (function () {
					var tmp115;
					tmp115 = function (List__, p5want) {
						return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
					};
					tmp115._prototype_ = null;
					return tmp115
				})(), '[', (function () {
					var tmp116;
					tmp116 = function (List__, p5want) {
						return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_square", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
					};
					tmp116._prototype_ = null;
					return tmp116
				})(), '{', (function () {
					var tmp117;
					tmp117 = function (List__, p5want) {
						return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
					};
					tmp117._prototype_ = null;
					return tmp117
				})(), '->', (function () {
					var tmp118;
					tmp118 = function (List__, p5want) {
						return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_arrow", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
					};
					tmp118._prototype_ = null;
					return tmp118
				})()]);
		var List_Term_chars = [];
		var Hash_Term = {};
		p5typeglob_set("Perlito5::Grammar::Precedence", "add_term", (function () {
			var tmp119;
			tmp119 = function (List__, p5want) {
				var v_name;
				v_name = (List__.shift());
				var v_param;
				v_param = (List__.shift());
				Hash_Term.p5hset(p5str(v_name), (v_param));
				p5while(function () {
							List_Term_chars.p5unshift([(p5num((List_Term_chars.length)) + 1)]);
						}, function () {
							return (p5num(List_Term_chars.length) < p5pkg["Perlito5::Grammar::Precedence"].length([v_name], 0))
						}, false, "", 0)
			};
			tmp119._prototype_ = null;
			return tmp119
		})());
		var v_End_token;
		var v_End_token_chars;
		var Hash_Op = {};
		var List_Op_chars = [];
		List_Op_chars = [3, 2, 1];
		p5typeglob_set("Perlito5::Grammar::Precedence", "op_parse", (function () {
			var tmp120;
			tmp120 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					var v_str;
					v_str = (List__.shift());
					var v_pos;
					v_pos = (List__.shift());
					var v_last_is_term;
					v_last_is_term = (List__.shift());
					p5for_lex(function (v_len) {
							var v_term;
							v_term = (CORE.substr([v_str, v_pos, v_len], 0));
							if ( (v_End_token)._hash_.hasOwnProperty(v_term) ) {
								(function () {
									var v_c1;
									v_c1 = (p5str(v_str).substr(((p5num(v_pos) + p5num(v_len)) - 1), 1));
									var v_c2;
									v_c2 = (p5str(v_str).substr((p5num(v_pos) + p5num(v_len)), 1));
									if ( (!( (p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c1], 0)) && p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c2], 0)))) && !( ((p5str(v_c1) == '<') && (p5str(v_c2) == '<')))) ) {
										throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', v_pos, 'capture', (new p5ArrayRef(['end', v_term]))])))));
									};
								})();
							};
						}, p5list_to_a([p5array_deref((v_End_token_chars || (v_End_token_chars = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence')]), false, "");
					if ( !( p5bool(v_last_is_term)) ) {
						p5for_lex(function (v_len) {
								var v_term;
								v_term = (CORE.substr([v_str, v_pos, v_len], 0));
								if ( (Hash_Term).hasOwnProperty(v_term) ) {
									(function () {
										var v_c1;
										v_c1 = (p5str(v_str).substr(((p5num(v_pos) + p5num(v_len)) - 1), 1));
										var v_c2;
										v_c2 = (p5str(v_str).substr((p5num(v_pos) + p5num(v_len)), 1));
										if ( (p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_num([v_c1], 0)) || (!( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c1], 0))) || !( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c2], 0))))) ) {
											(function () {
												var v_m;
												v_m = ((Hash_Term.p5hget(p5str(v_term)))([v_str, v_pos], 0));
												if ( p5bool(v_m) ) {
													throw(p5context([v_m], p5want))
												};
											})();
										};
									})();
								};
							}, p5list_to_a([List_Term_chars]), false, "");
					};
					p5for_lex(function (v_len) {
							var v_op;
							v_op = (CORE.substr([v_str, v_pos, v_len], 0));
							if ( (Hash_Parsed_op).hasOwnProperty(v_op) ) {
								(function () {
									var v_m;
									v_m = ((Hash_Parsed_op.p5hget(p5str(v_op)))([v_str, v_pos], 0));
									if ( p5bool(v_m) ) {
										throw(p5context([v_m], p5want))
									};
								})();
							};
						}, p5list_to_a([List_Parsed_op_chars]), false, "");
					p5for_lex(function (v_len) {
							var v_op;
							v_op = (CORE.substr([v_str, v_pos, v_len], 0));
							if ( (Hash_Op).hasOwnProperty(v_op) ) {
								(function () {
									var v_c1;
									v_c1 = (p5str(v_str).substr(((p5num(v_pos) + p5num(v_len)) - 1), 1));
									var v_c2;
									v_c2 = (p5str(v_str).substr((p5num(v_pos) + p5num(v_len)), 1));
									if ( (!( (p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c1], 0)) && p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_ident_middle([v_c2], 0)))) && !( ((p5str(v_c1) == '&') && (p5str(v_c2) == '&')))) ) {
										if ( (((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget('infix'))._hash_.hasOwnProperty(v_op) && (!( ((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget('prefix'))._hash_.hasOwnProperty(v_op)) && !( p5bool(v_last_is_term)))) ) {}
										else {
											throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_pos) + p5num(v_len)), 'capture', (new p5ArrayRef(['op', v_op]))])))));
										};
									};
								})();
							};
						}, p5list_to_a([List_Op_chars]), false, "");
					return (p5call(p5pkg["Perlito5::Grammar::Bareword"], "term_bareword", [v_str, v_pos], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp120._prototype_ = null;
			return tmp120
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "add_op", (function () {
			var tmp121;
			tmp121 = function (List__, p5want) {
				var v_fixity;
				v_fixity = (List__.shift());
				var v_name;
				v_name = (List__.shift());
				var v_precedence;
				v_precedence = (List__.shift());
				var v_param;
				v_param = (List__.shift());
				if ( !( (v_param != null)) ) {
						v_param = ((new p5HashRef({})));
					};
				var v_assoc;
				v_assoc = (p5or((v_param || (v_param = new p5HashRef({})))._hash_.p5hget('assoc'), function () {
								return 'left'
							}));
				(v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_fixity))._hash_.p5hset(p5str(v_name), (1));
				(v_Precedence || (v_Precedence = new p5HashRef({})))._hash_.p5hset(p5str(v_name), (v_precedence));
				if ( (p5str(v_fixity) == 'prefix') ) {
						(v_PrefixPrecedence || (v_PrefixPrecedence = new p5HashRef({})))._hash_.p5hset(p5str(v_name), (v_precedence))
					};
				(v_Assoc || (v_Assoc = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_assoc))._hash_.p5hset(p5str(v_name), (1));
				return (Hash_Op.p5hset(p5str(v_name), (1)));
			};
			tmp121._prototype_ = null;
			return tmp121
		})());
		var v_prec;
		v_prec = (100);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '.( )', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '.[ ]', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '.{ }', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '( )', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '[ ]', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'funcall', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'funcall_no_params', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'methcall', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'methcall_no_params', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'block', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', 'hash', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '++', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '--', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '++', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['postfix', '--', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '**', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', String.fromCharCode(92), v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '+', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '-', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '~', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', '!', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '=~', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '!~', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '*', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '/', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '%', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', 'x', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '+', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '-', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '.', v_prec, (new p5HashRef({'assoc' : 'list'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '<<', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '>>', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5for(p5make_package("Perlito5::Grammar::Precedence"), "v__", function () {
				p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', p5pkg["Perlito5::Grammar::Precedence"]["v__"], v_prec], null);
			}, ['-r', '-w', '-x', '-o', '-R', '-W', '-X', '-O', '-e', '-z', '-s', '-f', '-d', '-l', '-p', '-S', '-b', '-c', '-t', '-u', '-g', '-k', '-T', '-B', '-M', '-A', '-C'], false, "");
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'lt', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'le', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'gt', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'ge', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '<=', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '>=', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '<', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '>', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '<=>', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', 'cmp', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '==', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '!=', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'ne', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'eq', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '&', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '|', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '^', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '..', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '...', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '~~', v_prec, (new p5HashRef({'assoc' : 'chain'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '&&', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '||', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '//', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['ternary', '? :', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '**=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '+=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '-=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '*=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '/=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', 'x=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '|=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '&=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '.=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '<<=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '>>=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '%=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '||=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '&&=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '^=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['infix', '//=', v_prec, (new p5HashRef({'assoc' : 'right'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '=>', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(p5list_to_a(['list', ',', v_prec, (new p5HashRef({'assoc' : 'list'}))]), null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['prefix', 'not', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', 'and', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', 'or', v_prec], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', 'xor', v_prec], null);
		v_prec = ((p5num(v_prec) - 1));
		p5pkg["Perlito5::Grammar::Precedence"].add_op(['infix', '*start*', v_prec], null);
		p5typeglob_set("Perlito5::Grammar::Precedence", "get_token_precedence", (function () {
			var tmp122;
			tmp122 = function (List__, p5want) {
				try {
					var v_token;
					v_token = (List__.p5aget(0));
					if ( (p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'prefix') ) {
						throw((v_PrefixPrecedence || (v_PrefixPrecedence = new p5HashRef({})))._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1))));
					};
					return ((v_Precedence || (v_Precedence = new p5HashRef({})))._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1))));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp122._prototype_ = null;
			return tmp122
		})());
		p5typeglob_set("Perlito5::Grammar::Precedence", "precedence_parse", (function () {
			var tmp123;
			tmp123 = function (List__, p5want) {
				var v_self;
				v_self = (List__.shift());
				var v_get_token;
				v_get_token = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('get_token'));
				var v_reduce;
				v_reduce = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('reduce'));
				var v_last_end_token;
				v_last_end_token = (v_End_token);
				var v_last_end_token_chars;
				v_last_end_token_chars = (v_End_token_chars);
				v_End_token = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('end_token'));
				v_End_token_chars = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('end_token_chars'));
				var v_op_stack;
				v_op_stack = ((new p5ArrayRef([])));
				var v_num_stack;
				v_num_stack = ((new p5ArrayRef([])));
				var v_last;
				v_last = ((new p5ArrayRef(['op', '*start*'])));
				var v_last_is_term;
				v_last_is_term = (0);
				var v_token;
				v_token = ((v_get_token)([v_last_is_term], 0));
				if ( (p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'space') ) {
						v_token = ((v_get_token)([v_last_is_term], 0));
					};
				p5while(function () {
							var v_token_is_term;
							v_token_is_term = (p5pkg["Perlito5::Grammar::Precedence"].is_term([v_token], 0));
							if ( ((p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)) == ',') && ((p5str((v_last || (v_last = new p5ArrayRef([])))._array_.p5aget(1)) == '*start*') || (p5str((v_last || (v_last = new p5ArrayRef([])))._array_.p5aget(1)) == ','))) ) {
								p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['term', null])))]));
							};
							if ( (p5bool((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget_hash('prefix')._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)))) && ((p5str((v_last || (v_last = new p5ArrayRef([])))._array_.p5aget(1)) == '*start*') || !( p5bool(v_last_is_term)))) ) {
								(v_token || (v_token = new p5ArrayRef([])))._array_.p5aset(0, ('prefix'));
								p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token]);
							}
							else if ( (p5bool((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget_hash('postfix')._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)))) && p5bool(v_last_is_term)) ) {
								(function () {
									var v_pr;
									v_pr = ((v_Precedence || (v_Precedence = new p5HashRef({})))._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1))));
									p5while(function () {
											(v_reduce)([v_op_stack, v_num_stack], null);
										}, function () {
											return p5and((p5num(p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
												return p5context([(p5num(v_pr) <= p5num(p5pkg["Perlito5::Grammar::Precedence"].get_token_precedence(p5list_to_a([(v_op_stack || (v_op_stack = new p5ArrayRef([])))._array_.p5aget(0)]), 0)))], 0)
											})
										}, false, "", 0);
									if ( (p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) != 'postfix_or_term') ) {
										(v_token || (v_token = new p5ArrayRef([])))._array_.p5aset(0, ('postfix'));
									};
									p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token]);
									v_token_is_term = (1);
								})();
							}
							else if ( p5bool(v_token_is_term) ) {
								if ( p5bool(v_last_is_term) ) {
									p5pkg["Perlito5::Grammar::Precedence"].say(p5list_to_a(['#      last:  ', p5pkg["Perlito5::Dumper"].Dumper([v_last], 1)]), null);
									p5pkg["Perlito5::Grammar::Precedence"].say(p5list_to_a(['#      token: ', p5pkg["Perlito5::Dumper"].Dumper([v_token], 1)]), null);
									p5pkg["Perlito5::Grammar::Precedence"].die([['Value tokens must be separated by an operator']], null);
								};
								(v_token || (v_token = new p5ArrayRef([])))._array_.p5aset(0, ('term'));
								p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5push([v_token]);
							}
							else if ( p5bool((v_Precedence || (v_Precedence = new p5HashRef({})))._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
								(function () {
									var v_pr;
									v_pr = ((v_Precedence || (v_Precedence = new p5HashRef({})))._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1))));
									if ( p5bool((v_Assoc || (v_Assoc = new p5HashRef({})))._hash_.p5hget_hash('right')._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
										p5while(function () {
												(v_reduce)([v_op_stack, v_num_stack], null);
											}, function () {
												return p5and((p5num(p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
													return p5context([(p5num(v_pr) < p5num(p5pkg["Perlito5::Grammar::Precedence"].get_token_precedence(p5list_to_a([(v_op_stack || (v_op_stack = new p5ArrayRef([])))._array_.p5aget(0)]), 0)))], 0)
												})
											}, false, "", 0);
									}
									else {
										p5while(function () {
												(v_reduce)([v_op_stack, v_num_stack], null);
											}, function () {
												return p5and((p5num(p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
													return p5context([(p5num(v_pr) <= p5num(p5pkg["Perlito5::Grammar::Precedence"].get_token_precedence(p5list_to_a([(v_op_stack || (v_op_stack = new p5ArrayRef([])))._array_.p5aget(0)]), 0)))], 0)
												})
											}, false, "", 0);
									};
									if ( p5bool((v_Operator || (v_Operator = new p5HashRef({})))._hash_.p5hget_hash('ternary')._hash_.p5hget(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
										(v_token || (v_token = new p5ArrayRef([])))._array_.p5aset(0, ('ternary'));
									}
									else {
										(v_token || (v_token = new p5ArrayRef([])))._array_.p5aset(0, ('infix'));
									};
									p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token]);
								})();
							}
							else {
								p5pkg["Perlito5::Grammar::Precedence"].die([p5list_to_a(['Unknown token: ' + String.fromCharCode(39), (v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(1), String.fromCharCode(39)])], null);
							};
							v_last = (v_token);
							v_last_is_term = (v_token_is_term);
							v_token = ((v_get_token)([v_last_is_term], 0));
							if ( (p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) == 'space') ) {
								v_token = ((v_get_token)([v_last_is_term], 0));
							};
						}, function () {
							return p5and(p5context([(v_token != null)], 0), function () {
								return p5context([(p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) != 'end')], 0)
							})
						}, false, "", 0);
				if ( ((v_token != null) && (p5str((v_token || (v_token = new p5ArrayRef([])))._array_.p5aget(0)) != 'end')) ) {
						p5pkg["Perlito5::Grammar::Precedence"].die([['Unexpected end token: ', v_token]], null);
					};
				p5while(function () {
							(v_reduce)([v_op_stack, v_num_stack], null);
						}, function () {
							return (p5num(p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence')))
						}, false, "", 0);
				v_End_token = (v_last_end_token);
				v_End_token_chars = (v_last_end_token_chars);
				return (p5context([v_num_stack], p5want));
			};
			tmp123._prototype_ = null;
			return tmp123
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Bareword");
		// use strict
;
		p5typeglob_set("Perlito5::Grammar::Bareword", "the_object", (function () {
			var tmp124;
			tmp124 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_tmp;
												v_tmp = (v_MATCH);
												v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
												var v_res;
												v_res = (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0));
												v_MATCH = (v_tmp);
												return (( p5bool(v_res) ? 1 : 0));
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1)));
														return (p5context([1], p5want));
													})()], p5want)
												})
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "curly_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.curly_parse', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.curly_parse')]), 0)));
																return (p5context([1], p5want));
															})()], p5want)
														})
													})
												})], p5want));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Print"], "typeglob", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Print.typeglob', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Print.typeglob')]), 0)));
															return (p5context([1], p5want));
														})()], p5want)
													})], p5want));
											})()], p5want)
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp124._prototype_ = null;
			return tmp124
		})());
		p5typeglob_set("Perlito5::Grammar::Bareword", "term_bareword", (function () {
			var tmp125;
			tmp125 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_p;
					v_p = (v_pos);
					var v_m_namespace;
					v_m_namespace = (p5call(p5pkg["Perlito5::Grammar"], "optional_namespace_before_ident", [v_str, v_p], 0));
					var v_namespace;
					v_namespace = (p5pkg["Perlito5::Match"].flat([v_m_namespace], 0));
					v_p = ((v_m_namespace || (v_m_namespace = new p5HashRef({})))._hash_.p5hget('to'));
					var v_m_name;
					v_m_name = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( !( p5bool(v_m_name)) ) {
						if ( p5bool(v_namespace) ) {
							(v_m_namespace || (v_m_namespace = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', v_namespace], 1)])))));
							throw(p5context([v_m_namespace], p5want));
						};
						throw(p5context([], p5want));
					};
					var v_name;
					v_name = (p5pkg["Perlito5::Match"].flat([v_m_name], 0));
					v_p = ((v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hget('to'));
					if ( (p5str(v_str).substr(p5num(v_p), 2) == '::') ) {
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p) + 2)));
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', (p5str(v_namespace) + '::' + p5str(v_name))], 1)])))));
						throw(p5context([v_m_name], p5want));
					};
					var v_full_name;
					v_full_name = (v_name);
					if ( p5bool(v_namespace) ) {
						v_full_name = ((p5str(v_namespace) + '::' + p5str(v_name)))
					};
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
					};
					var v_invocant;
					var v_is_subroutine_name;
					var v_effective_name;
					v_effective_name = ((p5str(p5or(v_namespace, function () {
	return p5make_package("Perlito5")["v_PKG_NAME"]
})) + '::' + p5str(v_name)));
					if ( (p5global_hash("Perlito5::Grammar::Print", "Print")).hasOwnProperty(v_name) ) {
						v_invocant = (null);
					}
					else if ( ((p5make_package("Perlito5")["v_PROTO"])._hash_.hasOwnProperty(v_effective_name) || ((!( p5bool(v_namespace)) || (p5str(v_namespace) == 'CORE')) && (p5make_package("Perlito5")["v_CORE_PROTO"])._hash_.hasOwnProperty(('CORE::' + p5str(v_name))))) ) {
						(function () {
							v_is_subroutine_name = (1);
							v_invocant = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", [v_str, v_p], 0));
							var v_package;
							v_package = (p5pkg["Perlito5::Match"].flat([v_invocant], 0));
							if ( p5bool(v_package) ) {
								(v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', v_package], 0)));
								if ( (p5str(v_str).substr(p5num((v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hget('to')), 2) == '::') ) {
									(v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hget('to')) + 2)));
								}
								else if ( !( p5bool((p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hget(p5str(v_package)))) ) {
									v_invocant = (null);
								};
							};
						})();
					}
					else {
						v_invocant = (p5call(p5pkg["Perlito5::Grammar::Bareword"], "the_object", [v_str, v_p], 0));
					};
					if ( p5bool(v_invocant) ) {
						(function () {
							v_p = ((v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hget('to'));
							var v_arg;
							v_arg = ((new p5ArrayRef([])));
							v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
							if ( p5bool(v_m) ) {
								v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'))
							};
							if ( (p5str(v_str).substr(p5num(v_p), 2) == '->') ) {}
							else if ( (p5str(v_str).substr(p5num(v_p), 1) == '(') ) {
								(function () {
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", [v_str, v_p], 0));
									if ( p5bool(v_m) ) {
										v_arg = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										v_arg = (p5pkg["Perlito5::Grammar::Expression"].expand_list([v_arg], 0));
									};
								})();
							}
							else {
								(function () {
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", [v_str, v_p], 0));
									if ( (p5str((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')) != '*undef*') ) {
										v_arg = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]), 0));
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									};
								})();
							};
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['method', v_full_name, 'invocant', p5pkg["Perlito5::Match"].flat([v_invocant], 1), 'arguments', v_arg]), 1)])))));
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', (v_p));
							throw(p5context([v_m_name], p5want));
						})();
					};
					if ( (p5str(v_str).substr(p5num(v_p), 2) == '=>') ) {
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', v_name, 'namespace', v_namespace, 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 1)])))));
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', (v_p));
						throw(p5context([v_m_name], p5want));
					};
					if ( (p5str(v_str).substr(p5num(v_p), 2) == '->') ) {
						if ( p5bool(v_is_subroutine_name) ) {
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef([])), 'code', v_name, 'namespace', v_namespace]), 1)])))));
						}
						else {
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Proto"], "new", ['name', v_full_name], 1)])))));
						};
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', (v_p));
						throw(p5context([v_m_name], p5want));
					};
					var v_sig;
					if ( (p5make_package("Perlito5")["v_PROTO"])._hash_.hasOwnProperty(v_effective_name) ) {
						v_sig = ((p5make_package("Perlito5")["v_PROTO"] || (p5make_package("Perlito5")["v_PROTO"] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name)));
					}
					else if ( ((!( p5bool(v_namespace)) || (p5str(v_namespace) == 'CORE')) && (p5make_package("Perlito5")["v_CORE_PROTO"])._hash_.hasOwnProperty(('CORE::' + p5str(v_name)))) ) {
						v_effective_name = (('CORE::' + p5str(v_name)));
						v_sig = ((p5make_package("Perlito5")["v_CORE_PROTO"] || (p5make_package("Perlito5")["v_CORE_PROTO"] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name)));
					}
					else {
						(function () {
							var v_m;
							v_m = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_version", [v_str, v_pos], 0));
							if ( p5bool(v_m) ) {
								(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')])))));
								(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', (v_p));
								throw(p5context([v_m], p5want));
							};
							v_sig = (null);
						})();
					};
					var v_has_paren;
					v_has_paren = (0);
					if ( (v_sig != null) ) {
						if ( (p5str(v_sig).substr(0, 1) == ';') ) {
							if ( (p5str(v_str).substr(p5num(v_p), 2) == '//') ) {
								(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', v_name, 'namespace', v_namespace, 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 1)])))));
								(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', (v_p));
								throw(p5context([v_m_name], p5want));
							};
						};
						if ( (p5str(v_sig) == '') ) {
							if ( (p5str(v_str).substr(p5num(v_p), 1) == '(') ) {
								(function () {
									(function () {
										var tmp126 = v_p;
										v_p = p5incr_(tmp126);
										return tmp126
									})();
									v_has_paren = (1);
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
									if ( p5bool(v_m) ) {
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									};
									if ( (p5str(v_str).substr(p5num(v_p), 1) != ')') ) {
										p5pkg["Perlito5::Grammar::Bareword"].die([['syntax error near ', p5str(v_str).substr(p5num(v_pos), 10)]], null);
									};
									(function () {
										var tmp127 = v_p;
										v_p = p5incr_(tmp127);
										return tmp127
									})();
								})();
							};
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', v_name, 'namespace', v_namespace, 'arguments', (new p5ArrayRef([])), 'bareword', (p5num(v_has_paren) == 0)]), 1)])))));
							(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', (v_p));
							throw(p5context([v_m_name], p5want));
						};
						if ( ((p5str(v_sig) == '_') || ((p5str(v_sig) == '$') || (p5str(v_sig) == ';$'))) ) {
							(function () {
								var v_m;
								var v_arg;
								if ( (p5str(v_str).substr(p5num(v_p), 1) == '(') ) {
									(function () {
										v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", [v_str, v_p], 0));
										if ( !( p5bool(v_m)) ) {
											throw(p5context([v_m], p5want));
										};
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										v_has_paren = (1);
										v_arg = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
										v_arg = (p5pkg["Perlito5::Grammar::Expression"].expand_list([v_arg], 0));
										var v_v;
										v_v = (p5array_deref((v_arg || (v_arg = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword').shift());
										if ( p5bool(p5num(p5array_deref((v_arg || (v_arg = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword'))) ) {
											p5pkg["Perlito5::Grammar::Bareword"].die([[('Too many arguments for ' + p5str(v_name))]], null)
										};
										v_arg = (v_v);
									})();
								}
								else {
									v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "argument_parse", [v_str, v_p], 0));
									v_arg = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture'));
									if ( (p5str(v_arg) == '*undef*') ) {
										v_arg = (null);
									}
									else if ( ((p5pkg["Perlito5::Grammar::Bareword"].ref([v_arg], 0) == 'Perlito5::AST::Apply') && (p5str((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>')) ) {
										(function () {
											var v_v;
											v_v = (p5array_deref((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Grammar::Bareword').shift());
											if ( p5bool(p5num(p5array_deref((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Grammar::Bareword'))) ) {
												p5pkg["Perlito5::Grammar::Bareword"].die([[('Too many arguments for ' + p5str(v_name))]], null)
											};
											v_arg = (v_v);
										})();
									};
								};
								var List_args = [];
								if ( (v_arg != null) ) {
									List_args.p5push([v_arg]);
									v_has_paren = (1);
								}
								else {
									if ( (p5str(v_sig) == '$') ) {
										p5pkg["Perlito5::Grammar::Bareword"].die([[('Not enough arguments for ' + p5str(v_name))]], null)
									};
									if ( (p5str(v_sig) == '_') ) {
										List_args.p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Var"], "new", ['namespace', '', 'name', '_', 'sigil', '$'], 1)]))
									};
								};
								(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', v_name, 'namespace', v_namespace, 'arguments', (new p5ArrayRef(List_args)), 'bareword', (p5num(v_has_paren) == 0)]), 1)])))));
								throw(p5context([v_m], p5want));
							})();
						};
						if ( (p5str(v_sig) == '*') ) {};
					};
					if ( (p5str(v_str).substr(p5num(v_p), 1) == '(') ) {
						(function () {
							v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", [v_str, v_p], 0));
							if ( !( p5bool(v_m)) ) {
								throw(p5context([v_m], p5want));
							};
							var v_arg;
							v_arg = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
							v_arg = (p5pkg["Perlito5::Grammar::Expression"].expand_list([v_arg], 0));
							(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", ['code', v_name, 'namespace', v_namespace, 'arguments', v_arg], 1)])))));
							throw(p5context([v_m], p5want));
						})();
					};
					var v_m_list;
					v_m_list = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", [v_str, v_p], 0));
					var v_list;
					v_list = ((v_m_list || (v_m_list = new p5HashRef({})))._hash_.p5hget('capture'));
					if ( (p5str(v_list) != '*undef*') ) {
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['postfix_or_term', 'funcall', v_namespace, v_name, v_list]))));
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', ((v_m_list || (v_m_list = new p5HashRef({})))._hash_.p5hget('to')));
						throw(p5context([v_m_name], p5want));
					};
					(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['postfix_or_term', 'funcall_no_params', v_namespace, v_name]))));
					return (p5context([v_m_name], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp125._prototype_ = null;
			return tmp125
		})());
		1;
	})();
	(function () {
		null;
		p5make_package("Perlito5::Grammar::Attribute");
		p5typeglob_set("Perlito5::Grammar::Attribute", "opt_attribute", (function () {
			var tmp128;
			tmp128 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var List_attributes = [];
					var v_ws;
					v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_pos], 0));
					if ( (p5str(v_str).substr(p5num((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')), 1) != ':') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['to', v_pos, 'capture', (new p5ArrayRef([]))])))));
					};
					v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, (p5num((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')) + 1)], 0));
					var v_p;
					v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( !( p5bool(v_m)) ) {
						p5pkg["Perlito5::Grammar::Attribute"].die([['syntax error']], null)
					};
					var v_to;
					p5while(function () {
							var v_attr;
							v_attr = ((new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat([v_m], 1), null]))));
							v_to = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
							var v_delimiter;
							v_delimiter = (p5str(v_str).substr(p5num(v_to), 1));
							if ( (p5str(v_delimiter) == '(') ) {
								(function () {
									var v_params;
									v_params = (p5call(p5pkg["Perlito5::Grammar::String"], "string_interpolation_parse", [v_str, (p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) + 1), '(', ')', 0], 0));
									if ( !( p5bool(v_params)) ) {
										p5pkg["Perlito5::Grammar::Attribute"].die([['syntax error']], null)
									};
									(v_attr || (v_attr = new p5ArrayRef([])))._array_.p5aset(1, ((p5pkg["Perlito5::Match"].flat([v_params], p5want) || (p5pkg["Perlito5::Match"].flat([v_params], p5want) = new p5HashRef({})))._hash_.p5hget('buf')));
									v_to = ((v_params || (v_params = new p5HashRef({})))._hash_.p5hget('to'));
								})();
							};
							List_attributes.p5push([v_attr]);
							v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_to], 0));
							if ( (p5str(v_str).substr(p5num((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')), 1) == ':') ) {
								v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, (p5num((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')) + 1)], 0));
							};
							v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
							v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
							if ( !( p5bool(v_m)) ) {
								throw((new p5HashRef(p5a_to_h(p5list_to_a(['to', v_to, 'capture', (new p5ArrayRef(List_attributes))])))))
							};
						}, function () {
							return 1
						}, false, "", 0)
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp128._prototype_ = null;
			return tmp128
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Statement");
		var List_Statement_chars = [];
		var Hash_Statement = {};
		p5typeglob_set("Perlito5::Grammar::Statement", "add_statement", (function () {
			var tmp129;
			tmp129 = function (List__, p5want) {
				var v_name;
				v_name = (List__.shift());
				var v_param;
				v_param = (List__.shift());
				Hash_Statement.p5hset(p5str(v_name), (v_param));
				p5while(function () {
							List_Statement_chars.p5unshift([(p5num((List_Statement_chars.length)) + 1)]);
						}, function () {
							return (p5num(List_Statement_chars.length) < p5pkg["Perlito5::Grammar::Statement"].length([v_name], 0))
						}, false, "", 0)
			};
			tmp129._prototype_ = null;
			return tmp129
		})());
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['...', (function () {
	var tmp131;
	tmp131 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Statement"], "stmt_yadayada", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp131._prototype_ = null;
	return tmp131
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['package', (function () {
	var tmp133;
	tmp133 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Statement"], "stmt_package", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp133._prototype_ = null;
	return tmp133
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['format', (function () {
	var tmp135;
	tmp135 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Statement"], "stmt_format", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp135._prototype_ = null;
	return tmp135
})()], null);
		p5typeglob_set("Perlito5::Grammar::Statement", "stmt_yadayada", (function () {
			var tmp136;
			tmp136 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('...' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'die', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', 'Unimplemented'], 1)])))]), 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp136._prototype_ = null;
			return tmp136
		})());
		p5typeglob_set("Perlito5::Grammar::Statement", "stmt_format", (function () {
			var tmp137;
			tmp137 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('format' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 6)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((6 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', ('STDOUT'));
															return (p5context([1], p5want));
														})()], p5want));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5and(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											var v_placeholder;
											v_placeholder = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 1)])))]), 0));
											p5global_array("Perlito5::Grammar::String", "Here_doc").p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['single_quote', (v_placeholder || (v_placeholder = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('arguments'), '.'])))]));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:format', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 1), v_placeholder])))]), 0)));
											return (p5context([1], p5want));
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5and(p5context([p5and(('=' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0)
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp137._prototype_ = null;
			return tmp137
		})());
		p5typeglob_set("Perlito5::Grammar::Statement", "stmt_package", (function () {
			var tmp138;
			tmp138 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('package' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 7)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((7 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											var v_pos1;
											v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
											return (p5or(p5context([(function () {
													return (p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																var v_name;
																v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 0));
																(p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hset(p5str(v_name), (1));
																p5make_package("Perlito5")["v_PKG_NAME"] = (v_name);
																return (p5context([1], p5want));
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'package', 'arguments', (new p5ArrayRef([])), 'namespace', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 1)]), 1), p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget_array(2), 'Perlito5::Grammar::Statement')])))]), 0)));
																		return (p5context([1], p5want));
																	})()], p5want)
																})
															})
														}));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
														return (p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																var v_name;
																v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 0));
																(p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hset(p5str(v_name), (1));
																p5make_package("Perlito5")["v_PKG_NAME"] = (v_name);
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'package', 'arguments', (new p5ArrayRef([])), 'namespace', v_name]), 0)));
																return (p5context([1], p5want));
															})()], p5want));
													})()], p5want)
												}));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp138._prototype_ = null;
			return tmp138
		})());
		p5typeglob_set("Perlito5::Grammar::Statement", "exp_stmt", (function () {
			var tmp139;
			tmp139 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					p5for_lex(function (v_len) {
							var v_term;
							v_term = (CORE.substr([v_str, v_pos, v_len], 0));
							if ( (Hash_Statement).hasOwnProperty(v_term) ) {
								(function () {
									var v_m;
									v_m = ((Hash_Statement.p5hget(p5str(v_term)))([v_str, v_pos], 0));
									if ( p5bool(v_m) ) {
										throw(p5context([v_m], p5want))
									};
								})();
							};
						}, p5list_to_a([List_Statement_chars]), false, "");
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp139._prototype_ = null;
			return tmp139
		})());
		var List_Modifier_chars = [];
		List_Modifier_chars = [7, 6, 5, 4, 3, 2];
		var Hash_Modifier = {};
		Hash_Modifier = {'if' : 1, 'unless' : 1, 'when' : 1, 'for' : 1, 'foreach' : 1, 'while' : 1, 'until' : 1, 'given' : 1};
		p5typeglob_set("Perlito5::Grammar::Statement", "statement_modifier", (function () {
			var tmp140;
			tmp140 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_expression;
					v_expression = (List__.p5aget(3));
					p5for_lex(function (v_len) {
							var v_term;
							v_term = (CORE.substr([v_str, v_pos, v_len], 0));
							if ( (Hash_Modifier).hasOwnProperty(v_term) ) {
								(function () {
									var v_m;
									v_m = (p5call(v_self, "modifier", [v_str, (p5num(v_pos) + p5num(v_len)), v_term, v_expression], 0));
									if ( p5bool(v_m) ) {
										throw(p5context([v_m], p5want))
									};
								})();
							};
						}, p5list_to_a([List_Modifier_chars]), false, "");
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp140._prototype_ = null;
			return tmp140
		})());
		p5typeglob_set("Perlito5::Grammar::Statement", "modifier", (function () {
			var tmp141;
			tmp141 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_modifier;
					v_modifier = (List__.p5aget(3));
					var v_expression;
					v_expression = (List__.p5aget(4));
					var v_modifier_exp;
					v_modifier_exp = (p5call(p5pkg["Perlito5::Grammar::Expression"], "exp_parse", [v_str, v_pos], 0));
					if ( !( p5bool(v_modifier_exp)) ) {
						p5pkg["Perlito5::Grammar::Statement"].die([p5list_to_a(['Expected expression after ' + String.fromCharCode(39), p5pkg["Perlito5::Match"].flat([v_modifier], 1), String.fromCharCode(39)])], null);
					};
					if ( (p5str(v_modifier) == 'if') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1), 'body', v_expression]), 1)])))));
					};
					if ( (p5str(v_modifier) == 'unless') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1), 'otherwise', v_expression]), 1)])))));
					};
					if ( (p5str(v_modifier) == 'when') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::When"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1), 'body', v_expression]), 1)])))));
					};
					if ( (p5str(v_modifier) == 'while') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::While"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1), 'body', v_expression]), 1)])))));
					};
					if ( (p5str(v_modifier) == 'until') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::While"], "new", p5list_to_a(['cond', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1)]))), 'code', 'prefix:<!>', 'namespace', '']), 1), 'body', v_expression]), 1)])))));
					};
					if ( ((p5str(v_modifier) == 'for') || (p5str(v_modifier) == 'foreach')) ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (v_modifier_exp || (v_modifier_exp = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call(p5pkg["Perlito5::AST::For"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat([v_modifier_exp], 1), 'body', v_expression]), 1)])))));
					};
					return (p5pkg["Perlito5::Grammar::Statement"].die([[('Unexpected statement modifier ' + String.fromCharCode(39) + p5str(v_modifier) + String.fromCharCode(39))]], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp141._prototype_ = null;
			return tmp141
		})());
		p5typeglob_set("Perlito5::Grammar::Statement", "statement_parse", (function () {
			var tmp142;
			tmp142 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_res;
					v_res = (p5call(v_self, "exp_stmt", [v_str, v_pos], 0));
					if ( p5bool(v_res) ) {
						throw(p5context([v_res], p5want));
					};
					v_res = (p5call(p5pkg["Perlito5::Grammar::Expression"], "exp_parse", [v_str, v_pos], 0));
					if ( !( p5bool(v_res)) ) {
						throw(p5context([], p5want));
					};
					if ( ((p5str(v_str).substr(p5num((v_res || (v_res = new p5HashRef({})))._hash_.p5hget('to')), 1) == ':') && (p5bool(p5call((v_res || (v_res = new p5HashRef({})))._hash_.p5hget('capture'), "isa", ['Perlito5::AST::Apply'], 0)) && p5bool((v_res || (v_res = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hget('bareword')))) ) {
						(function () {
							var v_label;
							v_label = ((v_res || (v_res = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hget('code'));
							var v_ws;
							v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, (p5num((v_res || (v_res = new p5HashRef({})))._hash_.p5hget('to')) + 1)], 0));
							var v_stmt;
							v_stmt = (p5call(v_self, "statement_parse", p5list_to_a([v_str, (v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')]), 0));
							if ( p5bool(v_stmt) ) {
								(v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('label', (v_label));
								throw(p5context([v_stmt], p5want));
							};
							(v_res || (v_res = new p5HashRef({})))._hash_.p5hset('to', ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to')));
							(v_res || (v_res = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef([])), 'code', 'undef', 'namespace', '', 'label', v_label]), 0)));
							throw(p5context([v_res], p5want));
						})();
					};
					var v_modifier;
					v_modifier = (p5call(v_self, "statement_modifier", p5list_to_a([v_str, (v_res || (v_res = new p5HashRef({})))._hash_.p5hget('to'), p5pkg["Perlito5::Match"].flat([v_res], 1)]), 0));
					var v_p;
					v_p = (( p5bool(v_modifier) ? (v_modifier || (v_modifier = new p5HashRef({})))._hash_.p5hget('to') : (v_res || (v_res = new p5HashRef({})))._hash_.p5hget('to')));
					var v_terminator;
					v_terminator = (p5str(v_str).substr(p5num(v_p), 1));
					if ( ((p5str(v_terminator) != ';') && ((p5str(v_terminator) != '}') && (p5str(v_terminator) != ''))) ) {
						p5pkg["Perlito5::Grammar::Statement"].die([['Number or Bareword found where operator expected']], null)
					};
					if ( !( p5bool(v_modifier)) ) {
						throw(p5context([v_res], p5want));
					};
					return (p5context([v_modifier], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp142._prototype_ = null;
			return tmp142
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Expression");
		// use Perlito5::Grammar::Precedence
;
		// use Perlito5::Grammar::Bareword
;
		// use Perlito5::Grammar::Attribute
;
		// use Perlito5::Grammar::Statement
;
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['my', (function () {
	var tmp144;
	tmp144 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_declarator", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp144._prototype_ = null;
	return tmp144
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['our', (function () {
	var tmp146;
	tmp146 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_declarator", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp146._prototype_ = null;
	return tmp146
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['eval', (function () {
	var tmp148;
	tmp148 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_eval", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp148._prototype_ = null;
	return tmp148
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['state', (function () {
	var tmp150;
	tmp150 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_declarator", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp150._prototype_ = null;
	return tmp150
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['local', (function () {
	var tmp152;
	tmp152 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_local", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp152._prototype_ = null;
	return tmp152
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['return', (function () {
	var tmp154;
	tmp154 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_return", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp154._prototype_ = null;
	return tmp154
})()], null);
		p5typeglob_set("Perlito5::Grammar::Expression", "expand_list", (function () {
			var tmp155;
			tmp155 = function (List__, p5want) {
				try {
					var v_param_list;
					v_param_list = (List__.shift());
					if ( ((p5pkg["Perlito5::Grammar::Expression"].ref([v_param_list], 0) == 'Perlito5::AST::Apply') && (p5str(p5call(v_param_list, "code", [], 0)) == 'list:<,>')) ) {
						var v_args;
						v_args = ((new p5ArrayRef([])));
						p5for_lex(function (v_v) {
								if ( (v_v != null) ) {
									p5array_deref((v_args || (v_args = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push([v_v]);
								};
							}, p5list_to_a([p5array_deref(p5call(v_param_list, "arguments", [], p5want), 'Perlito5::Grammar::Expression')]), false, "");
						(function () {
							throw(p5context([v_args], p5want))
						})()
					}
					else if ( (p5str(v_param_list) == '*undef*') ) {
						(function () {
							throw((new p5ArrayRef([])))
						})()
					}
					else {
						(function () {
							throw((new p5ArrayRef([v_param_list])))
						})()
					}
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp155._prototype_ = null;
			return tmp155
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "block_or_hash", (function () {
			var tmp156;
			tmp156 = function (List__, p5want) {
				try {
					var v_o;
					v_o = (List__.shift());
					if ( (p5call(v_o, "sig", [], 0) != null) ) {
						throw(p5context([v_o], p5want));
					};
					var v_stmts;
					v_stmts = (p5call(v_o, "stmts", [], 0));
					if ( (!( (v_stmts != null)) || (p5num((p5num(p5array_deref((v_stmts || (v_stmts = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0)) ) {
						throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), p5want));
					};
					if ( (p5num((p5num(p5array_deref((v_stmts || (v_stmts = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) != 1) ) {
						throw(p5context([v_o], p5want));
					};
					var v_stmt;
					v_stmt = ((v_stmts || (v_stmts = new p5ArrayRef([])))._array_.p5aget(0));
					if ( (p5pkg["Perlito5::Grammar::Expression"].ref([v_stmt], 0) == 'Perlito5::AST::Var') ) {
						throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([v_stmt]))]), p5want));
					};
					if ( (p5pkg["Perlito5::Grammar::Expression"].ref([v_stmt], 0) != 'Perlito5::AST::Apply') ) {
						throw(p5context([v_o], p5want));
					};
					if ( (p5str(p5call(v_stmt, "code", [], 0)) == 'infix:<=>>') ) {
						throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([v_stmt]))]), p5want));
					};
					if ( (p5str(p5call(v_stmt, "code", [], 0)) != 'list:<,>') ) {
						throw(p5context([v_o], p5want));
					};
					return (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', p5pkg["Perlito5::Grammar::Expression"].expand_list([v_stmt], 1)]), p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp156._prototype_ = null;
			return tmp156
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "pop_term", (function () {
			var tmp157;
			tmp157 = function (List__, p5want) {
				try {
					var v_num_stack;
					v_num_stack = (List__.shift());
					var v_v;
					v_v = (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
					if ( (p5pkg["Perlito5::Grammar::Expression"].ref([v_v], 0) == 'ARRAY') ) {
						if ( p5bool(p5pkg["Perlito5::Grammar::Expression"].ref([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)], 0)) ) {
							throw((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1))
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall_no_params') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', null, 'method', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([]))]), 0));
							throw(p5context([v_v], p5want));
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall_no_params') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3), 'namespace', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 0));
							throw(p5context([v_v], p5want));
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall') ) {
							(function () {
								var v_param_list;
								v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3)]), 0));
								v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', null, 'method', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', v_param_list]), 0));
								throw(p5context([v_v], p5want));
							})();
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall') ) {
							(function () {
								var v_param_list;
								v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(4)]), 0));
								v_v = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3), 'arguments', v_param_list, 'namespace', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
								throw(p5context([v_v], p5want));
							})();
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '( )') ) {
							(function () {
								var v_param_list;
								v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
								v_v = (p5call(p5pkg["Perlito5::AST::Apply"], "new", ['code', 'circumfix:<( )>', 'arguments', v_param_list, 'namespace', ''], 0));
								throw(p5context([v_v], p5want));
							})();
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '[ ]') ) {
							(function () {
								var v_param_list;
								v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
								v_v = (p5call(p5pkg["Perlito5::AST::Apply"], "new", ['code', 'circumfix:<[ ]>', 'arguments', v_param_list, 'namespace', ''], 0));
								throw(p5context([v_v], p5want));
							})();
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'block') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'sig', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3)]), 0));
							v_v = (p5pkg["Perlito5::Grammar::Expression"].block_or_hash([v_v], 0));
							throw(p5context([v_v], p5want));
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.( )') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', null, 'method', 'postcircumfix:<( )>', 'arguments', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
							throw(p5context([v_v], p5want));
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.[ ]') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Index"], "new", p5list_to_a(['obj', null, 'index_exp', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
							throw(p5context([v_v], p5want));
						};
						if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.{ }') ) {
							v_v = (p5call(p5pkg["Perlito5::AST::Lookup"], "new", p5list_to_a(['obj', null, 'index_exp', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
							throw(p5context([v_v], p5want));
						};
						throw((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1));
					};
					return (p5context([v_v], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp157._prototype_ = null;
			return tmp157
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "reduce_postfix", (function () {
			var tmp158;
			tmp158 = function (List__, p5want) {
				try {
					var v_op;
					v_op = (List__.shift());
					var v_value;
					v_value = (List__.shift());
					var v_v;
					v_v = (v_op);
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall_no_params') ) {
						v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', v_value, 'method', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([]))]), 0));
						throw(p5context([v_v], p5want));
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall_no_params') ) {
						p5pkg["Perlito5::Grammar::Expression"].die([['unexpected function call']], null);
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall') ) {
						(function () {
							var v_param_list;
							v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3)]), 0));
							v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', v_value, 'method', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', v_param_list]), 0));
							throw(p5context([v_v], p5want));
						})();
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall') ) {
						p5pkg["Perlito5::Grammar::Expression"].die([['unexpected function call']], null);
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '( )') ) {
						(function () {
							var v_param_list;
							v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
							if ( ((p5pkg["Perlito5::Grammar::Expression"].ref([v_value], 0) == 'Perlito5::AST::Apply') && !( (p5call(v_value, "arguments", [], 0) != null))) ) {
								(v_value || (v_value = new p5HashRef({})))._hash_.p5hset('arguments', (v_param_list));
								throw(p5context([v_value], p5want));
							};
							if ( ((p5pkg["Perlito5::Grammar::Expression"].ref([v_value], 0) == 'Perlito5::AST::Call') && !( (p5call(v_value, "arguments", [], 0) != null))) ) {
								(v_value || (v_value = new p5HashRef({})))._hash_.p5hset('arguments', (v_param_list));
								throw(p5context([v_value], p5want));
							};
							v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", ['invocant', v_value, 'method', 'postcircumfix:<( )>', 'arguments', v_param_list], 0));
							throw(p5context([v_v], p5want));
						})();
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '[ ]') ) {
						v_v = (p5call(p5pkg["Perlito5::AST::Index"], "new", p5list_to_a(['obj', v_value, 'index_exp', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
						throw(p5context([v_v], p5want));
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == 'block') ) {
						v_v = (p5call(p5pkg["Perlito5::AST::Lookup"], "new", p5list_to_a(['obj', v_value, 'index_exp', (p5context([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)], 0) || (p5context([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)], 0) = new p5ArrayRef([])))._array_.p5aget(0)]), 0));
						throw(p5context([v_v], p5want));
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.( )') ) {
						(function () {
							var v_param_list;
							v_param_list = (p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
							v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", ['invocant', v_value, 'method', 'postcircumfix:<( )>', 'arguments', v_param_list], 0));
							throw(p5context([v_v], p5want));
						})();
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.[ ]') ) {
						v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', v_value, 'method', 'postcircumfix:<[ ]>', 'arguments', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
						throw(p5context([v_v], p5want));
					};
					if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)) == '.{ }') ) {
						v_v = (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['invocant', v_value, 'method', 'postcircumfix:<{ }>', 'arguments', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2)]), 0));
						throw(p5context([v_v], p5want));
					};
					p5array_deref((v_op || (v_op = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push([v_value]);
					return (p5context([v_op], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp158._prototype_ = null;
			return tmp158
		})());
		var v_reduce_to_ast;
		v_reduce_to_ast = ((function () {
					var tmp159;
					tmp159 = function (List__, p5want) {
						try {
							var v_op_stack;
							v_op_stack = (List__.shift());
							var v_num_stack;
							v_num_stack = (List__.shift());
							var v_last_op;
							v_last_op = (p5array_deref((v_op_stack || (v_op_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').shift());
							if ( (p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(0)) == 'prefix') ) {
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', ('prefix:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1)])))]), 1)])));
							}
							else if ( (p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix') ) {
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', ('postfix:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1)])))]), 1)])));
							}
							else if ( (p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix_or_term') ) {
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].reduce_postfix(p5list_to_a([v_last_op, p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1)]), 1)])));
							}
							else if ( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_assoc_type(p5list_to_a(['list', (v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)]), 0)) ) {
								var v_arg;
								if ( (p5num((p5num(p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
									(function () {
										var v_v2;
										v_v2 = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 0));
										if ( ((p5pkg["Perlito5::Grammar::Expression"].ref([v_v2], 0) == 'Perlito5::AST::Apply') && (p5str(p5call(v_v2, "code", [], 0)) == ('list:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'))) ) {
											p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', p5call(v_v2, "namespace", [], 1), 'code', p5call(v_v2, "code", [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5array_deref(p5call(v_v2, "arguments", [], p5want), 'Perlito5::Grammar::Expression')])))]), 1)]));
										}
										else {
											p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', ('list:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef([v_v2]))]), 1)]));
										};
										throw(p5context([], p5want));
									})();
								}
								else {
									(function () {
										var v_v2;
										v_v2 = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 0));
										v_arg = ((new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1), v_v2]))));
									})();
								};
								if ( ((p5pkg["Perlito5::Grammar::Expression"].ref([(v_arg || (v_arg = new p5ArrayRef([])))._array_.p5aget(0)], 0) == 'Perlito5::AST::Apply') && ((p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(0)) == 'infix') && (p5str(p5call((v_arg || (v_arg = new p5ArrayRef([])))._array_.p5aget(0), "code", [], 0)) == ('list:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>')))) ) {
									p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', p5call(p5context([(v_arg || (v_arg = new p5ArrayRef([])))._array_.p5aget(0)], 0), "code", [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5array_deref(p5call(p5context([(v_arg || (v_arg = new p5ArrayRef([])))._array_.p5aget(0)], 0), "arguments", [], p5want), 'Perlito5::Grammar::Expression'), (v_arg || (v_arg = new p5ArrayRef([])))._array_.p5aget(1)])))]), 1)]));
									throw(p5context([], p5want));
								};
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", ['namespace', '', 'code', ('list:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', v_arg], 1)])));
							}
							else if ( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_assoc_type(p5list_to_a(['chain', (v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)]), 0)) ) {
								if ( (p5num((p5num(p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
									p5pkg["Perlito5::Grammar::Expression"].die([[('Missing value after operator ' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)))]], null);
								};
								var v_v2;
								v_v2 = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 0));
								var v_arg;
								v_arg = ((new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1), v_v2]))));
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", ['namespace', '', 'code', ('infix:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', v_arg], 1)])));
							}
							else if ( (p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(0)) == 'ternary') ) {
								if ( (p5num((p5num(p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
									p5pkg["Perlito5::Grammar::Expression"].die([['Missing value after ternary operator']], null);
								};
								var v_v2;
								v_v2 = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 0));
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', ('ternary:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1), (v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(2), v_v2])))]), 1)])));
							}
							else {
								if ( (p5num((p5num(p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
									p5pkg["Perlito5::Grammar::Expression"].die([[('missing value after operator ' + String.fromCharCode(39) + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + String.fromCharCode(39))]], null);
								};
								var v_v2;
								v_v2 = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 0));
								return (p5array_deref((v_num_stack || (v_num_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', ('infix:<' + p5str((v_last_op || (v_last_op = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Grammar::Expression"].pop_term([v_num_stack], 1), v_v2])))]), 1)])));
							}
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp159._prototype_ = null;
					return tmp159
				})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_arrow", (function () {
			var tmp160;
			tmp160 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('->' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(v_grammar, "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.( )', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																	return (p5context([1], p5want));
																})()], p5want)
															})
														})
													}));
											})()], 0), function () {
												return p5or(p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([p5and(('[' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(v_grammar, "square_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('square_parse', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([p5and((']' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																})], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.[ ]', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('square_parse')]), 1)])))));
																		return (p5context([1], p5want));
																	})()], p5want)
																})
															})
														})], p5want));
												})()], 0), function () {
													return p5or(p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
														return (p5context([p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(v_grammar, "curly_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('curly_parse', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.{ }', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('curly_parse')]), 1)])))));
																			return (p5context([1], p5want));
																		})()], p5want)
																	})
																})
															})], p5want));
													})()], 0), function () {
														return p5or(p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
															return (p5context([p5and(p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																})], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.ident', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				var v_pos1;
																				v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																				return (p5or(p5context([(function () {
																						return (p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0), function () {
																								return p5and(p5context([(function () {
																									var v_m2;
																									v_m2 = (p5call(v_grammar, "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																									if ( p5bool(v_m2) ) {
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2));
																										return (p5context([1], p5want));
																									}
																									else {
																										return (p5context([0], p5want));
																									}
																								})()], 0), function () {
																									return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																									})], 0), function () {
																										return p5context([(function () {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall', p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', '$', 'namespace', '', 'name', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.ident')]), 1)]), 1), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																											return (p5context([1], p5want));
																										})()], p5want)
																									})
																								})
																							}));
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																							return (p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall_no_params', p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', '$', 'namespace', '', 'name', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.ident')]), 1)]), 1)])))));
																									return (p5context([1], p5want));
																								})()], p5want));
																						})()], p5want)
																					}));
																			})()], p5want)
																		})
																	})
																})], p5want));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				var v_pos1;
																				v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																				return (p5or(p5context([(function () {
																						return (p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0), function () {
																								return p5and(p5context([(function () {
																									var v_m2;
																									v_m2 = (p5call(v_grammar, "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																									if ( p5bool(v_m2) ) {
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2));
																										return (p5context([1], p5want));
																									}
																									else {
																										return (p5context([0], p5want));
																									}
																								})()], 0), function () {
																									return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																									})], 0), function () {
																										return p5context([(function () {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 1), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																											return (p5context([1], p5want));
																										})()], p5want)
																									})
																								})
																							}));
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																							return (p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall_no_params', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 1)])))));
																									return (p5context([1], p5want));
																								})()], p5want));
																						})()], p5want)
																					}));
																			})()], p5want)
																		})
																	})], p5want));
															})()], p5want)
														})
													})
												})
											}));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp160._prototype_ = null;
			return tmp160
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_ternary", (function () {
			var tmp161;
			tmp161 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('?' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "ternary5_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('ternary5_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and((':' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['op', '? :', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('ternary5_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp161._prototype_ = null;
			return tmp161
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_paren", (function () {
			var tmp162;
			tmp162 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '( )', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp162._prototype_ = null;
			return tmp162
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_square", (function () {
			var tmp163;
			tmp163 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('[' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "square_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('square_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and((']' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '[ ]', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('square_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp163._prototype_ = null;
			return tmp163
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_curly", (function () {
			var tmp164;
			tmp164 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m;
									v_m = (v_MATCH);
									if ( !( p5bool((function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})())) ) {
										v_MATCH = (v_m);
									};
									return (p5context([1], p5want));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m;
											v_m = (v_MATCH);
											if ( !( p5bool((function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})())) ) {
												v_MATCH = (v_m);
											};
											return (p5context([1], p5want));
										})()], 0), function () {
											return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'block', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1)])))));
													return (p5context([1], p5want));
												})()], 0)
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp164._prototype_ = null;
			return tmp164
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "declarator", (function () {
			var tmp165;
			tmp165 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('my' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('state' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(('our' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
													})], p5want));
											})()], p5want)
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp165._prototype_ = null;
			return tmp165
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_declarator", (function () {
			var tmp166;
			tmp166 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "declarator", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('declarator', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Block"], "named_sub", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block.named_sub', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			var v_sub;
																			v_sub = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Block.named_sub')._hash_.p5hget('capture'));
																			(v_sub || (v_sub = new p5HashRef({})))._hash_.p5hset('decl', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('declarator')]), 0)));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_sub]))));
																			throw(p5context([v_MATCH], p5want));
																			return (p5context([1], p5want));
																		})()], p5want)
																	}));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "opt_type", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.opt_type', (v_m2));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], p5want));
																})()], p5want)
															}));
													})()], p5want)
												}));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([1], p5want));
											})()], p5want)
										}));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "var_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.var_ident', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Attribute"], "opt_attribute", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute.opt_attribute', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													var v_decl;
													v_decl = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('declarator')]), 0));
													var v_type;
													v_type = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.opt_type')]), 0));
													if ( (p5bool(v_type) && !( p5bool((p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hget(p5str(v_type))))) ) {
														p5pkg["Perlito5::Grammar::Expression"].die([[('No such class ' + p5str(v_type))]], null)
													};
													var v_var;
													v_var = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar.var_ident')._hash_.p5hget('capture'));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Decl"], "new", p5list_to_a(['decl', v_decl, 'type', v_type, 'var', v_var, 'attributes', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute.opt_attribute')]), 1)]), 1)])))));
													return (p5context([1], p5want));
												})()], 0)
											})
										})
									})
								})
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp166._prototype_ = null;
			return tmp166
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_local", (function () {
			var tmp167;
			tmp167 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('local' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											var v_decl;
											v_decl = ('local');
											var v_type;
											v_type = ('');
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1)));
											v_MATCH = (p5call(p5pkg["Perlito5::Grammar::String"], "double_quoted_var_with_subscript", [v_MATCH], 0));
											var v_var;
											v_var = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('capture'));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Decl"], "new", ['decl', v_decl, 'type', v_type, 'var', v_var], 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp167._prototype_ = null;
			return tmp167
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_return", (function () {
			var tmp168;
			tmp168 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('return' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 6)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((6 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('list_parse', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											var v_args;
											v_args = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('list_parse')]), 0));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'return', 'arguments', ( (p5str(v_args) == '*undef*') ? (new p5ArrayRef([])) : (new p5ArrayRef([v_args]))), 'namespace', '']), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp168._prototype_ = null;
			return tmp168
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "term_eval", (function () {
			var tmp169;
			tmp169 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('eval' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_tmp;
										v_tmp = (v_MATCH);
										v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
										var v_res;
										v_res = (p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0));
										v_MATCH = (v_tmp);
										return (( p5bool(v_res) ? 1 : 0));
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(v_grammar, "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('term_curly', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'eval', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Do"], "new", p5list_to_a(['block', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2)]), 1)]), 1)]))), 'namespace', '']), 1)])))));
												return (p5context([1], p5want));
											})()], 0)
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp169._prototype_ = null;
			return tmp169
		})());
		var v_Argument_end_token;
		v_Argument_end_token = ((new p5HashRef({':' : 1, ']' : 1, ')' : 1, '}' : 1, ';' : 1, ',' : 1, '<' : 1, '>' : 1, '=' : 1, '|' : 1, '^' : 1, '?' : 1, 'or' : 1, 'if' : 1, '=>' : 1, 'lt' : 1, 'le' : 1, 'gt' : 1, 'ge' : 1, '<=' : 1, '>=' : 1, '==' : 1, '!=' : 1, 'ne' : 1, 'eq' : 1, '..' : 1, '~~' : 1, '&&' : 1, '||' : 1, '+=' : 1, '-=' : 1, '*=' : 1, '/=' : 1, 'x=' : 1, '|=' : 1, '&=' : 1, '.=' : 1, '^=' : 1, '%=' : 1, '//' : 1, 'for' : 1, 'and' : 1, 'xor' : 1, '...' : 1, '<=>' : 1, 'cmp' : 1, '<<=' : 1, '>>=' : 1, '||=' : 1, '&&=' : 1, '//=' : 1, '**=' : 1, 'when' : 1, 'while' : 1, 'until' : 1, 'unless' : 1, 'foreach' : 1})));
		var v_Argument_end_token_chars;
		v_Argument_end_token_chars = ((new p5ArrayRef([7, 6, 5, 4, 3, 2, 1])));
		var v_List_end_token;
		v_List_end_token = ((new p5HashRef({':' : 1, ']' : 1, ')' : 1, '}' : 1, ';' : 1, 'or' : 1, 'if' : 1, 'for' : 1, 'and' : 1, 'xor' : 1, 'else' : 1, 'when' : 1, 'while' : 1, 'until' : 1, 'elsif' : 1, 'unless' : 1, 'foreach' : 1})));
		var v_List_end_token_chars;
		v_List_end_token_chars = ((new p5ArrayRef([7, 6, 5, 4, 3, 2, 1])));
		var v_Expr_end_token;
		v_Expr_end_token = ((new p5HashRef({']' : 1, ')' : 1, '}' : 1, ';' : 1, 'if' : 1, 'for' : 1, 'else' : 1, 'when' : 1, 'while' : 1, 'until' : 1, 'elsif' : 1, 'unless' : 1, 'foreach' : 1})));
		var v_Expr_end_token_chars;
		v_Expr_end_token_chars = ((new p5ArrayRef([7, 6, 5, 4, 3, 2, 1])));
		p5typeglob_set("Perlito5::Grammar::Expression", "argument_parse", (function () {
			var tmp170;
			tmp170 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_expr;
					var v_last_pos;
					v_last_pos = (v_pos);
					var v_is_first_token;
					v_is_first_token = (1);
					var v_lexer_stack;
					v_lexer_stack = ((new p5ArrayRef([])));
					var v_last_token_was_space;
					v_last_token_was_space = (1);
					var v_get_token;
					v_get_token = ((function () {
								var tmp171;
								tmp171 = function (List__, p5want) {
									try {
										var v_last_is_term;
										v_last_is_term = (List__.p5aget(0));
										var v_v;
										if ( p5bool((p5num(p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) ) {
											v_v = (p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
											if ( (p5bool(v_is_first_token) && ((p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_fixity_type(p5list_to_a(['prefix', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)]), 0))))) ) {
												(v_v || (v_v = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
											};
										}
										else {
											(function () {
												var v_m;
												v_m = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "op_parse", [v_str, v_last_pos, v_last_is_term], 0));
												if ( p5bool(v_m) ) {
													(function () {
														var v_spc;
														v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_spc) ) {
															(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to')));
														};
													})();
												};
												if ( !( p5bool(v_m)) ) {
													throw((new p5ArrayRef(['end', '*end*'])));
												};
												v_v = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture'));
												if ( (p5bool(v_is_first_token) && ((p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_fixity_type(p5list_to_a(['prefix', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)]), 0))))) ) {
													(v_v || (v_v = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
												};
												if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
													v_last_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
												};
											})();
										};
										v_last_token_was_space = (p5context([(p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'space')], 0));
										v_is_first_token = (0);
										return (p5context([v_v], p5want));
									}
									catch(err) {
										if ( err instanceof Error ) {
											throw(err);
										}
										else {
											return(err);
										}
									}
								};
								tmp171._prototype_ = null;
								return tmp171
							})());
					var v_prec;
					v_prec = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "new", ['get_token', v_get_token, 'reduce', v_reduce_to_ast, 'end_token', v_Argument_end_token, 'end_token_chars', v_Argument_end_token_chars], 0));
					var v_res;
					v_res = (p5call(v_prec, "precedence_parse", [], 0));
					if ( (p5num((p5num(p5array_deref((v_res || (v_res = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0) ) {
						throw((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : '*undef*'})));
					};
					var v_result;
					v_result = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_res], 0));
					return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : v_result})));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp170._prototype_ = null;
			return tmp170
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "list_parse", (function () {
			var tmp172;
			tmp172 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_expr;
					var v_last_pos;
					v_last_pos = (v_pos);
					var v_is_first_token;
					v_is_first_token = (1);
					var v_lexer_stack;
					v_lexer_stack = ((new p5ArrayRef([])));
					var v_last_token_was_space;
					v_last_token_was_space = (1);
					var v_get_token;
					v_get_token = ((function () {
								var tmp173;
								tmp173 = function (List__, p5want) {
									try {
										var v_last_is_term;
										v_last_is_term = (List__.p5aget(0));
										var v_v;
										if ( p5bool((p5num(p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) ) {
											v_v = (p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
											if ( (p5bool(v_is_first_token) && ((p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_fixity_type(p5list_to_a(['prefix', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)]), 0))))) ) {
												(v_v || (v_v = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
											};
										}
										else {
											(function () {
												var v_m;
												v_m = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "op_parse", [v_str, v_last_pos, v_last_is_term], 0));
												if ( p5bool(v_m) ) {
													(function () {
														var v_spc;
														v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_spc) ) {
															(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to')));
														};
													})();
												};
												if ( !( p5bool(v_m)) ) {
													throw((new p5ArrayRef(['end', '*end*'])));
												};
												v_v = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture'));
												if ( (p5bool(v_is_first_token) && ((p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg["Perlito5::Grammar::Precedence"].is_fixity_type(p5list_to_a(['prefix', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(1)]), 0))))) ) {
													(v_v || (v_v = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
												};
												if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
													v_last_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
												};
											})();
										};
										v_last_token_was_space = (p5context([(p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) == 'space')], 0));
										v_is_first_token = (0);
										return (p5context([v_v], p5want));
									}
									catch(err) {
										if ( err instanceof Error ) {
											throw(err);
										}
										else {
											return(err);
										}
									}
								};
								tmp173._prototype_ = null;
								return tmp173
							})());
					var v_prec;
					v_prec = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "new", ['get_token', v_get_token, 'reduce', v_reduce_to_ast, 'end_token', v_List_end_token, 'end_token_chars', v_List_end_token_chars], 0));
					var v_res;
					v_res = (p5call(v_prec, "precedence_parse", [], 0));
					if ( (p5num((p5num(p5array_deref((v_res || (v_res = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0) ) {
						throw((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : '*undef*'})));
					};
					var v_result;
					v_result = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_res], 0));
					return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : v_result})));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp172._prototype_ = null;
			return tmp172
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "circumfix_parse", (function () {
			var tmp174;
			tmp174 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (List__.p5aget(3));
				var v_expr;
				var v_last_pos;
				v_last_pos = (v_pos);
				var v_get_token;
				v_get_token = ((function () {
								var tmp175;
								tmp175 = function (List__, p5want) {
									var v_last_is_term;
									v_last_is_term = (List__.p5aget(0));
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "op_parse", [v_str, v_last_pos, v_last_is_term], 0));
									if ( p5bool(v_m) ) {
											(function () {
												var v_spc;
												v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_spc) ) {
													(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to')));
												};
											})();
										};
									if ( !( p5bool(v_m)) ) {
											p5pkg["Perlito5::Grammar::Expression"].die([['Expected closing delimiter: ', v_delimiter, ' near ', v_last_pos]], null);
										};
									var v_v;
									v_v = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture'));
									if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
											v_last_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										};
									return (p5context([v_v], p5want));
								};
								tmp175._prototype_ = null;
								return tmp175
							})());
				var Hash_delim_token = {};
				Hash_delim_token.p5hset(p5str(v_delimiter), (1));
				var v_prec;
				v_prec = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "new", p5list_to_a(['get_token', v_get_token, 'reduce', v_reduce_to_ast, 'end_token', (new p5HashRef(Hash_delim_token)), 'end_token_chars', (new p5ArrayRef([p5pkg["Perlito5::Grammar::Expression"].length([v_delimiter], 1)]))]), 0));
				var v_res;
				v_res = (p5call(v_prec, "precedence_parse", [], 0));
				v_res = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_res], 0));
				if ( !( (v_res != null)) ) {
						v_res = ('*undef*');
					};
				return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : v_res})));
			};
			tmp174._prototype_ = null;
			return tmp174
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "ternary5_parse", (function () {
			var tmp176;
			tmp176 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				return (p5call(v_self, "circumfix_parse", [v_str, v_pos, ':'], p5want));
			};
			tmp176._prototype_ = null;
			return tmp176
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "curly_parse", (function () {
			var tmp177;
			tmp177 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				return (p5call(v_self, "circumfix_parse", [v_str, v_pos, '}'], p5want));
			};
			tmp177._prototype_ = null;
			return tmp177
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "square_parse", (function () {
			var tmp178;
			tmp178 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				return (p5call(v_self, "circumfix_parse", [v_str, v_pos, ']'], p5want));
			};
			tmp178._prototype_ = null;
			return tmp178
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "paren_parse", (function () {
			var tmp179;
			tmp179 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				return (p5call(v_self, "circumfix_parse", [v_str, v_pos, ')'], p5want));
			};
			tmp179._prototype_ = null;
			return tmp179
		})());
		p5typeglob_set("Perlito5::Grammar::Expression", "exp_parse", (function () {
			var tmp180;
			tmp180 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_expr;
					var v_last_pos;
					v_last_pos = (v_pos);
					var v_lexer_stack;
					v_lexer_stack = ((new p5ArrayRef([])));
					var v_get_token;
					v_get_token = ((function () {
								var tmp181;
								tmp181 = function (List__, p5want) {
									try {
										var v_last_is_term;
										v_last_is_term = (List__.p5aget(0));
										var v_v;
										if ( p5bool((p5num(p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) ) {
											v_v = (p5array_deref((v_lexer_stack || (v_lexer_stack = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
										}
										else {
											(function () {
												var v_m;
												v_m = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "op_parse", [v_str, v_last_pos, v_last_is_term], 0));
												if ( p5bool(v_m) ) {
													(function () {
														var v_spc;
														v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_spc) ) {
															(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to')));
														};
													})();
												};
												if ( !( p5bool(v_m)) ) {
													throw((new p5ArrayRef(['end', '*end*'])));
												};
												v_v = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture'));
												if ( (p5str((v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
													v_last_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
												};
											})();
										};
										return (p5context([v_v], p5want));
									}
									catch(err) {
										if ( err instanceof Error ) {
											throw(err);
										}
										else {
											return(err);
										}
									}
								};
								tmp181._prototype_ = null;
								return tmp181
							})());
					var v_prec;
					v_prec = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "new", ['get_token', v_get_token, 'reduce', v_reduce_to_ast, 'end_token', v_Expr_end_token, 'end_token_chars', v_Expr_end_token_chars], 0));
					var v_res;
					v_res = (p5call(v_prec, "precedence_parse", [], 0));
					if ( (p5num((p5num(p5array_deref((v_res || (v_res = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0) ) {
						throw(p5context([0], p5want));
					};
					var v_result;
					v_result = (p5pkg["Perlito5::Grammar::Expression"].pop_term([v_res], 0));
					return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_last_pos, 'capture' : v_result})));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp180._prototype_ = null;
			return tmp180
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar");
		// use strict
;
		// use Perlito5::Grammar::Expression
;
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['if', (function () {
	var tmp183;
	tmp183 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "if", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp183._prototype_ = null;
	return tmp183
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['for', (function () {
	var tmp185;
	tmp185 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "for", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp185._prototype_ = null;
	return tmp185
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['foreach', (function () {
	var tmp187;
	tmp187 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "for", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp187._prototype_ = null;
	return tmp187
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['when', (function () {
	var tmp189;
	tmp189 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "when", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp189._prototype_ = null;
	return tmp189
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['while', (function () {
	var tmp191;
	tmp191 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "while", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp191._prototype_ = null;
	return tmp191
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['until', (function () {
	var tmp193;
	tmp193 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "until", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp193._prototype_ = null;
	return tmp193
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['given', (function () {
	var tmp195;
	tmp195 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "given", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp195._prototype_ = null;
	return tmp195
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['unless', (function () {
	var tmp197;
	tmp197 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar"], "unless", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp197._prototype_ = null;
	return tmp197
})()], null);
		p5typeglob_set("Perlito5::Grammar", "unless", (function () {
			var tmp198;
			tmp198 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('unless' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 6)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((6 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_paren', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('else' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																			})], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5and(p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], 0), function () {
																							return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0), function () {
																								return p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																									var v_body;
																									v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
																									if ( !( (v_body != null)) ) {
																										p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39)]], null);
																									};
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5or(p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 0), function () {
	return (new p5ArrayRef([]))
})]), 1), 'otherwise', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1)]), 0)));
																									return (p5context([1], p5want));
																								})()], p5want)
																							})
																						})
																					})
																				})
																			})
																		})
																	})
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																		var v_body;
																		v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
																		if ( !( (v_body != null)) ) {
																			p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'unless' + String.fromCharCode(39)]], null);
																		};
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1), 'otherwise', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1)]), 0)));
																		return (p5context([1], p5want));
																	})()], p5want));
															})()], p5want)
														}));
												})()], 0)
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp198._prototype_ = null;
			return tmp198
		})());
		p5typeglob_set("Perlito5::Grammar", "if", (function () {
			var tmp199;
			tmp199 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('if' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_paren', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('else' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																			})], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5and(p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], 0), function () {
																							return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0), function () {
																								return p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																									var v_body;
																									v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
																									if ( !( (v_body != null)) ) {
																										p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39)]], null);
																									};
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1), 'otherwise', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5or(p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 0), function () {
	return (new p5ArrayRef([]))
})]), 1)]), 0)));
																									return (p5context([1], p5want));
																								})()], p5want)
																							})
																						})
																					})
																				})
																			})
																		})
																	})
																}));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([p5and(('els' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(v_grammar, "if", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('if', (v_m2));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																					var v_body;
																					v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
																					if ( !( (v_body != null)) ) {
																						p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39)]], null);
																					};
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1), 'otherwise', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('if')]), 1)])))]), 1)]), 0)));
																					return (p5context([1], p5want));
																				})()], p5want)
																			})
																		})
																	})], p5want));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			var v_body;
																			v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
																			if ( !( (v_body != null)) ) {
																				p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39)]], null);
																			};
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::If"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1), 'otherwise', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1)]), 0)));
																			return (p5context([1], p5want));
																		})()], p5want));
																})()], p5want)
															})
														}));
												})()], 0)
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp199._prototype_ = null;
			return tmp199
		})());
		p5typeglob_set("Perlito5::Grammar", "when", (function () {
			var tmp200;
			tmp200 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('when' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_paren", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_paren', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													var v_body;
													v_body = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_curly')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2));
													if ( !( (v_body != null)) ) {
														p5pkg["Perlito5::Grammar"].die([['Missing code block in ' + String.fromCharCode(39) + 'when' + String.fromCharCode(39)]], null);
													};
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::When"], "new", p5list_to_a(['cond', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_paren')]), p5want) = new p5ArrayRef([])))._array_.p5aget(2), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", ['stmts', v_body], 1)]), 0)));
													return (p5context([1], p5want));
												})()], 0)
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp200._prototype_ = null;
			return tmp200
		})());
		p5typeglob_set("Perlito5::Grammar", "for", (function () {
			var tmp201;
			tmp201 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('for' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m;
									v_m = (v_MATCH);
									if ( !( (('each' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)) && p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))))) ) {
										v_MATCH = (v_m);
									};
									return (p5context([1], p5want));
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_declarator", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_declarator', (v_m2));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_declarator')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.term_declarator')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1)));
																				return (p5context([1], p5want));
																			})()], p5want)
																		})
																	}));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_tmp;
																				v_tmp = (v_MATCH);
																				v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																				var v_res;
																				v_res = (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																						})], 0));
																				v_MATCH = (v_tmp);
																				return (( p5bool(v_res) ? 1 : 0));
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1)));
																						return (p5context([1], p5want));
																					})()], p5want)
																				})
																			})
																		})], p5want));
																})()], p5want)
															}));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.paren_parse', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																			})], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5and(p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], 0), function () {
																							return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0), function () {
																								return p5and(p5context([(function () {
																									var v_m2;
																									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																									if ( p5bool(v_m2) ) {
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																										return (p5context([1], p5want));
																									}
																									else {
																										return (p5context([0], p5want));
																									}
																								})()], 0), function () {
																									return p5and(p5context([(function () {
																										var v_m2;
																										v_m2 = (p5call(v_grammar, "opt_continue_block", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																										if ( p5bool(v_m2) ) {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2));
																											return (p5context([1], p5want));
																										}
																										else {
																											return (p5context([0], p5want));
																										}
																									})()], 0), function () {
																										return p5context([(function () {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::For"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.paren_parse')]), 1), 'topic', null, 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'sig', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('_tmp')]), 1), 'continue', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), 0)));
																											return (p5context([1], p5want));
																										})()], p5want)
																									})
																								})
																							})
																						})
																					})
																				})
																			})
																		})
																	})
																})
															})
														})
													}));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_pos1;
																	v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	return (p5or(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "exp_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.exp_parse', (v_m2));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([], p5want));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and(p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], 0), function () {
																							return p5context([(function () {
																								var v_tmp;
																								v_tmp = (v_MATCH);
																								v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																								var v_res;
																								v_res = (p5context([p5and((';' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																											return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																										})], 0));
																								v_MATCH = (v_tmp);
																								return (( p5bool(v_res) ? 1 : 0));
																							})()], p5want)
																						})], p5want));
																				})()], p5want)
																			})
																		}));
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_pos1;
																		v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																		return (p5or(p5context([(function () {
																				return (p5and(p5context([p5and((';' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0), function () {
																						return p5and(p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('c_style_for', (1));
																							return (p5context([1], p5want));
																						})()], 0), function () {
																							return p5and(p5context([(function () {
																								var v_pos1;
																								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																								return (p5or(p5context([(function () {
																										var v_m2;
																										v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																										if ( p5bool(v_m2) ) {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp', (v_m2));
																											return (p5context([1], p5want));
																										}
																										else {
																											return (p5context([0], p5want));
																										}
																									})()], 0), function () {
																										return p5or(p5context([(function () {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																											return (p5context([], p5want));
																										})()], 0), function () {
																											return p5context([(function () {
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																												return (p5context([(function () {
																														var v_m2;
																														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																														if ( p5bool(v_m2) ) {
																															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																															return (p5context([1], p5want));
																														}
																														else {
																															return (p5context([0], p5want));
																														}
																													})()], p5want));
																											})()], p5want)
																										})
																									}));
																							})()], 0), function () {
																								return p5and(p5context([p5and((';' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																									return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																								})], 0), function () {
																									return p5context([(function () {
																										var v_pos1;
																										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																										return (p5or(p5context([(function () {
																												var v_m2;
																												v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp2", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																												if ( p5bool(v_m2) ) {
																													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp2', (v_m2));
																													return (p5context([1], p5want));
																												}
																												else {
																													return (p5context([0], p5want));
																												}
																											})()], 0), function () {
																												return p5or(p5context([(function () {
																													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																													return (p5context([], p5want));
																												})()], 0), function () {
																													return p5context([(function () {
																														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																														return (p5context([(function () {
																																var v_m2;
																																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																																if ( p5bool(v_m2) ) {
																																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																																	return (p5context([1], p5want));
																																}
																																else {
																																	return (p5context([0], p5want));
																																}
																															})()], p5want));
																													})()], p5want)
																												})
																											}));
																									})()], p5want)
																								})
																							})
																						})
																					}));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([1], p5want));
																				})()], p5want)
																			}));
																	})()], 0), function () {
																		return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																					return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																				})], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5and(p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts2", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts2', (v_m2));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], 0), function () {
																							return p5and(p5context([(function () {
																								var v_m2;
																								v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																								if ( p5bool(v_m2) ) {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																									return (p5context([1], p5want));
																								}
																								else {
																									return (p5context([0], p5want));
																								}
																							})()], 0), function () {
																								return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																									return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																								})], 0), function () {
																									return p5and(p5context([(function () {
																										var v_m2;
																										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																										if ( p5bool(v_m2) ) {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																											return (p5context([1], p5want));
																										}
																										else {
																											return (p5context([0], p5want));
																										}
																									})()], 0), function () {
																										return p5and(p5context([(function () {
																											var v_m2;
																											v_m2 = (p5call(v_grammar, "opt_continue_block", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																											if ( p5bool(v_m2) ) {
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2));
																												return (p5context([1], p5want));
																											}
																											else {
																												return (p5context([0], p5want));
																											}
																										})()], 0), function () {
																											return p5context([(function () {
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																												var v_header;
																												if ( p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('c_style_for')) ) {
																													v_header = ((new p5ArrayRef(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.exp_parse')._hash_.p5hget('capture'), (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar.exp')._hash_.p5hget('capture'), (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar.exp2')._hash_.p5hget('capture')]))));
																												}
																												else {
																													v_header = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.exp_parse')._hash_.p5hget('capture'));
																												};
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::For"], "new", p5list_to_a(['cond', v_header, 'topic', null, 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts2')]), 1), 'sig', null]), 1), 'continue', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), 0)));
																												return (p5context([1], p5want));
																											})()], p5want)
																										})
																									})
																								})
																							})
																						})
																					})
																				})
																			})
																		})
																	})
																})
															})
														})], p5want));
												})()], p5want)
											}));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp201._prototype_ = null;
			return tmp201
		})());
		p5typeglob_set("Perlito5::Grammar", "while", (function () {
			var tmp202;
			tmp202 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('while' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.paren_parse', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(v_grammar, "opt_continue_block", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																					var v_cond;
																					v_cond = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.paren_parse')]), 0));
																					if ( (p5str(v_cond) == '*undef*') ) {
																						v_cond = (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', 1], 0));
																					};
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::While"], "new", p5list_to_a(['cond', v_cond, 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'sig', null]), 1), 'continue', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), 0)));
																					return (p5context([1], p5want));
																				})()], 0)
																			})
																		})
																	})
																})
															})
														})
													})
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp202._prototype_ = null;
			return tmp202
		})());
		p5typeglob_set("Perlito5::Grammar", "until", (function () {
			var tmp203;
			tmp203 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('until' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.paren_parse', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(v_grammar, "opt_continue_block", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																					var v_cond;
																					v_cond = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.paren_parse')]), 0));
																					if ( (p5str(v_cond) == '*undef*') ) {
																						v_cond = (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', 1], 0));
																					};
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::While"], "new", p5list_to_a(['cond', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef([v_cond])), 'code', 'prefix:<!>', 'namespace', '']), 1), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'sig', null]), 1), 'continue', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), 0)));
																					return (p5context([1], p5want));
																				})()], 0)
																			})
																		})
																	})
																})
															})
														})
													})
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp203._prototype_ = null;
			return tmp203
		})());
		p5typeglob_set("Perlito5::Grammar", "given", (function () {
			var tmp204;
			tmp204 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('given' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "paren_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.paren_parse', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Given"], "new", p5list_to_a(['cond', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.paren_parse')]), 1), 'body', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'sig', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.var_ident')]), 1)]), 1)]), 0)));
																				return (p5context([1], p5want));
																			})()], 0)
																		})
																	})
																})
															})
														})
													})
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp204._prototype_ = null;
			return tmp204
		})());
		p5typeglob_set("Perlito5::Grammar", "opt_continue_block", (function () {
			var tmp205;
			tmp205 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('continue' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 8)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((8 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'sig', null]), 0)));
																			return (p5context([1], p5want));
																		})()], p5want)
																	})
																})
															})
														})
													})
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef([])), 'sig', null]), 0)));
													return (p5context([1], p5want));
												})()], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp205._prototype_ = null;
			return tmp205
		})());
	})();
	(function () {
		null;
		p5make_package("Perlito5::Grammar::String");
		// use Perlito5::Grammar::Precedence
;
		p5pkg["Perlito5::Grammar::Precedence"].add_term([String.fromCharCode(39), (function () {
	var tmp207;
	tmp207 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_q_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp207._prototype_ = null;
	return tmp207
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['"', (function () {
	var tmp209;
	tmp209 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qq_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp209._prototype_ = null;
	return tmp209
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['/', (function () {
	var tmp211;
	tmp211 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_m_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp211._prototype_ = null;
	return tmp211
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['<', (function () {
	var tmp213;
	tmp213 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_glob", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp213._prototype_ = null;
	return tmp213
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['<<', (function () {
	var tmp215;
	tmp215 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "here_doc_wanted", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp215._prototype_ = null;
	return tmp215
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['`', (function () {
	var tmp217;
	tmp217 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qx", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp217._prototype_ = null;
	return tmp217
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['m', (function () {
	var tmp219;
	tmp219 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_m_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp219._prototype_ = null;
	return tmp219
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['q', (function () {
	var tmp221;
	tmp221 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_q_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp221._prototype_ = null;
	return tmp221
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['qq', (function () {
	var tmp223;
	tmp223 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qq_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp223._prototype_ = null;
	return tmp223
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['qw', (function () {
	var tmp225;
	tmp225 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qw_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp225._prototype_ = null;
	return tmp225
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['qx', (function () {
	var tmp227;
	tmp227 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qx", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp227._prototype_ = null;
	return tmp227
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['qr', (function () {
	var tmp229;
	tmp229 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_qr_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp229._prototype_ = null;
	return tmp229
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['s', (function () {
	var tmp231;
	tmp231 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_s_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp231._prototype_ = null;
	return tmp231
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['tr', (function () {
	var tmp233;
	tmp233 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_tr_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp233._prototype_ = null;
	return tmp233
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['y', (function () {
	var tmp235;
	tmp235 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::String"], "term_tr_quote", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp235._prototype_ = null;
	return tmp235
})()], null);
		p5typeglob_set("Perlito5::Grammar::String", "term_q_quote", (function () {
			var tmp236;
			tmp236 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('q' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_tmp;
																			v_tmp = (v_MATCH);
																			v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																			var v_res;
																			v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0));
																			v_MATCH = (v_tmp);
																			return (( p5bool(v_res) ? 0 : 1));
																		})()], 0), function () {
																			return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			})], p5want)
																		})
																	})], p5want));
															})()], p5want)
														}));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and((String.fromCharCode(39) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "q_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('q_quote_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('q_quote_parse')]), 1)])))));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp236._prototype_ = null;
			return tmp236
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_qq_quote", (function () {
			var tmp237;
			tmp237 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('qq' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_tmp;
																			v_tmp = (v_MATCH);
																			v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																			var v_res;
																			v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0));
																			v_MATCH = (v_tmp);
																			return (( p5bool(v_res) ? 0 : 1));
																		})()], 0), function () {
																			return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			})], p5want)
																		})
																	})], p5want));
															})()], p5want)
														}));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('"' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "qq_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('qq_quote_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('qq_quote_parse')]), 1)])))));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp237._prototype_ = null;
			return tmp237
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_qw_quote", (function () {
			var tmp238;
			tmp238 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('qw' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												}));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 0 : 1));
														})()], 0), function () {
															return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want)
														})
													})], p5want));
											})()], p5want)
										}));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "qw_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('qw_quote_parse', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('qw_quote_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp238._prototype_ = null;
			return tmp238
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_m_quote", (function () {
			var tmp239;
			tmp239 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('m' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_tmp;
																			v_tmp = (v_MATCH);
																			v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																			var v_res;
																			v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0));
																			v_MATCH = (v_tmp);
																			return (( p5bool(v_res) ? 0 : 1));
																		})()], 0), function () {
																			return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			})], p5want)
																		})
																	})], p5want));
															})()], p5want)
														}));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('/' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "m_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('m_quote_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('m_quote_parse')]), 1)])))));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp239._prototype_ = null;
			return tmp239
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_s_quote", (function () {
			var tmp240;
			tmp240 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('s' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												}));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 0 : 1));
														})()], 0), function () {
															return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want)
														})
													})], p5want));
											})()], p5want)
										}));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "s_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('s_quote_parse', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('s_quote_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp240._prototype_ = null;
			return tmp240
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_qx", (function () {
			var tmp241;
			tmp241 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('qx' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_tmp;
																			v_tmp = (v_MATCH);
																			v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																			var v_res;
																			v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0));
																			v_MATCH = (v_tmp);
																			return (( p5bool(v_res) ? 0 : 1));
																		})()], 0), function () {
																			return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			})], p5want)
																		})
																	})], p5want));
															})()], p5want)
														}));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('`' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "qx_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('qx_quote_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('qx_quote_parse')]), 1)])))));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp241._prototype_ = null;
			return tmp241
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_glob", (function () {
			var tmp242;
			tmp242 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('<' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "glob_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('glob_quote_parse', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('glob_quote_parse')]), 1)])))));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp242._prototype_ = null;
			return tmp242
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_tr_quote", (function () {
			var tmp243;
			tmp243 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('tr' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('y' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												}));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 0 : 1));
														})()], 0), function () {
															return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want)
														})
													})], p5want));
											})()], p5want)
										}));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "tr_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('tr_quote_parse', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('tr_quote_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp243._prototype_ = null;
			return tmp243
		})());
		p5typeglob_set("Perlito5::Grammar::String", "term_qr_quote", (function () {
			var tmp244;
			tmp244 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('qr' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												}));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('=>' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 0 : 1));
														})()], 0), function () {
															return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want)
														})
													})], p5want));
											})()], p5want)
										}));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "qr_quote_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('qr_quote_parse', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('qr_quote_parse')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp244._prototype_ = null;
			return tmp244
		})());
		var Hash_pair = {};
		Hash_pair = p5a_to_h(['{', '}', '(', ')', '[', ']', '<', '>']);
		var Hash_escape_sequence = {};
		Hash_escape_sequence = {'a' : '7', 'b' : '8', 'e' : '27', 'f' : '12', 'n' : '10', 'r' : '13', 't' : '9'};
		var Hash_hex = {};
		Hash_hex = p5a_to_h(p5list_to_a([p5map(p5pkg["Perlito5::Grammar::String"], function (p5want) {
					return ((p5context([p5pkg["Perlito5::Grammar::String"]["v__"], 1], p5want)));
				}, ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'])]));
		var Hash_octal = {};
		Hash_octal = p5a_to_h(p5list_to_a([p5map(p5pkg["Perlito5::Grammar::String"], function (p5want) {
					return ((p5context([p5pkg["Perlito5::Grammar::String"]["v__"], 1], p5want)));
				}, ['0', '1', '2', '3', '4', '5', '6', '7'])]));
		p5typeglob_set("Perlito5::Grammar::String", "q_quote_parse", (function () {
			var tmp245;
			tmp245 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
				var v_open_delimiter;
				v_open_delimiter = (v_delimiter);
				if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
				return (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_delimiter, 0], p5want));
			};
			tmp245._prototype_ = null;
			return tmp245
		})());
		p5typeglob_set("Perlito5::Grammar::String", "qq_quote_parse", (function () {
			var tmp246;
			tmp246 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
				var v_open_delimiter;
				v_open_delimiter = (v_delimiter);
				if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
				return (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_delimiter, 1], p5want));
			};
			tmp246._prototype_ = null;
			return tmp246
		})());
		p5typeglob_set("Perlito5::Grammar::String", "qw_quote_parse", (function () {
			var tmp247;
			tmp247 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
				var v_open_delimiter;
				v_open_delimiter = (v_delimiter);
				if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
				var v_m;
				v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_delimiter, 0], 0));
				if ( p5bool(v_m) ) {
						(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'list:<,>', 'arguments', (new p5ArrayRef(p5list_to_a([p5map(p5pkg["Perlito5::Grammar::String"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"]["v__"]], p5want));
}, p5list_to_a([CORE.split([' ', (p5pkg["Perlito5::Match"].flat([v_m], p5want) || (p5pkg["Perlito5::Match"].flat([v_m], p5want) = new p5HashRef({})))._hash_.p5hget('buf')], 1)]))]))), 'namespace', '']), 0)));
					};
				return (p5context([v_m], p5want));
			};
			tmp247._prototype_ = null;
			return tmp247
		})());
		p5typeglob_set("Perlito5::Grammar::String", "m_quote_parse", (function () {
			var tmp248;
			tmp248 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
					var v_open_delimiter;
					v_open_delimiter = (v_delimiter);
					var v_closing_delimiter;
					v_closing_delimiter = (v_delimiter);
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
					var v_part1;
					v_part1 = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_closing_delimiter, 2], 0));
					if ( p5bool(v_part1) ) {}
					else {
						throw(p5context([v_part1], p5want))
					};
					var v_str_regex;
					v_str_regex = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('capture'));
					var v_p;
					v_p = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to'));
					var v_modifiers;
					v_modifiers = ('');
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						v_modifiers = (p5pkg["Perlito5::Match"].flat([v_m], 0));
						(v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hset('to', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')));
					};
					(v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:m', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex, p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_modifiers], 1)]))), 'namespace', '']), 0)));
					return (p5context([v_part1], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp248._prototype_ = null;
			return tmp248
		})());
		p5typeglob_set("Perlito5::Grammar::String", "s_quote_parse", (function () {
			var tmp249;
			tmp249 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
					var v_open_delimiter;
					v_open_delimiter = (v_delimiter);
					var v_closing_delimiter;
					v_closing_delimiter = (v_delimiter);
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
					var v_part1;
					v_part1 = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_closing_delimiter, 1], 0));
					if ( p5bool(v_part1) ) {}
					else {
						throw(p5context([v_part1], p5want))
					};
					var v_str_regex;
					v_str_regex = (p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', CORE.substr([v_str, v_pos, ((p5num((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to')) - p5num(v_pos)) - 1)], 1)], 0));
					var v_part2;
					var v_m;
					var v_p;
					v_p = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to'));
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						(function () {
							v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_p], 0));
							v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
							v_delimiter = (p5str(v_str).substr(p5num(v_p), 1));
							var v_open_delimiter;
							v_open_delimiter = (v_delimiter);
							(function () {
								var tmp250 = v_p;
								v_p = p5incr_(tmp250);
								return tmp250
							})();
							v_closing_delimiter = (v_delimiter);
							if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
								v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
							};
							v_part2 = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_open_delimiter, v_closing_delimiter, 1], 0));
							if ( p5bool(v_part2) ) {}
							else {
								throw(p5context([v_part2], p5want))
							};
						})();
					}
					else {
						v_part2 = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_open_delimiter, v_closing_delimiter, 1], 0));
						if ( p5bool(v_part2) ) {}
						else {
							throw(p5context([v_part2], p5want))
						};
					};
					v_p = ((v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hget('to'));
					var v_modifiers;
					v_modifiers = ('');
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						v_modifiers = (p5pkg["Perlito5::Match"].flat([v_m], 0));
						(v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hset('to', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')));
					};
					(v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:s', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex, p5pkg["Perlito5::Match"].flat([v_part2], 1), p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_modifiers], 1)]))), 'namespace', '']), 0)));
					return (p5context([v_part2], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp249._prototype_ = null;
			return tmp249
		})());
		p5typeglob_set("Perlito5::Grammar::String", "qr_quote_parse", (function () {
			var tmp251;
			tmp251 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
					var v_open_delimiter;
					v_open_delimiter = (v_delimiter);
					var v_closing_delimiter;
					v_closing_delimiter = (v_delimiter);
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
					var v_part1;
					v_part1 = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_closing_delimiter, 2], 0));
					if ( p5bool(v_part1) ) {}
					else {
						throw(p5context([v_part1], p5want))
					};
					var v_str_regex;
					v_str_regex = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('capture'));
					var v_p;
					v_p = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to'));
					var v_modifiers;
					v_modifiers = ('');
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						v_modifiers = (p5pkg["Perlito5::Match"].flat([v_m], 0));
						(v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hset('to', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')));
					};
					(v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:qr', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex, p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_modifiers], 1)]))), 'namespace', '']), 0)));
					return (p5context([v_part1], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp251._prototype_ = null;
			return tmp251
		})());
		p5typeglob_set("Perlito5::Grammar::String", "qx_quote_parse", (function () {
			var tmp252;
			tmp252 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
				var v_open_delimiter;
				v_open_delimiter = (v_delimiter);
				if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
				var v_m;
				v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_delimiter, 0], 0));
				if ( p5bool(v_m) ) {
						(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'qx', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat([v_m], 1)]))), 'namespace', '']), 0)));
					};
				return (p5context([v_m], p5want));
			};
			tmp252._prototype_ = null;
			return tmp252
		})());
		p5typeglob_set("Perlito5::Grammar::String", "glob_quote_parse", (function () {
			var tmp253;
			tmp253 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_delimiter;
				v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
				var v_open_delimiter;
				v_open_delimiter = (v_delimiter);
				if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
				var v_m;
				v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_delimiter, 0], 0));
				if ( p5bool(v_m) ) {
						(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'glob', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg["Perlito5::Match"].flat([v_m], 1)]))), 'namespace', '']), 0)));
					};
				return (p5context([v_m], p5want));
			};
			tmp253._prototype_ = null;
			return tmp253
		})());
		p5typeglob_set("Perlito5::Grammar::String", "tr_quote_parse", (function () {
			var tmp254;
			tmp254 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					v_delimiter = (p5str(v_str).substr((p5num(v_pos) - 1), 1));
					var v_open_delimiter;
					v_open_delimiter = (v_delimiter);
					var v_closing_delimiter;
					v_closing_delimiter = (v_delimiter);
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
					};
					var v_part1;
					v_part1 = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, v_open_delimiter, v_closing_delimiter, 1], 0));
					if ( p5bool(v_part1) ) {}
					else {
						throw(p5context([v_part1], p5want))
					};
					var v_str_regex;
					v_str_regex = (p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', CORE.substr([v_str, v_pos, ((p5num((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to')) - p5num(v_pos)) - 1)], 1)], 0));
					var v_part2;
					var v_m;
					var v_p;
					v_p = ((v_part1 || (v_part1 = new p5HashRef({})))._hash_.p5hget('to'));
					if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
						(function () {
							v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_p], 0));
							v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
							v_delimiter = (p5str(v_str).substr(p5num(v_p), 1));
							var v_open_delimiter;
							v_open_delimiter = (v_delimiter);
							(function () {
								var tmp255 = v_p;
								v_p = p5incr_(tmp255);
								return tmp255
							})();
							v_closing_delimiter = (v_delimiter);
							if ( (Hash_pair).hasOwnProperty(v_delimiter) ) {
								v_closing_delimiter = (Hash_pair.p5hget(p5str(v_delimiter)))
							};
							v_part2 = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_open_delimiter, v_closing_delimiter, 1], 0));
							if ( p5bool(v_part2) ) {}
							else {
								throw(p5context([v_part2], p5want))
							};
						})();
					}
					else {
						v_part2 = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_open_delimiter, v_closing_delimiter, 1], 0));
						if ( p5bool(v_part2) ) {}
						else {
							throw(p5context([v_part2], p5want))
						};
					};
					v_p = ((v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hget('to'));
					var v_modifiers;
					v_modifiers = ('');
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						v_modifiers = (p5pkg["Perlito5::Match"].flat([v_m], 0));
						(v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hset('to', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')));
					};
					(v_part2 || (v_part2 = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:tr', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex, p5pkg["Perlito5::Match"].flat([v_part2], 1), p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_modifiers], 1)]))), 'namespace', '']), 0)));
					return (p5context([v_part2], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp254._prototype_ = null;
			return tmp254
		})());
		p5typeglob_set("Perlito5::Grammar::String", "apply_quote_flags", (function () {
			var tmp256;
			tmp256 = function (List__, p5want) {
				try {
					var v_c;
					var v_quote_flags;
					(function () {
						var tmp257 = p5list_to_a([List__]);
						var tmp258 = tmp257.slice(0);
						v_c = tmp257.shift();
						v_quote_flags = tmp257.shift();
						return tmp258
					})();
					if ( p5bool(p5pkg["Perlito5::Grammar::String"].length([v_c], 0)) ) {}
					else {
						throw(p5context([v_c], p5want))
					};
					if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('l')) ) {
						v_c = (p5pkg["Perlito5::Grammar::String"].lcfirst([v_c], 0));
						(delete v_quote_flags._hash_['l']);
					};
					if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('u')) ) {
						v_c = (p5pkg["Perlito5::Grammar::String"].ucfirst([v_c], 0));
						(delete v_quote_flags._hash_['u']);
					};
					if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('L')) ) {
						v_c = (p5pkg["Perlito5::Grammar::String"].lc([v_c], 0))
					};
					if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('U')) ) {
						v_c = (p5pkg["Perlito5::Grammar::String"].uc([v_c], 0))
					};
					if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('Q')) ) {
						v_c = (p5pkg["Perlito5::Grammar::String"].quotemeta([v_c], 0))
					};
					return (p5context([v_c], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp256._prototype_ = null;
			return tmp256
		})());
		p5typeglob_set("Perlito5::Grammar::String", "string_interpolation_parse", (function () {
			var tmp259;
			tmp259 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_open_delimiter;
				v_open_delimiter = (List__.p5aget(3));
				var v_delimiter;
				v_delimiter = (List__.p5aget(4));
				var v_interpolate;
				v_interpolate = (List__.p5aget(5));
				var v_quote_flags;
				v_quote_flags = (p5or(List__.p5aget(6), function () {
								return (new p5HashRef({}))
							}));
				var v_p;
				v_p = (v_pos);
				var v_balanced;
				v_balanced = (p5and(v_open_delimiter, function () {
								return (Hash_pair).hasOwnProperty(v_open_delimiter)
							}));
				var List_args = [];
				var v_buf;
				v_buf = ('');
				p5while(function () {
							var v_c;
							v_c = (p5str(v_str).substr(p5num(v_p), 1));
							var v_c2;
							v_c2 = (p5str(v_str).substr((p5num(v_p) + 1), 1));
							var v_m;
							var v_more;
							v_more = ('');
							if ( (p5bool(v_balanced) && ((p5str(v_c) == String.fromCharCode(92)) && ((p5str(v_c2) == p5str(v_open_delimiter)) || (p5str(v_c2) == p5str(v_delimiter))))) ) {
								(function () {
									var tmp260 = v_p;
									v_p = p5incr_(tmp260);
									return tmp260
								})();
								v_c = (v_c2);
							}
							else if ( (p5bool(v_balanced) && (p5str(v_c) == p5str(v_open_delimiter))) ) {
								(v_buf = ((p5str(v_buf) + p5str(v_c))));
								(function () {
									var tmp261 = v_p;
									v_p = p5incr_(tmp261);
									return tmp261
								})();
								v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_open_delimiter, v_delimiter, v_interpolate, v_quote_flags], 0));
								v_more = (v_delimiter);
							}
							else if ( (p5bool(v_interpolate) && ((p5str(v_c) == '$') || (p5str(v_c) == '@'))) ) {
								(function () {
									var v_match;
									v_match = (p5call(p5pkg["Perlito5::Grammar::String"], "double_quoted_var", [v_str, v_p, v_delimiter, v_interpolate], 0));
									if ( p5bool(v_match) ) {
										(function () {
											var v_ast;
											v_ast = ((v_match || (v_match = new p5HashRef({})))._hash_.p5hget('capture'));
											if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('l')) ) {
												v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'lcfirst', 'arguments', (new p5ArrayRef([v_ast]))]), 0));
												(delete v_quote_flags._hash_['l']);
											};
											if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('u')) ) {
												v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'ucfirst', 'arguments', (new p5ArrayRef([v_ast]))]), 0));
												(delete v_quote_flags._hash_['u']);
											};
											if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('L')) ) {
												v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'lc', 'arguments', (new p5ArrayRef([v_ast]))]), 0))
											};
											if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('U')) ) {
												v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'uc', 'arguments', (new p5ArrayRef([v_ast]))]), 0))
											};
											if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('Q')) ) {
												v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'quotemeta', 'arguments', (new p5ArrayRef([v_ast]))]), 0))
											};
											(v_match || (v_match = new p5HashRef({})))._hash_.p5hset('capture', (v_ast));
										})();
									};
									v_m = (v_match);
								})();
							}
							else if ( (p5str(v_c) == String.fromCharCode(92)) ) {
								if ( p5bool(v_interpolate) ) {
									if ( (p5str(v_c2) == 'E') ) {
										(function () {
											var v_flag_to_reset;
											v_flag_to_reset = ((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('last_flag'));
											if ( p5bool(v_flag_to_reset) ) {
												(delete v_quote_flags._hash_[v_flag_to_reset]);
												(delete v_quote_flags._hash_['last_flag']);
											}
											else {
												v_quote_flags = ((new p5HashRef({})));
											};
											(v_p = ((p5num(v_p) + 1)));
											v_c = ('');
										})();
									}
									else if ( (p5str(v_c2) == 'L') ) {
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset(p5str(v_c2), (1));
										(delete v_quote_flags._hash_['U']);
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2));
										(v_p = ((p5num(v_p) + 1)));
										v_c = ('');
									}
									else if ( (p5str(v_c2) == 'U') ) {
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset(p5str(v_c2), (1));
										(delete v_quote_flags._hash_['L']);
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2));
										(v_p = ((p5num(v_p) + 1)));
										v_c = ('');
									}
									else if ( (p5str(v_c2) == 'Q') ) {
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset(p5str(v_c2), (1));
										(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2));
										(v_p = ((p5num(v_p) + 1)));
										v_c = ('');
									}
									else if ( (p5str(v_c2) == 'l') ) {
										if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('u')) ) {}
										else {
											(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset(p5str(v_c2), (1))
										};
										(v_p = ((p5num(v_p) + 1)));
										v_c = ('');
									}
									else if ( (p5str(v_c2) == 'u') ) {
										if ( p5bool((v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hget('l')) ) {}
										else {
											(v_quote_flags || (v_quote_flags = new p5HashRef({})))._hash_.p5hset(p5str(v_c2), (1))
										};
										(v_p = ((p5num(v_p) + 1)));
										v_c = ('');
									};
								};
								if ( p5bool(v_c) ) {
									if ( (p5num(v_interpolate) == 2) ) {
										v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_p, 'to', (p5num(v_p) + 2), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5str(v_str).substr(p5num(v_p), 2)], 1)])))));
									}
									else if ( (p5num(v_interpolate) == 1) ) {
										v_m = (p5call(p5pkg["Perlito5::Grammar::String"], "double_quoted_unescape", [v_str, v_p], 0));
									}
									else {
										v_m = (( (p5str(v_c2) == String.fromCharCode(92)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_p, 'to', (p5num(v_p) + 2), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', String.fromCharCode(92)], 1)])))) : ( (p5str(v_c2) == String.fromCharCode(39)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_p, 'to', (p5num(v_p) + 2), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', String.fromCharCode(39)], 1)])))) : 0)));
									};
								};
							};
							if ( p5bool(v_m) ) {
								(function () {
									var v_obj;
									v_obj = (p5pkg["Perlito5::Match"].flat([v_m], 0));
									if ( (p5pkg["Perlito5::Grammar::String"].ref([v_obj], 0) == 'Perlito5::AST::Val::Buf') ) {
										(v_buf = ((p5str(v_buf) + p5str(p5pkg["Perlito5::Grammar::String"].apply_quote_flags(p5list_to_a([(v_obj || (v_obj = new p5HashRef({})))._hash_.p5hget('buf'), v_quote_flags]), 0)))));
										v_obj = (null);
									};
									if ( p5bool(v_obj) ) {
										if ( p5bool(p5pkg["Perlito5::Grammar::String"].length([v_buf], 0)) ) {
											List_args.p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_buf], 1)]));
											v_buf = ('');
										};
										List_args.p5push([v_obj]);
									};
									v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									(v_buf = ((p5str(v_buf) + p5str(v_more))));
								})();
							}
							else {
								(function () {
									var tmp262 = v_p;
									v_p = p5incr_(tmp262);
									return tmp262
								})();
								if ( ((p5str(v_c) == p5pkg["Perlito5::Grammar::String"].chr([10], 0)) || (p5str(v_c) == p5pkg["Perlito5::Grammar::String"].chr([13], 0))) ) {
									(function () {
										var v_m;
										v_m = (p5call(v_self, "here_doc", [v_str, v_p], 0));
										if ( (p5num(v_p) != p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										}
										else {
											(v_buf = ((p5str(v_buf) + p5str(p5pkg["Perlito5::Grammar::String"].apply_quote_flags([v_c, v_quote_flags], 0)))));
										};
									})();
								}
								else {
									(v_buf = ((p5str(v_buf) + p5str(p5pkg["Perlito5::Grammar::String"].apply_quote_flags([v_c, v_quote_flags], 0)))));
								};
							};
						}, function () {
							return p5and((p5num(v_p) < p5pkg["Perlito5::Grammar::String"].length([v_str], 0)), function () {
								return (CORE.substr([v_str, v_p, p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) != p5str(v_delimiter))
							})
						}, false, "", 0);
				if ( p5bool(p5pkg["Perlito5::Grammar::String"].length([v_buf], 0)) ) {
						List_args.p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_buf], 1)]));
					};
				if ( (CORE.substr([v_str, v_p, p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) != p5str(v_delimiter)) ) {
						p5pkg["Perlito5::Grammar::String"].die([[('Can' + String.fromCharCode(39) + 't find string terminator ' + String.fromCharCode(39) + p5str(v_delimiter) + String.fromCharCode(39) + ' anywhere before EOF')]], null)
					};
				(v_p = ((p5num(v_p) + p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 0))));
				var v_ast;
				if ( !( p5bool(List_args.length)) ) {
						v_ast = (p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', ''], 0));
					}
					else if ( (p5num(List_args.length) == 1) ) {
						v_ast = (List_args.p5aget(0));
					}
					else {
						v_ast = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['namespace', '', 'code', 'list:<.>', 'arguments', (new p5ArrayRef(List_args))]), 0));
					};
				return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_p, 'capture' : v_ast})));
			};
			tmp259._prototype_ = null;
			return tmp259
		})());
		if (typeof p5pkg["Perlito5::Grammar::String"]["List_Here_doc"] == "undefined" ) { p5pkg["Perlito5::Grammar::String"]["List_Here_doc"] = [];}
		p5pkg["Perlito5::Grammar::String"]["List_Here_doc"];
		p5typeglob_set("Perlito5::Grammar::String", "here_doc_wanted", (function () {
			var tmp263;
			tmp263 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					var v_type;
					v_type = ('double_quote');
					var v_p;
					v_p = (v_pos);
					if ( (p5str(v_str).substr(p5num(v_p), 2) == '<<') ) {
						(function () {
							(v_p = ((p5num(v_p) + 2)));
							var v_quote;
							v_quote = (p5str(v_str).substr(p5num(v_p), 1));
							if ( ((p5str(v_quote) == String.fromCharCode(39)) || (p5str(v_quote) == '"')) ) {
								(function () {
									(v_p = ((p5num(v_p) + 1)));
									var v_m;
									v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_p, v_quote, v_quote, 0], 0));
									if ( p5bool(v_m) ) {
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										v_delimiter = ((p5pkg["Perlito5::Match"].flat([v_m], p5want) || (p5pkg["Perlito5::Match"].flat([v_m], p5want) = new p5HashRef({})))._hash_.p5hget('buf'));
										v_type = (( (p5str(v_quote) == String.fromCharCode(39)) ? 'single_quote' : 'double_quote'));
									};
								})();
							}
							else {
								(function () {
									if ( (p5str(v_quote) == String.fromCharCode(92)) ) {
										(v_p = ((p5num(v_p) + 1)))
									};
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
									if ( p5bool(v_m) ) {
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
										v_delimiter = (p5pkg["Perlito5::Match"].flat([v_m], 0));
										v_type = (( (p5str(v_quote) == String.fromCharCode(92)) ? 'single_quote' : 'double_quote'));
									}
									else {
										p5pkg["Perlito5::Grammar::String"].die([['Use of bare << to mean <<"" is deprecated']], null);
									};
								})();
							};
						})();
					};
					if ( !( (v_delimiter != null)) ) {
						throw(p5context([0], p5want));
					};
					var v_placeholder;
					v_placeholder = (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 1)])))]), 0));
					p5pkg["Perlito5::Grammar::String"]["List_Here_doc"].p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a([v_type, (v_placeholder || (v_placeholder = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('arguments'), v_delimiter])))]));
					return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', v_p, 'capture', (new p5ArrayRef(['term', v_placeholder]))])))));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp263._prototype_ = null;
			return tmp263
		})());
		p5typeglob_set("Perlito5::Grammar::String", "newline", (function () {
			var tmp264;
			tmp264 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and((String.fromCharCode(10) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_m;
													v_m = (v_MATCH);
													if ( !( ((String.fromCharCode(13) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)) && p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))))) ) {
														v_MATCH = (v_m);
													};
													return (p5context([1], p5want));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([p5and((String.fromCharCode(13) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m;
														v_m = (v_MATCH);
														if ( !( ((String.fromCharCode(10) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)) && p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))))) ) {
															v_MATCH = (v_m);
														};
														return (p5context([1], p5want));
													})()], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp264._prototype_ = null;
			return tmp264
		})());
		p5typeglob_set("Perlito5::Grammar::String", "here_doc", (function () {
			var tmp265;
			tmp265 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					if ( !( p5bool(p5pkg["Perlito5::Grammar::String"]["List_Here_doc"].length)) ) {
						throw((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					};
					var v_p;
					v_p = (v_pos);
					var v_here;
					v_here = (p5pkg["Perlito5::Grammar::String"]["List_Here_doc"].shift());
					var v_type;
					v_type = ((v_here || (v_here = new p5ArrayRef([])))._array_.p5aget(0));
					var v_result;
					v_result = ((v_here || (v_here = new p5ArrayRef([])))._array_.p5aget(1));
					var v_delimiter;
					v_delimiter = ((v_here || (v_here = new p5ArrayRef([])))._array_.p5aget(2));
					if ( (p5str(v_type) == 'single_quote') ) {
						p5while(function () {
								if ( (CORE.substr([v_str, v_p, p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) == p5str(v_delimiter)) ) {
									(function () {
										p5array_deref((v_result || (v_result = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', CORE.substr([v_str, v_pos, (p5num(v_p) - p5num(v_pos))], 1)], 1)]));
										(v_p = ((p5num(v_p) + p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 0))));
										var v_m;
										v_m = (p5call(v_self, "newline", [v_str, v_p], 0));
										if ( ((p5num(v_p) >= p5pkg["Perlito5::Grammar::String"].length([v_str], 0)) || p5bool(v_m)) ) {
											if ( p5bool(v_m) ) {
												v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'))
											};
											throw((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : (p5num(v_p) - 1)})));
										};
									})();
								};
								p5while(function () {
										(function () {
											var tmp266 = v_p;
											v_p = p5incr_(tmp266);
											return tmp266
										})();
									}, function () {
										return p5and((p5num(v_p) < p5pkg["Perlito5::Grammar::String"].length([v_str], 0)), function () {
											return p5context([p5and((p5str(v_str).substr(p5num(v_p), 1) != p5pkg["Perlito5::Grammar::String"].chr([10], 0)), function () {
												return (p5str(v_str).substr(p5num(v_p), 1) != p5pkg["Perlito5::Grammar::String"].chr([13], 0))
											})], 0)
										})
									}, false, "", 0);
								p5while(function () {
										(function () {
											var tmp267 = v_p;
											v_p = p5incr_(tmp267);
											return tmp267
										})();
									}, function () {
										return p5and((p5num(v_p) < p5pkg["Perlito5::Grammar::String"].length([v_str], 0)), function () {
											return p5context([p5or((p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::String"].chr([10], 0)), function () {
												return (p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::String"].chr([13], 0))
											})], 0)
										})
									}, false, "", 0);
							}, function () {
								return (p5num(v_p) < p5pkg["Perlito5::Grammar::String"].length([v_str], 0))
							}, false, "", 0);
					}
					else {
						(function () {
							var v_m;
							if ( (CORE.substr([v_str, v_p, p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) == p5str(v_delimiter)) ) {
								(v_p = ((p5num(v_p) + p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 0))));
								v_m = (p5call(v_self, "newline", [v_str, v_p], 0));
								if ( ((p5num(v_p) >= p5pkg["Perlito5::Grammar::String"].length([v_str], 0)) || p5bool(v_m)) ) {
									p5array_deref((v_result || (v_result = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', ''], 1)]));
									if ( p5bool(v_m) ) {
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'))
									};
									throw((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_p})));
								};
							};
							v_m = (p5call(v_self, "string_interpolation_parse", [v_str, v_pos, '', (String.fromCharCode(10) + p5str(v_delimiter) + String.fromCharCode(10)), 1], 0));
							if ( p5bool(v_m) ) {
								p5array_deref((v_result || (v_result = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5pkg["Perlito5::Match"].flat([v_m], 1)]));
								p5array_deref((v_result || (v_result = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', String.fromCharCode(10)], 1)]));
								(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) - 1)));
								throw(p5context([v_m], p5want));
							};
						})();
					};
					return (p5pkg["Perlito5::Grammar::String"].die([[('Can' + String.fromCharCode(39) + 't find string terminator "' + p5str(v_delimiter) + '" anywhere before EOF')]], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp265._prototype_ = null;
			return tmp265
		})());
		p5typeglob_set("Perlito5::Grammar::String", "double_quoted_unescape", (function () {
			var tmp268;
			tmp268 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_c2;
				v_c2 = (p5str(v_str).substr((p5num(v_pos) + 1), 1));
				var v_m;
				if ( (Hash_escape_sequence).hasOwnProperty(v_c2) ) {
						v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_pos) + 2), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"].chr([Hash_escape_sequence.p5hget(p5str(v_c2))], 1)], 1)])))));
					}
					else if ( (p5str(v_c2) == 'c') ) {
						(function () {
							var v_c3;
							v_c3 = (((p5pkg["Perlito5::Grammar::String"].ord([p5pkg["Perlito5::Grammar::String"].uc([p5str(v_str).substr((p5num(v_pos) + 2), 1)], 0)], 0) - p5pkg["Perlito5::Grammar::String"].ord(['A'], 0)) + 1));
							if ( (p5num(v_c3) < 0) ) {
								v_c3 = ((128 + p5num(v_c3)))
							};
							v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_pos) + 3), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"].chr([v_c3], 1)], 1)])))));
						})();
					}
					else if ( (p5str(v_c2) == 'x') ) {
						if ( (p5str(v_str).substr((p5num(v_pos) + 2), 1) == '{') ) {
							(function () {
								var v_p;
								v_p = ((p5num(v_pos) + 3));
								p5while(function () {
										(function () {
											var tmp269 = v_p;
											v_p = p5incr_(tmp269);
											return tmp269
										})();
									}, function () {
										return p5and((p5num(v_p) < p5pkg["Perlito5::Grammar::String"].length([v_str], 0)), function () {
											return (p5str(v_str).substr(p5num(v_p), 1) != '}')
										})
									}, false, "", 0);
								var v_hex_code;
								v_hex_code = (CORE.substr([v_str, (p5num(v_pos) + 3), ((p5num(v_p) - p5num(v_pos)) - 3)], 0));
								if ( p5bool(v_hex_code) ) {}
								else {
									v_hex_code = ('0')
								};
								var v_tmp;
								v_tmp = (p5pkg["Perlito5::Grammar::String"].oct([('0x' + p5str(v_hex_code))], 0));
								v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_p) + 1), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"].chr([v_tmp], 1)], 1)])))));
							})();
						}
						else {
							(function () {
								var v_p;
								v_p = ((p5num(v_pos) + 2));
								if ( p5bool(Hash_hex.p5hget(p5pkg["Perlito5::Grammar::String"].uc([p5str(v_str).substr(p5num(v_p), 1)], 0))) ) {
									(function () {
										var tmp270 = v_p;
										v_p = p5incr_(tmp270);
										return tmp270
									})()
								};
								if ( p5bool(Hash_hex.p5hget(p5pkg["Perlito5::Grammar::String"].uc([p5str(v_str).substr(p5num(v_p), 1)], 0))) ) {
									(function () {
										var tmp271 = v_p;
										v_p = p5incr_(tmp271);
										return tmp271
									})()
								};
								var v_hex_code;
								v_hex_code = (CORE.substr([v_str, (p5num(v_pos) + 2), ((p5num(v_p) - p5num(v_pos)) - 2)], 0));
								if ( p5bool(v_hex_code) ) {}
								else {
									v_hex_code = ('0')
								};
								var v_tmp;
								v_tmp = (p5pkg["Perlito5::Grammar::String"].oct([('0x' + p5str(v_hex_code))], 0));
								v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', v_p, 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"].chr([v_tmp], 1)], 1)])))));
							})();
						};
					}
					else if ( (Hash_octal).hasOwnProperty(v_c2) ) {
						(function () {
							var v_p;
							v_p = ((p5num(v_pos) + 1));
							if ( p5bool(Hash_octal.p5hget(p5str(v_str).substr(p5num(v_p), 1))) ) {
								(function () {
									var tmp272 = v_p;
									v_p = p5incr_(tmp272);
									return tmp272
								})()
							};
							if ( p5bool(Hash_octal.p5hget(p5str(v_str).substr(p5num(v_p), 1))) ) {
								(function () {
									var tmp273 = v_p;
									v_p = p5incr_(tmp273);
									return tmp273
								})()
							};
							if ( p5bool(Hash_octal.p5hget(p5str(v_str).substr(p5num(v_p), 1))) ) {
								(function () {
									var tmp274 = v_p;
									v_p = p5incr_(tmp274);
									return tmp274
								})()
							};
							var v_oct_code;
							v_oct_code = (CORE.substr([v_str, (p5num(v_pos) + 1), ((p5num(v_p) - p5num(v_pos)) - 1)], 0));
							var v_tmp;
							v_tmp = (p5pkg["Perlito5::Grammar::String"].oct([v_oct_code], 0));
							v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', v_p, 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', p5pkg["Perlito5::Grammar::String"].chr([v_tmp], 1)], 1)])))));
						})();
					}
					else if ( (p5str(v_c2) == 'N') ) {
						p5pkg["Perlito5::Grammar::String"].die([['TODO - ' + String.fromCharCode(92) + 'N{charname} not implemented; requires ' + String.fromCharCode(39) + 'use charnames' + String.fromCharCode(39)]], null);
					}
					else {
						v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_pos) + 2), 'capture', p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_c2], 1)])))));
					};
				return (p5context([v_m], p5want));
			};
			tmp268._prototype_ = null;
			return tmp268
		})());
		p5typeglob_set("Perlito5::Grammar::String", "double_quoted_var_with_subscript", (function () {
			var tmp275;
			tmp275 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_m_var;
					v_m_var = (List__.p5aget(1));
					var v_interpolate;
					v_interpolate = (List__.p5aget(2));
					var v_str;
					v_str = ((v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('str'));
					var v_pos;
					v_pos = ((v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('to'));
					var v_p;
					v_p = (v_pos);
					var v_m_index;
					if ( (p5str(v_str).substr(p5num(v_p), 3) == '->[') ) {
						(function () {
							(v_p = ((p5num(v_p) + 3)));
							v_m_index = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", [v_str, v_p], 0));
							if ( p5bool(v_m_index) ) {}
							else {
								p5pkg["Perlito5::Grammar::String"].die([['syntax error']], null)
							};
							var v_exp;
							v_exp = ((v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hget('capture'));
							v_p = ((v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hget('to'));
							if ( ((p5str(v_exp) == '*undef*') || (p5str(v_str).substr(p5num(v_p), 1) != ']')) ) {
								p5pkg["Perlito5::Grammar::String"].die([['syntax error']], null)
							};
							(function () {
								var tmp276 = v_p;
								v_p = p5incr_(tmp276);
								return tmp276
							})();
							(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['method', 'postcircumfix:<[ ]>', 'invocant', (v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('capture'), 'arguments', v_exp]), 0)));
							(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('to', (v_p));
							throw(p5call(v_self, "double_quoted_var_with_subscript", [v_m_index, v_interpolate], p5want));
						})();
					};
					if ( (p5str(v_str).substr(p5num(v_p), 3) == '->{') ) {
						(v_pos = ((p5num(v_pos) + 2)));
						v_m_index = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", [v_str, v_pos], 0));
						if ( p5bool(v_m_index) ) {}
						else {
							p5pkg["Perlito5::Grammar::String"].die([['syntax error']], null)
						};
						(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Call"], "new", p5list_to_a(['method', 'postcircumfix:<{ }>', 'invocant', (v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('capture'), 'arguments', (p5pkg["Perlito5::Match"].flat([v_m_index], p5want) || (p5pkg["Perlito5::Match"].flat([v_m_index], p5want) = new p5ArrayRef([])))._array_.p5aget_array(2)._array_.p5aget(0)]), 0)));
						throw(p5call(v_self, "double_quoted_var_with_subscript", [v_m_index, v_interpolate], p5want));
					};
					if ( (p5str(v_str).substr(p5num(v_p), 1) == '[') ) {
						if ( (p5num(v_interpolate) == 2) ) {
							(function () {
								var v_m;
								v_m = (p5or(p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", [v_str, (p5num(v_p) + 1)], 0), function () {
											return p5or(p5context([p5and((p5str(v_str).substr((p5num(v_p) + 1), 1) == '-'), function () {
												return p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", [v_str, (p5num(v_p) + 2)], 0)
											})], 0), function () {
												return p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", [v_str, (p5num(v_p) + 1)], 0)
											})
										}));
								if ( p5bool(v_m) ) {}
								else {
									throw(p5context([v_m_var], p5want))
								};
								if ( (p5str(v_str).substr(p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')), 1) == ']') ) {}
								else {
									throw(p5context([v_m_var], p5want))
								};
							})();
						};
						(function () {
							var tmp277 = v_p;
							v_p = p5incr_(tmp277);
							return tmp277
						})();
						v_m_index = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", [v_str, v_p], 0));
						if ( p5bool(v_m_index) ) {
							(function () {
								var v_exp;
								v_exp = ((v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hget('capture'));
								v_p = ((v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hget('to'));
								if ( ((p5str(v_exp) != '*undef*') && (p5str(v_str).substr(p5num(v_p), 1) == ']')) ) {
									(function () {
										var tmp278 = v_p;
										v_p = p5incr_(tmp278);
										return tmp278
									})();
									(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Index"], "new", p5list_to_a(['obj', (v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('capture'), 'index_exp', v_exp]), 0)));
									(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('to', (v_p));
									throw(p5call(v_self, "double_quoted_var_with_subscript", [v_m_index, v_interpolate], p5want));
								};
							})();
						};
					};
					v_m_index = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", [v_str, v_pos], 0));
					if ( p5bool(v_m_index) ) {
						(v_m_index || (v_m_index = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lookup"], "new", p5list_to_a(['obj', (v_m_var || (v_m_var = new p5HashRef({})))._hash_.p5hget('capture'), 'index_exp', (p5pkg["Perlito5::Match"].flat([v_m_index], p5want) || (p5pkg["Perlito5::Match"].flat([v_m_index], p5want) = new p5ArrayRef([])))._array_.p5aget_array(2)._array_.p5aget(0)]), 0)));
						throw(p5call(v_self, "double_quoted_var_with_subscript", [v_m_index, v_interpolate], p5want));
					};
					return (p5context([v_m_var], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp275._prototype_ = null;
			return tmp275
		})());
		p5typeglob_set("Perlito5::Grammar::String", "double_quoted_var", (function () {
			var tmp279;
			tmp279 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_delimiter;
					v_delimiter = (List__.p5aget(3));
					var v_interpolate;
					v_interpolate = (List__.p5aget(4));
					var v_c;
					v_c = (p5str(v_str).substr(p5num(v_pos), 1));
					if ( ((p5str(v_c) == '$') && (p5str(v_str).substr((p5num(v_pos) + 1), 1) == '{')) ) {
						(function () {
							var v_m;
							v_m = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", [v_str, v_pos], 0));
							if ( p5bool(v_m) ) {}
							else {
								throw(p5context([v_m], p5want))
							};
							var v_var;
							v_var = ((p5pkg["Perlito5::Match"].flat([v_m], p5want) || (p5pkg["Perlito5::Match"].flat([v_m], p5want) = new p5ArrayRef([])))._array_.p5aget(1));
							(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (v_var));
							throw(p5context([v_m], p5want));
						})();
					}
					else if ( ((p5str(v_c) == '$') && (CORE.substr([v_str, (p5num(v_pos) + 1), p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) != p5str(v_delimiter))) ) {
						(function () {
							var v_m;
							v_m = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", [v_str, v_pos], 0));
							if ( p5bool(v_m) ) {}
							else {
								throw(p5context([v_m], p5want))
							};
							(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)));
							throw(p5call(v_self, "double_quoted_var_with_subscript", [v_m, v_interpolate], p5want));
						})();
					}
					else if ( ((p5str(v_c) == '@') && (CORE.substr([v_str, (p5num(v_pos) + 1), p5pkg["Perlito5::Grammar::String"].length([v_delimiter], 1)], 0) != p5str(v_delimiter))) ) {
						(function () {
							var v_m;
							v_m = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", [v_str, v_pos], 0));
							if ( p5bool(v_m) ) {}
							else {
								throw(p5context([v_m], p5want))
							};
							(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)));
							v_m = (p5call(v_self, "double_quoted_var_with_subscript", [v_m, v_interpolate], 0));
							(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'join', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Var"], "new", ['name', '"', 'sigil', '$', 'namespace', ''], 1), (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]))), 'namespace', '']), 0)));
							throw(p5context([v_m], p5want));
						})();
					};
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp279._prototype_ = null;
			return tmp279
		})());
		1;
	})();
	(function () {
		null;
		p5make_package("Perlito5::Grammar::Sigil");
		// use Perlito5::Grammar::Precedence
;
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['$', (function () {
	var tmp281;
	tmp281 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp281._prototype_ = null;
	return tmp281
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['@', (function () {
	var tmp283;
	tmp283 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp283._prototype_ = null;
	return tmp283
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['%', (function () {
	var tmp285;
	tmp285 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp285._prototype_ = null;
	return tmp285
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['&', (function () {
	var tmp287;
	tmp287 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp287._prototype_ = null;
	return tmp287
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['*', (function () {
	var tmp289;
	tmp289 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp289._prototype_ = null;
	return tmp289
})()], null);
		var Hash_special_var = {};
		Hash_special_var = p5a_to_h(['$_', '', '$&', '', '$`', '', '$' + String.fromCharCode(39), '', '$+', '', '@+', '', '%+', '', '$.', '', '$/', '', '$|', '', '$,', '', '$' + String.fromCharCode(92), '', '$"', '', '$;', '', '$%', '', '$=', '', '$-', '', '@-', '', '%-', '', '$~', '', '$^', '', '$:', '', '$?', '', '$!', '', '%!', '', '$@', '', '$$', '', '$<', '', '$>', '', '$(', '', '$)', '', '$[', '', '$]', 'main', '@_', '', '*_', '', '*&', '', '*`', '', '*' + String.fromCharCode(39), '', '*+', '', '*.', '', '*/', '', '*|', '', '*,', '', '*' + String.fromCharCode(92), '', '*"', '', '*;', '', '*%', '', '*=', '', '*-', '', '*~', '', '*^', '', '*:', '', '*?', '', '*!', '', '*@', '', '*$', '', '*<', '', '*>', '', '*(', '', '*)', '', '*[', '', '*]', '', '*_', '', '**', '', '*#', '', '$#+', '', '$#-', '', '$#_', '']);
		p5typeglob_set("Perlito5::Grammar::Sigil", "term_special_var", (function () {
			var tmp290;
			tmp290 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_len;
					v_len = (0);
					var v_s;
					v_s = (p5str(v_str).substr(p5num(v_pos), 3));
					if ( (p5str(v_s) == '$#[') ) {
						v_len = (2);
					}
					else if ( (Hash_special_var).hasOwnProperty(v_s) ) {
						v_len = (p5pkg["Perlito5::Grammar::Sigil"].length([v_s], 0));
					}
					else {
						v_s = (p5str(v_str).substr(p5num(v_pos), 2));
						if ( (Hash_special_var).hasOwnProperty(v_s) ) {
							v_len = (2);
						};
					};
					if ( p5bool(v_len) ) {
						(function () {
							var v_c0;
							v_c0 = (p5str(v_str).substr(((p5num(v_pos) + p5num(v_len)) - 1), 1));
							var v_c1;
							v_c1 = (p5str(v_str).substr((p5num(v_pos) + p5num(v_len)), 1));
							if ( (((p5str(v_c0) == '$') || ((p5str(v_c0) == '@') || ((p5str(v_c0) == '%') || ((p5str(v_c0) == '*') || (p5str(v_c0) == '&'))))) && ((p5str(v_c1) == '$') || ((p5str(v_c1) == '@') || ((p5str(v_c1) == '%') || ((p5str(v_c1) == '*') || ((p5str(v_c1) == '&') || (((p5str(v_c1) >= 'a') && (p5str(v_c1) <= 'z')) || (((p5str(v_c1) >= 'A') && (p5str(v_c1) <= 'Z')) || ((p5str(v_c1) >= '0') && (p5str(v_c1) <= '9')))))))))) ) {}
							else {
								throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', (p5num(v_pos) + p5num(v_len)), 'capture', (new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', CORE.substr([v_s, 0, (p5num(v_len) - 1)], 1), 'namespace', Hash_special_var.p5hget(p5str(v_s)), 'name', p5str(v_s).substr((p5num(v_len) - 1), 1)]), 1)])))])))));
							};
						})();
					};
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp290._prototype_ = null;
			return tmp290
		})());
		var Hash_sigil = {};
		Hash_sigil = {'$' : 1, '%' : 1, '@' : 1, '&' : 1, '*' : 1};
		p5typeglob_set("Perlito5::Grammar::Sigil", "term_sigil", (function () {
			var tmp291;
			tmp291 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_c1;
					v_c1 = (p5str(v_str).substr(p5num(v_pos), 1));
					if ( (Hash_sigil).hasOwnProperty(v_c1) ) {}
					else {
						throw(p5context([], p5want))
					};
					var v_p;
					v_p = ((p5num(v_pos) + 1));
					var v_sigil;
					v_sigil = (v_c1);
					if ( (p5str(v_str).substr(p5num(v_pos), 2) == '$#') ) {
						v_sigil = ('$#');
						(function () {
							var tmp292 = v_p;
							v_p = p5incr_(tmp292);
							return tmp292
						})();
					};
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_p], 0));
					v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
					v_c1 = (p5str(v_str).substr(p5num(v_p), 1));
					var v_q;
					v_q = ((p5num(v_p) + 1));
					if ( (p5str(v_c1) == '{') ) {
						(function () {
							var v_p;
							v_p = (v_q);
							v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_p], 0));
							v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
							v_m = (p5call(p5pkg["Perlito5::Grammar"], "optional_namespace_before_ident", [v_str, v_p], 0));
							if ( p5bool(v_m) ) {
								(function () {
									var v_namespace;
									v_namespace = (p5pkg["Perlito5::Match"].flat([v_m], 0));
									var v_pos;
									v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									var v_n;
									v_n = (p5call(p5pkg["Perlito5::Grammar"], "var_name", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									var v_name;
									if ( p5bool(v_n) ) {
										v_name = (p5pkg["Perlito5::Match"].flat([v_n], 0));
										v_pos = ((v_n || (v_n = new p5HashRef({})))._hash_.p5hget('to'));
									};
									if ( (p5bool(v_namespace) || p5bool(v_name)) ) {
										(function () {
											var v_spc;
											v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_pos], 0));
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', v_sigil, 'namespace', v_namespace, 'name', v_name], 0)));
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to')));
											v_m = (p5call(p5pkg["Perlito5::Grammar::String"], "double_quoted_var_with_subscript", [v_m], 0));
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')])))));
											v_spc = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											var v_p;
											v_p = ((v_spc || (v_spc = new p5HashRef({})))._hash_.p5hget('to'));
											if ( (p5str(v_str).substr(p5num(v_p), 1) == '}') ) {
												(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p) + 1)));
												throw(p5context([v_m], p5want));
											};
										})();
									};
								})();
							};
							var v_caret;
							v_caret = (p5call(p5pkg["Perlito5::Grammar"], "caret_char", [v_str, v_p], 0));
							if ( p5bool(v_caret) ) {
								(function () {
									var v_p;
									v_p = ((v_caret || (v_caret = new p5HashRef({})))._hash_.p5hget('to'));
									var v_name;
									v_name = (p5pkg["Perlito5::Match"].flat([v_caret], 0));
									v_m = (p5call(p5pkg["Perlito5::Grammar"], "var_name", [v_str, v_p], 0));
									if ( p5bool(v_m) ) {
										v_name = ((p5str(v_name) + p5str(p5pkg["Perlito5::Match"].flat([v_m], 0))));
										v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									};
									if ( (p5str(v_str).substr(p5num(v_p), 1) == '}') ) {
										(v_caret || (v_caret = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_name], 1)]))), 'code', ('prefix:<' + p5str(v_sigil) + '>'), 'namespace', '']), 1)])))));
										(v_caret || (v_caret = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p) + 1)));
										throw(p5context([v_caret], p5want));
									};
								})();
							};
							v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "curly_parse", [v_str, v_p], 0));
							if ( p5bool(v_m) ) {
								(function () {
									var v_p;
									v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									if ( (p5str(v_str).substr(p5num(v_p), 1) == '}') ) {
										(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) + 1)));
										(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]))), 'code', ('prefix:<' + p5str(v_sigil) + '>'), 'namespace', '']), 1)])))));
										throw(p5context([v_m], p5want));
									};
								})();
							};
						})();
					};
					var v_caret;
					v_caret = (p5call(p5pkg["Perlito5::Grammar"], "caret_char", [v_str, v_p], 0));
					if ( p5bool(v_caret) ) {
						(function () {
							var v_name;
							v_name = (p5pkg["Perlito5::Match"].flat([v_caret], 0));
							(v_caret || (v_caret = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_name], 1)]))), 'code', ('prefix:<' + p5str(v_sigil) + '>'), 'namespace', '']), 1)])))));
							throw(p5context([v_caret], p5want));
						})();
					};
					if ( (p5str(v_c1) == '$') ) {
						(function () {
							var v_m2;
							v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, (p5num(v_p) + 1)], 0));
							var v_p2;
							v_p2 = ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to'));
							var v_c2;
							v_c2 = (p5str(v_str).substr(p5num(v_p2), 1));
							if ( ((p5str(v_c2) != ',') && (p5str(v_c2) != ';')) ) {
								v_m = (p5call(v_self, "term_sigil", [v_str, v_p], 0));
								if ( p5bool(v_m) ) {
									(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)]))), 'code', ('prefix:<' + p5str(v_sigil) + '>'), 'namespace', '']), 1)])))));
									throw(p5context([v_m], p5want));
								};
							};
						})();
					};
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "optional_namespace_before_ident", [v_str, v_p], 0));
					if ( p5bool(v_m) ) {
						(function () {
							var v_namespace;
							v_namespace = (p5pkg["Perlito5::Match"].flat([v_m], 0));
							var v_n;
							v_n = (p5call(p5pkg["Perlito5::Grammar"], "var_name", p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')]), 0));
							if ( p5bool(v_n) ) {
								(v_n || (v_n = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', v_sigil, 'namespace', v_namespace, 'name', p5pkg["Perlito5::Match"].flat([v_n], 1)]), 1)])))));
								throw(p5context([v_n], p5want));
							};
							if ( p5bool(v_namespace) ) {
								(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', v_sigil, 'namespace', v_namespace, 'name', null]), 1)])))));
								throw(p5context([v_m], p5want));
							};
						})();
					};
					return (p5call(v_self, "term_special_var", [v_str, v_pos], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp291._prototype_ = null;
			return tmp291
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Use");
		// use Perlito5::Grammar::Precedence
;
		// use Perlito5::Grammar
;
		// use strict
;
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['no', (function () {
	var tmp294;
	tmp294 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Use"], "stmt_use", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp294._prototype_ = null;
	return tmp294
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['use', (function () {
	var tmp296;
	tmp296 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Use"], "stmt_use", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp296._prototype_ = null;
	return tmp296
})()], null);
		var Hash_Perlito_internal_module = {};
		Hash_Perlito_internal_module = {'strict' : 'Perlito5X::strict', 'warnings' : 'Perlito5X::warnings', 'utf8' : 'Perlito5X::utf8', 'bytes' : 'Perlito5X::bytes', 'encoding' : 'Perlito5X::encoding', 'Carp' : 'Perlito5X::Carp', 'Exporter' : 'Perlito5X::Exporter', 'Data::Dumper' : 'Perlito5::Dumper'};
		p5typeglob_set("Perlito5::Grammar::Use", "use_decl", (function () {
			var tmp297;
			tmp297 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('use' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('no' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp297._prototype_ = null;
			return tmp297
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "stmt_use", (function () {
			var tmp298;
			tmp298 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "use_decl", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('use_decl', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_version", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.val_version', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.term_digit', (v_m2));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], p5want));
																})()], p5want)
															}));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'undef', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 0)));
															return (p5context([1], p5want));
														})()], p5want)
													}));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m;
																v_m = (v_MATCH);
																if ( !( ((('-' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)) && p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))))))) && p5bool((function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			if ( (v_MATCH)._hash_.hasOwnProperty('Perlito5::Grammar.ident') ) {
																				p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_array('Perlito5::Grammar.ident'), 'Perlito5::Grammar::Use').p5push([v_m2]);
																			}
																			else {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.ident', ((new p5ArrayRef([v_m2]))));
																			};
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()))) ) {
																	v_MATCH = (v_m);
																};
																return (p5context([1], p5want));
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																		var v_list;
																		v_list = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.list_parse')]), 0));
																		if ( (p5str(v_list) == '*undef*') ) {
																			v_list = (null);
																		}
																		else {
																			(function () {
																				var v_m;
																				v_m = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.list_parse'));
																				var v_list_code;
																				v_list_code = (CORE.substr(p5list_to_a([v_str, (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('from'), (p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) - p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('from')))]), 0));
																				var List_list = [];
																				List_list = p5list_to_a([(function () {
																							var p5want = 1;
																							var r;
																							p5pkg["main"]["v_@"] = "";
																							p5pkg["Perlito5"]["v_STRICT"] = 1;
																							try {
																								r = eval(p5pkg["Perlito5::Javascript2::Runtime"].perl5_to_js([p5str(v_list_code), "Perlito5::Grammar::Use", (new p5ArrayRef(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['$list_code', (new p5HashRef({'decl' : 'my'})), '$m', (new p5HashRef({'decl' : 'my'})), '@list', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef({})), (new p5HashRef(p5a_to_h(p5list_to_a(['$list', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef({})), (new p5HashRef(p5a_to_h(p5list_to_a(['$pos1', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$MATCH', (new p5HashRef({'decl' : 'my'})), '$grammar', (new p5HashRef({'decl' : 'my'})), '$pos', (new p5HashRef({'decl' : 'my'})), '$str', (new p5HashRef({'decl' : 'my'})), '$tmp', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '%Perlito_internal_module', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$!', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$"', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$,', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$/', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$;', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$?', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$@', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$[', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^O', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^V', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$|', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%ENV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%SIG', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@#', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@ARGV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@_', (new p5HashRef({'decl' : 'my'}))]))))]))), "list"]))
																							}
																							catch(err) {
																								if ( err instanceof p5_error || err instanceof Error ) {
																									p5pkg["main"]["v_@"] = err;
																									try {
																										p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack;
																									}
																									catch(err) { }
																								}
																								else {
																									return(err);
																								}
																							}
																							return r;
																						})()]);
																				v_list = ((new p5ArrayRef(List_list)));
																			})();
																		};
																		var v_full_ident;
																		v_full_ident = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 0));
																		(p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_ident), (1));
																		var v_use_decl;
																		v_use_decl = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('use_decl')]), 0));
																		if ( ((p5str(v_use_decl) == 'use') && ((p5str(v_full_ident) == 'vars') && p5bool(v_list))) ) {
																			(function () {
																				var v_code;
																				v_code = (('our (' + p5pkg["Perlito5::Grammar::Use"].join([', ', p5list_to_a([p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])], 0) + ')'));
																				var v_m;
																				v_m = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", [v_code, 0], 0));
																				if ( !( p5bool(v_m)) ) {
																					p5pkg["Perlito5::Grammar::Use"].die([[('not a valid variable name: ' + p5pkg["Perlito5::Grammar::Use"].join([p5pkg["main"]["v_\""], p5list_to_a([p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])], 0))]], null)
																				};
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')));
																			})();
																		}
																		else if ( ((p5str(v_use_decl) == 'use') && ((p5str(v_full_ident) == 'constant') && p5bool(v_list))) ) {
																			(function () {
																				var List_ast = [];
																				var v_name;
																				v_name = (p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').shift());
																				if ( (p5pkg["Perlito5::Grammar::Use"].ref([v_name], 0) == 'HASH') ) {
																					p5for_lex(function (v_key) {
																							var v_code;
																							v_code = (('sub ' + p5str(v_key) + ' () { ' + p5str(p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([(v_name || (v_name = new p5HashRef({})))._hash_.p5hget(p5str(v_key))]), 0)) + ' }'));
																							var v_m;
																							v_m = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", [v_code, 0], 0));
																							if ( !( p5bool(v_m)) ) {
																								p5pkg["Perlito5::Grammar::Use"].die([[('not a valid constant: ' + p5pkg["Perlito5::Grammar::Use"].join([p5pkg["main"]["v_\""], p5list_to_a([p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])], 0))]], null)
																							};
																							List_ast.p5push(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]));
																						}, p5list_to_a([p5sort(p5pkg["Perlito5::Grammar::Use"], null, p5list_to_a([p5pkg["Perlito5::Grammar::Use"].keys([p5hash_deref((v_name || (v_name = new p5HashRef({}))), 'Perlito5::Grammar::Use')], 1)]))]), false, "");
																				}
																				else {
																					(function () {
																						var v_code;
																						v_code = (('sub ' + p5str(v_name) + ' () { (' + p5pkg["Perlito5::Grammar::Use"].join([', ', p5list_to_a([p5map(p5pkg["Perlito5::Grammar::Use"], function (p5want) {
	return (p5pkg["Perlito5::Dumper"]._dumper([p5pkg["Perlito5::Grammar::Use"]["v__"]], p5want));
}, p5list_to_a([p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]))])], 0) + ') }'));
																						var v_m;
																						v_m = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", [v_code, 0], 0));
																						if ( !( p5bool(v_m)) ) {
																							p5pkg["Perlito5::Grammar::Use"].die([[('not a valid constant: ' + p5pkg["Perlito5::Grammar::Use"].join([p5pkg["main"]["v_\""], p5list_to_a([p5array_deref((v_list || (v_list = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])], 0))]], null)
																						};
																						List_ast.p5push(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]));
																					})();
																				};
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef(List_ast))]), 0)));
																			})();
																		}
																		else {
																			(function () {
																				var v_ast;
																				v_ast = (p5call(p5pkg["Perlito5::AST::Use"], "new", ['code', v_use_decl, 'mod', v_full_ident, 'arguments', v_list], 0));
																				p5pkg["Perlito5::Grammar::Use"].parse_time_eval([v_ast], null);
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (v_ast));
																			})();
																		};
																		return (p5context([1], p5want));
																	})()], p5want)
																})
															})
														})], p5want));
												})()], p5want)
											}));
									})()], 0)
								})
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp298._prototype_ = null;
			return tmp298
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "parse_time_eval", (function () {
			var tmp299;
			tmp299 = function (List__, p5want) {
				var v_self;
				v_self = (List__.shift());
				var v_module_name;
				v_module_name = (p5call(v_self, "mod", [], 0));
				var v_use_or_not;
				v_use_or_not = (p5call(v_self, "code", [], 0));
				var v_arguments;
				v_arguments = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('arguments'));
				var v_skip_import;
				v_skip_import = (p5and((v_arguments != null), function () {
								return (p5num(p5num(p5array_deref((v_arguments || (v_arguments = new p5ArrayRef([]))), 'Perlito5::Grammar::Use'))) == 0)
							}));
				if ( (v_arguments != null) ) {}
					else {
						v_arguments = ((new p5ArrayRef([])))
					};
				if ( (p5str(v_module_name) == 'feature') ) {}
					else if ( p5bool(p5make_package("Perlito5")["v_EXPAND_USE"]) ) {
						if ( (Hash_Perlito_internal_module).hasOwnProperty(v_module_name) ) {
							v_module_name = (Hash_Perlito_internal_module.p5hget(p5str(v_module_name)))
						};
						var v_filename;
						v_filename = (p5pkg["Perlito5::Grammar::Use"].modulename_to_filename([v_module_name], 0));
						p5pkg["Perlito5::Grammar::Use"]["require"]([p5str(v_filename), 0]);
						if ( !( p5bool(v_skip_import)) ) {
							if ( (p5str(v_use_or_not) == 'use') ) {
								if ( (p5code_lookup_by_name("Perlito5::Grammar::Use", (p5str(v_module_name) + '::import')) != null) ) {
									p5array_deref((p5make_package("Perlito5")["v_CALLER"] || (p5make_package("Perlito5")["v_CALLER"] = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').p5unshift(p5list_to_a([(new p5ArrayRef([p5make_package("Perlito5")["v_PKG_NAME"]]))]));
									p5call(v_module_name, "import", p5list_to_a([p5array_deref((v_arguments || (v_arguments = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]), null);
									return (p5array_deref((p5make_package("Perlito5")["v_CALLER"] || (p5make_package("Perlito5")["v_CALLER"] = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').shift());
								}
							}
							else if ( (p5str(v_use_or_not) == 'no') ) {
								if ( (p5code_lookup_by_name("Perlito5::Grammar::Use", (p5str(v_module_name) + '::unimport')) != null) ) {
									p5array_deref((p5make_package("Perlito5")["v_CALLER"] || (p5make_package("Perlito5")["v_CALLER"] = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').p5unshift(p5list_to_a([(new p5ArrayRef([p5make_package("Perlito5")["v_PKG_NAME"]]))]));
									p5call(v_module_name, "unimport", p5list_to_a([p5array_deref((v_arguments || (v_arguments = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]), null);
									return (p5array_deref((p5make_package("Perlito5")["v_CALLER"] || (p5make_package("Perlito5")["v_CALLER"] = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').shift());
								}
							}
						}
					}
			};
			tmp299._prototype_ = null;
			return tmp299
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "emit_time_eval", (function () {
			var tmp300;
			tmp300 = function (List__, p5want) {
				var v_self;
				v_self = (List__.shift());
				if ( (p5str(p5call(v_self, "mod", [], 0)) == 'strict') ) {
						if ( (p5str(p5call(v_self, "code", [], 0)) == 'use') ) {
							return (p5call(p5pkg["Perlito5X::strict"], "import", [], p5want));
						}
						else if ( (p5str(p5call(v_self, "code", [], 0)) == 'no') ) {
							return (p5call(p5pkg["Perlito5X::strict"], "unimport", [], p5want));
						}
					}
			};
			tmp300._prototype_ = null;
			return tmp300
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "modulename_to_filename", (function () {
			var tmp301;
			tmp301 = function (List__, p5want) {
				var v_s;
				v_s = (List__.shift());
				v_s = p5str(v_s).replace(/::/g, '/');
				return (p5context([(p5str(v_s) + '.pm')], p5want));
			};
			tmp301._prototype_ = null;
			return tmp301
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "filename_lookup", (function () {
			var tmp302;
			tmp302 = function (List__, p5want) {
				try {
					var v_filename;
					v_filename = (List__.shift());
					if ( (p5pkg["main"]["Hash_INC"]).hasOwnProperty(v_filename) ) {
						if ( p5bool(p5pkg["main"]["Hash_INC"].p5hget(p5str(v_filename))) ) {
							throw(p5context(['done'], p5want))
						};
						p5pkg["Perlito5::Grammar::Use"].die([['Compilation failed in require']], null);
					};
					p5for_lex(function (v_prefix) {
							var v_realfilename;
							v_realfilename = ((p5str(v_prefix) + '/' + p5str(v_filename)));
							if ( p5bool(p5is_file(p5str(v_realfilename))) ) {
								p5pkg["main"]["Hash_INC"].p5hset(p5str(v_filename), (v_realfilename));
								throw(p5context(['todo'], p5want));
							};
						}, p5list_to_a([p5pkg["main"]["List_INC"], '.']), false, "");
					return (p5pkg["Perlito5::Grammar::Use"].die([[('Can' + String.fromCharCode(39) + 't locate ' + p5str(v_filename) + ' in @INC ' + '(@INC contains ' + p5pkg["Perlito5::Grammar::Use"].join([' ', p5list_to_a([p5pkg["main"]["List_INC"]])], 0) + ').')]], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp302._prototype_ = null;
			return tmp302
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "expand_use", (function () {
			var tmp303;
			tmp303 = function (List__, p5want) {
				try {
					var v_comp_units;
					v_comp_units = (List__.shift());
					var v_stmt;
					v_stmt = (List__.shift());
					var v_module_name;
					v_module_name = (p5call(v_stmt, "mod", [], 0));
					if ( ((p5str(v_module_name) == 'warnings') || (p5str(v_module_name) == 'feature')) ) {
						throw(p5context([], p5want))
					};
					if ( (Hash_Perlito_internal_module).hasOwnProperty(v_module_name) ) {
						v_module_name = (Hash_Perlito_internal_module.p5hget(p5str(v_module_name)))
					};
					var v_filename;
					v_filename = (p5pkg["Perlito5::Grammar::Use"].modulename_to_filename([v_module_name], 0));
					if ( (p5str(p5pkg["Perlito5::Grammar::Use"].filename_lookup([v_filename], 0)) == 'done') ) {
						throw(p5context([], p5want))
					};
					var v_realfilename;
					v_realfilename = (p5pkg["main"]["Hash_INC"].p5hget(p5str(v_filename)));
					var v_source;
					v_source = (p5call_sub("Perlito5::IO", "slurp", [v_realfilename], 0));
					var v_m;
					v_m = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", [v_source, 0], 0));
					if ( (p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) != p5pkg["Perlito5::Grammar::Use"].length([v_source], 0)) ) {
						p5pkg["Perlito5::Grammar::Use"].die([p5list_to_a(['Syntax Error near ', (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')])], null)
					};
					if ( (p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) != p5pkg["Perlito5::Grammar::Use"].length([v_source], 0)) ) {
						(function () {
							var v_pos;
							v_pos = ((p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) - 10));
							if ( (p5num(v_pos) < 0) ) {
								v_pos = (0)
							};
							p5pkg["Perlito5::Grammar::Use"].print(['* near: ', p5str(v_source).substr(p5num(v_pos), 20), String.fromCharCode(10)], null);
							p5pkg["Perlito5::Grammar::Use"].print([('* filename: ' + p5str(v_realfilename) + String.fromCharCode(10))], null);
							p5pkg["Perlito5::Grammar::Use"].die([p5list_to_a(['Syntax Error near ', (v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')])], null);
						})();
					};
					return (p5array_deref((v_comp_units || (v_comp_units = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').p5push(p5list_to_a([p5array_deref((p5pkg["Perlito5::Grammar::Use"].add_comp_unit(p5list_to_a([(new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::CompUnit"], "new", p5list_to_a(['name', 'main', 'body', p5pkg["Perlito5::Match"].flat([v_m], 1)]), 1)])))]), p5want) || (p5pkg["Perlito5::Grammar::Use"].add_comp_unit(p5list_to_a([(new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::CompUnit"], "new", p5list_to_a(['name', 'main', 'body', p5pkg["Perlito5::Match"].flat([v_m], 1)]), 1)])))]), p5want) = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp303._prototype_ = null;
			return tmp303
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "add_comp_unit", (function () {
			var tmp304;
			tmp304 = function (List__, p5want) {
				var v_parse;
				v_parse = (List__.shift());
				var v_comp_units;
				v_comp_units = ((new p5ArrayRef([])));
				p5for_lex(function (v_comp_unit) {
							if ( (v_comp_unit != null) ) {
								if ( p5bool(p5call(v_comp_unit, "isa", ['Perlito5::AST::Use'], 0)) ) {
									p5pkg["Perlito5::Grammar::Use"].expand_use([v_comp_units, v_comp_unit], null);
								}
								else if ( p5bool(p5call(v_comp_unit, "isa", ['Perlito5::AST::CompUnit'], 0)) ) {
									p5for_lex(function (v_stmt) {
											if ( p5bool(p5call(v_stmt, "isa", ['Perlito5::AST::Use'], 0)) ) {
												p5pkg["Perlito5::Grammar::Use"].expand_use([v_comp_units, v_stmt], null);
											};
										}, p5list_to_a([p5array_deref(p5call(v_comp_unit, "body", [], p5want), 'Perlito5::Grammar::Use')]), false, "");
								};
								p5array_deref((v_comp_units || (v_comp_units = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').p5push([v_comp_unit]);
							};
						}, p5list_to_a([p5array_deref((v_parse || (v_parse = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]), false, "");
				return (p5context([v_comp_units], p5want));
			};
			tmp304._prototype_ = null;
			return tmp304
		})());
		p5typeglob_set("Perlito5::Grammar::Use", "require", (function () {
			var tmp305;
			tmp305 = function (List__, p5want) {
				try {
					var v_filename;
					v_filename = (List__.shift());
					var v_is_bareword;
					v_is_bareword = (List__.shift());
					if ( ((p5str(v_filename) >= '0') && (p5str(v_filename) <= '9999')) ) {
						throw(p5context([], p5want));
					};
					if ( p5bool(v_is_bareword) ) {
						(p5make_package("Perlito5")["v_PACKAGES"] || (p5make_package("Perlito5")["v_PACKAGES"] = new p5HashRef({})))._hash_.p5hset(p5str(v_filename), (1));
						v_filename = (p5pkg["Perlito5::Grammar::Use"].modulename_to_filename([v_filename], 0));
					};
					if ( (p5str(p5pkg["Perlito5::Grammar::Use"].filename_lookup([v_filename], 0)) == 'done') ) {
						throw(p5context([], p5want))
					};
					var v_result;
					v_result = ((function () {
								var r;
								p5pkg["main"]["v_@"] = "";
								p5pkg["Perlito5"]["v_STRICT"] = 0;
								try {
									r = eval(p5pkg["Perlito5::Javascript2::Runtime"].perl5_to_js([p5str(p5call_sub("Perlito5::IO", "slurp", p5list_to_a([p5pkg["main"]["Hash_INC"].p5hget(p5str(v_filename))]), 0)), "Perlito5::Grammar::Use", (new p5ArrayRef(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['$filename', (new p5HashRef({'decl' : 'my'})), '$is_bareword', (new p5HashRef({'decl' : 'my'})), '$result', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Use'})), '%Perlito_internal_module', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$!', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$"', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$,', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$/', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$;', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$?', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$@', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$[', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^O', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^V', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$|', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%ENV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%SIG', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@#', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@ARGV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@_', (new p5HashRef({'decl' : 'my'}))]))))]))), ""]))
								}
								catch(err) {
									if ( err instanceof p5_error || err instanceof Error ) {
										p5pkg["main"]["v_@"] = err;
										try {
											p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack;
										}
										catch(err) { }
									}
									else {
										return(err);
									}
								}
								return r;
							})());
					if ( p5bool(p5pkg["main"]["v_@"]) ) {
						p5pkg["main"]["Hash_INC"].p5hset(p5str(v_filename), (null));
						return (p5pkg["Perlito5::Grammar::Use"].die([[p5pkg["main"]["v_@"]]], p5want));
					}
					else if ( !( p5bool(v_result)) ) {
						(delete p5pkg["main"]["Hash_INC"][v_filename]);
						if ( p5bool(p5pkg["main"]["v_@"]) ) {
							p5pkg["Perlito5::Grammar::Use"].warn([[p5pkg["main"]["v_@"]]], null)
						};
						return (p5pkg["Perlito5::Grammar::Use"].die([[(p5str(v_filename) + ' did not return true value')]], p5want));
					}
					else {
						(function () {
							throw(p5context([v_result], p5want))
						})()
					}
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp305._prototype_ = null;
			return tmp305
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Block");
		// use Perlito5::Grammar::Expression
;
		// use strict
;
		p5typeglob_set("Perlito5::Grammar::Block", "eval_begin_block", (function () {
			var tmp306;
			tmp306 = function (List__, p5want) {
				try {
					var local_idx = p5LOCAL.length;
					(function () {
						var v_tmp307 = p5pkg["main"]["v_@"];
						p5LOCAL.push(function(){ p5pkg["main"]["v_@"] = v_tmp307 });
						return (p5pkg["main"]["v_@"] = (null));
					})();
					p5pkg["main"]["v_@"];
					var v_code;
					v_code = (('package ' + p5str(p5make_package("Perlito5")["v_PKG_NAME"]) + ';' + String.fromCharCode(10) + p5str(List__.p5aget(0))));
					(function () {
						var p5want = null;
						var r;
						p5pkg["main"]["v_@"] = "";
						p5pkg["Perlito5"]["v_STRICT"] = 1;
						try {
							r = eval(p5pkg["Perlito5::Javascript2::Runtime"].perl5_to_js([p5str(v_code), "Perlito5::Grammar::Block", (new p5ArrayRef(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['$code', (new p5HashRef({'decl' : 'my'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Block'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Block'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Block'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5::Grammar::Block'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'Perlito5'}))])))), (new p5HashRef(p5a_to_h(p5list_to_a(['$!', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$"', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$,', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$/', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$;', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$?', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$@', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$AUTOLOAD', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$[', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^O', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$^V', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$_', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$a', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$b', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '$|', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%ENV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '%SIG', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@#', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@ARGV', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@INC', (new p5HashRef({'decl' : 'our', 'namespace' : 'main'})), '@_', (new p5HashRef({'decl' : 'my'}))]))))]))), "void"]))
						}
						catch(err) {
							if ( err instanceof p5_error || err instanceof Error ) {
								p5pkg["main"]["v_@"] = err;
								try {
									p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack;
								}
								catch(err) { }
							}
							else {
								return(err);
							}
						}
						return r;
					})();
					if ( p5bool(p5pkg["main"]["v_@"]) ) {
						p5pkg["Perlito5::Grammar::Block"].die([[('Error in BEGIN block: ' + p5str(p5pkg["main"]["v_@"]))]], p5want)
					}
					p5cleanup_local(local_idx, null);
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return p5cleanup_local(local_idx, err);
					}
				}
			};
			tmp306._prototype_ = null;
			return tmp306
		})());
		if (typeof p5pkg["Perlito5::Grammar::Block"]["Hash_Named_block"] == "undefined" ) { p5pkg["Perlito5::Grammar::Block"]["Hash_Named_block"] = {};}
		p5pkg["Perlito5::Grammar::Block"]["Hash_Named_block"] = {'BEGIN' : 1, 'UNITCHECK' : 1, 'CHECK' : 1, 'INIT' : 1, 'END' : 1};
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['do', (function () {
	var tmp309;
	tmp309 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Block"], "term_do", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp309._prototype_ = null;
	return tmp309
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['sub', (function () {
	var tmp311;
	tmp311 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Block"], "term_anon_sub", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp311._prototype_ = null;
	return tmp311
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['{', (function () {
	var tmp313;
	tmp313 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Block"], "term_block", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp313._prototype_ = null;
	return tmp313
})()], null);
		p5pkg["Perlito5::Grammar::Statement"].add_statement(['sub', (function () {
	var tmp315;
	tmp315 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Block"], "named_sub", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp315._prototype_ = null;
	return tmp315
})()], null);
		p5for(p5make_package("Perlito5::Grammar::Block"), "v__", function () {
				p5pkg["Perlito5::Grammar::Statement"].add_statement([p5pkg["Perlito5::Grammar::Block"]["v__"], (function () {
	var tmp317;
	tmp317 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Block"], "term_block", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp317._prototype_ = null;
	return tmp317
})()], null);
			}, p5list_to_a([p5pkg["Perlito5::Grammar::Block"].keys([p5pkg["Perlito5::Grammar::Block"]["Hash_Named_block"]], 1)]), false, "");
		p5typeglob_set("Perlito5::Grammar::Block", "term_block", (function () {
			var tmp318;
			tmp318 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_p;
					v_p = (v_pos);
					var v_block_name;
					var v_m_name;
					v_m_name = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m_name) ) {
						v_p = ((v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hget('to'));
						v_block_name = (p5pkg["Perlito5::Match"].flat([v_m_name], 0));
					};
					var v_ws;
					v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
					if ( p5bool(v_ws) ) {
						v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
					};
					if ( (p5str(v_str).substr(p5num(v_p), 1) == '{') ) {
						(function () {
							var v_m;
							v_m = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", [v_str, v_p], 0));
							if ( p5bool(v_m) ) {
								(function () {
									var v_block_start;
									v_block_start = (v_p);
									v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
									if ( p5bool(v_ws) ) {
										v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
									};
									var v_continue;
									v_continue = (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (new p5ArrayRef([]))]), 0));
									var v_has_continue;
									v_has_continue = (0);
									if ( (!( p5bool(v_block_name)) && (p5str(v_str).substr(p5num(v_p), 8) == 'continue')) ) {
										(function () {
											(v_p = ((p5num(v_p) + 8)));
											v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, v_p], 0));
											if ( p5bool(v_ws) ) {
												v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
											};
											var v_cont;
											v_cont = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", [v_str, v_p], 0));
											if ( p5bool(v_cont) ) {}
											else {
												p5pkg["Perlito5::Grammar::Block"].die([['syntax error']], null)
											};
											(v_continue || (v_continue = new p5HashRef({})))._hash_.p5hset('stmts', ((v_cont || (v_cont = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2)));
											v_has_continue = (1);
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('to', ((v_cont || (v_cont = new p5HashRef({})))._hash_.p5hget('to')));
										})();
									};
									var v_v;
									v_v = (p5pkg["Perlito5::Match"].flat([v_m], 0));
									v_v = (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(2), 'sig', (v_v || (v_v = new p5ArrayRef([])))._array_.p5aget(3)]), 0));
									if ( (p5bool(v_has_continue) || p5bool(v_block_name)) ) {}
									else {
										v_v = (p5pkg["Perlito5::Grammar::Expression"].block_or_hash([v_v], 0))
									};
									if ( (p5pkg["Perlito5::Grammar::Block"].ref([v_v], 0) == 'Perlito5::AST::Lit::Block') ) {
										if ( (p5str(v_block_name) == 'BEGIN') ) {
											var local_idx = p5LOCAL.length;
											(function () {
												var v_tmp319 = p5make_package("Perlito5")["v_PHASE"];
												p5LOCAL.push(function(){ p5make_package("Perlito5")["v_PHASE"] = v_tmp319 });
												return (p5make_package("Perlito5")["v_PHASE"] = (null));
											})();
											p5make_package("Perlito5")["v_PHASE"] = ('BEGIN');
											p5pkg["Perlito5::Grammar::Block"].eval_begin_block([CORE.substr([v_str, v_block_start, (p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')) - p5num(v_block_start))], 1)], null);
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'undef', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 0)));
											p5cleanup_local(local_idx, null);
										}
										else {
											(v_v || (v_v = new p5HashRef({})))._hash_.p5hset('name', (v_block_name));
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hset('capture', (v_v));
											(v_m || (v_m = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('continue', (v_continue));
										};
										throw(p5context([v_m], p5want));
									};
								})();
							};
						})();
					};
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp318._prototype_ = null;
			return tmp318
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "named_sub_def", (function () {
			var tmp320;
			tmp320 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "optional_namespace_before_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.optional_namespace_before_ident', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.ident', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Block"], "prototype", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block.prototype', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Attribute"], "opt_attribute", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute.opt_attribute', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_pos1;
																						v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																						return (p5or(p5context([(function () {
																								return (p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																									}));
																							})()], 0), function () {
																								return p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																									return (p5context([(function () {
																											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																											p5pkg["Perlito5::Grammar::Block"].die([p5list_to_a(['Syntax Error in sub ' + String.fromCharCode(39), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.ident')]), 1), String.fromCharCode(39)])], null);
																											return (p5context([1], p5want));
																										})()], p5want));
																								})()], p5want)
																							}));
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 0)));
																							return (p5context([1], p5want));
																						})()], p5want)
																					})
																				})
																			})
																		})
																	}));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				p5pkg["Perlito5::Grammar::Block"].die([p5list_to_a(['Illegal declaration of subroutine ' + String.fromCharCode(39), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.ident')]), 1), String.fromCharCode(39)])], null);
																				return (p5context([1], p5want));
																			})()], p5want)
																		})], p5want));
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																		return (p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (null));
																				return (p5context([1], p5want));
																			})()], p5want));
																	})()], p5want)
																})
															}));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															var v_name;
															v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.ident')]), 0));
															var v_sig;
															v_sig = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block.prototype')]), 0));
															if ( (p5str(v_sig) == '*undef*') ) {
																v_sig = (null)
															};
															var v_attributes;
															v_attributes = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute.opt_attribute')]), 0));
															var v_proto;
															(function () {
																var tmp321 = p5list_to_a([p5grep(p5pkg["Perlito5::Grammar::Block"], function (p5want) {
																	return (p5context([(p5str((p5pkg["Perlito5::Grammar::Block"]["v__"] || (p5pkg["Perlito5::Grammar::Block"]["v__"] = new p5ArrayRef([])))._array_.p5aget(0)) == 'prototype')], p5want));
																}, p5list_to_a([p5array_deref((v_attributes || (v_attributes = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]);
																var tmp322 = tmp321.slice(0);
																v_proto = tmp321.shift();
																return tmp322
															})();
															if ( p5bool(v_proto) ) {
																v_attributes = ((new p5ArrayRef(p5list_to_a([p5grep(p5pkg["Perlito5::Grammar::Block"], function (p5want) {
	return (p5context([(p5str((p5pkg["Perlito5::Grammar::Block"]["v__"] || (p5pkg["Perlito5::Grammar::Block"]["v__"] = new p5ArrayRef([])))._array_.p5aget(0)) != 'prototype')], p5want));
}, p5list_to_a([p5array_deref((v_attributes || (v_attributes = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]))));
																v_sig = ((v_proto || (v_proto = new p5ArrayRef([])))._array_.p5aget(1));
															};
															var v_namespace;
															v_namespace = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.optional_namespace_before_ident')]), 0));
															if ( p5bool(v_name) ) {
																(function () {
																	if ( !( p5bool(v_namespace)) ) {
																		v_namespace = (( (p5str(v_name) == '_') ? 'main' : p5make_package("Perlito5")["v_PKG_NAME"]));
																	};
																	var v_full_name;
																	v_full_name = ((p5str(v_namespace) + '::' + p5str(v_name)));
																	(p5make_package("Perlito5")["v_PROTO"] || (p5make_package("Perlito5")["v_PROTO"] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_name), (v_sig));
																})();
															};
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Sub"], "new", p5list_to_a(['name', v_name, 'namespace', v_namespace, 'sig', v_sig, 'block', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('_tmp'), 'attributes', v_attributes]), 0)));
															return (p5context([1], p5want));
														})()], 0)
													})
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp320._prototype_ = null;
			return tmp320
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "named_sub", (function () {
			var tmp323;
			tmp323 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					if ( (p5str(v_str).substr(p5num(v_pos), 3) == 'sub') ) {}
					else {
						throw(p5context([], p5want))
					};
					var v_ws;
					v_ws = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", [v_str, (p5num(v_pos) + 3)], 0));
					if ( p5bool(v_ws) ) {}
					else {
						throw(p5context([], p5want))
					};
					var v_p;
					v_p = ((v_ws || (v_ws = new p5HashRef({})))._hash_.p5hget('to'));
					var v_m_name;
					v_m_name = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( p5bool(v_m_name) ) {}
					else {
						throw(p5context([], p5want))
					};
					var v_block_name;
					v_block_name = (p5pkg["Perlito5::Match"].flat([v_m_name], 0));
					if ( (p5pkg["Perlito5::Grammar::Block"]["Hash_Named_block"]).hasOwnProperty(v_block_name) ) {
						throw(p5call(p5pkg["Perlito5::Grammar::Block"], "term_block", [v_str, v_p], p5want));
					};
					return (p5call(p5pkg["Perlito5::Grammar::Block"], "named_sub_def", [v_str, v_p], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp323._prototype_ = null;
			return tmp323
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "term_anon_sub", (function () {
			var tmp324;
			tmp324 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('sub' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Block"], "anon_sub_def", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block.anon_sub_def', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block.anon_sub_def')]), 1)])))));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp324._prototype_ = null;
			return tmp324
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "term_do", (function () {
			var tmp325;
			tmp325 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('do' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_tmp;
										v_tmp = (v_MATCH);
										v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
										var v_res;
										v_res = (p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0));
										v_MATCH = (v_tmp);
										return (( p5bool(v_res) ? 1 : 0));
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Statement.statement_parse', (v_m2));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Do"], "new", p5list_to_a(['block', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Statement.statement_parse')]), 1)]), 1)])))));
												return (p5context([1], p5want));
											})()], 0)
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp325._prototype_ = null;
			return tmp325
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "args_sig", (function () {
			var tmp326;
			tmp326 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_last_match_null;
								v_last_match_null = (0);
								var v_m;
								v_m = (v_MATCH);
								var v_to;
								v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								p5while(function () {
										if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null = ((p5num(v_last_match_null) + 1));
										}
										else {
											v_last_match_null = (0);
										};
										v_m = (v_MATCH);
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									}, function () {
										return p5and(p5context([(function () {
											var v_pos1;
											v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
											return (p5or(p5context([(function () {
													return (p5and((';' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
														}));
												})()], 0), function () {
													return p5or(p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
														return (p5context([p5and((String.fromCharCode(92) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want));
													})()], 0), function () {
														return p5or(p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
															return (p5context([p5and(('[' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																})], p5want));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and((']' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																	})], p5want));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(('*' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																		})], p5want));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																		return (p5context([p5and(('+' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			})], p5want));
																	})()], 0), function () {
																		return p5or(p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																			return (p5context([p5and(('@' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																					return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																				})], p5want));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([p5and(('%' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																					})], p5want));
																			})()], 0), function () {
																				return p5or(p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																						})], p5want));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																						return (p5context([p5and(('&' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																							})], p5want));
																					})()], p5want)
																				})
																			})
																		})
																	})
																})
															})
														})
													})
												}));
										})()], 0), function () {
											return p5context([(p5num(v_last_match_null) < 2)], 0)
										})
									}, false, "", 0);
								v_MATCH = (v_m);
								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
								return (p5context([1], p5want));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp326._prototype_ = null;
			return tmp326
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "prototype", (function () {
			var tmp327;
			tmp327 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(v_grammar, "args_sig", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('args_sig', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																})], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (('' + p5str(p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('args_sig')]), 0)))));
																		return (p5context([1], p5want));
																	})()], p5want)
																})
															})
														})
													})
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ('*undef*'));
													return (p5context([1], p5want));
												})()], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp327._prototype_ = null;
			return tmp327
		})());
		p5typeglob_set("Perlito5::Grammar::Block", "anon_sub_def", (function () {
			var tmp328;
			tmp328 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "prototype", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('prototype', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(p5pkg["Perlito5::Grammar::Attribute"], "opt_attribute", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute.opt_attribute', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5and(p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.exp_stmts', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_pos1;
																v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																return (p5or(p5context([(function () {
																		return (p5and(('}' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																			}));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																			return (p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																					p5pkg["Perlito5::Grammar::Block"].die([['Syntax Error in anon sub']], null);
																					return (p5context([1], p5want));
																				})()], p5want));
																		})()], p5want)
																	}));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																	var v_sig;
																	v_sig = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('prototype')]), 0));
																	if ( (p5str(v_sig) == '*undef*') ) {
																		v_sig = (null)
																	};
																	var v_attributes;
																	v_attributes = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute.opt_attribute')]), 0));
																	var v_proto;
																	(function () {
																		var tmp329 = p5list_to_a([p5grep(p5pkg["Perlito5::Grammar::Block"], function (p5want) {
																			return (p5context([(p5str((p5pkg["Perlito5::Grammar::Block"]["v__"] || (p5pkg["Perlito5::Grammar::Block"]["v__"] = new p5ArrayRef([])))._array_.p5aget(0)) == 'prototype')], p5want));
																		}, p5list_to_a([p5array_deref((v_attributes || (v_attributes = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]);
																		var tmp330 = tmp329.slice(0);
																		v_proto = tmp329.shift();
																		return tmp330
																	})();
																	if ( p5bool(v_proto) ) {
																		v_attributes = ((new p5ArrayRef(p5list_to_a([p5grep(p5pkg["Perlito5::Grammar::Block"], function (p5want) {
	return (p5context([(p5str((p5pkg["Perlito5::Grammar::Block"]["v__"] || (p5pkg["Perlito5::Grammar::Block"]["v__"] = new p5ArrayRef([])))._array_.p5aget(0)) != 'prototype')], p5want));
}, p5list_to_a([p5array_deref((v_attributes || (v_attributes = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]))));
																		v_sig = ((v_proto || (v_proto = new p5ArrayRef([])))._array_.p5aget(1));
																	};
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Sub"], "new", p5list_to_a(['name', null, 'namespace', null, 'sig', v_sig, 'block', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.exp_stmts')]), 1), 'attributes', v_attributes]), 0)));
																	return (p5context([1], p5want));
																})()], 0)
															})
														})
													})
												})
											})
										})
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp328._prototype_ = null;
			return tmp328
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Space");
		// use Perlito5::Grammar::Precedence
;
		var Hash_space = {};
		Hash_space = p5a_to_h(['#', (function () {
					var tmp339;
					tmp339 = function (List__, p5want) {
						var v_m;
						v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "to_eol", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), 0));
						return ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
					};
					tmp339._prototype_ = null;
					return tmp339
				})(), p5pkg["Perlito5::Grammar::Space"].chr([9], 1), (function () {
					var tmp340;
					tmp340 = function (List__, p5want) {
						return (List__.p5aget(1));
					};
					tmp340._prototype_ = null;
					return tmp340
				})(), p5pkg["Perlito5::Grammar::Space"].chr([10], 1), (function () {
					var tmp341;
					tmp341 = function (List__, p5want) {
						var v_str;
						v_str = (List__.p5aget(0));
						var v_pos;
						v_pos = (List__.p5aget(1));
						if ( (p5str(v_str).substr(p5num(v_pos), 1) == p5pkg["Perlito5::Grammar::Space"].chr([13], 0)) ) {
								(function () {
									var tmp342 = v_pos;
									v_pos = p5incr_(tmp342);
									return tmp342
								})()
							};
						var v_m;
						v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "start_of_line", p5list_to_a([List__.p5aget(0), v_pos]), 0));
						return ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
					};
					tmp341._prototype_ = null;
					return tmp341
				})(), p5pkg["Perlito5::Grammar::Space"].chr([12], 1), (function () {
					var tmp343;
					tmp343 = function (List__, p5want) {
						return (List__.p5aget(1));
					};
					tmp343._prototype_ = null;
					return tmp343
				})(), p5pkg["Perlito5::Grammar::Space"].chr([13], 1), (function () {
					var tmp344;
					tmp344 = function (List__, p5want) {
						var v_str;
						v_str = (List__.p5aget(0));
						var v_pos;
						v_pos = (List__.p5aget(1));
						if ( (p5str(v_str).substr(p5num(v_pos), 1) == p5pkg["Perlito5::Grammar::Space"].chr([10], 0)) ) {
								(function () {
									var tmp345 = v_pos;
									v_pos = p5incr_(tmp345);
									return tmp345
								})()
							};
						var v_m;
						v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "start_of_line", p5list_to_a([List__.p5aget(0), v_pos]), 0));
						return ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
					};
					tmp344._prototype_ = null;
					return tmp344
				})(), p5pkg["Perlito5::Grammar::Space"].chr([32], 1), (function () {
					var tmp346;
					tmp346 = function (List__, p5want) {
						return (List__.p5aget(1));
					};
					tmp346._prototype_ = null;
					return tmp346
				})()]);
		p5typeglob_set("Perlito5::Grammar::Space", "term_space", (function () {
			var tmp347;
			tmp347 = function (List__, p5want) {
				try {
					var v_str;
					v_str = (List__.p5aget(0));
					var v_pos;
					v_pos = (List__.p5aget(1));
					var v_p;
					v_p = (v_pos);
					p5while(function () {
							v_p = ((Hash_space.p5hget(p5str(v_str).substr(p5num(v_p), 1)))([v_str, (p5num(v_p) + 1)], 0));
						}, function () {
							return (Hash_space).hasOwnProperty(p5str(v_str).substr(p5num(v_p), 1))
						}, false, "", 0);
					if ( ((p5str(v_str).substr(p5num(v_p), 7) == '__END__') || (p5str(v_str).substr(p5num(v_p), 8) == '__DATA__')) ) {
						throw(p5pkg["Perlito5::Grammar::Space"].term_end([v_str, v_p], p5want))
					};
					return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', v_pos, 'to', v_p, 'capture', (new p5ArrayRef(['space', ' ']))])))));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp347._prototype_ = null;
			return tmp347
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "term_end", (function () {
			var tmp348;
			tmp348 = function (List__, p5want) {
				var v_str;
				v_str = (List__.p5aget(0));
				var v_p;
				v_p = (List__.p5aget(1));
				var v_is_data;
				v_is_data = (0);
				if ( ((p5str(v_str).substr(p5num(List__.p5aget(1)), 7) == '__END__') && (p5str(p5make_package("Perlito5")["v_PKG_NAME"]) == 'main')) ) {
						v_p = ((p5num(v_p) + 7));
						v_is_data = (1);
					}
					else if ( (p5str(v_str).substr(p5num(List__.p5aget(1)), 8) == '__DATA__') ) {
						v_p = ((p5num(v_p) + 8));
						v_is_data = (1);
					};
				var v_m;
				v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "to_eol", [v_str, v_p], 0));
				v_p = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
				if ( (p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::Space"].chr([10], 0)) ) {
						(function () {
							var tmp349 = v_p;
							v_p = p5incr_(tmp349);
							return tmp349
						})();
						if ( (p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::Space"].chr([13], 0)) ) {
							(function () {
								var tmp350 = v_p;
								v_p = p5incr_(tmp350);
								return tmp350
							})()
						};
					}
					else if ( (p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::Space"].chr([13], 0)) ) {
						(function () {
							var tmp351 = v_p;
							v_p = p5incr_(tmp351);
							return tmp351
						})();
						if ( (p5str(v_str).substr(p5num(v_p), 1) == p5pkg["Perlito5::Grammar::Space"].chr([10], 0)) ) {
							(function () {
								var tmp352 = v_p;
								v_p = p5incr_(tmp352);
								return tmp352
							})()
						};
					};
				if ( p5bool(v_is_data) ) {
						p5global_hash("Perlito5", "DATA_SECTION").p5hset(p5str(p5make_package("Perlito5")["v_PKG_NAME"]), (CORE.substr(p5list_to_a([List__.p5aget(0), v_p]), 0)));
					};
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', List__.p5aget(1), 'to', p5pkg["Perlito5::Grammar::Space"].length([List__.p5aget(0)], 1), 'capture', (new p5ArrayRef(['space', ' ']))])))));
			};
			tmp348._prototype_ = null;
			return tmp348
		})());
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a(['#', p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a([p5pkg["Perlito5::Grammar::Space"].chr([9], 1), p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a([p5pkg["Perlito5::Grammar::Space"].chr([10], 1), p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a([p5pkg["Perlito5::Grammar::Space"].chr([12], 1), p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a([p5pkg["Perlito5::Grammar::Space"].chr([13], 1), p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a([p5pkg["Perlito5::Grammar::Space"].chr([32], 1), p5pkg["Perlito5::Grammar::Space"].term_space]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a(['__END__', p5pkg["Perlito5::Grammar::Space"].term_end]), null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(p5list_to_a(['__DATA__', p5pkg["Perlito5::Grammar::Space"].term_end]), null);
		p5typeglob_set("Perlito5::Grammar::Space", "to_eol", (function () {
			var tmp353;
			tmp353 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_last_match_null;
								v_last_match_null = (0);
								var v_m;
								v_m = (v_MATCH);
								var v_to;
								v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								p5while(function () {
										if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null = ((p5num(v_last_match_null) + 1));
										}
										else {
											v_last_match_null = (0);
										};
										v_m = (v_MATCH);
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									}, function () {
										return p5and(p5context([p5and(p5context([(function () {
											var v_tmp;
											v_tmp = (v_MATCH);
											v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
											var v_res;
											v_res = (p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and((String.fromCharCode(10) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																	}));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and((String.fromCharCode(13) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																		})], p5want));
																})()], p5want)
															}));
													})()], 0));
											v_MATCH = (v_tmp);
											return (( p5bool(v_res) ? 0 : 1));
										})()], 0), function () {
											return p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0)
										})], 0), function () {
											return p5context([(p5num(v_last_match_null) < 2)], 0)
										})
									}, false, "", 0);
								v_MATCH = (v_m);
								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
								return (p5context([1], p5want));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp353._prototype_ = null;
			return tmp353
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "pod_pod_begin", (function () {
			var tmp354;
			tmp354 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_pos1;
												v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
												return (p5or(p5context([(function () {
														return (p5and((String.fromCharCode(10) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															}));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
															return (p5context([p5and((String.fromCharCode(13) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																})], p5want));
														})()], p5want)
													}));
											})()], 0), function () {
												return p5and(p5context([p5and(('=cut' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], p5want)
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															var v_m2;
															v_m2 = (p5call(v_grammar, "pod_pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], p5want)
													})
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp354._prototype_ = null;
			return tmp354
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "pod_begin", (function () {
			var tmp355;
			tmp355 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_pos1;
												v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
												return (p5or(p5context([(function () {
														return (p5and((String.fromCharCode(10) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															}));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
															return (p5context([p5and((String.fromCharCode(13) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																})], p5want));
														})()], p5want)
													}));
											})()], 0), function () {
												return p5and(p5context([p5and(('=end' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], p5want)
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([p5and(('' != p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															var v_m2;
															v_m2 = (p5call(v_grammar, "pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], p5want)
													})
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp355._prototype_ = null;
			return tmp355
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "start_of_line", (function () {
			var tmp356;
			tmp356 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(p5pkg["Perlito5::Grammar::String"], "here_doc", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(p5context([p5and(('=' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(p5context([p5and(('pod' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(v_grammar, "pod_pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], p5want)
																	}));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(p5context([p5and(('head' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																		})], 0), function () {
																			return p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(v_grammar, "pod_pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], p5want)
																		})], p5want));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																		return (p5context([p5and(p5context([p5and(('begin' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																			})], 0), function () {
																				return p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(v_grammar, "pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], p5want)
																			})], p5want));
																	})()], 0), function () {
																		return p5or(p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																			return (p5context([p5and(p5context([p5and(('for' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
																					return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																				})], 0), function () {
																					return p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(v_grammar, "pod_begin", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], p5want)
																				})], p5want));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([p5and(p5context([p5and(('encoding' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 8)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((8 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																					})], 0), function () {
																						return p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], p5want)
																					})], p5want));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and(p5context([p5and(('cut' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																						})], 0), function () {
																							return p5context([(function () {
																								var v_m2;
																								v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																								if ( p5bool(v_m2) ) {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																									return (p5context([1], p5want));
																								}
																								else {
																									return (p5context([0], p5want));
																								}
																							})()], p5want)
																						})], p5want));
																				})()], p5want)
																			})
																		})
																	})
																})
															}));
													})()], p5want)
												}));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([p5and(('#' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_last_match_null;
															v_last_match_null = (0);
															var v_m;
															v_m = (v_MATCH);
															var v_to;
															v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															p5while(function () {
																	if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																		v_last_match_null = ((p5num(v_last_match_null) + 1));
																	}
																	else {
																		v_last_match_null = (0);
																	};
																	v_m = (v_MATCH);
																	v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																}, function () {
																	return p5and(p5context([(function () {
																		var v_pos1;
																		v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																		return (p5or(p5context([(function () {
																				return (p5and((' ' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																					}));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and((String.fromCharCode(9) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																						})], p5want));
																				})()], p5want)
																			}));
																	})()], 0), function () {
																		return p5context([(p5num(v_last_match_null) < 2)], 0)
																	})
																}, false, "", 0);
															v_MATCH = (v_m);
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
															return (p5context([1], p5want));
														})()], 0), function () {
															return p5and(p5context([p5and(('line' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_last_match_null;
																	v_last_match_null = (0);
																	var v_m;
																	v_m = (v_MATCH);
																	var v_to;
																	v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	var v_count;
																	v_count = (0);
																	p5while(function () {
																			if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																				v_last_match_null = ((p5num(v_last_match_null) + 1));
																			}
																			else {
																				v_last_match_null = (0);
																			};
																			v_m = (v_MATCH);
																			v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																			v_count = ((p5num(v_count) + 1));
																		}, function () {
																			return p5and(p5context([(function () {
																				var v_pos1;
																				v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																				return (p5or(p5context([(function () {
																						return (p5and((' ' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																							}));
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																							return (p5context([p5and((String.fromCharCode(9) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																									return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																								})], p5want));
																						})()], p5want)
																					}));
																			})()], 0), function () {
																				return p5context([(p5num(v_last_match_null) < 2)], 0)
																			})
																		}, false, "", 0);
																	v_MATCH = (v_m);
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
																	return (p5context([(p5num(v_count) > 0)], p5want));
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "digits", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.digits', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_last_match_null;
																			v_last_match_null = (0);
																			var v_m;
																			v_m = (v_MATCH);
																			var v_to;
																			v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																			p5while(function () {
																					if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																						v_last_match_null = ((p5num(v_last_match_null) + 1));
																					}
																					else {
																						v_last_match_null = (0);
																					};
																					v_m = (v_MATCH);
																					v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																				}, function () {
																					return p5and(p5context([(function () {
																						var v_pos1;
																						v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																						return (p5or(p5context([(function () {
																								return (p5and((' ' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																									}));
																							})()], 0), function () {
																								return p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																									return (p5context([p5and((String.fromCharCode(9) == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																											return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																										})], p5want));
																								})()], p5want)
																							}));
																					})()], 0), function () {
																						return p5context([(p5num(v_last_match_null) < 2)], 0)
																					})
																				}, false, "", 0);
																			v_MATCH = (v_m);
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
																			return (p5context([1], p5want));
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2;
																				v_m2 = (p5call(v_grammar, "to_eol", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																				if ( p5bool(v_m2) ) {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																					return (p5context([1], p5want));
																				}
																				else {
																					return (p5context([0], p5want));
																				}
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																					p5make_package("Perlito5")["v_LINE_NUMBER"] = ((0 + p5num(p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number.digits')]), 0))));
																					return (p5context([1], p5want));
																				})()], p5want)
																			})
																		})
																	})
																})
															})
														})
													})], p5want));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([1], p5want));
												})()], p5want)
											})
										}));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp356._prototype_ = null;
			return tmp356
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "ws", (function () {
			var tmp357;
			tmp357 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					var v_str;
					v_str = (List__.shift());
					var v_pos;
					v_pos = (List__.shift());
					var v_p;
					v_p = (v_pos);
					p5while(function () {
							v_p = ((Hash_space.p5hget(p5str(v_str).substr(p5num(v_p), 1)))([v_str, (p5num(v_p) + 1)], 0));
						}, function () {
							return (Hash_space).hasOwnProperty(p5str(v_str).substr(p5num(v_p), 1))
						}, false, "", 0);
					if ( ((p5str(v_str).substr(p5num(v_p), 7) == '__END__') || (p5str(v_str).substr(p5num(v_p), 8) == '__DATA__')) ) {
						throw(p5pkg["Perlito5::Grammar::Space"].term_end([v_str, v_p], p5want))
					};
					if ( (p5num(v_p) == p5num(v_pos)) ) {
						throw(p5context([0], p5want));
					};
					return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_p})));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp357._prototype_ = null;
			return tmp357
		})());
		p5typeglob_set("Perlito5::Grammar::Space", "opt_ws", (function () {
			var tmp358;
			tmp358 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					var v_str;
					v_str = (List__.shift());
					var v_pos;
					v_pos = (List__.shift());
					var v_p;
					v_p = (v_pos);
					p5while(function () {
							v_p = ((Hash_space.p5hget(p5str(v_str).substr(p5num(v_p), 1)))([v_str, (p5num(v_p) + 1)], 0));
						}, function () {
							return (Hash_space).hasOwnProperty(p5str(v_str).substr(p5num(v_p), 1))
						}, false, "", 0);
					if ( ((p5str(v_str).substr(p5num(v_p), 7) == '__END__') || (p5str(v_str).substr(p5num(v_p), 8) == '__DATA__')) ) {
						throw(p5pkg["Perlito5::Grammar::Space"].term_end([v_str, v_p], p5want))
					};
					return ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_p})));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp358._prototype_ = null;
			return tmp358
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Print");
		// use strict
;
		if (typeof p5pkg["Perlito5::Grammar::Print"]["Hash_Print"] == "undefined" ) { p5pkg["Perlito5::Grammar::Print"]["Hash_Print"] = {};}
		p5pkg["Perlito5::Grammar::Print"]["Hash_Print"] = {'print' : 1, 'printf' : 1, 'say' : 1, 'exec' : 1, 'system' : 1};
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['print', (function () {
	var tmp360;
	tmp360 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Print"], "term_print", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp360._prototype_ = null;
	return tmp360
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['printf', (function () {
	var tmp362;
	tmp362 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Print"], "term_print", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp362._prototype_ = null;
	return tmp362
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['say', (function () {
	var tmp364;
	tmp364 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Print"], "term_print", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp364._prototype_ = null;
	return tmp364
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['exec', (function () {
	var tmp366;
	tmp366 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Print"], "term_print", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp366._prototype_ = null;
	return tmp366
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['system', (function () {
	var tmp368;
	tmp368 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Print"], "term_print", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp368._prototype_ = null;
	return tmp368
})()], null);
		p5typeglob_set("Perlito5::Grammar::Print", "print_decl", (function () {
			var tmp369;
			tmp369 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('print' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 5)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((5 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('printf' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 6)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((6 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(('say' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
													})], p5want));
											})()], 0), function () {
												return p5or(p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(('exec' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
														})], p5want));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
														return (p5context([p5and(('system' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 6)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((6 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want));
													})()], p5want)
												})
											})
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp369._prototype_ = null;
			return tmp369
		})());
		p5typeglob_set("Perlito5::Grammar::Print", "the_object", (function () {
			var tmp370;
			tmp370 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_tmp;
												v_tmp = (v_MATCH);
												v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
												var v_res;
												v_res = (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0));
												v_MATCH = (v_tmp);
												return (( p5bool(v_res) ? 1 : 0));
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_tmp;
														v_tmp = (v_MATCH);
														v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res;
														v_res = (p5context([p5and(('+' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																})], 0));
														v_MATCH = (v_tmp);
														return (( p5bool(v_res) ? 0 : 1));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1)));
															return (p5context([1], p5want));
														})()], p5want)
													})
												})
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([(function () {
													var v_tmp;
													v_tmp = (v_MATCH);
													v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
													var v_res;
													v_res = (p5context([p5and(('{' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0));
													v_MATCH = (v_tmp);
													return (( p5bool(v_res) ? 1 : 0));
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget(2)]), 0)));
															return (p5context([1], p5want));
														})()], p5want)
													})
												})], p5want));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "typeglob", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('typeglob', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 0 : 1));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('typeglob')]), 0)));
																return (p5context([1], p5want));
															})()], p5want)
														})
													})], p5want));
											})()], p5want)
										})
									}));
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									var v_pos;
									v_pos = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									var v_m;
									v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('str'), v_pos]), 0));
									if ( p5bool(v_m) ) {
										v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'))
									};
									var v_s;
									v_s = (p5str((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('str')).substr(p5num(v_pos), 1));
									var v_s2;
									v_s2 = (p5str((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('str')).substr(p5num(v_pos), 2));
									if ( ((p5str(v_s) == ',') || ((p5str(v_s) == '?') || ((p5str(v_s2) == '->') || ((p5str(v_s) == '[') || (p5str(v_s) == '{'))))) ) {
										throw(p5context([], p5want));
									};
									if ( (p5str(v_s) == '+') ) {
										(function () {
											var v_m;
											v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('str'), (p5num(v_pos) + 1)]), 0));
											if ( p5bool(v_m) ) {
												throw(p5context([], p5want));
											};
										})();
									}
									else {
										(function () {
											var v_m;
											v_m = (p5call(p5pkg["Perlito5::Grammar::Precedence"], "op_parse", p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('str'), v_pos, 1]), 0));
											var v_next_op;
											v_next_op = (( p5bool(v_m) ? (p5pkg["Perlito5::Match"].flat([v_m], p5want) || (p5pkg["Perlito5::Match"].flat([v_m], p5want) = new p5ArrayRef([])))._array_.p5aget(1) : ''));
											var v_is_infix;
											v_is_infix = (p5pkg["Perlito5::Grammar::Precedence"].is_fixity_type(['infix', v_next_op], 0));
											if ( p5bool(v_is_infix) ) {
												throw(p5context([], p5want))
											};
										})();
									};
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp370._prototype_ = null;
			return tmp370
		})());
		p5typeglob_set("Perlito5::Grammar::Print", "typeglob", (function () {
			var tmp371;
			tmp371 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_p;
					v_p = (v_pos);
					var v_m_namespace;
					v_m_namespace = (p5call(p5pkg["Perlito5::Grammar"], "optional_namespace_before_ident", [v_str, v_p], 0));
					var v_namespace;
					v_namespace = (p5pkg["Perlito5::Match"].flat([v_m_namespace], 0));
					v_p = ((v_m_namespace || (v_m_namespace = new p5HashRef({})))._hash_.p5hget('to'));
					var v_m_name;
					v_m_name = (p5call(p5pkg["Perlito5::Grammar"], "ident", [v_str, v_p], 0));
					if ( !( p5bool(v_m_name)) ) {
						if ( p5bool(v_namespace) ) {
							(v_m_namespace || (v_m_namespace = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', v_namespace], 0)));
							throw(p5context([v_m_namespace], p5want));
						};
						throw(p5context([], p5want));
					};
					var v_name;
					v_name = (p5pkg["Perlito5::Match"].flat([v_m_name], 0));
					v_p = ((v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hget('to'));
					if ( (p5str(v_str).substr(p5num(v_p), 2) == '::') ) {
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p) + 2)));
						(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', (p5str(v_namespace) + '::' + p5str(v_name))], 0)));
						throw(p5context([v_m_name], p5want));
					};
					var v_effective_name;
					v_effective_name = ((p5str(p5or(v_namespace, function () {
	return p5make_package("Perlito5")["v_PKG_NAME"]
})) + '::' + p5str(v_name)));
					if ( ((p5make_package("Perlito5")["v_PROTO"])._hash_.hasOwnProperty(v_effective_name) || p5sub_exists(p5str(v_effective_name), 'Perlito5::Grammar::Print')) ) {
						throw(p5context([], p5want));
					};
					if ( ((!( p5bool(v_namespace)) || (p5str(v_namespace) == 'CORE')) && (p5make_package("Perlito5")["v_CORE_PROTO"])._hash_.hasOwnProperty(('CORE::' + p5str(v_name)))) ) {
						throw(p5context([], p5want));
					};
					var v_full_name;
					v_full_name = (v_name);
					if ( p5bool(v_namespace) ) {
						v_full_name = ((p5str(v_namespace) + '::' + p5str(v_name)))
					};
					(v_m_name || (v_m_name = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", ['sigil', '::', 'name', '', 'namespace', v_full_name], 0)));
					return (p5context([v_m_name], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp371._prototype_ = null;
			return tmp371
		})());
		p5typeglob_set("Perlito5::Grammar::Print", "print_ast", (function () {
			var tmp372;
			tmp372 = function (List__, p5want) {
				var v_decl;
				var v_the_object;
				var v_expr;
				(function () {
						var tmp373 = p5list_to_a([List__]);
						var tmp374 = tmp373.slice(0);
						v_decl = tmp373.shift();
						v_the_object = tmp373.shift();
						v_expr = tmp373.shift();
						return tmp374
					})();
				return (p5call(p5pkg["Perlito5::AST::Apply"], "new", ['namespace', '', 'code', v_decl, 'special_arg', v_the_object, 'arguments', v_expr], p5want));
			};
			tmp372._prototype_ = null;
			return tmp372
		})());
		p5typeglob_set("Perlito5::Grammar::Print", "term_print", (function () {
			var tmp375;
			tmp375 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "print_decl", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('print_decl', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(v_grammar, "the_object", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('the_object', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			var v_list;
																			v_list = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.list_parse')]), 0));
																			if ( !( p5bool(p5pkg["Perlito5::Grammar::Print"].ref([v_list], 0))) ) {
																				throw(p5context([], p5want))
																			};
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Grammar::Print"].print_ast(p5list_to_a([p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('print_decl')]), 1), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('the_object')]), 1), p5pkg["Perlito5::Grammar::Expression"].expand_list([v_list], 1)]), 1)])))));
																			return (p5context([1], p5want));
																		})()], p5want)
																	})
																})
															})
														})
													}));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(v_grammar, "the_object", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('the_object', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																	var v_list;
																	v_list = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.list_parse')]), 0));
																	if ( !( p5bool(p5pkg["Perlito5::Grammar::Print"].ref([v_list], 0))) ) {
																		throw(p5context([], p5want))
																	};
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Grammar::Print"].print_ast(p5list_to_a([p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('print_decl')]), 1), p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('the_object')]), 1), p5pkg["Perlito5::Grammar::Expression"].expand_list([v_list], 1)]), 1)])))));
																	return (p5context([1], p5want));
																})()], p5want)
															})
														})], p5want));
												})()], p5want)
											}));
									})()], 0)
								})
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp375._prototype_ = null;
			return tmp375
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Map");
		// use strict
;
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['map', (function () {
	var tmp377;
	tmp377 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Map"], "term_map_or_grep", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp377._prototype_ = null;
	return tmp377
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['grep', (function () {
	var tmp379;
	tmp379 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Map"], "term_map_or_grep", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp379._prototype_ = null;
	return tmp379
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['sort', (function () {
	var tmp381;
	tmp381 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Map"], "term_sort", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp381._prototype_ = null;
	return tmp381
})()], null);
		p5typeglob_set("Perlito5::Grammar::Map", "map_or_grep", (function () {
			var tmp382;
			tmp382 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('map' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 3)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((3 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('grep' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp382._prototype_ = null;
			return tmp382
		})());
		p5typeglob_set("Perlito5::Grammar::Map", "term_map_or_grep", (function () {
			var tmp383;
			tmp383 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "map_or_grep", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('map_or_grep', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('map_or_grep')]), 1), 'special_arg', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget(2)]), 1), 'arguments', p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																return (p5context([1], p5want));
															})()], p5want)
														})
													}));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																		})], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('map_or_grep')]), 1), 'special_arg', p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget(2)]), 1), 'arguments', p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																				return (p5context([1], p5want));
																			})()], p5want)
																		})
																	})
																})
															})
														})], p5want));
												})()], p5want)
											}));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp383._prototype_ = null;
			return tmp383
		})());
		p5typeglob_set("Perlito5::Grammar::Map", "term_sort", (function () {
			var tmp384;
			tmp384 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([p5and(('sort' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 4)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((4 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5context([(function () {
										var v_pos1;
										v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										return (p5or(p5context([(function () {
												return (p5and(p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget(2)]), 0)));
																			return (p5context([1], p5want));
																		})()], p5want)
																	}));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(p5context([(function () {
																			var v_m2;
																			v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																			if ( p5bool(v_m2) ) {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
																				return (p5context([1], p5want));
																			}
																			else {
																				return (p5context([0], p5want));
																			}
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				var v_name;
																				v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 0));
																				if ( (p5bool((p5make_package("Perlito5")["v_CORE_PROTO"] || (p5make_package("Perlito5")["v_CORE_PROTO"] = new p5HashRef({})))._hash_.p5hget(p5str(v_name))) || p5bool((p5make_package("Perlito5")["v_CORE_PROTO"] || (p5make_package("Perlito5")["v_CORE_PROTO"] = new p5HashRef({})))._hash_.p5hget(('CORE::' + p5str(v_name))))) ) {
																					throw(p5context([], p5want))
																				};
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (v_name));
																				return (p5context([1], p5want));
																			})()], p5want)
																		})], p5want));
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																		return (p5context([p5and(p5context([(function () {
																				var v_tmp;
																				v_tmp = (v_MATCH);
																				v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																				var v_res;
																				v_res = (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																						})], 0));
																				v_MATCH = (v_tmp);
																				return (( p5bool(v_res) ? 1 : 0));
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																						var v_var;
																						v_var = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1));
																						if ( (p5pkg["Perlito5::Grammar::Map"].ref([v_var], 0) != 'Perlito5::AST::Var') ) {
																							throw(p5context([], p5want))
																						};
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (v_var));
																						return (p5context([1], p5want));
																					})()], p5want)
																				})
																			})], p5want));
																	})()], p5want)
																})
															}));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'sort', 'special_arg', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('_tmp'), 'arguments', p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																return (p5context([1], p5want));
															})()], p5want)
														})
													}));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([p5and(('(' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
														})], 0), function () {
															return p5and(p5context([(function () {
																var v_m2;
																v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																if ( p5bool(v_m2) ) {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																	return (p5context([1], p5want));
																}
																else {
																	return (p5context([0], p5want));
																}
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_pos1;
																	v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	return (p5or(p5context([(function () {
																			return (p5and(p5context([(function () {
																					var v_m2;
																					v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																					if ( p5bool(v_m2) ) {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar.full_ident', (v_m2));
																						return (p5context([1], p5want));
																					}
																					else {
																						return (p5context([0], p5want));
																					}
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																							var v_name;
																							v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar.full_ident')]), 0));
																							if ( (p5bool((p5make_package("Perlito5")["v_CORE_PROTO"] || (p5make_package("Perlito5")["v_CORE_PROTO"] = new p5HashRef({})))._hash_.p5hget(p5str(v_name))) || p5bool((p5make_package("Perlito5")["v_CORE_PROTO"] || (p5make_package("Perlito5")["v_CORE_PROTO"] = new p5HashRef({})))._hash_.p5hget(('CORE::' + p5str(v_name))))) ) {
																								throw(p5context([], p5want))
																							};
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (v_name));
																							return (p5context([1], p5want));
																						})()], p5want)
																					})
																				}));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([p5and(p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "term_curly", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.term_curly', (v_m2));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (p5call(p5pkg["Perlito5::AST::Lit::Block"], "new", p5list_to_a(['stmts', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.term_curly')._hash_.p5hget_array('capture')._array_.p5aget(2)]), 0)));
																							return (p5context([1], p5want));
																						})()], p5want)
																					})], p5want));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and(p5context([(function () {
																							var v_tmp;
																							v_tmp = (v_MATCH);
																							v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																							var v_res;
																							v_res = (p5context([p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																										return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																									})], 0));
																							v_MATCH = (v_tmp);
																							return (( p5bool(v_res) ? 1 : 0));
																						})()], 0), function () {
																							return p5and(p5context([(function () {
																								var v_m2;
																								v_m2 = (p5call(p5pkg["Perlito5::Grammar::Sigil"], "term_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																								if ( p5bool(v_m2) ) {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil.term_sigil', (v_m2));
																									return (p5context([1], p5want));
																								}
																								else {
																									return (p5context([0], p5want));
																								}
																							})()], 0), function () {
																								return p5context([(function () {
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																									var v_var;
																									v_var = ((p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) || (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil.term_sigil')]), p5want) = new p5ArrayRef([])))._array_.p5aget(1));
																									if ( (p5pkg["Perlito5::Grammar::Map"].ref([v_var], 0) != 'Perlito5::AST::Var') ) {
																										throw(p5context([], p5want))
																									};
																									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('_tmp', (v_var));
																									return (p5context([1], p5want));
																								})()], p5want)
																							})
																						})], p5want));
																				})()], p5want)
																			})
																		}));
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "list_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.list_parse', (v_m2));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], 0), function () {
																		return p5and(p5context([p5and((')' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																		})], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'sort', 'special_arg', (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('_tmp'), 'arguments', p5pkg["Perlito5::Grammar::Expression"].expand_list(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression.list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																				return (p5context([1], p5want));
																			})()], p5want)
																		})
																	})
																})
															})
														})], p5want));
												})()], p5want)
											}));
									})()], 0)
								})
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp384._prototype_ = null;
			return tmp384
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar::Number");
		// use strict
;
		// use Perlito5::Grammar::Precedence
;
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['.', (function () {
	var tmp386;
	tmp386 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp386._prototype_ = null;
	return tmp386
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['0', (function () {
	var tmp388;
	tmp388 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp388._prototype_ = null;
	return tmp388
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['1', (function () {
	var tmp390;
	tmp390 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp390._prototype_ = null;
	return tmp390
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['2', (function () {
	var tmp392;
	tmp392 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp392._prototype_ = null;
	return tmp392
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['3', (function () {
	var tmp394;
	tmp394 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp394._prototype_ = null;
	return tmp394
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['4', (function () {
	var tmp396;
	tmp396 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp396._prototype_ = null;
	return tmp396
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['5', (function () {
	var tmp398;
	tmp398 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp398._prototype_ = null;
	return tmp398
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['6', (function () {
	var tmp400;
	tmp400 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp400._prototype_ = null;
	return tmp400
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['7', (function () {
	var tmp402;
	tmp402 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp402._prototype_ = null;
	return tmp402
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['8', (function () {
	var tmp404;
	tmp404 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp404._prototype_ = null;
	return tmp404
})()], null);
		p5pkg["Perlito5::Grammar::Precedence"].add_term(['9', (function () {
	var tmp406;
	tmp406 = function (List__, p5want) {
		return (p5call(p5pkg["Perlito5::Grammar::Number"], "term_digit", p5list_to_a([List__.p5aget(0), List__.p5aget(1)]), p5want));
	};
	tmp406._prototype_ = null;
	return tmp406
})()], null);
		p5typeglob_set("Perlito5::Grammar::Number", "term_digit", (function () {
			var tmp407;
			tmp407 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_octal", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.val_octal', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number.val_octal')]), 1)])))));
													return (p5context([1], p5want));
												})()], p5want)
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_vstring", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.val_vstring', (v_m2));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number.val_vstring')]), 1)])))));
														return (p5context([1], p5want));
													})()], p5want)
												})], p5want));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_num", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.val_num', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number.val_num')]), 1)])))));
															return (p5context([1], p5want));
														})()], p5want)
													})], p5want));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(p5context([(function () {
															var v_m2;
															v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "val_int", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
															if ( p5bool(v_m2) ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.val_int', (v_m2));
																return (p5context([1], p5want));
															}
															else {
																return (p5context([0], p5want));
															}
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number.val_int')]), 1)])))));
																return (p5context([1], p5want));
															})()], p5want)
														})], p5want));
												})()], p5want)
											})
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp407._prototype_ = null;
			return tmp407
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "digit", (function () {
			var tmp408;
			tmp408 = function (List__, p5want) {
				return (( p5bool((p5str(p5str(List__.p5aget(1)).substr(p5num(List__.p5aget(2)), 1)).match(/\d/) ? 1 : 0)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(1), 'from', List__.p5aget(2), 'to', (p5num(List__.p5aget(2)) + 1)])))) : 0));
			};
			tmp408._prototype_ = null;
			return tmp408
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "exponent", (function () {
			var tmp409;
			tmp409 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('e' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('E' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(('+' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												}));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(('-' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
													})], p5want));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([1], p5want));
												})()], p5want)
											})
										}));
								})()], 0), function () {
									return p5context([(function () {
										var v_last_match_null;
										v_last_match_null = (0);
										var v_m;
										v_m = (v_MATCH);
										var v_to;
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										var v_count;
										v_count = (0);
										p5while(function () {
												if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
													v_last_match_null = ((p5num(v_last_match_null) + 1));
												}
												else {
													v_last_match_null = (0);
												};
												v_m = (v_MATCH);
												v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
												v_count = ((p5num(v_count) + 1));
											}, function () {
												return p5and(p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([(function () {
																		var v_m2;
																		v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																		if ( p5bool(v_m2) ) {
																			(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																			return (p5context([1], p5want));
																		}
																		else {
																			return (p5context([0], p5want));
																		}
																	})()], p5want));
															})()], p5want)
														}));
												})()], 0), function () {
													return p5context([(p5num(v_last_match_null) < 2)], 0)
												})
											}, false, "", 0);
										v_MATCH = (v_m);
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
										return (p5context([(p5num(v_count) > 0)], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp409._prototype_ = null;
			return tmp409
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "val_num", (function () {
			var tmp410;
			tmp410 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([p5and(('.' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_last_match_null;
														v_last_match_null = (0);
														var v_m;
														v_m = (v_MATCH);
														var v_to;
														v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														p5while(function () {
																if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null = ((p5num(v_last_match_null) + 1));
																}
																else {
																	v_last_match_null = (0);
																};
																v_m = (v_MATCH);
																v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															}, function () {
																return p5and(p5context([(function () {
																	var v_pos1;
																	v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	return (p5or(p5context([(function () {
																			return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																					return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																				}));
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], p5want));
																			})()], p5want)
																		}));
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null) < 2)], 0)
																})
															}, false, "", 0);
														v_MATCH = (v_m);
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
														return (p5context([1], p5want));
													})()], 0), function () {
														return p5context([(function () {
															var v_m;
															v_m = (v_MATCH);
															if ( !( p5bool((function () {
																	var v_m2;
																	v_m2 = (p5call(v_grammar, "exponent", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})())) ) {
																v_MATCH = (v_m);
															};
															return (p5context([1], p5want));
														})()], p5want)
													})
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_last_match_null;
														v_last_match_null = (0);
														var v_m;
														v_m = (v_MATCH);
														var v_to;
														v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														p5while(function () {
																if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null = ((p5num(v_last_match_null) + 1));
																}
																else {
																	v_last_match_null = (0);
																};
																v_m = (v_MATCH);
																v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															}, function () {
																return p5and(p5context([(function () {
																	var v_pos1;
																	v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	return (p5or(p5context([(function () {
																			return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																					return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																				}));
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																				return (p5context([(function () {
																						var v_m2;
																						v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																						if ( p5bool(v_m2) ) {
																							(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																							return (p5context([1], p5want));
																						}
																						else {
																							return (p5context([0], p5want));
																						}
																					})()], p5want));
																			})()], p5want)
																		}));
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null) < 2)], 0)
																})
															}, false, "", 0);
														v_MATCH = (v_m);
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
														return (p5context([1], p5want));
													})()], 0), function () {
														return p5context([(function () {
															var v_pos1;
															v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															return (p5or(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(v_grammar, "exponent", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																		return (p5context([p5and(p5context([p5and(('.' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																				return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																			})], 0), function () {
																				return p5and(p5context([(function () {
																					var v_tmp;
																					v_tmp = (v_MATCH);
																					v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
																					var v_res;
																					v_res = (p5context([p5and(('.' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																							})], 0));
																					v_MATCH = (v_tmp);
																					return (( p5bool(v_res) ? 0 : 1));
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_last_match_null;
																						v_last_match_null = (0);
																						var v_m;
																						v_m = (v_MATCH);
																						var v_to;
																						v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																						p5while(function () {
																								if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																									v_last_match_null = ((p5num(v_last_match_null) + 1));
																								}
																								else {
																									v_last_match_null = (0);
																								};
																								v_m = (v_MATCH);
																								v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																							}, function () {
																								return p5and(p5context([(function () {
																									var v_pos1;
																									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																									return (p5or(p5context([(function () {
																											return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																												}));
																										})()], 0), function () {
																											return p5context([(function () {
																												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																												return (p5context([(function () {
																														var v_m2;
																														v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																														if ( p5bool(v_m2) ) {
																															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																															return (p5context([1], p5want));
																														}
																														else {
																															return (p5context([0], p5want));
																														}
																													})()], p5want));
																											})()], p5want)
																										}));
																								})()], 0), function () {
																									return p5context([(p5num(v_last_match_null) < 2)], 0)
																								})
																							}, false, "", 0);
																						v_MATCH = (v_m);
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
																						return (p5context([1], p5want));
																					})()], 0), function () {
																						return p5context([(function () {
																							var v_m;
																							v_m = (v_MATCH);
																							if ( !( p5bool((function () {
																									var v_m2;
																									v_m2 = (p5call(v_grammar, "exponent", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																									if ( p5bool(v_m2) ) {
																										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																										return (p5context([1], p5want));
																									}
																									else {
																										return (p5context([0], p5want));
																									}
																								})())) ) {
																								v_MATCH = (v_m);
																							};
																							return (p5context([1], p5want));
																						})()], p5want)
																					})
																				})
																			})], p5want));
																	})()], p5want)
																}));
														})()], p5want)
													})
												})], p5want));
										})()], p5want)
									}));
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									var v_s;
									v_s = (p5pkg["Perlito5::Match"].flat([v_MATCH], 0));
									v_s = p5str(v_s).replace(/_/g, '');
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Val::Num"], "new", ['num', v_s], 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp410._prototype_ = null;
			return tmp410
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "digits", (function () {
			var tmp411;
			tmp411 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_last_match_null;
								v_last_match_null = (0);
								var v_m;
								v_m = (v_MATCH);
								var v_to;
								v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								var v_count;
								v_count = (0);
								p5while(function () {
										if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null = ((p5num(v_last_match_null) + 1));
										}
										else {
											v_last_match_null = (0);
										};
										v_m = (v_MATCH);
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										v_count = ((p5num(v_count) + 1));
									}, function () {
										return p5and(p5context([(function () {
											var v_m2;
											v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
											if ( p5bool(v_m2) ) {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
												return (p5context([1], p5want));
											}
											else {
												return (p5context([0], p5want));
											}
										})()], 0), function () {
											return p5context([(p5num(v_last_match_null) < 2)], 0)
										})
									}, false, "", 0);
								v_MATCH = (v_m);
								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
								return (p5context([(p5num(v_count) > 0)], p5want));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp411._prototype_ = null;
			return tmp411
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "digits_underscore", (function () {
			var tmp412;
			tmp412 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									var v_last_match_null;
									v_last_match_null = (0);
									var v_m;
									v_m = (v_MATCH);
									var v_to;
									v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									p5while(function () {
											if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
												v_last_match_null = ((p5num(v_last_match_null) + 1));
											}
											else {
												v_last_match_null = (0);
											};
											v_m = (v_MATCH);
											v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										}, function () {
											return p5and(p5context([(function () {
												var v_pos1;
												v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
												return (p5or(p5context([(function () {
														return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															}));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
															return (p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], p5want));
														})()], p5want)
													}));
											})()], 0), function () {
												return p5context([(p5num(v_last_match_null) < 2)], 0)
											})
										}, false, "", 0);
									v_MATCH = (v_m);
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp412._prototype_ = null;
			return tmp412
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "val_octal", (function () {
			var tmp413;
			tmp413 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('0' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1;
									v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									return (p5or(p5context([(function () {
											return (p5and(p5context([(function () {
													var v_pos1;
													v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													return (p5or(p5context([(function () {
															return (p5and(('x' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																	return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																}));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																return (p5context([p5and(('X' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																	})], p5want));
															})()], p5want)
														}));
												})()], 0), function () {
													return p5context([(function () {
														var v_last_match_null;
														v_last_match_null = (0);
														var v_m;
														v_m = (v_MATCH);
														var v_to;
														v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														var v_count;
														v_count = (0);
														p5while(function () {
																if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null = ((p5num(v_last_match_null) + 1));
																}
																else {
																	v_last_match_null = (0);
																};
																v_m = (v_MATCH);
																v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																v_count = ((p5num(v_count) + 1));
															}, function () {
																return p5and(p5context([(function () {
																	var v_m2;
																	v_m2 = (p5call(p5pkg["Perlito5::Grammar"], "word", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																	if ( p5bool(v_m2) ) {
																		(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																		return (p5context([1], p5want));
																	}
																	else {
																		return (p5context([0], p5want));
																	}
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null) < 2)], 0)
																})
															}, false, "", 0);
														v_MATCH = (v_m);
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
														return (p5context([(p5num(v_count) > 0)], p5want));
													})()], p5want)
												}));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(p5context([(function () {
														var v_pos1;
														v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														return (p5or(p5context([(function () {
																return (p5and(('b' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																	}));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																	return (p5context([p5and(('B' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																			return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																		})], p5want));
																})()], p5want)
															}));
													})()], 0), function () {
														return p5context([(function () {
															var v_last_match_null;
															v_last_match_null = (0);
															var v_m;
															v_m = (v_MATCH);
															var v_to;
															v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															var v_count;
															v_count = (0);
															p5while(function () {
																	if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																		v_last_match_null = ((p5num(v_last_match_null) + 1));
																	}
																	else {
																		v_last_match_null = (0);
																	};
																	v_m = (v_MATCH);
																	v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	v_count = ((p5num(v_count) + 1));
																}, function () {
																	return p5and(p5context([(function () {
																		var v_pos1;
																		v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																		return (p5or(p5context([(function () {
																				return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																					}));
																			})()], 0), function () {
																				return p5or(p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([p5and(('0' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																							return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																						})], p5want));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																						return (p5context([p5and(('1' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																							})], p5want));
																					})()], p5want)
																				})
																			}));
																	})()], 0), function () {
																		return p5context([(p5num(v_last_match_null) < 2)], 0)
																	})
																}, false, "", 0);
															v_MATCH = (v_m);
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
															return (p5context([(p5num(v_count) > 0)], p5want));
														})()], p5want)
													})], p5want));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([(function () {
															var v_last_match_null;
															v_last_match_null = (0);
															var v_m;
															v_m = (v_MATCH);
															var v_to;
															v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
															var v_count;
															v_count = (0);
															p5while(function () {
																	if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																		v_last_match_null = ((p5num(v_last_match_null) + 1));
																	}
																	else {
																		v_last_match_null = (0);
																	};
																	v_m = (v_MATCH);
																	v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																	v_count = ((p5num(v_count) + 1));
																}, function () {
																	return p5and(p5context([(function () {
																		var v_pos1;
																		v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
																		return (p5or(p5context([(function () {
																				return (p5and(('_' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																						return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
																					}));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
																					return (p5context([(function () {
																							var v_m2;
																							v_m2 = (p5call(v_grammar, "digit", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
																							if ( p5bool(v_m2) ) {
																								(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
																								return (p5context([1], p5want));
																							}
																							else {
																								return (p5context([0], p5want));
																							}
																						})()], p5want));
																				})()], p5want)
																			}));
																	})()], 0), function () {
																		return p5context([(p5num(v_last_match_null) < 2)], 0)
																	})
																}, false, "", 0);
															v_MATCH = (v_m);
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
															return (p5context([(p5num(v_count) > 0)], p5want));
														})()], p5want));
												})()], p5want)
											})
										}));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', p5pkg["Perlito5::Grammar::Number"].oct([p5pkg["Perlito5::Grammar::Number"].lc([p5pkg["Perlito5::Match"].flat([v_MATCH], 0)], 0)], 1)], 0)));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp413._prototype_ = null;
			return tmp413
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "val_int", (function () {
			var tmp414;
			tmp414 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "digits_underscore", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									var v_s;
									v_s = (p5pkg["Perlito5::Match"].flat([v_MATCH], 0));
									v_s = p5str(v_s).replace(/_/g, '');
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', v_s], 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp414._prototype_ = null;
			return tmp414
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "val_vstring", (function () {
			var tmp415;
			tmp415 = function (List__, p5want) {
				try {
					var v_grammar;
					v_grammar = (List__.p5aget(0));
					var v_str;
					v_str = (List__.p5aget(1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					var v_MATCH;
					v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
					var v_tmp;
					v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "val_int", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('val_int', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_last_match_null;
									v_last_match_null = (0);
									var v_m;
									v_m = (v_MATCH);
									var v_to;
									v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									var v_count;
									v_count = (0);
									p5while(function () {
											if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
												v_last_match_null = ((p5num(v_last_match_null) + 1));
											}
											else {
												v_last_match_null = (0);
											};
											v_m = (v_MATCH);
											v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
											v_count = ((p5num(v_count) + 1));
										}, function () {
											return p5and(p5context([p5and(p5context([p5and(('.' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_m2;
													v_m2 = (p5call(v_grammar, "digits_underscore", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														if ( (v_MATCH)._hash_.hasOwnProperty('digits_underscore') ) {
															p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number').p5push([v_m2]);
														}
														else {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('digits_underscore', ((new p5ArrayRef([v_m2]))));
														};
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0)
											})], 0), function () {
												return p5context([(p5num(v_last_match_null) < 2)], 0)
											})
										}, false, "", 0);
									v_MATCH = (v_m);
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
									return (p5context([(p5num(v_count) > 0)], p5want));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
										var List_parts = [];
										List_parts = p5list_to_a([p5map(p5pkg["Perlito5::Grammar::Number"], function (p5want) {
													return (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', p5pkg["Perlito5::Grammar::Number"]["v__"]], p5want));
												}, p5list_to_a([p5map(p5pkg["Perlito5::Grammar::Number"], function (p5want) {
	return (p5pkg["Perlito5::Match"].flat([p5pkg["Perlito5::Grammar::Number"]["v__"]], p5want));
}, p5list_to_a([p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number')]))]))]);
										if ( (p5num(List_parts.length) < 2) ) {
											throw(p5context([], p5want))
										};
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:vstring', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('val_int')._hash_.p5hget('capture'), List_parts])))]), 0)));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
					return (( p5bool(v_tmp) ? v_MATCH : 0));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp415._prototype_ = null;
			return tmp415
		})());
		p5typeglob_set("Perlito5::Grammar::Number", "val_version", (function () {
			var tmp416;
			tmp416 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([p5and(('v' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
								return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
							})], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "val_int", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('val_int', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_last_match_null;
										v_last_match_null = (0);
										var v_m;
										v_m = (v_MATCH);
										var v_to;
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										p5while(function () {
												if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
													v_last_match_null = ((p5num(v_last_match_null) + 1));
												}
												else {
													v_last_match_null = (0);
												};
												v_m = (v_MATCH);
												v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
											}, function () {
												return p5and(p5context([p5and(p5context([p5and(('.' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "digits_underscore", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															if ( (v_MATCH)._hash_.hasOwnProperty('digits_underscore') ) {
																p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number').p5push([v_m2]);
															}
															else {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('digits_underscore', ((new p5ArrayRef([v_m2]))));
															};
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0)
												})], 0), function () {
													return p5context([(p5num(v_last_match_null) < 2)], 0)
												})
											}, false, "", 0);
										v_MATCH = (v_m);
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
										return (p5context([1], p5want));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											var List_parts = [];
											List_parts = p5list_to_a([p5map(p5pkg["Perlito5::Grammar::Number"], function (p5want) {
														return (p5call(p5pkg["Perlito5::AST::Val::Int"], "new", ['int', p5pkg["Perlito5::Grammar::Number"]["v__"]], p5want));
													}, p5list_to_a([p5map(p5pkg["Perlito5::Grammar::Number"], function (p5want) {
	return (p5pkg["Perlito5::Match"].flat([p5pkg["Perlito5::Grammar::Number"]["v__"]], p5want));
}, p5list_to_a([p5array_deref((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number')]))]))]);
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'p5:vstring', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget_hash('val_int')._hash_.p5hget('capture'), List_parts])))]), 0)));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp416._prototype_ = null;
			return tmp416
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Grammar");
		// use Perlito5::Grammar::Expression
;
		// use Perlito5::Grammar::Statement
;
		// use Perlito5::Grammar::Control
;
		// use Perlito5::Grammar::String
;
		// use Perlito5::Grammar::Sigil
;
		// use Perlito5::Grammar::Use
;
		// use Perlito5::Grammar::Block
;
		// use Perlito5::Grammar::Space
;
		// use Perlito5::Grammar::Print
;
		// use Perlito5::Grammar::Map
;
		// use Perlito5::Grammar::Attribute
;
		// use Perlito5::Grammar::Number
;
		p5typeglob_set("Perlito5::Grammar", "word", (function () {
			var tmp417;
			tmp417 = function (List__, p5want) {
				return (( p5bool((p5str(p5str(List__.p5aget(1)).substr(p5num(List__.p5aget(2)), 1)).match(/\w/) ? 1 : 0)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(1), 'from', List__.p5aget(2), 'to', (p5num(List__.p5aget(2)) + 1)])))) : 0));
			};
			tmp417._prototype_ = null;
			return tmp417
		})());
		p5typeglob_set("Perlito5::Grammar", "ident", (function () {
			var tmp418;
			tmp418 = function (List__, p5want) {
				try {
					if ( (p5bool(!((p5str(p5str(List__.p5aget(1)).substr(p5num(List__.p5aget(2)), 1)).match(/\w/) ? 1 : 0))) || p5bool((p5str(p5str(List__.p5aget(1)).substr(p5num(List__.p5aget(2)), 1)).match(/\d/) ? 1 : 0))) ) {
						throw(p5context([], p5want))
					};
					var v_m;
					v_m = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(1), 'from', List__.p5aget(2), 'to', (p5num(List__.p5aget(2)) + 1)])))));
					p5while(function () {
							(v_m || (v_m = new p5HashRef({})))._hash_.p5postincr('to');
						}, function () {
							return (p5str(p5str(List__.p5aget(1)).substr(p5num((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to')), 1)).match(/\w/) ? 1 : 0)
						}, false, "", 0);
					return (p5context([v_m], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp418._prototype_ = null;
			return tmp418
		})());
		p5typeglob_set("Perlito5::Grammar", "caret_char", (function () {
			var tmp419;
			tmp419 = function (List__, p5want) {
				try {
					var v_c;
					v_c = (p5str(List__.p5aget(1)).substr(p5num(List__.p5aget(2)), 1));
					var v_pos;
					v_pos = (List__.p5aget(2));
					if ( (p5str(v_c) == '^') ) {
						(function () {
							var tmp420 = v_pos;
							v_pos = p5incr_(tmp420);
							return tmp420
						})();
						v_c = (p5str(List__.p5aget(1)).substr(p5num(v_pos), 1));
						if ( ((p5str(v_c) < 'A') || (p5str(v_c) > 'Z')) ) {
							throw(p5context([0], p5want))
						};
						v_c = (p5pkg["Perlito5::Grammar"].chr([((p5pkg["Perlito5::Grammar"].ord([v_c], 0) - p5pkg["Perlito5::Grammar"].ord(['A'], 0)) + 1)], 0));
					}
					else if ( p5bool(p5call(p5pkg["Perlito5::Grammar::Space"], "ws", p5list_to_a([List__.p5aget(1), v_pos]), 0)) ) {
						throw(p5context([0], p5want));
					};
					if ( ((p5str(v_c) < String.fromCharCode(1)) || (p5str(v_c) > String.fromCharCode(26))) ) {
						throw(p5context([0], p5want))
					};
					return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(1), 'from', List__.p5aget(2), 'to', (p5num(v_pos) + 1), 'capture', v_c])))));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp419._prototype_ = null;
			return tmp419
		})());
		p5typeglob_set("Perlito5::Grammar", "full_ident", (function () {
			var tmp421;
			tmp421 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									var v_last_match_null;
									v_last_match_null = (0);
									var v_m;
									v_m = (v_MATCH);
									var v_to;
									v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
									p5while(function () {
											if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
												v_last_match_null = ((p5num(v_last_match_null) + 1));
											}
											else {
												v_last_match_null = (0);
											};
											v_m = (v_MATCH);
											v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										}, function () {
											return p5and(p5context([p5and(p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_m2;
													v_m2 = (p5call(v_grammar, "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0)
											})], 0), function () {
												return p5context([(p5num(v_last_match_null) < 2)], 0)
											})
										}, false, "", 0);
									v_MATCH = (v_m);
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp421._prototype_ = null;
			return tmp421
		})());
		p5typeglob_set("Perlito5::Grammar", "namespace_before_ident", (function () {
			var tmp422;
			tmp422 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_tmp;
									v_tmp = (v_MATCH);
									v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
									var v_res;
									v_res = (p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
											})], 0));
									v_MATCH = (v_tmp);
									return (( p5bool(v_res) ? 1 : 0));
								})()], 0), function () {
									return p5context([(function () {
										var v_last_match_null;
										v_last_match_null = (0);
										var v_m;
										v_m = (v_MATCH);
										var v_to;
										v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
										p5while(function () {
												if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
													v_last_match_null = ((p5num(v_last_match_null) + 1));
												}
												else {
													v_last_match_null = (0);
												};
												v_m = (v_MATCH);
												v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
											}, function () {
												return p5and(p5context([p5and(p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															var v_tmp;
															v_tmp = (v_MATCH);
															v_MATCH = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'from', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp || (v_tmp = new p5HashRef({})))._hash_.p5hget('to')])))));
															var v_res;
															v_res = (p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																		return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
																	})], 0));
															v_MATCH = (v_tmp);
															return (( p5bool(v_res) ? 1 : 0));
														})()], 0)
													})
												})], 0), function () {
													return p5context([(p5num(v_last_match_null) < 2)], 0)
												})
											}, false, "", 0);
										v_MATCH = (v_m);
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
										return (p5context([1], p5want));
									})()], 0)
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp422._prototype_ = null;
			return tmp422
		})());
		p5typeglob_set("Perlito5::Grammar", "optional_namespace_before_ident", (function () {
			var tmp423;
			tmp423 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_m2;
												v_m2 = (p5call(v_grammar, "namespace_before_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
												if ( p5bool(v_m2) ) {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('namespace_before_ident', (v_m2));
													return (p5context([1], p5want));
												}
												else {
													return (p5context([0], p5want));
												}
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_last_match_null;
													v_last_match_null = (0);
													var v_m;
													v_m = (v_MATCH);
													var v_to;
													v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
													p5while(function () {
															if ( (p5num(v_to) == p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																v_last_match_null = ((p5num(v_last_match_null) + 1));
															}
															else {
																v_last_match_null = (0);
															};
															v_m = (v_MATCH);
															v_to = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
														}, function () {
															return p5and(p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
															})], 0), function () {
																return p5context([(p5num(v_last_match_null) < 2)], 0)
															})
														}, false, "", 0);
													v_MATCH = (v_m);
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_to));
													return (p5context([1], p5want));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('namespace_before_ident')]), 0)));
														return (p5context([1], p5want));
													})()], p5want)
												})
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(p5context([p5and(('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2;
														v_m2 = (p5call(v_grammar, "optional_namespace_before_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
														if ( p5bool(v_m2) ) {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('optional_namespace_before_ident', (v_m2));
															return (p5context([1], p5want));
														}
														else {
															return (p5context([0], p5want));
														}
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															var v_name;
															v_name = (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('optional_namespace_before_ident')]), 0));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ('main'));
															if ( (p5str(v_name) != '') ) {
																(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', ((p5str((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('capture')) + ('::' + p5str(v_name)))))
															};
															return (p5context([1], p5want));
														})()], p5want)
													})
												})], p5want));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(1, function () {
														return p5context([(function () {
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
															(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (''));
															return (p5context([1], p5want));
														})()], p5want)
													})], p5want));
											})()], p5want)
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp423._prototype_ = null;
			return tmp423
		})());
		p5typeglob_set("Perlito5::Grammar", "exp_stmts2", (function () {
			var tmp424;
			tmp424 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "exp_stmts", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('exp_stmts', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('exp_stmts')]), 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp424._prototype_ = null;
			return tmp424
		})());
		p5typeglob_set("Perlito5::Grammar", "exp", (function () {
			var tmp425;
			tmp425 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "exp_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.exp_parse', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.exp_parse')]), 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp425._prototype_ = null;
			return tmp425
		})());
		p5typeglob_set("Perlito5::Grammar", "exp2", (function () {
			var tmp426;
			tmp426 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(p5pkg["Perlito5::Grammar::Expression"], "exp_parse", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression.exp_parse', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression.exp_parse')]), 0)));
									return (p5context([1], p5want));
								})()], 0)
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp426._prototype_ = null;
			return tmp426
		})());
		p5typeglob_set("Perlito5::Grammar", "opt_type", (function () {
			var tmp427;
			tmp427 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(p5context([(function () {
												var v_m;
												v_m = (v_MATCH);
												if ( !( (('::' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 2)) && p5bool((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((2 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))))) ) {
													v_MATCH = (v_m);
												};
												return (p5context([1], p5want));
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2;
													v_m2 = (p5call(v_grammar, "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('full_ident', (v_m2));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('full_ident')]), 0)));
														return (p5context([1], p5want));
													})()], p5want)
												})
											}));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(1, function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (''));
														return (p5context([1], p5want));
													})()], p5want)
												})], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp427._prototype_ = null;
			return tmp427
		})());
		p5typeglob_set("Perlito5::Grammar", "var_sigil", (function () {
			var tmp428;
			tmp428 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										return (p5and(('$' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
												return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
											}));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([p5and(('%' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
													return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
												})], p5want));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
												return (p5context([p5and(('@' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
														return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
													})], p5want));
											})()], 0), function () {
												return p5or(p5context([(function () {
													(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
													return (p5context([p5and(('&' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
															return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
														})], p5want));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
														return (p5context([p5and(('*' == p5str(v_str).substr(p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')), 1)), function () {
																return p5context([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((1 + p5num((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')))))], p5want)
															})], p5want));
													})()], p5want)
												})
											})
										})
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp428._prototype_ = null;
			return tmp428
		})());
		p5typeglob_set("Perlito5::Grammar", "var_name", (function () {
			var tmp429;
			tmp429 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([(function () {
								var v_pos1;
								v_pos1 = ((v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to'));
								return (p5or(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "full_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('full_ident', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', (v_pos1));
											return (p5context([(function () {
													var v_m2;
													v_m2 = (p5call(p5pkg["Perlito5::Grammar::Number"], "digits", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
													if ( p5bool(v_m2) ) {
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number.digits', (v_m2));
														return (p5context([1], p5want));
													}
													else {
														return (p5context([0], p5want));
													}
												})()], p5want));
										})()], p5want)
									}));
							})()], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp429._prototype_ = null;
			return tmp429
		})());
		p5typeglob_set("Perlito5::Grammar", "var_ident", (function () {
			var tmp430;
			tmp430 = function (List__, p5want) {
				var v_grammar;
				v_grammar = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				var v_MATCH;
				v_MATCH = ((new p5HashRef({'str' : v_str, 'from' : v_pos, 'to' : v_pos})));
				var v_tmp;
				v_tmp = (p5context([p5context([p5and(p5context([(function () {
								var v_m2;
								v_m2 = (p5call(v_grammar, "var_sigil", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
								if ( p5bool(v_m2) ) {
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('var_sigil', (v_m2));
									return (p5context([1], p5want));
								}
								else {
									return (p5context([0], p5want));
								}
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2;
									v_m2 = (p5call(v_grammar, "optional_namespace_before_ident", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
									if ( p5bool(v_m2) ) {
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('optional_namespace_before_ident', (v_m2));
										return (p5context([1], p5want));
									}
									else {
										return (p5context([0], p5want));
									}
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2;
										v_m2 = (p5call(v_grammar, "var_name", p5list_to_a([v_str, (v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('to')]), 0));
										if ( p5bool(v_m2) ) {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('to', ((v_m2 || (v_m2 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('var_name', (v_m2));
											return (p5context([1], p5want));
										}
										else {
											return (p5context([0], p5want));
										}
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('str', (v_str));
											(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hset('capture', (p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a(['sigil', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('var_sigil')]), 1), 'namespace', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('optional_namespace_before_ident')]), 1), 'name', p5pkg["Perlito5::Match"].flat(p5list_to_a([(v_MATCH || (v_MATCH = new p5HashRef({})))._hash_.p5hget('var_name')]), 1)]), 0)));
											return (p5context([1], p5want));
										})()], 0)
									})
								})
							})], 0)], 0));
				return (( p5bool(v_tmp) ? v_MATCH : 0));
			};
			tmp430._prototype_ = null;
			return tmp430
		})());
		var List_PKG = [];
		p5typeglob_set("Perlito5::Grammar", "exp_stmts", (function () {
			var tmp431;
			tmp431 = function (List__, p5want) {
				var v_self;
				v_self = (List__.p5aget(0));
				var v_str;
				v_str = (List__.p5aget(1));
				var v_pos;
				v_pos = (List__.p5aget(2));
				List_PKG.p5push([p5make_package("Perlito5")["v_PKG_NAME"]]);
				var List_stmts = [];
				var v_m;
				v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_pos], 0));
				v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
				p5while(function () {
							if ( (p5str(v_str).substr(p5num(v_pos), 1) == ';') ) {
								v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, (p5num(v_pos) + 1)], 0));
								v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
							}
							else {
								v_m = (p5call(p5pkg["Perlito5::Grammar::Statement"], "statement_parse", [v_str, v_pos], 0));
								if ( p5bool(v_m) ) {
									List_stmts.p5push(p5list_to_a([(v_m || (v_m = new p5HashRef({})))._hash_.p5hget('capture')]));
									v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
									if ( (p5str(v_str).substr(p5num(v_pos), 1) == ';') ) {
										v_pos = ((p5num(v_pos) + 1));
									};
									v_m = (p5call(p5pkg["Perlito5::Grammar::Space"], "opt_ws", [v_str, v_pos], 0));
									v_pos = ((v_m || (v_m = new p5HashRef({})))._hash_.p5hget('to'));
								};
							};
						}, function () {
							return v_m
						}, false, "", 0);
				p5make_package("Perlito5")["v_PKG_NAME"] = (List_PKG.pop());
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str, 'to', v_pos, 'capture', (new p5ArrayRef(List_stmts))])))));
			};
			tmp431._prototype_ = null;
			return tmp431
		})());
	})();
	// use Perlito5::Grammar
;
	// use Perlito5::Grammar::Control
;
	// use Perlito5::Grammar::Precedence
;
	// use Perlito5::Grammar::Expression
;
	(function () {
		null;
		p5make_package("Perlito5::AST::Apply");
		var Hash_op = {};
		Hash_op = {'infix:<+=>' : 'infix:<+>', 'infix:<-=>' : 'infix:<->', 'infix:<*=>' : 'infix:<*>', 'infix:</=>' : 'infix:</>', 'infix:<||=>' : 'infix:<||>', 'infix:<&&=>' : 'infix:<&&>', 'infix:<|=>' : 'infix:<|>', 'infix:<&=>' : 'infix:<&>', 'infix:<//=>' : 'infix:<//>', 'infix:<.=>' : 'list:<.>'};
		p5typeglob_set("Perlito5::AST::Apply", "op_assign", (function () {
			var tmp432;
			tmp432 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_code;
					v_code = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code'));
					if ( p5bool(p5pkg["Perlito5::AST::Apply"].ref([v_code], 0)) ) {
						throw(p5context([0], p5want))
					};
					if ( (Hash_op).hasOwnProperty(v_code) ) {
						throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', Hash_op.p5hget(p5str(v_code)), 'arguments', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('arguments')]), 1)])))]), p5want));
					};
					return (p5context([0], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp432._prototype_ = null;
			return tmp432
		})());
		p5make_package("Perlito5::AST::Do");
		p5typeglob_set("Perlito5::AST::Do", "simplify", (function () {
			var tmp433;
			tmp433 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.p5aget(0));
					var v_block;
					if ( p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('block'), "isa", ['Perlito5::AST::Lit::Block'], 0)) ) {
						v_block = (p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('block'), "stmts", [], 0));
					}
					else {
						v_block = ((new p5ArrayRef(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('block')]))));
					};
					if ( (p5num((p5num(p5array_deref((v_block || (v_block = new p5ArrayRef([]))), 'Perlito5::AST::Do')))) == 1) ) {
						(function () {
							var v_stmt;
							v_stmt = ((v_block || (v_block = new p5ArrayRef([])))._array_.p5aget(0));
							if ( (p5bool(p5call(v_stmt, "isa", ['Perlito5::AST::Apply'], 0)) && (p5str(p5call(v_stmt, "code", [], 0)) == 'circumfix:<( )>')) ) {
								(function () {
									var v_args;
									v_args = (p5call(v_stmt, "arguments", [], 0));
									if ( (p5num(p5num(p5array_deref((v_args || (v_args = new p5ArrayRef([]))), 'Perlito5::AST::Do'))) == 1) ) {
										throw(p5call(p5call(p5pkg["Perlito5::AST::Do"], "new", p5list_to_a(['block', (v_args || (v_args = new p5ArrayRef([])))._array_.p5aget(0)]), 0), "simplify", [], p5want))
									};
									throw(p5call(p5pkg["Perlito5::AST::Do"], "new", ['block', v_block], p5want));
								})();
							};
							if ( p5bool(p5call(v_stmt, "isa", ['Perlito5::AST::Do'], 0)) ) {
								throw(p5call(v_stmt, "simplify", [], p5want));
							};
						})();
					};
					return (p5call(p5pkg["Perlito5::AST::Do"], "new", ['block', v_block], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp433._prototype_ = null;
			return tmp433
		})());
	})();
	// use Perlito5::Macro
;
	(function () {
		p5make_package("Perlito5");
		// use strict
;
		if ( (p5scalar_deref(String.fromCharCode(15), 'Perlito5', "") != null) ) {}
		else {
			p5scalar_deref_set((String.fromCharCode(15) || (String.fromCharCode(15) = new p5ScalarRef(null))), ('perlito5'), 'Perlito5')
		};
		if ( p5bool(p5make_package("main")["v_]"]) ) {}
		else {
			p5make_package("main")["v_]"] = ('5.020000')
		};
		if ( (p5pkg["main"]["v_/"] != null) ) {}
		else {
			p5pkg["main"]["v_/"] = (p5pkg["Perlito5"].chr([10], 0))
		};
		if ( (p5pkg["main"]["v_\""] != null) ) {}
		else {
			p5pkg["main"]["v_\""] = (' ')
		};
		if ( (p5pkg["main"]["v_,"] != null) ) {}
		else {
			p5pkg["main"]["v_,"] = (null)
		};
		if ( (p5pkg["main"]["v_!"] != null) ) {}
		else {
			p5pkg["main"]["v_!"] = ('')
		};
		if ( (p5pkg["main"]["v_;"] != null) ) {}
		else {
			p5pkg["main"]["v_;"] = (p5pkg["Perlito5"].chr([28], 0))
		};
		if ( (p5pkg["main"]["v_?"] != null) ) {}
		else {
			p5pkg["main"]["v_?"] = (0)
		};
		if ( (p5pkg["main"]["v_["] != null) ) {}
		else {
			p5pkg["main"]["v_["] = (0)
		};
		if ( (p5scalar_deref(String.fromCharCode(22), 'Perlito5', "") != null) ) {}
		else {
			p5scalar_deref_set((String.fromCharCode(22) || (String.fromCharCode(22) = new p5ScalarRef(null))), (p5pkg["Perlito5"].bless([(new p5HashRef(p5a_to_h(p5list_to_a(['original', 'v5.14.1', 'qv', 1, 'version', (new p5ArrayRef([5, 14, 1]))])))), 'version'], 0)), 'Perlito5')
		};
		// our p5pkg["Perlito5"]["v_EXPAND_USE"]
		p5pkg["Perlito5"]["v_EXPAND_USE"] = (1);
		// our p5pkg["Perlito5"]["v_STRICT"]
		p5pkg["Perlito5"]["v_STRICT"] = (0);
		// our p5pkg["Perlito5"]["v_WARNINGS"]
		p5pkg["Perlito5"]["v_WARNINGS"] = (0);
		// our p5pkg["Perlito5"]["v_UTF8"]
		p5pkg["Perlito5"]["v_UTF8"] = (0);
		// our p5pkg["Perlito5"]["v_BYTES"]
		p5pkg["Perlito5"]["v_BYTES"] = (0);
		// our p5pkg["Perlito5"]["v_CALLER"]
		p5pkg["Perlito5"]["v_CALLER"] = ((new p5ArrayRef([])));
		if (typeof p5pkg["Perlito5"]["Hash_DATA_SECTION"] == "undefined" ) { p5pkg["Perlito5"]["Hash_DATA_SECTION"] = {};}
		p5pkg["Perlito5"]["Hash_DATA_SECTION"] = {};
		// our p5pkg["Perlito5"]["v_PKG_NAME"]
		p5pkg["Perlito5"]["v_PKG_NAME"] = ('');
		// our p5pkg["Perlito5"]["v_LINE_NUMBER"]
		p5pkg["Perlito5"]["v_LINE_NUMBER"] = (0);
		// our p5pkg["Perlito5"]["v_FILE_NAME"]
		p5pkg["Perlito5"]["v_FILE_NAME"] = ('');
		// our p5pkg["Perlito5"]["v_PACKAGES"]
		p5pkg["Perlito5"]["v_PACKAGES"] = ((new p5HashRef({'STDERR' : 1, 'STDOUT' : 1, 'STDIN' : 1, 'main' : 1, 'strict' : 1, 'warnings' : 1, 'utf8' : 1, 'bytes' : 1, 'encoding' : 1, 'UNIVERSAL' : 1, 'CORE' : 1, 'CORE::GLOBAL' : 1, 'Perlito5::IO' : 1})));
		p5for(p5make_package("Perlito5"), "v__", function () {
				p5pkg["main"]["List_INC"].p5push([p5pkg["Perlito5"]["v__"]]);
			}, p5list_to_a([CORE.split([':', p5context([p5or(p5pkg["main"]["Hash_ENV"].p5hget('PERL5LIB'), function () {
	return ''
})], 0)], 1)]), false, "");
		// our p5pkg["Perlito5"]["v_SPECIAL_VAR"]
		p5pkg["Perlito5"]["v_SPECIAL_VAR"] = ((new p5HashRef(p5a_to_h(p5list_to_a(['$_', 'ARG', '$&', '$MATCH', '$`', '$PREMATCH', '$' + String.fromCharCode(39), '$POSTMATCH', '$+', '$LAST_PAREN_MATCH', '@+', '@LAST_MATCH_END', '%+', '%LAST_PAREN_MATCH', '@-', '@LAST_MATCH_START', '$|', 'autoflush', '$/', '$RS', '@_', '@ARG', '< $', '$EUID', '$.', '$NR', '< $< ', '$UID', '$(', '$GID', '$#', null, '$@', '$EVAL_ERROR', '$=', '$FORMAT_LINES_PER_PAGE', '$,', '$OFS', '$?', '$CHILD_ERROR', '$*', null, '$[', null, '$$', '$PID', '%-', null, '$~', '$FORMAT_NAME', '$-', '$FORMAT_LINES_LEFT', '$&', '$MATCH', '$%', '$FORMAT_PAGE_NUMBER', '$)', '$EGID', '$]', null, '$!', '$ERRNO', '$;', '$SUBSEP', '$' + String.fromCharCode(92), '$ORS', '%!', null, '$"', '$LIST_SEPARATOR', '$_', '$ARG', '$:', 'FORMAT_LINE_BREAK_CHARACTERS'])))));
		// our p5pkg["Perlito5"]["v_CORE_OVERRIDABLE"]
		p5pkg["Perlito5"]["v_CORE_OVERRIDABLE"] = ((new p5HashRef({'say' : 1, 'break' : 1, 'given' : 1, 'when' : 1, 'default' : 1, 'state' : 1, 'lock' : 1})));
		// our p5pkg["Perlito5"]["v_CORE_PROTO"]
		p5pkg["Perlito5"]["v_CORE_PROTO"] = ((new p5HashRef(p5a_to_h(p5list_to_a(['CORE::shutdown', '*$', 'CORE::chop', null, 'CORE::lstat', '*', 'CORE::rename', '$$', 'CORE::lock', String.fromCharCode(92) + '$', 'CORE::rand', ';$', 'CORE::gmtime', ';$', 'CORE::gethostbyname', '$', 'CORE::each', String.fromCharCode(92) + '[@%]', 'CORE::ref', '_', 'CORE::syswrite', '*$;$$', 'CORE::msgctl', '$$$', 'CORE::getnetbyname', '$', 'CORE::write', ';*', 'CORE::alarm', '_', 'CORE::print', null, 'CORE::getnetent', '', 'CORE::semget', '$$$', 'CORE::use', null, 'CORE::abs', '_', 'CORE::break', '', 'CORE::undef', null, 'CORE::no', null, 'CORE::eval', '_', 'CORE::split', null, 'CORE::localtime', ';$', 'CORE::sort', null, 'CORE::chown', '@', 'CORE::endpwent', '', 'CORE::getpwent', '', 'CORE::pos', null, 'CORE::lcfirst', '_', 'CORE::kill', '@', 'CORE::send', '*$$;$', 'CORE::endprotoent', '', 'CORE::semctl', '$$$$', 'CORE::waitpid', '$$', 'CORE::utime', '@', 'CORE::dbmclose', String.fromCharCode(92) + '%', 'CORE::getpwnam', '$', 'CORE::substr', '$$;$$', 'CORE::listen', '*$', 'CORE::getprotoent', '', 'CORE::shmget', '$$$', 'CORE::our', null, 'CORE::readlink', '_', 'CORE::shmwrite', '$$$$', 'CORE::times', '', 'CORE::package', null, 'CORE::map', null, 'CORE::join', '$@', 'CORE::rmdir', '_', 'CORE::shmread', '$$$$', 'CORE::uc', '_', 'CORE::bless', '$;$', 'CORE::closedir', '*', 'CORE::getppid', '', 'CORE::tie', String.fromCharCode(92) + '[$@%]$;@', 'CORE::readdir', '*', 'CORE::gethostent', '', 'CORE::getlogin', '', 'CORE::last', null, 'CORE::gethostbyaddr', '$$', 'CORE::accept', '**', 'CORE::log', '_', 'CORE::tell', ';*', 'CORE::readline', ';*', 'CORE::tied', null, 'CORE::socket', '*$$$', 'CORE::umask', ';$', 'CORE::sysread', '*' + String.fromCharCode(92) + '$$;$', 'CORE::syscall', '$@', 'CORE::quotemeta', '_', 'CORE::dump', '', 'CORE::opendir', '*$', 'CORE::untie', null, 'CORE::truncate', '$$', 'CORE::select', ';*', 'CORE::sleep', ';$', 'CORE::seek', '*$$', 'CORE::read', '*' + String.fromCharCode(92) + '$$;$', 'CORE::rewinddir', '*', 'CORE::scalar', null, 'CORE::wantarray', '', 'CORE::oct', '_', 'CORE::bind', '*$', 'CORE::stat', '*', 'CORE::sqrt', '_', 'CORE::getc', ';*', 'CORE::fileno', '*', 'CORE::getpeername', '*', 'CORE::sin', '_', 'CORE::getnetbyaddr', '$$', 'CORE::grep', null, 'CORE::setservent', '$', 'CORE::sub', null, 'CORE::shmctl', '$$$', 'CORE::study', null, 'CORE::msgrcv', '$$$$$', 'CORE::setsockopt', '*$$$', 'CORE::int', '_', 'CORE::pop', ';' + String.fromCharCode(92) + '@', 'CORE::link', '$$', 'CORE::exec', null, 'CORE::setpwent', '', 'CORE::mkdir', '_;$', 'CORE::sysseek', '*$$', 'CORE::endservent', '', 'CORE::chr', '_', 'CORE::when', null, 'CORE::getpwuid', '$', 'CORE::setprotoent', '$', 'CORE::reverse', '@', 'CORE::say', null, 'CORE::goto', null, 'CORE::getgrent', '', 'CORE::endnetent', '', 'CORE::hex', '_', 'CORE::binmode', '*;$', 'CORE::formline', '$@', 'CORE::getgrnam', '$', 'CORE::ucfirst', '_', 'CORE::chdir', ';$', 'CORE::setnetent', '$', 'CORE::splice', String.fromCharCode(92) + '@;$$@', 'CORE::unlink', '@', 'CORE::time', '', 'CORE::push', String.fromCharCode(92) + '@@', 'CORE::exit', ';$', 'CORE::endgrent', '', 'CORE::unshift', String.fromCharCode(92) + '@@', 'CORE::local', null, 'CORE::my', null, 'CORE::cos', '_', 'CORE::redo', null, 'CORE::warn', '@', 'CORE::getsockname', '*', 'CORE::pipe', '**', 'CORE::sprintf', '$@', 'CORE::open', '*;$@', 'CORE::setpgrp', ';$$', 'CORE::exp', '_', 'CORE::seekdir', '*$', 'CORE::getservbyport', '$$', 'CORE::given', null, 'CORE::pack', '$@', 'CORE::msgget', '$$', 'CORE::rindex', '$$;$', 'CORE::srand', ';$', 'CORE::telldir', '*', 'CORE::connect', '*$', 'CORE::getprotobyname', '$', 'CORE::msgsnd', '$$$', 'CORE::length', '_', 'CORE::state', null, 'CORE::die', '@', 'CORE::delete', null, 'CORE::getservent', '', 'CORE::getservbyname', '$$', 'CORE::setpriority', '$$$', 'CORE::lc', '_', 'CORE::fcntl', '*$$', 'CORE::chroot', '_', 'CORE::recv', '*' + String.fromCharCode(92) + '$$$', 'CORE::dbmopen', String.fromCharCode(92) + '%$$', 'CORE::socketpair', '**$$$', 'CORE::vec', '$$$', 'CORE::system', null, 'CORE::defined', '_', 'CORE::index', '$$;$', 'CORE::caller', ';$', 'CORE::close', ';*', 'CORE::atan2', '$$', 'CORE::semop', '$$', 'CORE::unpack', '$;$', 'CORE::ord', '_', 'CORE::chmod', '@', 'CORE::prototype', null, 'CORE::getprotobynumber', '$', 'CORE::values', String.fromCharCode(92) + '[@%]', 'CORE::chomp', null, 'CORE::ioctl', '*$$', 'CORE::eof', ';*', 'CORE::crypt', '$$', 'CORE::do', null, 'CORE::flock', '*$', 'CORE::wait', '', 'CORE::sethostent', '$', 'CORE::return', null, 'CORE::getsockopt', '*$$', 'CORE::fork', '', 'CORE::require', null, 'CORE::format', null, 'CORE::readpipe', '_', 'CORE::endhostent', '', 'CORE::getpgrp', ';$', 'CORE::setgrent', '', 'CORE::keys', String.fromCharCode(92) + '[@%]', 'CORE::glob', null, 'CORE::getpriority', '$$', 'CORE::reset', ';$', 'CORE::sysopen', '*$$;$', 'CORE::continue', '', 'CORE::next', null, 'CORE::getgrgid', '$', 'CORE::default', null, 'CORE::shift', ';' + String.fromCharCode(92) + '@', 'CORE::symlink', '$$', 'CORE::exists', '$', 'CORE::printf', '$@', 'CORE::m', null, 'CORE::q', null, 'CORE::qq', null, 'CORE::qw', null, 'CORE::qx', null, 'CORE::qr', null, 'CORE::s', null, 'CORE::tr', null, 'CORE::y', null, 'CORE::if', null, 'CORE::unless', null, 'CORE::when', null, 'CORE::for', null, 'CORE::foreach', null, 'CORE::while', null, 'CORE::given', null, 'CORE::and', null, 'CORE::or', null, 'CORE::xor', null, 'CORE::not', null, 'CORE::cmp', null])))));
		1;
	})();
	// use Perlito5::Runtime
;
	(function () {
		null;
		p5make_package("Perlito5::AST::CompUnit");
		p5typeglob_set("Perlito5::AST::CompUnit", "new", (function () {
			var tmp434;
			tmp434 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::CompUnit"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp434._prototype_ = null;
			return tmp434
		})());
		p5typeglob_set("Perlito5::AST::CompUnit", "name", (function () {
			var tmp435;
			tmp435 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('name'));
			};
			tmp435._prototype_ = null;
			return tmp435
		})());
		p5typeglob_set("Perlito5::AST::CompUnit", "body", (function () {
			var tmp436;
			tmp436 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp436._prototype_ = null;
			return tmp436
		})());
		p5make_package("Perlito5::AST::Val::Int");
		p5typeglob_set("Perlito5::AST::Val::Int", "new", (function () {
			var tmp437;
			tmp437 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Val::Int"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp437._prototype_ = null;
			return tmp437
		})());
		p5typeglob_set("Perlito5::AST::Val::Int", "int", (function () {
			var tmp438;
			tmp438 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('int'));
			};
			tmp438._prototype_ = null;
			return tmp438
		})());
		p5make_package("Perlito5::AST::Val::Num");
		p5typeglob_set("Perlito5::AST::Val::Num", "new", (function () {
			var tmp439;
			tmp439 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Val::Num"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp439._prototype_ = null;
			return tmp439
		})());
		p5typeglob_set("Perlito5::AST::Val::Num", "num", (function () {
			var tmp440;
			tmp440 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('num'));
			};
			tmp440._prototype_ = null;
			return tmp440
		})());
		p5make_package("Perlito5::AST::Val::Buf");
		p5typeglob_set("Perlito5::AST::Val::Buf", "new", (function () {
			var tmp441;
			tmp441 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Val::Buf"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp441._prototype_ = null;
			return tmp441
		})());
		p5typeglob_set("Perlito5::AST::Val::Buf", "buf", (function () {
			var tmp442;
			tmp442 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('buf'));
			};
			tmp442._prototype_ = null;
			return tmp442
		})());
		p5make_package("Perlito5::AST::Lit::Block");
		p5typeglob_set("Perlito5::AST::Lit::Block", "new", (function () {
			var tmp443;
			tmp443 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Lit::Block"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp443._prototype_ = null;
			return tmp443
		})());
		p5typeglob_set("Perlito5::AST::Lit::Block", "sig", (function () {
			var tmp444;
			tmp444 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('sig'));
			};
			tmp444._prototype_ = null;
			return tmp444
		})());
		p5typeglob_set("Perlito5::AST::Lit::Block", "stmts", (function () {
			var tmp445;
			tmp445 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('stmts'));
			};
			tmp445._prototype_ = null;
			return tmp445
		})());
		p5make_package("Perlito5::AST::Index");
		p5typeglob_set("Perlito5::AST::Index", "new", (function () {
			var tmp446;
			tmp446 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Index"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp446._prototype_ = null;
			return tmp446
		})());
		p5typeglob_set("Perlito5::AST::Index", "obj", (function () {
			var tmp447;
			tmp447 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('obj'));
			};
			tmp447._prototype_ = null;
			return tmp447
		})());
		p5typeglob_set("Perlito5::AST::Index", "index_exp", (function () {
			var tmp448;
			tmp448 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('index_exp'));
			};
			tmp448._prototype_ = null;
			return tmp448
		})());
		p5make_package("Perlito5::AST::Lookup");
		p5typeglob_set("Perlito5::AST::Lookup", "new", (function () {
			var tmp449;
			tmp449 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Lookup"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp449._prototype_ = null;
			return tmp449
		})());
		p5typeglob_set("Perlito5::AST::Lookup", "obj", (function () {
			var tmp450;
			tmp450 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('obj'));
			};
			tmp450._prototype_ = null;
			return tmp450
		})());
		p5typeglob_set("Perlito5::AST::Lookup", "index_exp", (function () {
			var tmp451;
			tmp451 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('index_exp'));
			};
			tmp451._prototype_ = null;
			return tmp451
		})());
		p5typeglob_set("Perlito5::AST::Lookup", "autoquote", (function () {
			var tmp452;
			tmp452 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					var v_index;
					v_index = (List__.shift());
					if ( (p5bool(p5call(v_index, "isa", ['Perlito5::AST::Apply'], 0)) && p5bool((v_index || (v_index = new p5HashRef({})))._hash_.p5hget('bareword'))) ) {
						(function () {
							var v_full_name;
							v_full_name = ((p5str(( p5bool((v_index || (v_index = new p5HashRef({})))._hash_.p5hget('namespace')) ? (p5str((v_index || (v_index = new p5HashRef({})))._hash_.p5hget('namespace')) + '::') : '')) + p5str((v_index || (v_index = new p5HashRef({})))._hash_.p5hget('code'))));
							if ( !( (p5make_package("Perlito5")["v_PROTO"])._hash_.hasOwnProperty(v_full_name)) ) {
								throw(p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', v_full_name], p5want));
							};
						})();
					}
					else if ( (p5bool(p5call(v_index, "isa", ['Perlito5::AST::Apply'], 0)) && ((p5str(p5call(v_index, "code", [], 0)) == 'prefix:<->') || (p5str(p5call(v_index, "code", [], 0)) == 'prefix:<+>'))) ) {
						(function () {
							var v_arg;
							v_arg = (p5call(v_index, "arguments", [], p5want)._array_.p5aget(0));
							if ( p5bool(v_arg) ) {
								throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', p5call(v_index, "code", [], 1), 'namespace', p5call(v_index, "namespace", [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5call(v_self, "autoquote", [v_arg], 1)])))]), p5want))
							};
						})();
					}
					else if ( (p5bool(p5call(v_index, "isa", ['Perlito5::AST::Apply'], 0)) && (p5str(p5call(v_index, "code", [], 0)) == 'list:<,>')) ) {
						(function () {
							var v_args;
							v_args = (p5call(v_index, "arguments", [], 0));
							throw(p5call(p5pkg["Perlito5::AST::Apply"], "new", p5list_to_a(['code', 'join', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::Var"], "new", ['name', ';', 'namespace', '', 'sigil', '$'], 1), p5map(p5pkg["Perlito5::AST::Lookup"], function (p5want) {
	return (( (p5pkg["Perlito5::AST::Lookup"]["v__"] != null) ? p5pkg["Perlito5::AST::Lookup"]["v__"] : p5call(p5pkg["Perlito5::AST::Val::Buf"], "new", ['buf', ''], p5want)));
}, p5list_to_a([p5array_deref((v_args || (v_args = new p5ArrayRef([]))), 'Perlito5::AST::Lookup')]))])))]), p5want));
						})();
					};
					return (p5context([v_index], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp452._prototype_ = null;
			return tmp452
		})());
		p5make_package("Perlito5::AST::Var");
		p5typeglob_set("Perlito5::AST::Var", "new", (function () {
			var tmp453;
			tmp453 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Var"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp453._prototype_ = null;
			return tmp453
		})());
		p5typeglob_set("Perlito5::AST::Var", "sigil", (function () {
			var tmp454;
			tmp454 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('sigil'));
			};
			tmp454._prototype_ = null;
			return tmp454
		})());
		p5typeglob_set("Perlito5::AST::Var", "namespace", (function () {
			var tmp455;
			tmp455 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('namespace'));
			};
			tmp455._prototype_ = null;
			return tmp455
		})());
		p5typeglob_set("Perlito5::AST::Var", "name", (function () {
			var tmp456;
			tmp456 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('name'));
			};
			tmp456._prototype_ = null;
			return tmp456
		})());
		p5typeglob_set("Perlito5::AST::Var", "plain_name", (function () {
			var tmp457;
			tmp457 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					if ( p5bool(p5call(v_self, "namespace", [], 0)) ) {
						throw(p5context([(p5str(p5call(v_self, "namespace", [], 0)) + '::' + p5str(p5call(v_self, "name", [], 0)))], p5want));
					};
					return (p5call(v_self, "name", [], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp457._prototype_ = null;
			return tmp457
		})());
		p5typeglob_set("Perlito5::AST::Var", "perl5_name", (function () {
			var tmp458;
			tmp458 = function (List__, p5want) {
				var v_self;
				v_self = (List__.shift());
				var v_sigil;
				v_sigil = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil'));
				if ( (p5str(v_sigil) == '$#') ) {
						v_sigil = ('@')
					};
				return (p5context([(p5str(v_sigil) + p5str(( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) ? (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) + '::') : '')) + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')))], p5want));
			};
			tmp458._prototype_ = null;
			return tmp458
		})());
		p5typeglob_set("Perlito5::AST::Var", "perl5_get_decl", (function () {
			var tmp459;
			tmp459 = function (List__, p5want) {
				try {
					var v_self;
					v_self = (List__.shift());
					var v_perl5_name;
					v_perl5_name = (List__.shift());
					if ( (p5str(v_perl5_name).substr(0, 1) == '&') ) {
						throw((new p5HashRef({'decl' : 'our'})))
					};
					p5for(p5make_package("Perlito5::AST::Var"), "v__", function () {
							if ( (p5pkg["Perlito5::AST::Var"]["v__"])._hash_.hasOwnProperty(v_perl5_name) ) {
								throw((p5pkg["Perlito5::AST::Var"]["v__"] || (p5pkg["Perlito5::AST::Var"]["v__"] = new p5HashRef({})))._hash_.p5hget(p5str(v_perl5_name)))
							};
						}, p5list_to_a([p5array_deref((p5make_package("Perlito5")["v_VAR"] || (p5make_package("Perlito5")["v_VAR"] = new p5ArrayRef([]))), 'Perlito5::AST::Var')]), false, "");
					return (null);
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp459._prototype_ = null;
			return tmp459
		})());
		p5make_package("Perlito5::AST::Proto");
		p5typeglob_set("Perlito5::AST::Proto", "new", (function () {
			var tmp460;
			tmp460 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Proto"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp460._prototype_ = null;
			return tmp460
		})());
		p5typeglob_set("Perlito5::AST::Proto", "name", (function () {
			var tmp461;
			tmp461 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('name'));
			};
			tmp461._prototype_ = null;
			return tmp461
		})());
		p5make_package("Perlito5::AST::Call");
		p5typeglob_set("Perlito5::AST::Call", "new", (function () {
			var tmp462;
			tmp462 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Call"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp462._prototype_ = null;
			return tmp462
		})());
		p5typeglob_set("Perlito5::AST::Call", "invocant", (function () {
			var tmp463;
			tmp463 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('invocant'));
			};
			tmp463._prototype_ = null;
			return tmp463
		})());
		p5typeglob_set("Perlito5::AST::Call", "method", (function () {
			var tmp464;
			tmp464 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('method'));
			};
			tmp464._prototype_ = null;
			return tmp464
		})());
		p5typeglob_set("Perlito5::AST::Call", "arguments", (function () {
			var tmp465;
			tmp465 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('arguments'));
			};
			tmp465._prototype_ = null;
			return tmp465
		})());
		p5make_package("Perlito5::AST::Apply");
		p5typeglob_set("Perlito5::AST::Apply", "new", (function () {
			var tmp466;
			tmp466 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Apply"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp466._prototype_ = null;
			return tmp466
		})());
		p5typeglob_set("Perlito5::AST::Apply", "code", (function () {
			var tmp467;
			tmp467 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('code'));
			};
			tmp467._prototype_ = null;
			return tmp467
		})());
		p5typeglob_set("Perlito5::AST::Apply", "special_arg", (function () {
			var tmp468;
			tmp468 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('special_arg'));
			};
			tmp468._prototype_ = null;
			return tmp468
		})());
		p5typeglob_set("Perlito5::AST::Apply", "arguments", (function () {
			var tmp469;
			tmp469 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('arguments'));
			};
			tmp469._prototype_ = null;
			return tmp469
		})());
		p5typeglob_set("Perlito5::AST::Apply", "namespace", (function () {
			var tmp470;
			tmp470 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('namespace'));
			};
			tmp470._prototype_ = null;
			return tmp470
		})());
		p5make_package("Perlito5::AST::If");
		p5typeglob_set("Perlito5::AST::If", "new", (function () {
			var tmp471;
			tmp471 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::If"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp471._prototype_ = null;
			return tmp471
		})());
		p5typeglob_set("Perlito5::AST::If", "cond", (function () {
			var tmp472;
			tmp472 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
			};
			tmp472._prototype_ = null;
			return tmp472
		})());
		p5typeglob_set("Perlito5::AST::If", "body", (function () {
			var tmp473;
			tmp473 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp473._prototype_ = null;
			return tmp473
		})());
		p5typeglob_set("Perlito5::AST::If", "otherwise", (function () {
			var tmp474;
			tmp474 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('otherwise'));
			};
			tmp474._prototype_ = null;
			return tmp474
		})());
		p5make_package("Perlito5::AST::When");
		p5typeglob_set("Perlito5::AST::When", "new", (function () {
			var tmp475;
			tmp475 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::When"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp475._prototype_ = null;
			return tmp475
		})());
		p5typeglob_set("Perlito5::AST::When", "cond", (function () {
			var tmp476;
			tmp476 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
			};
			tmp476._prototype_ = null;
			return tmp476
		})());
		p5typeglob_set("Perlito5::AST::When", "body", (function () {
			var tmp477;
			tmp477 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp477._prototype_ = null;
			return tmp477
		})());
		p5make_package("Perlito5::AST::While");
		p5typeglob_set("Perlito5::AST::While", "new", (function () {
			var tmp478;
			tmp478 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::While"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp478._prototype_ = null;
			return tmp478
		})());
		p5typeglob_set("Perlito5::AST::While", "init", (function () {
			var tmp479;
			tmp479 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('init'));
			};
			tmp479._prototype_ = null;
			return tmp479
		})());
		p5typeglob_set("Perlito5::AST::While", "cond", (function () {
			var tmp480;
			tmp480 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
			};
			tmp480._prototype_ = null;
			return tmp480
		})());
		p5typeglob_set("Perlito5::AST::While", "continue", (function () {
			var tmp481;
			tmp481 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('continue'));
			};
			tmp481._prototype_ = null;
			return tmp481
		})());
		p5typeglob_set("Perlito5::AST::While", "body", (function () {
			var tmp482;
			tmp482 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp482._prototype_ = null;
			return tmp482
		})());
		p5make_package("Perlito5::AST::For");
		p5typeglob_set("Perlito5::AST::For", "new", (function () {
			var tmp483;
			tmp483 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::For"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp483._prototype_ = null;
			return tmp483
		})());
		p5typeglob_set("Perlito5::AST::For", "cond", (function () {
			var tmp484;
			tmp484 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
			};
			tmp484._prototype_ = null;
			return tmp484
		})());
		p5typeglob_set("Perlito5::AST::For", "continue", (function () {
			var tmp485;
			tmp485 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('continue'));
			};
			tmp485._prototype_ = null;
			return tmp485
		})());
		p5typeglob_set("Perlito5::AST::For", "body", (function () {
			var tmp486;
			tmp486 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp486._prototype_ = null;
			return tmp486
		})());
		p5make_package("Perlito5::AST::Given");
		p5typeglob_set("Perlito5::AST::Given", "new", (function () {
			var tmp487;
			tmp487 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Given"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp487._prototype_ = null;
			return tmp487
		})());
		p5typeglob_set("Perlito5::AST::Given", "cond", (function () {
			var tmp488;
			tmp488 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
			};
			tmp488._prototype_ = null;
			return tmp488
		})());
		p5typeglob_set("Perlito5::AST::Given", "body", (function () {
			var tmp489;
			tmp489 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('body'));
			};
			tmp489._prototype_ = null;
			return tmp489
		})());
		p5make_package("Perlito5::AST::Decl");
		p5typeglob_set("Perlito5::AST::Decl", "new", (function () {
			var tmp490;
			tmp490 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Decl"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp490._prototype_ = null;
			return tmp490
		})());
		p5typeglob_set("Perlito5::AST::Decl", "decl", (function () {
			var tmp491;
			tmp491 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('decl'));
			};
			tmp491._prototype_ = null;
			return tmp491
		})());
		p5typeglob_set("Perlito5::AST::Decl", "type", (function () {
			var tmp492;
			tmp492 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('type'));
			};
			tmp492._prototype_ = null;
			return tmp492
		})());
		p5typeglob_set("Perlito5::AST::Decl", "var", (function () {
			var tmp493;
			tmp493 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('var'));
			};
			tmp493._prototype_ = null;
			return tmp493
		})());
		p5typeglob_set("Perlito5::AST::Decl", "attributes", (function () {
			var tmp494;
			tmp494 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('attributes'));
			};
			tmp494._prototype_ = null;
			return tmp494
		})());
		p5make_package("Perlito5::AST::Sig");
		p5typeglob_set("Perlito5::AST::Sig", "new", (function () {
			var tmp495;
			tmp495 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Sig"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp495._prototype_ = null;
			return tmp495
		})());
		p5typeglob_set("Perlito5::AST::Sig", "positional", (function () {
			var tmp496;
			tmp496 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('positional'));
			};
			tmp496._prototype_ = null;
			return tmp496
		})());
		p5make_package("Perlito5::AST::Sub");
		p5typeglob_set("Perlito5::AST::Sub", "new", (function () {
			var tmp497;
			tmp497 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Sub"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp497._prototype_ = null;
			return tmp497
		})());
		p5typeglob_set("Perlito5::AST::Sub", "name", (function () {
			var tmp498;
			tmp498 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('name'));
			};
			tmp498._prototype_ = null;
			return tmp498
		})());
		p5typeglob_set("Perlito5::AST::Sub", "sig", (function () {
			var tmp499;
			tmp499 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('sig'));
			};
			tmp499._prototype_ = null;
			return tmp499
		})());
		p5typeglob_set("Perlito5::AST::Sub", "block", (function () {
			var tmp500;
			tmp500 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('block'));
			};
			tmp500._prototype_ = null;
			return tmp500
		})());
		p5typeglob_set("Perlito5::AST::Sub", "attributes", (function () {
			var tmp501;
			tmp501 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('attributes'));
			};
			tmp501._prototype_ = null;
			return tmp501
		})());
		p5make_package("Perlito5::AST::Do");
		p5typeglob_set("Perlito5::AST::Do", "new", (function () {
			var tmp502;
			tmp502 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Do"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp502._prototype_ = null;
			return tmp502
		})());
		p5typeglob_set("Perlito5::AST::Do", "block", (function () {
			var tmp503;
			tmp503 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('block'));
			};
			tmp503._prototype_ = null;
			return tmp503
		})());
		p5make_package("Perlito5::AST::Use");
		p5typeglob_set("Perlito5::AST::Use", "new", (function () {
			var tmp504;
			tmp504 = function (List__, p5want) {
				var v_class;
				v_class = (List__.shift());
				return (p5pkg["Perlito5::AST::Use"].bless([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), v_class], p5want));
			};
			tmp504._prototype_ = null;
			return tmp504
		})());
		p5typeglob_set("Perlito5::AST::Use", "mod", (function () {
			var tmp505;
			tmp505 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('mod'));
			};
			tmp505._prototype_ = null;
			return tmp505
		})());
		p5typeglob_set("Perlito5::AST::Use", "code", (function () {
			var tmp506;
			tmp506 = function (List__, p5want) {
				return (List__.p5aget_hash(0)._hash_.p5hget('code'));
			};
			tmp506._prototype_ = null;
			return tmp506
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Dumper");
		p5typeglob_set("Perlito5::Dumper", "import", (function () {
			var tmp507;
			tmp507 = function (List__, p5want) {
				try {
					var v_pkg;
					v_pkg = (List__.shift());
					var v_callpkg;
					v_callpkg = (p5pkg["Perlito5::Dumper"].caller([0], 0));
					p5typeglob_deref_set(((p5str(v_callpkg) + '::Dumper')), (p5pkg["Perlito5::Dumper"].Dumper), 'Perlito5::Dumper');
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp507._prototype_ = null;
			return tmp507
		})());
		p5typeglob_set("Perlito5::Dumper", "Dumper", (function () {
			var tmp508;
			tmp508 = function (List__, p5want) {
				var v_seen;
				v_seen = ((new p5HashRef({})));
				var v_level;
				v_level = ('    ');
				var List_out = [];
				p5for_lex(function (v_i) {
							var v_pos;
							v_pos = (('$VAR' + p5str((p5num(v_i) + 1))));
							List_out.p5push([(p5str(v_pos) + ' = ' + p5str(p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([List__.p5aget(p5num(v_i)), v_level, v_seen, v_pos]), 0)) + ';' + String.fromCharCode(10))]);
						}, p5list_to_a([p5range(0, (List__.length - 1))]), false, "");
				return (p5context([p5pkg["Perlito5::Dumper"].join(['', p5list_to_a([List_out])], p5want)], p5want));
			};
			tmp508._prototype_ = null;
			return tmp508
		})());
		p5typeglob_set("Perlito5::Dumper", "ast_dumper", (function () {
			var tmp509;
			tmp509 = function (List__, p5want) {
				var v_seen;
				v_seen = ((new p5HashRef({})));
				var v_level;
				v_level = ('');
				var v_pos;
				v_pos = ('[TODO - recursive structure in AST is not supported]');
				return (p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([List__.p5aget(0), v_level, v_seen, v_pos]), p5want));
			};
			tmp509._prototype_ = null;
			return tmp509
		})());
		p5typeglob_set("Perlito5::Dumper", "_dumper", (function () {
			var tmp510;
			tmp510 = function (List__, p5want) {
				try {
					var v_obj;
					var v_tab;
					var v_seen;
					var v_pos;
					(function () {
						var tmp511 = p5list_to_a([List__]);
						var tmp512 = tmp511.slice(0);
						v_obj = tmp511.shift();
						v_tab = tmp511.shift();
						v_seen = tmp511.shift();
						v_pos = tmp511.shift();
						return tmp512
					})();
					if ( !( (v_obj != null)) ) {
						throw(p5context(['undef'], p5want))
					};
					var v_ref;
					v_ref = (p5pkg["Perlito5::Dumper"].ref([v_obj], 0));
					if ( !( p5bool(v_ref)) ) {
						throw(p5pkg["Perlito5::Dumper"].escape_string([v_obj], p5want))
					};
					var v_as_string;
					v_as_string = (v_obj);
					if ( p5bool((v_seen || (v_seen = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string))) ) {
						throw((v_seen || (v_seen = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string)))
					};
					(v_seen || (v_seen = new p5HashRef({})))._hash_.p5hset(p5str(v_as_string), (v_pos));
					var v_tab1;
					v_tab1 = ((p5str(v_tab) + '    '));
					if ( (p5str(v_ref) == 'ARRAY') ) {
						(function () {
							if ( p5bool(p5num(p5array_deref((v_obj || (v_obj = new p5ArrayRef([]))), 'Perlito5::Dumper'))) ) {}
							else {
								throw(p5context(['[]'], p5want))
							};
							var List_out = [];
							p5for_lex(function (v_i) {
									var v_here;
									v_here = ((p5str(v_pos) + '->[' + p5str(v_i) + ']'));
									List_out.p5push(p5list_to_a([v_tab1, p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([(v_obj || (v_obj = new p5ArrayRef([])))._array_.p5aget(p5num(v_i)), v_tab1, v_seen, v_here]), 1), ',' + String.fromCharCode(10)]));
								}, p5list_to_a([p5range(0, (p5array_deref((v_obj || (v_obj = new p5ArrayRef([]))), 'Perlito5::Dumper').length - 1))]), false, "");
							throw(p5context([p5pkg["Perlito5::Dumper"].join(['', p5list_to_a(['[' + String.fromCharCode(10), List_out, v_tab, ']'])], p5want)], p5want));
						})();
					}
					else if ( (p5str(v_ref) == 'HASH') ) {
						(function () {
							if ( p5bool(p5pkg["Perlito5::Dumper"].keys([p5hash_deref((v_obj || (v_obj = new p5HashRef({}))), 'Perlito5::Dumper')], 0)) ) {}
							else {
								throw(p5context(['{}'], p5want))
							};
							var List_out = [];
							p5for_lex(function (v_i) {
									var v_here;
									v_here = ((p5str(v_pos) + '->{' + p5str(v_i) + '}'));
									List_out.p5push(p5list_to_a([v_tab1, (String.fromCharCode(39) + p5str(v_i) + String.fromCharCode(39) + ' => '), p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([(v_obj || (v_obj = new p5HashRef({})))._hash_.p5hget(p5str(v_i)), v_tab1, v_seen, v_here]), 1), ',' + String.fromCharCode(10)]));
								}, p5list_to_a([p5sort(p5pkg["Perlito5::Dumper"], null, p5list_to_a([p5pkg["Perlito5::Dumper"].keys([p5hash_deref((v_obj || (v_obj = new p5HashRef({}))), 'Perlito5::Dumper')], 1)]))]), false, "");
							throw(p5context([p5pkg["Perlito5::Dumper"].join(['', p5list_to_a(['{' + String.fromCharCode(10), List_out, v_tab, '}'])], p5want)], p5want));
						})();
					}
					else if ( (p5str(v_ref) == 'SCALAR') ) {
						throw(p5context([(String.fromCharCode(92) + p5str(p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([p5scalar_deref(v_obj, 'Perlito5::Dumper', ""), v_tab1, v_seen, v_pos]), 0)))], p5want));
					}
					else if ( (p5str(v_ref) == 'CODE') ) {
						throw(p5context(['sub { "DUMMY" }'], p5want));
					};
					var List_out = [];
					p5for_lex(function (v_i) {
							var v_here;
							v_here = ((p5str(v_pos) + '->{' + p5str(v_i) + '}'));
							List_out.p5push(p5list_to_a([v_tab1, (String.fromCharCode(39) + p5str(v_i) + String.fromCharCode(39) + ' => '), p5pkg["Perlito5::Dumper"]._dumper(p5list_to_a([(v_obj || (v_obj = new p5HashRef({})))._hash_.p5hget(p5str(v_i)), v_tab1, v_seen, v_here]), 1), ',' + String.fromCharCode(10)]));
						}, p5list_to_a([p5sort(p5pkg["Perlito5::Dumper"], null, p5list_to_a([p5pkg["Perlito5::Dumper"].keys([p5hash_deref((v_obj || (v_obj = new p5HashRef({}))), 'Perlito5::Dumper')], 1)]))]), false, "");
					return (p5context([p5pkg["Perlito5::Dumper"].join(['', p5list_to_a(['bless({' + String.fromCharCode(10), List_out, v_tab, ('}, ' + String.fromCharCode(39) + p5str(v_ref) + String.fromCharCode(39) + ')')])], p5want)], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp510._prototype_ = null;
			return tmp510
		})());
		var Hash_safe_char = {};
		Hash_safe_char = p5a_to_h([' ', 1, '!', 1, '"', 1, '#', 1, '$', 1, '%', 1, '&', 1, '(', 1, ')', 1, '*', 1, '+', 1, ',', 1, '-', 1, '.', 1, '/', 1, ':', 1, ';', 1, '<', 1, '=', 1, '>', 1, '?', 1, '@', 1, '[', 1, ']', 1, '^', 1, '_', 1, '`', 1, '{', 1, '|', 1, '}', 1, '~', 1]);
		p5typeglob_set("Perlito5::Dumper", "escape_string", (function () {
			var tmp513;
			tmp513 = function (List__, p5want) {
				try {
					var v_s;
					v_s = (List__.shift());
					var List_out = [];
					var v_tmp;
					v_tmp = ('');
					if ( (p5str(v_s) == '') ) {
						throw(p5context([String.fromCharCode(39) + String.fromCharCode(39)], p5want))
					};
					if ( (p5str((0 + p5num(v_s))) == p5str(v_s)) ) {
						throw(p5context([(0 + p5num(v_s))], p5want))
					};
					p5for_lex(function (v_i) {
							var v_c;
							v_c = (p5str(v_s).substr(p5num(v_i), 1));
							if ( (((p5str(v_c) >= 'a') && (p5str(v_c) <= 'z')) || (((p5str(v_c) >= 'A') && (p5str(v_c) <= 'Z')) || (((p5str(v_c) >= '0') && (p5str(v_c) <= '9')) || (Hash_safe_char).hasOwnProperty(v_c)))) ) {
								v_tmp = ((p5str(v_tmp) + p5str(v_c)));
							}
							else {
								if ( (p5str(v_tmp) != '') ) {
									List_out.p5push([(String.fromCharCode(39) + p5str(v_tmp) + String.fromCharCode(39))])
								};
								List_out.p5push([('chr(' + p5str(p5pkg["Perlito5::Dumper"].ord([v_c], 0)) + ')')]);
								v_tmp = ('');
							};
						}, p5list_to_a([p5range(0, (p5pkg["Perlito5::Dumper"].length([v_s], 0) - 1))]), false, "");
					if ( (p5str(v_tmp) != '') ) {
						List_out.p5push([(String.fromCharCode(39) + p5str(v_tmp) + String.fromCharCode(39))])
					};
					return (p5context([p5pkg["Perlito5::Dumper"].join([' . ', p5list_to_a([List_out])], p5want)], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp513._prototype_ = null;
			return tmp513
		})());
		p5typeglob_set("Perlito5::Dumper", "_identity", (function () {
			var tmp514;
			tmp514 = function (List__, p5want) {
				return (p5context([(p5str(List__.p5aget(0)) == p5str(List__.p5aget(1)))], p5want));
			};
			tmp514._prototype_ = null;
			return tmp514
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::TreeGrammar");
		// use Data::Dumper
;
		// use strict
;
		var Hash_dispatch = {};
		Hash_dispatch = {'Ref' : (function () {
					var tmp515;
					tmp515 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Ref(p5list_to_a([List__]), p5want));
					};
					tmp515._prototype_ = null;
					return tmp515
				})(), 'Lookup' : (function () {
					var tmp516;
					tmp516 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Lookup(p5list_to_a([List__]), p5want));
					};
					tmp516._prototype_ = null;
					return tmp516
				})(), 'Index' : (function () {
					var tmp517;
					tmp517 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Index(p5list_to_a([List__]), p5want));
					};
					tmp517._prototype_ = null;
					return tmp517
				})(), 'Value' : (function () {
					var tmp518;
					tmp518 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Value(p5list_to_a([List__]), p5want));
					};
					tmp518._prototype_ = null;
					return tmp518
				})(), 'And' : (function () {
					var tmp519;
					tmp519 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].And(p5list_to_a([List__]), p5want));
					};
					tmp519._prototype_ = null;
					return tmp519
				})(), 'Or' : (function () {
					var tmp520;
					tmp520 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Or(p5list_to_a([List__]), p5want));
					};
					tmp520._prototype_ = null;
					return tmp520
				})(), 'Not' : (function () {
					var tmp521;
					tmp521 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Not(p5list_to_a([List__]), p5want));
					};
					tmp521._prototype_ = null;
					return tmp521
				})(), 'Action' : (function () {
					var tmp522;
					tmp522 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Action(p5list_to_a([List__]), p5want));
					};
					tmp522._prototype_ = null;
					return tmp522
				})(), 'Progn' : (function () {
					var tmp523;
					tmp523 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Progn(p5list_to_a([List__]), p5want));
					};
					tmp523._prototype_ = null;
					return tmp523
				})(), 'Star' : (function () {
					var tmp524;
					tmp524 = function (List__, p5want) {
						return (p5pkg["Perlito5::TreeGrammar"].Star(p5list_to_a([List__]), p5want));
					};
					tmp524._prototype_ = null;
					return tmp524
				})()};
		p5typeglob_set("Perlito5::TreeGrammar", "render", (function () {
			var tmp525;
			tmp525 = function (List__, p5want) {
				var v_rule;
				var v_node;
				(function () {
						var tmp526 = p5list_to_a([List__]);
						var tmp527 = tmp526.slice(0);
						v_rule = tmp526.shift();
						v_node = tmp526.shift();
						return tmp527
					})();
				return ((Hash_dispatch.p5hget(p5str((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(0))))([v_rule, v_node], p5want));
			};
			tmp525._prototype_ = null;
			return tmp525
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "scan", (function () {
			var tmp528;
			tmp528 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp529 = p5list_to_a([List__]);
						var tmp530 = tmp529.slice(0);
						v_rule = tmp529.shift();
						v_node = tmp529.shift();
						return tmp530
					})();
					if ( p5bool(v_rule) ) {
						p5pkg["Perlito5::TreeGrammar"].render([v_rule, v_node], null)
					};
					if ( (p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0) == 'ARRAY') ) {
						p5for(p5make_package("Perlito5::TreeGrammar"), "v__", function () {
								p5pkg["Perlito5::TreeGrammar"].scan([v_rule, p5pkg["Perlito5::TreeGrammar"]["v__"]], null);
							}, p5list_to_a([p5array_deref((v_node || (v_node = new p5ArrayRef([]))), 'Perlito5::TreeGrammar')]), false, "");
					}
					else if ( p5bool(p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0)) ) {
						p5for(p5make_package("Perlito5::TreeGrammar"), "v__", function () {
								p5pkg["Perlito5::TreeGrammar"].scan([v_rule, p5pkg["Perlito5::TreeGrammar"]["v__"]], null);
							}, p5list_to_a([p5pkg["Perlito5::TreeGrammar"].values([p5hash_deref((v_node || (v_node = new p5HashRef({}))), 'Perlito5::TreeGrammar')], 1)]), false, "");
					};
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp528._prototype_ = null;
			return tmp528
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Action", (function () {
			var tmp531;
			tmp531 = function (List__, p5want) {
				var v_rule;
				var v_node;
				(function () {
						var tmp532 = p5list_to_a([List__]);
						var tmp533 = tmp532.slice(0);
						v_rule = tmp532.shift();
						v_node = tmp532.shift();
						return tmp533
					})();
				((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1))([v_node], null);
				return (p5context([1], p5want));
			};
			tmp531._prototype_ = null;
			return tmp531
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Not", (function () {
			var tmp534;
			tmp534 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp535 = p5list_to_a([List__]);
						var tmp536 = tmp535.slice(0);
						v_rule = tmp535.shift();
						v_node = tmp535.shift();
						return tmp536
					})();
					var v_result;
					p5and(p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1), v_node]), 0), function () {
						throw(p5context([], p5want))
					});
					return (p5context([1], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp534._prototype_ = null;
			return tmp534
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Star", (function () {
			var tmp537;
			tmp537 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp538 = p5list_to_a([List__]);
						var tmp539 = tmp538.slice(0);
						v_rule = tmp538.shift();
						v_node = tmp538.shift();
						return tmp539
					})();
					var v_result;
					p5while(function () {
							p5or(p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1), v_node]), 0), function () {
								throw(p5context([], p5want))
							});
						}, function () {
							return 1
						}, false, "", 0)
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp537._prototype_ = null;
			return tmp537
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Progn", (function () {
			var tmp540;
			tmp540 = function (List__, p5want) {
				var v_rule;
				var v_node;
				(function () {
						var tmp541 = p5list_to_a([List__]);
						var tmp542 = tmp541.slice(0);
						v_rule = tmp541.shift();
						v_node = tmp541.shift();
						return tmp542
					})();
				var v_result;
				p5for(p5make_package("Perlito5::TreeGrammar"), "v__", function () {
							v_result = (p5pkg["Perlito5::TreeGrammar"].render([p5pkg["Perlito5::TreeGrammar"]["v__"], v_node], 0));
						}, p5list_to_a([(function () {
							var a = [];
							var v = p5list_to_a([p5range(1, (p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1))]);
							var src=p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar');
							for (var i=0, l=v.length; i<l; ++i){
								a.push(src.p5aget(v[i]))
							}
							return a
						})()]), false, "");
				return (p5context([v_result], p5want));
			};
			tmp540._prototype_ = null;
			return tmp540
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "And", (function () {
			var tmp543;
			tmp543 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp544 = p5list_to_a([List__]);
						var tmp545 = tmp544.slice(0);
						v_rule = tmp544.shift();
						v_node = tmp544.shift();
						return tmp545
					})();
					var v_result;
					p5for(p5make_package("Perlito5::TreeGrammar"), "v__", function () {
							p5or((v_result = (p5pkg["Perlito5::TreeGrammar"].render([p5pkg["Perlito5::TreeGrammar"]["v__"], v_node], 0))), function () {
								throw(p5context([], p5want))
							});
						}, p5list_to_a([(function () {
							var a = [];
							var v = p5list_to_a([p5range(1, (p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1))]);
							var src=p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar');
							for (var i=0, l=v.length; i<l; ++i){
								a.push(src.p5aget(v[i]))
							}
							return a
						})()]), false, "");
					return (p5context([v_result], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp543._prototype_ = null;
			return tmp543
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Or", (function () {
			var tmp546;
			tmp546 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp547 = p5list_to_a([List__]);
						var tmp548 = tmp547.slice(0);
						v_rule = tmp547.shift();
						v_node = tmp547.shift();
						return tmp548
					})();
					var v_result;
					p5for(p5make_package("Perlito5::TreeGrammar"), "v__", function () {
							p5and((v_result = (p5pkg["Perlito5::TreeGrammar"].render([p5pkg["Perlito5::TreeGrammar"]["v__"], v_node], 0))), function () {
								throw(p5context([v_result], p5want))
							});
						}, p5list_to_a([(function () {
							var a = [];
							var v = p5list_to_a([p5range(1, (p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1))]);
							var src=p5array_deref((v_rule || (v_rule = new p5ArrayRef([]))), 'Perlito5::TreeGrammar');
							for (var i=0, l=v.length; i<l; ++i){
								a.push(src.p5aget(v[i]))
							}
							return a
						})()]), false, "");
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp546._prototype_ = null;
			return tmp546
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Ref", (function () {
			var tmp549;
			tmp549 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp550 = p5list_to_a([List__]);
						var tmp551 = tmp550.slice(0);
						v_rule = tmp550.shift();
						v_node = tmp550.shift();
						return tmp551
					})();
					if ( (p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0) != p5str((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1))) ) {
						throw(p5context([], p5want))
					};
					if ( !( p5bool((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2))) ) {
						throw(p5context([1], p5want))
					};
					return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2), v_node]), p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp549._prototype_ = null;
			return tmp549
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Lookup", (function () {
			var tmp552;
			tmp552 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp553 = p5list_to_a([List__]);
						var tmp554 = tmp553.slice(0);
						v_rule = tmp553.shift();
						v_node = tmp553.shift();
						return tmp554
					})();
					if ( (!( p5bool(p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0))) || ((p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0) == 'ARRAY') || !( (v_node)._hash_.hasOwnProperty((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1))))) ) {
						throw(p5context([], p5want))
					};
					if ( !( p5bool((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2))) ) {
						throw(p5context([1], p5want))
					};
					return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2), (v_node || (v_node = new p5HashRef({})))._hash_.p5hget(p5str((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1)))]), p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp552._prototype_ = null;
			return tmp552
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Index", (function () {
			var tmp555;
			tmp555 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp556 = p5list_to_a([List__]);
						var tmp557 = tmp556.slice(0);
						v_rule = tmp556.shift();
						v_node = tmp556.shift();
						return tmp557
					})();
					if ( (!( p5bool(p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0))) || ((p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0) != 'ARRAY') || !( (v_node)._array_.hasOwnProperty((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1))))) ) {
						throw(p5context([], p5want))
					};
					if ( !( p5bool((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2))) ) {
						throw(p5context([1], p5want))
					};
					return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2), (v_node || (v_node = new p5ArrayRef([])))._array_.p5aget(p5num((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1)))]), p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp555._prototype_ = null;
			return tmp555
		})());
		p5typeglob_set("Perlito5::TreeGrammar", "Value", (function () {
			var tmp558;
			tmp558 = function (List__, p5want) {
				try {
					var v_rule;
					var v_node;
					(function () {
						var tmp559 = p5list_to_a([List__]);
						var tmp560 = tmp559.slice(0);
						v_rule = tmp559.shift();
						v_node = tmp559.shift();
						return tmp560
					})();
					if ( (p5bool(p5pkg["Perlito5::TreeGrammar"].ref([v_node], 0)) || (p5str(v_node) != p5str((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
						throw(p5context([], p5want))
					};
					if ( !( p5bool((v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2))) ) {
						throw(p5context([1], p5want))
					};
					return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(v_rule || (v_rule = new p5ArrayRef([])))._array_.p5aget(2), v_node]), p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp558._prototype_ = null;
			return tmp558
		})());
		1;
	})();
	(function () {
		p5make_package("Perlito5::Perl6::TreeGrammar");
		// use Data::Dumper
;
		// use strict
;
		// use Perlito5::TreeGrammar
;
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "refactor_range_operator", (function () {
			var tmp561;
			tmp561 = function (List__, p5want) {
				var v_class;
				var v_in;
				(function () {
						var tmp562 = p5list_to_a([List__]);
						var tmp563 = tmp562.slice(0);
						v_class = tmp562.shift();
						v_in = tmp562.shift();
						return tmp563
					})();
				return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'code', (new p5ArrayRef(['Value', 'infix:<..>']))]))), (new p5ArrayRef(p5list_to_a(['Lookup', 'arguments', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Index', 0, (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(['Ref', 'Perlito5::AST::Val::Int'])), (new p5ArrayRef(p5list_to_a(['Lookup', 'int', (new p5ArrayRef(['Value', 0]))])))])))]))), (new p5ArrayRef(p5list_to_a(['Index', 1, (new p5ArrayRef(p5list_to_a(['Or', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(['Ref', 'Perlito5::AST::Val::Int'])), (new p5ArrayRef(['Action', (function () {
	var tmp567;
	tmp567 = function (List__, p5want) {
		(v_in || (v_in = new p5HashRef({})))._hash_.p5hset('code', ('p6_prefix:<^>'));
		List__.p5aget_hash(0)._hash_.p5postincr('int');
		return (p5array_deref((v_in || (v_in = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Perl6::TreeGrammar').shift());
	};
	tmp567._prototype_ = null;
	return tmp567
})()]))]))), (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(['Ref', 'Perlito5::AST::Apply'])), (new p5ArrayRef(p5list_to_a(['Lookup', 'code', (new p5ArrayRef(['Value', 'prefix:<$#>']))]))), (new p5ArrayRef(['Action', (function () {
	var tmp568;
	tmp568 = function (List__, p5want) {
		p5pkg["Perlito5::Perl6::TreeGrammar"].bless([v_in, 'Perlito5::AST::Call'], null);
		(delete v_in._hash_['code']);
		(v_in || (v_in = new p5HashRef({})))._hash_.p5hset('method', ('keys'));
		p5array_deref((v_in || (v_in = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Perl6::TreeGrammar').shift();
		var v_invocant;
		v_invocant = (p5array_deref((v_in || (v_in = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Perl6::TreeGrammar').shift());
		return ((v_in || (v_in = new p5HashRef({})))._hash_.p5hset('invocant', ((v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0))));
	};
	tmp568._prototype_ = null;
	return tmp568
})()]))]))), (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(['Ref', 'Perlito5::AST::Var'])), (new p5ArrayRef(p5list_to_a(['Lookup', 'sigil', (new p5ArrayRef(['Value', '$#']))]))), (new p5ArrayRef(['Action', (function () {
	var tmp569;
	tmp569 = function (List__, p5want) {
		p5pkg["Perlito5::Perl6::TreeGrammar"].bless([v_in, 'Perlito5::AST::Call'], null);
		(delete v_in._hash_['code']);
		(v_in || (v_in = new p5HashRef({})))._hash_.p5hset('method', ('keys'));
		(v_in || (v_in = new p5HashRef({})))._hash_.p5hset('arguments', ((new p5ArrayRef([]))));
		var v_invocant;
		v_invocant = (List__.p5aget(0));
		(v_invocant || (v_invocant = new p5HashRef({})))._hash_.p5hset('sigil', ('@'));
		return ((v_in || (v_in = new p5HashRef({})))._hash_.p5hset('invocant', (v_invocant)));
	};
	tmp569._prototype_ = null;
	return tmp569
})()]))])))])))])))])))])))]))), v_in]), p5want));
			};
			tmp561._prototype_ = null;
			return tmp561
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "refactor_while_glob", (function () {
			var tmp570;
			tmp570 = function (List__, p5want) {
				var v_class;
				var v_in;
				(function () {
						var tmp571 = p5list_to_a([List__]);
						var tmp572 = tmp571.slice(0);
						v_class = tmp571.shift();
						v_in = tmp571.shift();
						return tmp572
					})();
				return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::While', (new p5ArrayRef(p5list_to_a(['Lookup', 'cond', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(['Ref', 'Perlito5::AST::Apply'])), (new p5ArrayRef(p5list_to_a(['Lookup', 'code', (new p5ArrayRef(['Value', 'glob']))]))), (new p5ArrayRef(['Action', (function () {
	var tmp574;
	tmp574 = function (List__, p5want) {
		return (p5pkg["Perlito5::Perl6::TreeGrammar"].bless([v_in, 'Perlito5::AST::For'], p5want));
	};
	tmp574._prototype_ = null;
	return tmp574
})()]))])))])))]))), v_in]), p5want));
			};
			tmp570._prototype_ = null;
			return tmp570
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "refactor_sub_arguments", (function () {
			var tmp575;
			tmp575 = function (List__, p5want) {
				var v_class;
				var v_in;
				(function () {
						var tmp576 = p5list_to_a([List__]);
						var tmp577 = tmp576.slice(0);
						v_class = tmp576.shift();
						v_in = tmp576.shift();
						return tmp577
					})();
				var v_rule;
				var v_result;
				p5context([v_rule, v_result], 0);
				v_rule = (p5pkg["Perlito5::Perl6::TreeGrammar"].is_sub(p5list_to_a([(new p5ArrayRef(['Action', (function () {
	var tmp593;
	tmp593 = function (List__, p5want) {
		var v_sub;
		v_sub = (List__.p5aget(0));
		var v_stmts;
		var v_var;
		return (p5pkg["Perlito5::TreeGrammar"].render(p5list_to_a([(new p5ArrayRef(p5list_to_a(['Lookup', 'block', (new p5ArrayRef(p5list_to_a(['Progn', (new p5ArrayRef(['Action', (function () {
	var tmp601;
	tmp601 = function (List__, p5want) {
		return ((v_stmts = (List__.p5aget(0))));
	};
	tmp601._prototype_ = null;
	return tmp601
})()])), (new p5ArrayRef(p5list_to_a(['Star', (new p5ArrayRef(p5list_to_a(['Index', 0, p5pkg["Perlito5::Perl6::TreeGrammar"].operator_eq(p5list_to_a(['infix:<=>', (new p5ArrayRef(p5list_to_a(['Lookup', 'arguments', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Index', 0, p5pkg["Perlito5::Perl6::TreeGrammar"].my_var(p5list_to_a([(new p5ArrayRef(['Action', (function () {
	var tmp606;
	tmp606 = function (List__, p5want) {
		return ((v_var = (List__.p5aget_hash(0)._hash_.p5hget('var'))));
	};
	tmp606._prototype_ = null;
	return tmp606
})()]))]), 1)]))), (new p5ArrayRef(p5list_to_a(['Index', 1, p5pkg["Perlito5::Perl6::TreeGrammar"].shift_arg([], 1)]))), (new p5ArrayRef(['Action', (function () {
	var tmp607;
	tmp607 = function (List__, p5want) {
		p5array_deref((v_sub || (v_sub = new p5HashRef({})))._hash_.p5hget_array('args'), 'Perlito5::Perl6::TreeGrammar').p5push([v_var]);
		return (p5array_deref((v_stmts || (v_stmts = new p5ArrayRef([]))), 'Perlito5::Perl6::TreeGrammar').shift());
	};
	tmp607._prototype_ = null;
	return tmp607
})()]))])))])))]), 1)])))])))])))]))), v_sub]), p5want));
	};
	tmp593._prototype_ = null;
	return tmp593
})()]))]), 0));
				return ((v_result = (p5pkg["Perlito5::TreeGrammar"].scan([v_rule, v_in], 0))));
			};
			tmp575._prototype_ = null;
			return tmp575
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "is_sub", (function () {
			var tmp608;
			tmp608 = function (List__, p5want) {
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Sub', ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))]))));
			};
			tmp608._prototype_ = null;
			return tmp608
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "named_sub", (function () {
			var tmp609;
			tmp609 = function (List__, p5want) {
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Sub', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'name', (new p5ArrayRef(p5list_to_a(['Not', (new p5ArrayRef(['Value', '']))])))]))), ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))])))]))));
			};
			tmp609._prototype_ = null;
			return tmp609
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "operator_eq", (function () {
			var tmp610;
			tmp610 = function (List__, p5want) {
				var v_name;
				v_name = (List__.shift());
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Apply', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'code', (new p5ArrayRef(['Value', v_name]))]))), ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))])))]))));
			};
			tmp610._prototype_ = null;
			return tmp610
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "my_var", (function () {
			var tmp611;
			tmp611 = function (List__, p5want) {
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Decl', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'decl', (new p5ArrayRef(['Value', 'my']))]))), ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))])))]))));
			};
			tmp611._prototype_ = null;
			return tmp611
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "var_is_at", (function () {
			var tmp612;
			tmp612 = function (List__, p5want) {
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Var', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'sigil', (new p5ArrayRef(['Value', '@']))]))), (new p5ArrayRef(p5list_to_a(['Lookup', 'name', (new p5ArrayRef(['Value', '_']))]))), ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))])))]))));
			};
			tmp612._prototype_ = null;
			return tmp612
		})());
		p5typeglob_set("Perlito5::Perl6::TreeGrammar", "shift_arg", (function () {
			var tmp613;
			tmp613 = function (List__, p5want) {
				return ((new p5ArrayRef(p5list_to_a(['Ref', 'Perlito5::AST::Apply', (new p5ArrayRef(p5list_to_a(['And', (new p5ArrayRef(p5list_to_a(['Lookup', 'code', (new p5ArrayRef(['Value', 'shift']))]))), (new p5ArrayRef(p5list_to_a(['Or', (new p5ArrayRef(p5list_to_a(['Lookup', 'arguments', (new p5ArrayRef(p5list_to_a(['Not', (new p5ArrayRef(['Index', 0]))])))]))), (new p5ArrayRef(p5list_to_a(['Lookup', 'arguments', (new p5ArrayRef(p5list_to_a(['Index', 0, p5pkg["Perlito5::Perl6::TreeGrammar"].var_is_at([], 1)])))])))]))), ( p5bool(List__.length) ? (new p5ArrayRef(p5list_to_a(['Progn', List__]))) : p5context([], 1))])))]))));
			};
			tmp613._prototype_ = null;
			return tmp613
		})());
		1;
	})();
	(function () {
		null;
		// use Perlito5::AST
;
		// use strict
;
		// use Perlito5::Perl6::TreeGrammar
;
		p5for_lex(function () {
				p5make_package("Perlito5::Perl6");
				p5typeglob_set("Perlito5::Perl6", "emit_perl6_block", (function () {
					var tmp614;
					tmp614 = function (List__, p5want) {
						var v_block;
						v_block = (List__.p5aget(0));
						return ((new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::Perl6"], function (p5want) {
	return (p5and((p5pkg["Perlito5::Perl6"]["v__"] != null), function () {
			return p5call(p5pkg["Perlito5::Perl6"]["v__"], "emit_perl6", [], p5want)
		}));
}, p5list_to_a([p5array_deref((v_block || (v_block = new p5ArrayRef([]))), 'Perlito5::Perl6')]))]))));
					};
					tmp614._prototype_ = null;
					return tmp614
				})());
				var Hash_safe_char = {};
				Hash_safe_char = p5a_to_h([' ', 1, '!', 1, '"', 1, '#', 1, '$', 1, '%', 1, '&', 1, '(', 1, ')', 1, '*', 1, '+', 1, ',', 1, '-', 1, '.', 1, '/', 1, ':', 1, ';', 1, '<', 1, '=', 1, '>', 1, '?', 1, '@', 1, '[', 1, ']', 1, '^', 1, '_', 1, '`', 1, '{', 1, '|', 1, '}', 1, '~', 1]);
				p5typeglob_set("Perlito5::Perl6", "escape_string", (function () {
					var tmp615;
					tmp615 = function (List__, p5want) {
						try {
							var v_s;
							v_s = (List__.shift());
							var List_out = [];
							var v_tmp;
							v_tmp = ('');
							if ( (p5str(v_s) == '') ) {
								throw(p5context([String.fromCharCode(39) + String.fromCharCode(39)], p5want))
							};
							p5for_lex(function (v_i) {
									var v_c;
									v_c = (p5str(v_s).substr(p5num(v_i), 1));
									if ( (((p5str(v_c) >= 'a') && (p5str(v_c) <= 'z')) || (((p5str(v_c) >= 'A') && (p5str(v_c) <= 'Z')) || (((p5str(v_c) >= '0') && (p5str(v_c) <= '9')) || (Hash_safe_char).hasOwnProperty(v_c)))) ) {
										v_tmp = ((p5str(v_tmp) + p5str(v_c)));
									}
									else {
										if ( (p5str(v_tmp) != '') ) {
											List_out.p5push([(String.fromCharCode(39) + p5str(v_tmp) + String.fromCharCode(39))])
										};
										List_out.p5push([('chr(' + p5str(p5pkg["Perlito5::Perl6"].ord([v_c], 0)) + ')')]);
										v_tmp = ('');
									};
								}, p5list_to_a([p5range(0, (p5pkg["Perlito5::Perl6"].length([v_s], 0) - 1))]), false, "");
							if ( (p5str(v_tmp) != '') ) {
								List_out.p5push([(String.fromCharCode(39) + p5str(v_tmp) + String.fromCharCode(39))])
							};
							if ( (p5num(List_out.length) < 2) ) {
								throw((p5want ? List_out : List_out.length))
							};
							return ((new p5ArrayRef(p5list_to_a(['op', 'list:<~>', List_out]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp615._prototype_ = null;
					return tmp615
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::CompUnit");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::CompUnit", "emit_perl6", (function () {
					var tmp616;
					tmp616 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						var List_body = [];
						List_body = p5list_to_a([p5grep(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
										return (p5context([(p5pkg["Perlito5::AST::CompUnit"]["v__"] != null)], p5want));
									}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))]);
						var List_out = [];
						var v_pkg;
						v_pkg = ((new p5HashRef(p5a_to_h(p5list_to_a(['name', 'main', 'body', (new p5ArrayRef([]))])))));
						p5for_lex(function (v_stmt) {
									if ( ((p5pkg["Perlito5::AST::CompUnit"].ref([v_stmt], 0) == 'Perlito5::AST::Apply') && (p5str((v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('code')) == 'package')) ) {
										p5make_package("Perlito5")["v_PKG_NAME"] = ((v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('namespace'));
										if ( p5bool(p5num(p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit'))) ) {
											List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'class'])), (new p5ArrayRef(p5list_to_a(['bareword', (v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')]))), (new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))])))]))
										};
										v_pkg = ((new p5HashRef(p5a_to_h(p5list_to_a(['name', (v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('namespace'), 'body', (new p5ArrayRef([]))])))));
									}
									else {
										p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit').p5push([v_stmt]);
									};
								}, p5list_to_a([List_body]), false, "");
						if ( p5bool(p5num(p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit'))) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'class'])), (new p5ArrayRef(p5list_to_a(['bareword', (v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')]))), (new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))])))]))
							};
						return ((p5want ? List_out : List_out.length));
					};
					tmp616._prototype_ = null;
					return tmp616
				})());
				p5typeglob_set("Perlito5::AST::CompUnit", "emit_perl6_program", (function () {
					var tmp617;
					tmp617 = function (List__, p5want) {
						var v_comp_units;
						v_comp_units = (List__.p5aget(0));
						var List_body = [];
						List_body = p5list_to_a([p5array_deref((v_comp_units || (v_comp_units = new p5ArrayRef([]))), 'Perlito5::AST::CompUnit')]);
						var List_out = [];
						var v_pkg;
						v_pkg = ((new p5HashRef(p5a_to_h(p5list_to_a(['name', 'main', 'body', (new p5ArrayRef([]))])))));
						p5for_lex(function (v_stmt) {
									if ( ((p5pkg["Perlito5::AST::CompUnit"].ref([v_stmt], 0) == 'Perlito5::AST::Apply') && (p5str((v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('code')) == 'package')) ) {
										p5make_package("Perlito5")["v_PKG_NAME"] = ((v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('namespace'));
										if ( p5bool(p5num(p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit'))) ) {
											if ( (p5str((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')) == 'main') ) {
												List_out.p5push(p5list_to_a([p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))]));
											}
											else {
												List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'class'])), (new p5ArrayRef(p5list_to_a(['bareword', (v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')]))), (new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))])))]));
											};
										};
										v_pkg = ((new p5HashRef(p5a_to_h(p5list_to_a(['name', (v_stmt || (v_stmt = new p5HashRef({})))._hash_.p5hget('namespace'), 'body', (new p5ArrayRef([]))])))));
									}
									else {
										p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit').p5push([v_stmt]);
									};
								}, p5list_to_a([List_body]), false, "");
						if ( p5bool(p5num(p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit'))) ) {
								if ( (p5str((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')) == 'main') ) {
									List_out.p5push(p5list_to_a([p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))]));
								}
								else {
									List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'class'])), (new p5ArrayRef(p5list_to_a(['bareword', (v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget('name')]))), (new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::AST::CompUnit"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::CompUnit"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_pkg || (v_pkg = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))])))]));
								};
							};
						return ((p5want ? List_out : List_out.length));
					};
					tmp617._prototype_ = null;
					return tmp617
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Val::Int");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Val::Int", "emit_perl6", (function () {
					var tmp618;
					tmp618 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						return ((new p5ArrayRef(p5list_to_a(['number', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('int')]))));
					};
					tmp618._prototype_ = null;
					return tmp618
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Val::Num");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Val::Num", "emit_perl6", (function () {
					var tmp619;
					tmp619 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						return ((new p5ArrayRef(p5list_to_a(['number', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('num')]))));
					};
					tmp619._prototype_ = null;
					return tmp619
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Val::Buf");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Val::Buf", "emit_perl6", (function () {
					var tmp620;
					tmp620 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						return (p5pkg["Perlito5::Perl6"].escape_string(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('buf')]), p5want));
					};
					tmp620._prototype_ = null;
					return tmp620
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Lit::Block");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Lit::Block", "emit_perl6", (function () {
					var tmp621;
					tmp621 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						var List_out = [];
						if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['label', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')])))]))
							};
						if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(p5list_to_a(['keyword', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')]))), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('stmts')]), 1)])))]));
							}
							else {
								List_out.p5push(p5list_to_a([p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('stmts')]), 1)]));
							};
						if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('continue')) && p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Lit::Block')))) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'continue'])), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget('stmts')]), 1)])))]));
							};
						return ((p5want ? List_out : List_out.length));
					};
					tmp621._prototype_ = null;
					return tmp621
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Index");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Index", "emit_perl6_index", (function () {
					var tmp622;
					tmp622 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							var v_index;
							v_index = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp'));
							if ( (p5bool(p5call(v_index, "isa", ['Perlito5::AST::Apply'], 0)) && (p5str((v_index || (v_index = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<->')) ) {
								(function () {
									var v_arg;
									v_arg = ((v_index || (v_index = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
									if ( p5bool(p5call(v_arg, "isa", ['Perlito5::AST::Val::Int'], 0)) ) {
										throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<->', (new p5ArrayRef(['bareword', '*'])), p5call(v_arg, "emit_perl6", [], 1)]))));
									};
								})();
							};
							return (p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp'), "emit_perl6", [], p5want));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp622._prototype_ = null;
					return tmp622
				})());
				p5typeglob_set("Perlito5::AST::Index", "emit_perl6", (function () {
					var tmp623;
					tmp623 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Apply'], 0)) && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) ) {
								throw((new p5ArrayRef(p5list_to_a(['apply', '[', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), p5call(v_self, "emit_perl6_index", [], 1)]))));
							};
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Var'], 0)) && ((p5str(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "sigil", [], 0)) == '$') || (p5str(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "sigil", [], 0)) == '@'))) ) {
								(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hset('sigil', ('@'));
								throw((new p5ArrayRef(p5list_to_a(['apply', '[', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), p5call(v_self, "emit_perl6_index", [], 1)]))));
							};
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Apply'], 0)) && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<$>')) ) {
								throw((new p5ArrayRef(p5list_to_a(['apply', '[', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget_array('arguments')._array_.p5aget(0), "emit_perl6", [], 1), p5call(v_self, "emit_perl6_index", [], 1)]))));
							};
							return ((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['op', 'circumfix:<[ ]>', p5call(v_self, "emit_perl6_index", [], 1)])))]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp623._prototype_ = null;
					return tmp623
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Lookup");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Lookup", "emit_perl6", (function () {
					var tmp624;
					tmp624 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Apply'], 0)) && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) ) {
								(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hset('sigil', ('%'));
								throw((new p5ArrayRef(p5list_to_a(['apply', '{', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), p5call(p5call(v_self, "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp')]), 0), "emit_perl6", [], 1)]))));
							};
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Var'], 0)) && ((p5str(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "sigil", [], 0)) == '$') || (p5str(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "sigil", [], 0)) == '@'))) ) {
								(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hset('sigil', ('%'));
								throw((new p5ArrayRef(p5list_to_a(['apply', '{', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), p5call(p5call(v_self, "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp')]), 0), "emit_perl6", [], 1)]))));
							};
							if ( (p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "isa", ['Perlito5::AST::Apply'], 0)) && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<$>')) ) {
								throw((new p5ArrayRef(p5list_to_a(['apply', '{', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget_array('arguments')._array_.p5aget(0), "emit_perl6", [], 1), p5call(p5call(v_self, "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp')]), 0), "emit_perl6", [], 1)]))));
							};
							return ((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('obj'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['op', 'circumfix:<{ }>', p5call(p5call(v_self, "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('index_exp')]), 0), "emit_perl6", [], 1)])))]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp624._prototype_ = null;
					return tmp624
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Var");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Var", "emit_perl6", (function () {
					var tmp625;
					tmp625 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) == '$#') ) {
								(function () {
									var v_v;
									v_v = (p5call(p5pkg["Perlito5::AST::Var"], "new", p5list_to_a([p5hash_deref((v_self || (v_self = new p5HashRef({}))), 'Perlito5::AST::Var'), 'sigil', '@']), 0));
									throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call(v_v, "emit_perl6", [], 1), (new p5ArrayRef(['keyword', 'end']))]))));
								})();
							};
							var v_str_name;
							v_str_name = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name'));
							if ( (p5str(v_str_name) == String.fromCharCode(92)) ) {
								v_str_name = (String.fromCharCode(92) + String.fromCharCode(92))
							};
							if ( (p5str(v_str_name) == '"') ) {
								v_str_name = (String.fromCharCode(92) + '"')
							};
							var v_perl5_name;
							v_perl5_name = (p5call(v_self, "perl5_name", [], 0));
							var v_decl_type;
							var v_decl;
							v_decl = (p5call(v_self, "perl5_get_decl", [v_perl5_name], 0));
							if ( p5bool(v_decl) ) {
								v_decl_type = ((v_decl || (v_decl = new p5HashRef({})))._hash_.p5hget('decl'));
							}
							else if ( (!( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace'))) && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) != '*')) ) {};
							var v_ns;
							v_ns = ('');
							if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) ) {
								if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) == '::') ) {
									throw((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace'))
								};
								if ( ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) == 'main') && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')).substr(0, 1) == '^')) ) {
									throw(p5context([(p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) + '{' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')) + '}')], p5want));
								}
								else {
									v_ns = ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) + '::'));
								};
							};
							var v_bareword;
							v_bareword = ((p5str(v_ns) + p5str(v_str_name)));
							var v_c;
							v_c = (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')).substr(0, 1));
							if ( (((p5str(v_c) >= 'a') && (p5str(v_c) <= 'z')) || (((p5str(v_c) >= 'A') && (p5str(v_c) <= 'Z')) || (p5str(v_c) == '_'))) ) {
								if ( ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) == '@') && (p5str(v_bareword) == 'ARGV')) ) {
									throw(p5context(['@*ARGS'], p5want))
								};
								throw(p5context([(p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) + p5str(v_bareword))], p5want));
							};
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) == '$') ) {
								if ( (p5str(v_bareword) == '/') ) {
									throw(p5context(['"' + String.fromCharCode(92) + 'n"'], p5want))
								};
								if ( (p5str(v_bareword) == '$') ) {
									throw(p5context(['$*PID'], p5want))
								};
								if ( (p5str(v_bareword) == '0') ) {
									throw(p5context(['$*PROGRAM_NAME'], p5want))
								};
								if ( (p5str(v_bareword) == '@') ) {
									throw(p5context(['$!'], p5want))
								};
								if ( (p5num(v_bareword) >= 1) ) {
									throw(p5context([('$' + p5str((p5num(v_bareword) - 1)))], p5want))
								};
							};
							var v_str;
							v_str = ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('sigil')) + '{' + String.fromCharCode(39) + p5str(v_bareword) + String.fromCharCode(39) + '}'));
							return (p5context([v_str], p5want));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp625._prototype_ = null;
					return tmp625
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Proto");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Proto", "emit_perl6", (function () {
					var tmp626;
					tmp626 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')) == '__PACKAGE__') ) {
								throw((new p5ArrayRef(['bareword', '$?PACKAGE'])));
							};
							return ((new p5ArrayRef(p5list_to_a(['bareword', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name')]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp626._prototype_ = null;
					return tmp626
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Call");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Call", "emit_perl6", (function () {
					var tmp627;
					tmp627 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							var v_invocant;
							v_invocant = (p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('invocant'), "emit_perl6", [], 0));
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<[ ]>') ) {
								throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', v_invocant, (new p5ArrayRef(p5list_to_a(['op', 'circumfix:<[ ]>', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('arguments'), "emit_perl6", [], 1)])))]))));
							};
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<{ }>') ) {
								throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', v_invocant, (new p5ArrayRef(p5list_to_a(['op', 'circumfix:<{ }>', p5call(p5call(p5pkg["Perlito5::AST::Lookup"], "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('arguments')]), 0), "emit_perl6", [], 1)])))]))));
							};
							var v_meth;
							v_meth = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('method'));
							if ( (p5str(v_meth) == 'postcircumfix:<( )>') ) {
								if ( (((p5pkg["Perlito5::AST::Call"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('invocant')], 0) == 'Perlito5::AST::Var') && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('invocant')._hash_.p5hget('sigil')) == '&')) || ((p5pkg["Perlito5::AST::Call"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('invocant')], 0) == 'Perlito5::AST::Apply') && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('invocant')._hash_.p5hget('code')) == 'prefix:<&>'))) ) {
									throw((new p5ArrayRef(p5list_to_a(['apply', '(', v_invocant, p5map(p5pkg["Perlito5::AST::Call"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::Call"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Call')]))]))));
								};
								v_meth = ('');
							};
							if ( (p5pkg["Perlito5::AST::Call"].ref([v_meth], 0) == 'Perlito5::AST::Var') ) {
								v_meth = (p5call(v_meth, "emit_perl6", [], 0));
							};
							if ( p5bool(v_meth) ) {
								throw((new p5ArrayRef(p5list_to_a(['call', v_invocant, v_meth, p5map(p5pkg["Perlito5::AST::Call"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::Call"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Call')]))]))));
							};
							return ((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', v_invocant, (new p5ArrayRef(p5list_to_a(['op', 'list:<,>', p5map(p5pkg["Perlito5::AST::Call"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::Call"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Call')]))])))]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp627._prototype_ = null;
					return tmp627
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Apply");
		p5for_lex(function () {
				var Hash_special_var = {};
				Hash_special_var = p5a_to_h([p5pkg["Perlito5::AST::Apply"].chr([15], 1), '$*VM']);
				var Hash_op_translate = {};
				Hash_op_translate = p5a_to_h(['list:<.>', 'list:<~>', 'infix:<.=>', 'infix:<~=>', 'infix:<=~>', 'infix:<~~>', 'infix:<!~>', 'infix:<!~~>', 'infix:<cmp>', 'infix:<leq>', 'ternary:<? :>', 'ternary:<?? !!>', 'reverse', 'flip']);
				p5typeglob_set("Perlito5::AST::Apply", "emit_perl6_args", (function () {
					var tmp628;
					tmp628 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( !( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('arguments'))) ) {
								throw(p5context([], p5want))
							};
							return (p5map(p5pkg["Perlito5::AST::Apply"], function (p5want) {
									return (p5call(p5pkg["Perlito5::AST::Apply"]["v__"], "emit_perl6", [], p5want));
								}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')])));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp628._prototype_ = null;
					return tmp628
				})());
				p5typeglob_set("Perlito5::AST::Apply", "emit_perl6", (function () {
					var tmp629;
					tmp629 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							var v_code;
							v_code = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code'));
							if ( p5bool(p5pkg["Perlito5::AST::Apply"].ref([v_code], 0)) ) {
								throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call(v_code, "emit_perl6", [], 1), p5call(v_self, "emit_perl6_args", [], 1)]))));
							};
							if ( (p5str(v_code) == 'infix:<=>>') ) {
								throw((new p5ArrayRef(p5list_to_a(['op', v_code, p5call(p5call(p5pkg["Perlito5::AST::Lookup"], "autoquote", p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), 0), "emit_perl6", [], 1), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), "emit_perl6", [], 1)]))));
							};
							if ( ((p5str(v_code) == 'nan') && !( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')))) ) {
								throw((new p5ArrayRef(['keyword', 'NaN'])));
							};
							if ( ((p5str(v_code) == 'inf') && !( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')))) ) {
								throw((new p5ArrayRef(['keyword', 'Inf'])));
							};
							if ( ((p5str(v_code) == '__PACKAGE__') && !( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')))) ) {
								throw((new p5ArrayRef(['bareword', '$?PACKAGE'])));
							};
							if ( (p5str(v_code) == 'prefix:<$#>') ) {
								throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), "emit_perl6", [], 1), (new p5ArrayRef(['keyword', 'end']))]))));
							};
							if ( (p5str(v_code) == 'scalar') ) {
								(function () {
									var v_arg;
									v_arg = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
									if ( (p5bool(p5call(v_arg, "isa", ['Perlito5::AST::Var'], 0)) && (p5str((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget('sigil')) == '@')) ) {
										throw((new p5ArrayRef(p5list_to_a(['op', 'infix:<.>', p5call(v_arg, "emit_perl6", [], 1), (new p5ArrayRef(['keyword', 'elems']))]))));
									};
								})();
							};
							if ( (((p5str(v_code) == 'shift') || (p5str(v_code) == 'pop')) && !( p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply'))))) ) {
								throw((new p5ArrayRef(['apply', '(', v_code, '@_'])));
							};
							if ( ((p5str(v_code) == 'glob') && ((p5pkg["Perlito5::AST::Apply"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)], 0) == 'Perlito5::AST::Val::Buf') && (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('buf')) == ''))) ) {
								throw((new p5ArrayRef(p5list_to_a(['apply', '(', (new p5ArrayRef(['keyword', 'lines']))]))));
							};
							if ( (p5str(v_code) == 'infix:<x>') ) {
								(function () {
									var v_arg;
									v_arg = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
									if ( ((p5pkg["Perlito5::AST::Apply"].ref([v_arg], 0) == 'Perlito5::AST::Apply') && (p5str((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>')) ) {
										v_code = ('infix:<xx>');
									};
								})();
							};
							if ( (((p5str(v_code) == 'print') || (p5str(v_code) == 'say')) && !( p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply'))))) ) {
								throw((new p5ArrayRef(['keyword', ('.' + p5str(v_code))])));
							};
							if ( (p5str(v_code) == 'infix:<..>') ) {
								p5call(p5pkg["Perlito5::Perl6::TreeGrammar"], "refactor_range_operator", [v_self], null);
								if ( (p5pkg["Perlito5::AST::Apply"].ref([v_self], 0) != 'Perlito5::AST::Apply') ) {
									throw(p5call(v_self, "emit_perl6", [], p5want));
								};
								v_code = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code'));
							};
							if ( p5bool(Hash_op_translate.p5hget(p5str(v_code))) ) {
								v_code = (Hash_op_translate.p5hget(p5str(v_code)))
							};
							if ( (p5str(v_code) == 'prefix:<$>') ) {
								(function () {
									var v_arg;
									v_arg = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
									if ( (p5bool(p5call(v_arg, "isa", ['Perlito5::AST::Val::Buf'], 0)) && (Hash_special_var).hasOwnProperty((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget('buf'))) ) {
										throw(Hash_special_var.p5hget(p5str((v_arg || (v_arg = new p5HashRef({})))._hash_.p5hget('buf'))))
									};
								})();
							};
							if ( p5bool(p5global_hash("Perlito5::Perl6::PrettyPrinter", "op").p5hget(p5str(v_code))) ) {
								throw((new p5ArrayRef(p5list_to_a(['op', v_code, p5call(v_self, "emit_perl6_args", [], 1)]))));
							};
							if ( (p5str(v_code) == 'undef') ) {
								if ( p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply'))) ) {
									p5pkg["Perlito5::AST::Apply"].die([['TODO - undef(expr)']], null);
								}
								else {
									throw(p5context(['Any'], p5want));
								};
							};
							var v_ns;
							v_ns = ('');
							if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) ) {
								v_ns = ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) + '::'));
							};
							v_code = ((p5str(v_ns) + p5str(v_code)));
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code')) == 'p5:s') ) {
								(function () {
									var v_modifier;
									v_modifier = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(2)._hash_.p5hget('buf'));
									if ( p5bool(v_modifier) ) {
										v_modifier = ((':' + p5str(v_modifier)))
									};
									throw(p5context([('s:P5' + p5str(v_modifier) + '!' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('buf')) + '!' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(1)._hash_.p5hget('buf')) + '!')], p5want));
								})();
							};
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code')) == 'p5:m') ) {
								(function () {
									var v_s;
									if ( p5bool(p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), "isa", ['Perlito5::AST::Val::Buf'], 0)) ) {
										v_s = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('buf'));
									}
									else {
										p5for_lex(function (v_ast) {
												if ( p5bool(p5call(v_ast, "isa", ['Perlito5::AST::Val::Buf'], 0)) ) {
													(v_s = ((p5str(v_s) + p5str((v_ast || (v_ast = new p5HashRef({})))._hash_.p5hget('buf')))));
												}
												else {
													(v_s = ((p5str(v_s) + p5str(p5call(v_ast, "emit_perl6", [], 0)))));
												};
											}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]), false, "");
									};
									var v_modifier;
									v_modifier = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(1)._hash_.p5hget('buf'));
									if ( p5bool(v_modifier) ) {
										v_modifier = ((':' + p5str(v_modifier)))
									};
									throw(p5context([('m:P5' + p5str(v_modifier) + '!' + p5str(v_s) + '!')], p5want));
								})();
							};
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code')) == 'p5:tr') ) {
								throw(p5context([('tr!' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('buf')) + '!' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(1)._hash_.p5hget('buf')) + '!')], p5want));
							};
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code')) == 'package') ) {
								p5make_package("Perlito5")["v_PKG_NAME"] = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace'));
								throw((new p5ArrayRef(p5list_to_a(['stmt', 'class', (new p5ArrayRef(p5list_to_a(['bareword', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')])))]))));
							};
							if ( ((p5str(v_code) == 'map') || ((p5str(v_code) == 'grep') || (p5str(v_code) == 'sort'))) ) {
								if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									throw((new p5ArrayRef(p5list_to_a(['op', ('prefix:<' + p5str(v_code) + '>'), (new p5ArrayRef(p5list_to_a(['block', p5map(p5pkg["Perlito5::AST::Apply"], function (p5want) {
	return (p5call(p5pkg["Perlito5::AST::Apply"]["v__"], "emit_perl6", [], p5want));
}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('special_arg')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Apply')]))]))), (new p5ArrayRef(p5list_to_a(['op', 'list:<,>', p5call(v_self, "emit_perl6_args", [], 1)])))]))));
								};
								throw((new p5ArrayRef(p5list_to_a(['apply', '(', v_code, p5call(v_self, "emit_perl6_args", [], 1)]))));
							};
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('bareword')) && !( p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply'))))) ) {
								throw((new p5ArrayRef(['bareword', v_code])));
							};
							if ( (p5str(v_code) == 'eval') ) {
								v_code = ('EVAL');
							};
							return ((new p5ArrayRef(p5list_to_a(['apply', '(', v_code, p5call(v_self, "emit_perl6_args", [], 1)]))));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp629._prototype_ = null;
					return tmp629
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::If");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::If", "emit_perl6", (function () {
					var tmp630;
					tmp630 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')) && (p5pkg["Perlito5::AST::If"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')], 0) != 'Perlito5::AST::Lit::Block')) ) {
								throw((new p5ArrayRef(p5list_to_a(['stmt_modifier', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['stmt', 'if', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1)])))]))));
							};
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('otherwise')) && (p5pkg["Perlito5::AST::If"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('otherwise')], 0) != 'Perlito5::AST::Lit::Block')) ) {
								throw((new p5ArrayRef(p5list_to_a(['stmt_modifier', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('otherwise'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['stmt', 'unless', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1)])))]))));
							};
							var List_out = [];
							List_out = p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'if'])), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "stmts", [], 1)]), 1)])))]);
							var v_otherwise;
							v_otherwise = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('otherwise'));
							p5while(function () {
									List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'elsif'])), p5call((v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget_hash(0)._hash_.p5hget('cond'), "emit_perl6", [], 1), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget_hash(0)._hash_.p5hget_hash('body')._hash_.p5hget('stmts')]), 1)])))]));
									v_otherwise = ((v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget_hash(0)._hash_.p5hget('otherwise'));
								}, function () {
									return p5and(v_otherwise, function () {
										return p5and((p5num(p5num(p5array_deref((v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::AST::If'))) == 1), function () {
											return p5and((p5pkg["Perlito5::AST::If"].ref([(v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], 0) == 'Perlito5::AST::If'), function () {
												return p5context([p5and((v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget_hash(0)._hash_.p5hget('body'), function () {
													return (p5pkg["Perlito5::AST::If"].ref([(v_otherwise || (v_otherwise = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget_hash(0)._hash_.p5hget('body')], 0) == 'Perlito5::AST::Lit::Block')
												})], 0)
											})
										})
									})
								}, false, "", 0);
							if ( !( (p5bool(v_otherwise) && p5bool((p5num(p5array_deref(p5call(v_otherwise, "stmts", [], p5want), 'Perlito5::AST::If')))))) ) {
								throw((p5want ? List_out : List_out.length))
							};
							List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'else'])), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([p5call(v_otherwise, "stmts", [], 1)]), 1)])))]));
							return ((p5want ? List_out : List_out.length));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp630._prototype_ = null;
					return tmp630
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::When");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::When", "emit_perl6", (function () {
					var tmp631;
					tmp631 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						return ((new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'when'])), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "stmts", [], 1)]), 1)]))));
					};
					tmp631._prototype_ = null;
					return tmp631
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::While");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::While", "emit_perl6", (function () {
					var tmp632;
					tmp632 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							p5call(p5pkg["Perlito5::Perl6::TreeGrammar"], "refactor_while_glob", [v_self], null);
							if ( (p5pkg["Perlito5::AST::While"].ref([v_self], 0) != 'Perlito5::AST::While') ) {
								throw(p5call(v_self, "emit_perl6", [], p5want));
							};
							var List_out = [];
							if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['label', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')])))]))
							};
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')) && (p5pkg["Perlito5::AST::While"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')], 0) != 'Perlito5::AST::Lit::Block')) ) {
								throw(p5context([(p5want ? List_out : List_out.length), (new p5ArrayRef(p5list_to_a(['stmt_modifier', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'while'])), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1)])))])))], p5want));
							};
							List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'while'])), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "stmts", [], 1)]), 1)])))]));
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('continue')) && p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget_array('stmts'), 'Perlito5::AST::While')))) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'continue'])), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget('stmts')]), 1)])))]));
							};
							return ((p5want ? List_out : List_out.length));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp632._prototype_ = null;
					return tmp632
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::For");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::For", "emit_perl6", (function () {
					var tmp633;
					tmp633 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							var List_out = [];
							if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['label', (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('label')])))]))
							};
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')) && (p5pkg["Perlito5::AST::For"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body')], 0) != 'Perlito5::AST::Lit::Block')) ) {
								throw(p5context([(p5want ? List_out : List_out.length), (new p5ArrayRef(p5list_to_a(['stmt_modifier', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "emit_perl6", [], 1), (new p5ArrayRef(p5list_to_a(['stmt', 'for', p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 1)])))])))], p5want));
							};
							var v_cond;
							var v_keyword;
							if ( (p5pkg["Perlito5::AST::For"].ref([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond')], 0) == 'ARRAY') ) {
								v_keyword = ('loop');
								v_cond = ((new p5ArrayRef(p5list_to_a(['paren_semicolon', '(', ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(0)) ? p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(0), "emit_perl6", [], 1) : (new p5ArrayRef([]))), ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(1)) ? p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(1), "emit_perl6", [], 1) : (new p5ArrayRef([]))), ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(2)) ? p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(2), "emit_perl6", [], 1) : (new p5ArrayRef([])))]))));
							}
							else {
								v_keyword = ('for');
								v_cond = (p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('cond'), "emit_perl6", [], 0));
							};
							var List_sig = [];
							var v_sig_ast;
							v_sig_ast = (p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "sig", [], 0));
							if ( !( p5bool(v_sig_ast)) ) {}
							else {
								if ( (p5pkg["Perlito5::AST::For"].ref([v_sig_ast], 0) == 'Perlito5::AST::Decl') ) {
									v_sig_ast = ((v_sig_ast || (v_sig_ast = new p5HashRef({})))._hash_.p5hget('var'))
								};
								List_sig = p5list_to_a(['->', p5call(v_sig_ast, "emit_perl6", [], 1)]);
							};
							List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', v_keyword])), v_cond, List_sig, p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('body'), "stmts", [], 1)]), 1)])))]));
							if ( (p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('continue')) && p5bool(p5num(p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget_array('stmts'), 'Perlito5::AST::For')))) ) {
								List_out.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'continue'])), p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget('stmts')]), 1)])))]));
							};
							return ((p5want ? List_out : List_out.length));
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp633._prototype_ = null;
					return tmp633
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Decl");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Decl", "emit_perl6", (function () {
					var tmp634;
					tmp634 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						return ((new p5ArrayRef(p5list_to_a(['op', ('prefix:<' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('decl')) + '>'), ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('type')) ? (v_self || (v_self = new p5HashRef({})))._hash_.p5hget('type') : p5context([], 1)), p5call((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('var'), "emit_perl6", [], 1)]))));
					};
					tmp634._prototype_ = null;
					return tmp634
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Sub");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Sub", "emit_perl6", (function () {
					var tmp635;
					tmp635 = function (List__, p5want) {
						try {
							var v_self;
							v_self = (List__.p5aget(0));
							p5call(p5pkg["Perlito5::Perl6::TreeGrammar"], "refactor_sub_arguments", [v_self], null);
							var List_parts = [];
							if ( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('args')) ) {
								List_parts.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['paren', '(', p5map(p5pkg["Perlito5::AST::Sub"], function (p5want) {
	return ((new p5ArrayRef(p5list_to_a(['var', p5call(p5pkg["Perlito5::AST::Sub"]["v__"], "emit_perl6", [], 1), '?']))));
}, p5list_to_a([p5array_deref((v_self || (v_self = new p5HashRef({})))._hash_.p5hget_array('args'), 'Perlito5::AST::Sub')])), (new p5ArrayRef(['var', '*@_']))])))]));
							}
							else {
								List_parts.p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['paren', '(', (new p5ArrayRef(['var', '*@_']))])))]));
							};
							if ( ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('block') != null) ) {
								List_parts.p5push(p5list_to_a([p5pkg["Perlito5::Perl6"].emit_perl6_block(p5list_to_a([(v_self || (v_self = new p5HashRef({})))._hash_.p5hget('block')]), 1)]))
							};
							if ( !( p5bool((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name'))) ) {
								throw((new p5ArrayRef(p5list_to_a(['op', 'prefix:<sub>', List_parts]))))
							};
							var v_is_our;
							v_is_our = (1);
							if ( (p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('decl')) == 'my') ) {
								v_is_our = (0)
							};
							var v_name;
							v_name = ((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('name'));
							if ( (p5str(p5make_package("Perlito5")["v_PKG_NAME"]) != p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace'))) ) {
								v_name = ((p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('namespace')) + '::' + p5str(v_name)));
								v_is_our = (0);
							};
							if ( p5bool(v_is_our) ) {
								(function () {
									throw((new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'our'])), (new p5ArrayRef(['keyword', 'sub'])), (new p5ArrayRef(['bareword', v_name])), List_parts]))))
								})()
							}
							else {
								(function () {
									throw((new p5ArrayRef(p5list_to_a(['stmt', (new p5ArrayRef(['keyword', 'sub'])), (new p5ArrayRef(['bareword', v_name])), List_parts]))))
								})()
							}
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					};
					tmp635._prototype_ = null;
					return tmp635
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Do");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Do", "emit_perl6", (function () {
					var tmp636;
					tmp636 = function (List__, p5want) {
						var v_self;
						v_self = (List__.p5aget(0));
						var v_block;
						v_block = (p5call(p5call(v_self, "simplify", [], 0), "block", [], 0));
						return ((new p5ArrayRef(p5list_to_a(['op', 'prefix:<do>', p5pkg["Perlito5::Perl6"].emit_perl6_block([v_block], 1)]))));
					};
					tmp636._prototype_ = null;
					return tmp636
				})());
			}, [0], false, ""
		);
		p5make_package("Perlito5::AST::Use");
		p5for_lex(function () {
				p5typeglob_set("Perlito5::AST::Use", "emit_perl6", (function () {
					var tmp637;
					tmp637 = function (List__, p5want) {
						var v_self;
						v_self = (List__.shift());
						p5pkg["Perlito5::Grammar::Use"].emit_time_eval([v_self], null);
						return ((new p5ArrayRef(['comment', ('# ' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('code')) + ' ' + p5str((v_self || (v_self = new p5HashRef({})))._hash_.p5hget('mod')))])));
					};
					tmp637._prototype_ = null;
					return tmp637
				})());
			}, [0], false, ""
		);
	})();
	// use Perlito5::Perl6::Emitter
;
	(function () {
		p5make_package("Perlito5::Perl6::PrettyPrinter");
		// use strict
;
		// use warnings
;
		var Hash_dispatch = {};
		Hash_dispatch = {'stmt' : (function () {
					var tmp638;
					tmp638 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].statement(p5list_to_a([List__]), p5want));
					};
					tmp638._prototype_ = null;
					return tmp638
				})(), 'stmt_modifier' : (function () {
					var tmp639;
					tmp639 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].statement_modifier(p5list_to_a([List__]), p5want));
					};
					tmp639._prototype_ = null;
					return tmp639
				})(), 'block' : (function () {
					var tmp640;
					tmp640 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].block(p5list_to_a([List__]), p5want));
					};
					tmp640._prototype_ = null;
					return tmp640
				})(), 'keyword' : (function () {
					var tmp641;
					tmp641 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].keyword(p5list_to_a([List__]), p5want));
					};
					tmp641._prototype_ = null;
					return tmp641
				})(), 'bareword' : (function () {
					var tmp642;
					tmp642 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].bareword(p5list_to_a([List__]), p5want));
					};
					tmp642._prototype_ = null;
					return tmp642
				})(), 'number' : (function () {
					var tmp643;
					tmp643 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].number(p5list_to_a([List__]), p5want));
					};
					tmp643._prototype_ = null;
					return tmp643
				})(), 'op' : (function () {
					var tmp644;
					tmp644 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].op(p5list_to_a([List__]), p5want));
					};
					tmp644._prototype_ = null;
					return tmp644
				})(), 'paren' : (function () {
					var tmp645;
					tmp645 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].paren(p5list_to_a([List__]), p5want));
					};
					tmp645._prototype_ = null;
					return tmp645
				})(), 'paren_semicolon' : (function () {
					var tmp646;
					tmp646 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].paren_semicolon(p5list_to_a([List__]), p5want));
					};
					tmp646._prototype_ = null;
					return tmp646
				})(), 'apply' : (function () {
					var tmp647;
					tmp647 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].apply(p5list_to_a([List__]), p5want));
					};
					tmp647._prototype_ = null;
					return tmp647
				})(), 'call' : (function () {
					var tmp648;
					tmp648 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].call(p5list_to_a([List__]), p5want));
					};
					tmp648._prototype_ = null;
					return tmp648
				})(), 'comment' : (function () {
					var tmp649;
					tmp649 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].comment(p5list_to_a([List__]), p5want));
					};
					tmp649._prototype_ = null;
					return tmp649
				})(), 'label' : (function () {
					var tmp650;
					tmp650 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].label(p5list_to_a([List__]), p5want));
					};
					tmp650._prototype_ = null;
					return tmp650
				})(), 'var' : (function () {
					var tmp651;
					tmp651 = function (List__, p5want) {
						return (p5pkg["Perlito5::Perl6::PrettyPrinter"].var(p5list_to_a([List__]), p5want));
					};
					tmp651._prototype_ = null;
					return tmp651
				})()};
		var Hash_pair = {};
		Hash_pair = p5a_to_h(['(', ')', '[', ']', '{', '}']);
		if (typeof p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"] == "undefined" ) { p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"] = {};}
		p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"] = p5a_to_h(p5list_to_a(['prefix:<$>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '$'})), 'prefix:<@>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '@'})), 'prefix:<%>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '%'})), 'prefix:<&>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '&'})), 'prefix:<*>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '*'})), 'prefix:<$#>', (new p5HashRef({'fix' : 'deref', 'prec' : 0, 'str' : '$#'})), 'circumfix:<[ ]>', (new p5HashRef({'fix' : 'circumfix', 'prec' : 0, 'str' : '['})), 'circumfix:<{ }>', (new p5HashRef({'fix' : 'circumfix', 'prec' : 0, 'str' : '{'})), 'circumfix:<( )>', (new p5HashRef({'fix' : 'circumfix', 'prec' : 0, 'str' : '('})), 'infix:<.>', (new p5HashRef(p5a_to_h(p5list_to_a(['fix', 'infix', 'prec', p5negative( 1), 'str', '.'])))), 'prefix:<-->', (new p5HashRef({'fix' : 'prefix', 'prec' : 1, 'str' : '--'})), 'prefix:<++>', (new p5HashRef({'fix' : 'prefix', 'prec' : 1, 'str' : '++'})), 'postfix:<-->', (new p5HashRef({'fix' : 'postfix', 'prec' : 1, 'str' : '--'})), 'postfix:<++>', (new p5HashRef({'fix' : 'postfix', 'prec' : 1, 'str' : '++'})), 'infix:<**>', (new p5HashRef({'fix' : 'infix', 'prec' : 2, 'str' : '**'})), 'p6_prefix:<^>', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : '^'})), 'prefix:<' + String.fromCharCode(92) + '>', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : String.fromCharCode(92)})), 'prefix:<+>', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : '+'})), 'prefix:<->', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : '-'})), 'prefix:<~>', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : '~'})), 'prefix:<!>', (new p5HashRef({'fix' : 'prefix', 'prec' : 3, 'str' : '!'})), 'infix:<=~>', (new p5HashRef({'fix' : 'infix', 'prec' : 4, 'str' : ' =~ '})), 'infix:<!~>', (new p5HashRef({'fix' : 'infix', 'prec' : 4, 'str' : ' !~ '})), 'infix:<*>', (new p5HashRef({'fix' : 'infix', 'prec' : 5, 'str' : ' * '})), 'infix:</>', (new p5HashRef({'fix' : 'infix', 'prec' : 5, 'str' : ' / '})), 'infix:<%>', (new p5HashRef({'fix' : 'infix', 'prec' : 5, 'str' : ' % '})), 'infix:<+>', (new p5HashRef({'fix' : 'infix', 'prec' : 6, 'str' : ' + '})), 'infix:<->', (new p5HashRef({'fix' : 'infix', 'prec' : 6, 'str' : ' - '})), 'infix:<x>', (new p5HashRef({'fix' : 'infix', 'prec' : 8, 'str' : ' x '})), 'infix:<xx>', (new p5HashRef({'fix' : 'infix', 'prec' : 8, 'str' : ' xx '})), 'list:<~>', (new p5HashRef({'fix' : 'list', 'prec' : 10, 'str' : ' ~ '})), 'infix:<~>', (new p5HashRef({'fix' : 'infix', 'prec' : 10, 'str' : ' ~ '})), 'infix:<<<>', (new p5HashRef({'fix' : 'infix', 'prec' : 12, 'str' : ' << '})), 'infix:<>>>', (new p5HashRef({'fix' : 'infix', 'prec' : 12, 'str' : ' >> '})), 'infix:<lt>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' lt '})), 'infix:<le>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' le '})), 'infix:<gt>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' gt '})), 'infix:<ge>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' ge '})), 'infix:<<=>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' <= '})), 'infix:<>=>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' >= '})), 'infix:<<>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' < '})), 'infix:<>>', (new p5HashRef({'fix' : 'infix', 'prec' : 90, 'str' : ' > '})), 'infix:<<=>>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' <=> '})), 'infix:<cmp>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' cmp '})), 'infix:<leq>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' leq '})), 'infix:<==>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' == '})), 'infix:<!=>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' != '})), 'infix:<ne>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' ne '})), 'infix:<eq>', (new p5HashRef({'fix' : 'infix', 'prec' : 100, 'str' : ' eq '})), 'infix:<&>', (new p5HashRef({'fix' : 'infix', 'prec' : 110, 'str' : ' & '})), 'infix:<|>', (new p5HashRef({'fix' : 'infix', 'prec' : 120, 'str' : ' | '})), 'infix:<^>', (new p5HashRef({'fix' : 'infix', 'prec' : 120, 'str' : ' ^ '})), 'infix:<..>', (new p5HashRef({'fix' : 'infix', 'prec' : 130, 'str' : ' .. '})), 'infix:<...>', (new p5HashRef({'fix' : 'infix', 'prec' : 130, 'str' : ' ... '})), 'infix:<~~>', (new p5HashRef({'fix' : 'infix', 'prec' : 130, 'str' : ' ~~ '})), 'infix:<&&>', (new p5HashRef({'fix' : 'infix', 'prec' : 140, 'str' : ' && '})), 'infix:<||>', (new p5HashRef({'fix' : 'infix', 'prec' : 150, 'str' : ' || '})), 'infix:<//>', (new p5HashRef({'fix' : 'infix', 'prec' : 150, 'str' : ' // '})), 'ternary:<?? !!>', (new p5HashRef({'fix' : 'ternary', 'prec' : 160})), 'infix:<=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' = '})), 'infix:<**=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' **= '})), 'infix:<+=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' += '})), 'infix:<-=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' -= '})), 'infix:<*=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' *= '})), 'infix:</=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' /= '})), 'infix:<x=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' x= '})), 'infix:<|=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' |= '})), 'infix:<&=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' &= '})), 'infix:<.=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' .= '})), 'infix:<<<=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' <<= '})), 'infix:<>>=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' >>= '})), 'infix:<%=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' %= '})), 'infix:<||=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' ||= '})), 'infix:<&&=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' &&= '})), 'infix:<^=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' ^= '})), 'infix:<//=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' //= '})), 'infix:<~=>', (new p5HashRef({'fix' : 'infix', 'prec' : 170, 'str' : ' ~= '})), 'infix:<=>>', (new p5HashRef({'fix' : 'infix', 'prec' : 180, 'str' : ' => '})), 'list:<,>', (new p5HashRef({'fix' : 'list', 'prec' : 190, 'str' : ', '})), 'infix:<:>', (new p5HashRef({'fix' : 'infix', 'prec' : 190, 'str' : ':'})), 'prefix:<not>', (new p5HashRef({'fix' : 'infix', 'prec' : 200, 'str' : ' not '})), 'infix:<and>', (new p5HashRef({'fix' : 'infix', 'prec' : 210, 'str' : ' and '})), 'infix:<or>', (new p5HashRef({'fix' : 'infix', 'prec' : 220, 'str' : ' or '})), 'infix:<xor>', (new p5HashRef({'fix' : 'infix', 'prec' : 220, 'str' : ' xor '}))]));
		p5for(p5make_package("Perlito5::Perl6::PrettyPrinter"), "v__", function () {
				p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"].p5hset(('prefix:<' + p5str(p5pkg["Perlito5::Perl6::PrettyPrinter"]["v__"]) + '>'), ((new p5HashRef({'fix' : 'prefix', 'prec' : 8, 'str' : (p5str(p5pkg["Perlito5::Perl6::PrettyPrinter"]["v__"]) + ' ')}))));
			}, ['-r', '-w', '-x', '-o', '-R', '-W', '-X', '-O', '-e', '-z', '-s', '-f', '-d', '-l', '-p', '-S', '-b', '-c', '-t', '-u', '-g', '-k', '-T', '-B', '-M', '-A', '-C'], false, "");
		p5for(p5make_package("Perlito5::Perl6::PrettyPrinter"), "v__", function () {
				p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"].p5hset(('prefix:<' + p5str(p5pkg["Perlito5::Perl6::PrettyPrinter"]["v__"]) + '>'), ((new p5HashRef({'fix' : 'parsed', 'prec' : 8, 'str' : p5pkg["Perlito5::Perl6::PrettyPrinter"]["v__"]}))));
			}, ['do', 'sub', 'my', 'our', 'state', 'local', 'map', 'grep', 'sort'], false, "");
		var Hash_tab = {};
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "tab", (function () {
			var tmp652;
			tmp652 = function (List__, p5want) {
				var v_level;
				v_level = (List__.p5aget(0));
				return (Hash_tab.p5hset(p5str(v_level), (p5defined_or(Hash_tab.p5hget(p5str(v_level)), function () {
									return p5str_replicate('    ', v_level)
								}))));
			};
			tmp652._prototype_ = null;
			return tmp652
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "render", (function () {
			var tmp653;
			tmp653 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp654 = p5list_to_a([List__]);
						var tmp655 = tmp654.slice(0);
						v_data = tmp654.shift();
						v_level = tmp654.shift();
						v_out = tmp654.shift();
						return tmp655
					})();
				if ( p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([v_data], 0)) ) {
						return ((Hash_dispatch.p5hget(p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0))))([v_data, v_level, v_out], p5want));
					}
					else {
						return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([v_data]));
					}
			};
			tmp653._prototype_ = null;
			return tmp653
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "op_precedence", (function () {
			var tmp656;
			tmp656 = function (List__, p5want) {
				try {
					var v_data;
					(function () {
						var tmp657 = p5list_to_a([List__]);
						var tmp658 = tmp657.slice(0);
						v_data = tmp657.shift();
						return tmp658
					})();
					if ( !( p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([v_data], 0))) ) {
						throw(p5context([0], p5want))
					};
					if ( (p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0)) != 'op') ) {
						throw(p5context([0], p5want))
					};
					return (p5or(p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"].p5hget_hash(p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)))._hash_.p5hget('prec'), function () {
							return 0
						}));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp656._prototype_ = null;
			return tmp656
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "statement_need_semicolon", (function () {
			var tmp659;
			tmp659 = function (List__, p5want) {
				try {
					var v_data;
					(function () {
						var tmp660 = p5list_to_a([List__]);
						var tmp661 = tmp660.slice(0);
						v_data = tmp660.shift();
						return tmp661
					})();
					if ( !( p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([v_data], 0))) ) {
						throw(p5context([1], p5want))
					};
					if ( ((p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0)) == 'block') || ((p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0)) == 'comment') || (p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0)) == 'label'))) ) {
						throw(p5context([0], p5want))
					};
					if ( (p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(0)) == 'stmt') ) {
						if ( p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)], 0)) ) {
							(function () {
								var v_dd;
								v_dd = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1));
								if ( (p5str((v_dd || (v_dd = new p5ArrayRef([])))._array_.p5aget(0)) == 'keyword') ) {
									if ( (p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(p5negative( 1)))], 0)) && (p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget_array(p5num(p5negative( 1)))._array_.p5aget(0)) == 'block')) ) {
										throw(p5context([0], p5want))
									};
								};
							})();
						};
					};
					return (p5context([1], p5want));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp659._prototype_ = null;
			return tmp659
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "op_render", (function () {
			var tmp662;
			tmp662 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				var v_current_op;
				(function () {
						var tmp663 = p5list_to_a([List__]);
						var tmp664 = tmp663.slice(0);
						v_data = tmp663.shift();
						v_level = tmp663.shift();
						v_out = tmp663.shift();
						v_current_op = tmp663.shift();
						return tmp664
					})();
				if ( p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].ref([v_data], 0)) ) {
						var v_this_prec;
						v_this_prec = (p5pkg["Perlito5::Perl6::PrettyPrinter"].op_precedence([v_data], 0));
						if ( (p5bool(v_this_prec) && (p5bool((v_current_op || (v_current_op = new p5HashRef({})))._hash_.p5hget('prec')) && (p5num((v_current_op || (v_current_op = new p5HashRef({})))._hash_.p5hget('prec')) < p5num(v_this_prec)))) ) {
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(['('])
						};
						p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_data, v_level, v_out], null);
						if ( (p5bool(v_this_prec) && (p5bool((v_current_op || (v_current_op = new p5HashRef({})))._hash_.p5hget('prec')) && (p5num((v_current_op || (v_current_op = new p5HashRef({})))._hash_.p5hget('prec')) < p5num(v_this_prec)))) ) {
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([')'])
						}
					}
					else {
						return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([v_data]));
					}
			};
			tmp662._prototype_ = null;
			return tmp662
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "op", (function () {
			var tmp665;
			tmp665 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp666 = p5list_to_a([List__]);
						var tmp667 = tmp666.slice(0);
						v_data = tmp666.shift();
						v_level = tmp666.shift();
						v_out = tmp666.shift();
						return tmp667
					})();
					var v_op;
					v_op = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1));
					var v_spec;
					v_spec = (p5or(p5pkg["Perlito5::Perl6::PrettyPrinter"]["Hash_op"].p5hget(p5str(v_op)), function () {
								return p5pkg["Perlito5::Perl6::PrettyPrinter"].die([[('unknown op: ' + p5str(v_op))]], 0)
							}));
					if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'infix') ) {
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out, v_spec]), null);
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]));
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(3), v_level, v_out, v_spec]), null);
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'prefix') ) {
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]));
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out, v_spec]), null);
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'postfix') ) {
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out, v_spec]), null);
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]));
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'ternary') ) {
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out, v_spec]), null);
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([' ?? ']);
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(3), v_level, v_out, v_spec]), null);
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([' !! ']);
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(4), v_level, v_out, v_spec]), null);
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'deref') ) {
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str'), '(']));
						p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out, v_spec]), null);
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([')']);
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'circumfix') ) {
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]));
						p5for_lex(function (v_line) {
								p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)), v_level, v_out, v_spec]), null);
								if ( (p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) ) {
									p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([', '])
								};
							}, p5list_to_a([p5range(2, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "");
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([Hash_pair.p5hget(p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')))]));
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'list') ) {
						p5for_lex(function (v_line) {
								p5pkg["Perlito5::Perl6::PrettyPrinter"].op_render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)), v_level, v_out, v_spec]), null);
								if ( (p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) ) {
									p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]))
								};
							}, p5list_to_a([p5range(2, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "");
					}
					else if ( (p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')) == 'parsed') ) {
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('str')]));
						p5for_lex(function (v_line) {
								var v_d;
								v_d = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)));
								p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([' ']);
								p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
							}, p5list_to_a([p5range(2, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "");
					}
					else {
						p5pkg["Perlito5::Perl6::PrettyPrinter"].die([[('unknown fixity: ' + p5str((v_spec || (v_spec = new p5HashRef({})))._hash_.p5hget('fix')))]], null);
					};
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp665._prototype_ = null;
			return tmp665
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "call", (function () {
			var tmp668;
			tmp668 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp669 = p5list_to_a([List__]);
						var tmp670 = tmp669.slice(0);
						v_data = tmp669.shift();
						v_level = tmp669.shift();
						v_out = tmp669.shift();
						return tmp670
					})();
					var List_dd = [];
					List_dd = p5list_to_a([p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter')]);
					List_dd.shift();
					var v_open;
					v_open = ('(');
					p5pkg["Perlito5::Perl6::PrettyPrinter"].render(p5list_to_a([List_dd.shift(), v_level, v_out]), null);
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(['.']);
					var v_d;
					v_d = (List_dd.p5aget(0));
					p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
					if ( ((p5str(v_open) == '(') && (p5num(List_dd.length) == 1)) ) {
						throw(p5context([], p5want));
					};
					List_dd.p5aset(0, ('list:<,>'));
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([v_open]);
					p5pkg["Perlito5::Perl6::PrettyPrinter"].op(p5list_to_a([(new p5ArrayRef(p5list_to_a(['op', List_dd]))), v_level, v_out]), null);
					return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([Hash_pair.p5hget(p5str(v_open))])));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp668._prototype_ = null;
			return tmp668
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "apply", (function () {
			var tmp671;
			tmp671 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp672 = p5list_to_a([List__]);
						var tmp673 = tmp672.slice(0);
						v_data = tmp672.shift();
						v_level = tmp672.shift();
						v_out = tmp672.shift();
						return tmp673
					})();
					var List_dd = [];
					List_dd = p5list_to_a([p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter')]);
					List_dd.shift();
					var v_open;
					v_open = (List_dd.shift());
					var v_d;
					v_d = (List_dd.p5aget(0));
					p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
					if ( ((p5str(v_open) == '(') && (p5num(List_dd.length) == 1)) ) {
						throw(p5context([], p5want));
					};
					List_dd.p5aset(0, ('list:<,>'));
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([v_open]);
					p5pkg["Perlito5::Perl6::PrettyPrinter"].op(p5list_to_a([(new p5ArrayRef(p5list_to_a(['op', List_dd]))), v_level, v_out]), null);
					return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([Hash_pair.p5hget(p5str(v_open))])));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp671._prototype_ = null;
			return tmp671
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "paren", (function () {
			var tmp674;
			tmp674 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp675 = p5list_to_a([List__]);
						var tmp676 = tmp675.slice(0);
						v_data = tmp675.shift();
						v_level = tmp675.shift();
						v_out = tmp675.shift();
						return tmp676
					})();
				var List_dd = [];
				List_dd = p5list_to_a([p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter')]);
				List_dd.shift();
				var v_open;
				v_open = (List_dd.p5aget(0));
				List_dd.p5aset(0, ('list:<,>'));
				p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([v_open]);
				p5pkg["Perlito5::Perl6::PrettyPrinter"].op(p5list_to_a([(new p5ArrayRef(p5list_to_a(['op', List_dd]))), v_level, v_out]), null);
				return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([Hash_pair.p5hget(p5str(v_open))])));
			};
			tmp674._prototype_ = null;
			return tmp674
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "paren_semicolon", (function () {
			var tmp677;
			tmp677 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp678 = p5list_to_a([List__]);
						var tmp679 = tmp678.slice(0);
						v_data = tmp678.shift();
						v_level = tmp678.shift();
						v_out = tmp678.shift();
						return tmp679
					})();
				p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)]));
				p5for_lex(function (v_line) {
							if ( p5bool(p5num(p5array_deref((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget_array(p5num(v_line)), 'Perlito5::Perl6::PrettyPrinter'))) ) {
								p5pkg["Perlito5::Perl6::PrettyPrinter"].render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)), v_level, v_out]), null)
							};
							if ( (p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) ) {
								if ( p5bool(p5num(p5array_deref((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget_array((p5num(v_line) + 1)), 'Perlito5::Perl6::PrettyPrinter'))) ) {
									p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(['; ']);
								}
								else {
									p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([';']);
								};
							};
						}, p5list_to_a([p5range(2, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "");
				return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([Hash_pair.p5hget(p5str((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)))])));
			};
			tmp677._prototype_ = null;
			return tmp677
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "var", (function () {
			var tmp680;
			tmp680 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp681 = p5list_to_a([List__]);
						var tmp682 = tmp681.slice(0);
						v_data = tmp681.shift();
						v_level = tmp681.shift();
						v_out = tmp681.shift();
						return tmp682
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(function () {
	var a = [];
	var v = p5list_to_a([p5range(1, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]);
	var src=p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter');
	for (var i=0, l=v.length; i<l; ++i){
		a.push(src.p5aget(v[i]))
	}
	return a
})()]));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp680._prototype_ = null;
			return tmp680
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "label", (function () {
			var tmp683;
			tmp683 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp684 = p5list_to_a([List__]);
						var tmp685 = tmp684.slice(0);
						v_data = tmp684.shift();
						v_level = tmp684.shift();
						v_out = tmp684.shift();
						return tmp685
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1), ':']));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp683._prototype_ = null;
			return tmp683
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "keyword", (function () {
			var tmp686;
			tmp686 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp687 = p5list_to_a([List__]);
						var tmp688 = tmp687.slice(0);
						v_data = tmp687.shift();
						v_level = tmp687.shift();
						v_out = tmp687.shift();
						return tmp688
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)]));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp686._prototype_ = null;
			return tmp686
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "bareword", (function () {
			var tmp689;
			tmp689 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp690 = p5list_to_a([List__]);
						var tmp691 = tmp690.slice(0);
						v_data = tmp690.shift();
						v_level = tmp690.shift();
						v_out = tmp690.shift();
						return tmp691
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)]));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp689._prototype_ = null;
			return tmp689
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "number", (function () {
			var tmp692;
			tmp692 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp693 = p5list_to_a([List__]);
						var tmp694 = tmp693.slice(0);
						v_data = tmp693.shift();
						v_level = tmp693.shift();
						v_out = tmp693.shift();
						return tmp694
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)]));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp692._prototype_ = null;
			return tmp692
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "comment", (function () {
			var tmp695;
			tmp695 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp696 = p5list_to_a([List__]);
						var tmp697 = tmp696.slice(0);
						v_data = tmp696.shift();
						v_level = tmp696.shift();
						v_out = tmp696.shift();
						return tmp697
					})();
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1)]));
					(function () {
						throw(p5context([], p5want))
					})()
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp695._prototype_ = null;
			return tmp695
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "statement", (function () {
			var tmp698;
			tmp698 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp699 = p5list_to_a([List__]);
						var tmp700 = tmp699.slice(0);
						v_data = tmp699.shift();
						v_level = tmp699.shift();
						v_out = tmp699.shift();
						return tmp700
					})();
				p5for_lex(function (v_line) {
							var v_d;
							v_d = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)));
							p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
							if ( (p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) ) {
								p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([' '])
							};
						}, p5list_to_a([p5range(1, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "")
			};
			tmp698._prototype_ = null;
			return tmp698
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "statement_modifier", (function () {
			var tmp701;
			tmp701 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp702 = p5list_to_a([List__]);
						var tmp703 = tmp702.slice(0);
						v_data = tmp702.shift();
						v_level = tmp702.shift();
						v_out = tmp702.shift();
						return tmp703
					})();
				p5pkg["Perlito5::Perl6::PrettyPrinter"].render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(1), v_level, v_out]), null);
				p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([String.fromCharCode(10), p5pkg["Perlito5::Perl6::PrettyPrinter"].tab([(p5num(v_level) + 1)], 1)]));
				return (p5pkg["Perlito5::Perl6::PrettyPrinter"].render(p5list_to_a([(v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(2), v_level, v_out]), p5want));
			};
			tmp701._prototype_ = null;
			return tmp701
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "block", (function () {
			var tmp704;
			tmp704 = function (List__, p5want) {
				try {
					var v_data;
					var v_level;
					var v_out;
					(function () {
						var tmp705 = p5list_to_a([List__]);
						var tmp706 = tmp705.slice(0);
						v_data = tmp705.shift();
						v_level = tmp705.shift();
						v_out = tmp705.shift();
						return tmp706
					})();
					if ( (p5num(p5num(p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter'))) == 1) ) {
						p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(['{}']);
						throw(p5context([], p5want));
					};
					p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(['{', String.fromCharCode(10)]);
					(function () {
						var tmp707 = v_level;
						v_level = p5incr_(tmp707);
						return tmp707
					})();
					p5for_lex(function (v_line) {
							var v_d;
							v_d = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)));
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([p5pkg["Perlito5::Perl6::PrettyPrinter"].tab([v_level], 1)]));
							p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
							if ( ((p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) && p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].statement_need_semicolon([v_d], 0))) ) {
								p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([';'])
							};
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([String.fromCharCode(10)]);
						}, p5list_to_a([p5range(1, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "");
					(function () {
						var tmp708 = v_level;
						v_level = p5decr_(tmp708);
						return tmp708
					})();
					return (p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([p5pkg["Perlito5::Perl6::PrettyPrinter"].tab([v_level], 1), '}'])));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			};
			tmp704._prototype_ = null;
			return tmp704
		})());
		p5typeglob_set("Perlito5::Perl6::PrettyPrinter", "pretty_print", (function () {
			var tmp709;
			tmp709 = function (List__, p5want) {
				var v_data;
				var v_level;
				var v_out;
				(function () {
						var tmp710 = p5list_to_a([List__]);
						var tmp711 = tmp710.slice(0);
						v_data = tmp710.shift();
						v_level = tmp710.shift();
						v_out = tmp710.shift();
						return tmp711
					})();
				p5for_lex(function (v_line) {
							var v_d;
							v_d = ((v_data || (v_data = new p5ArrayRef([])))._array_.p5aget(p5num(v_line)));
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push(p5list_to_a([p5pkg["Perlito5::Perl6::PrettyPrinter"].tab([v_level], 1)]));
							p5pkg["Perlito5::Perl6::PrettyPrinter"].render([v_d, v_level, v_out], null);
							if ( ((p5num(v_line) != p5num((p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))) && p5bool(p5pkg["Perlito5::Perl6::PrettyPrinter"].statement_need_semicolon([v_d], 0))) ) {
								p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([';'])
							};
							p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').p5push([String.fromCharCode(10)]);
						}, p5list_to_a([p5range(0, (p5array_deref((v_data || (v_data = new p5ArrayRef([]))), 'Perlito5::Perl6::PrettyPrinter').length - 1))]), false, "")
			};
			tmp709._prototype_ = null;
			return tmp709
		})());
		1;
	})();
	// use Perlito5::Perl6::PrettyPrinter
;
	p5typeglob_set("Perlito5", "compile_p5_to_p6", (function () {
		var tmp712;
		tmp712 = function (List__, p5want) {
			var v_s;
			v_s = (List__.shift());
			p5make_package("Perlito5")["v_PKG_NAME"] = ('main');
			p5make_package("Perlito5")["v_PROTO"] = ((new p5HashRef({})));
			var v_ast;
			v_ast = (p5call(p5pkg["Perlito5::Grammar"], "exp_stmts", [v_s, 0], 0));
			var List_data = [];
			List_data = p5list_to_a([p5pkg["Perlito5::AST::CompUnit"].emit_perl6_program(p5list_to_a([(new p5ArrayRef(p5list_to_a([p5call(p5pkg["Perlito5::AST::CompUnit"], "new", p5list_to_a(['name', 'main', 'body', p5pkg["Perlito5::Match"].flat([v_ast], 1)]), 1)])))]), 1)]);
			var v_out;
			v_out = ((new p5ArrayRef([])));
			p5pkg["Perlito5::Perl6::PrettyPrinter"].pretty_print(p5list_to_a([(new p5ArrayRef(List_data)), 0, v_out]), null);
			return (p5context([p5pkg["Perlito5"].join(['', p5list_to_a(['use v6;' + String.fromCharCode(10), p5array_deref((v_out || (v_out = new p5ArrayRef([]))), 'Perlito5'), String.fromCharCode(10)])], p5want)], p5want));
		};
		tmp712._prototype_ = null;
		return tmp712
	})());
	1;
})()
