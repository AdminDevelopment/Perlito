// Do not edit this file - Generated by Perlito5 9.022
//
// lib/Perlito5/JavaScript2/Runtime.js
//
// Runtime for "Perlito" Perl5-in-JavaScript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

"use strict";
var isNode = typeof require != "undefined";

if (typeof p5pkg !== "object") {
    var p5pkg = {};
    var p5LOCAL = [];

    var universal = function () {};
    p5pkg.UNIVERSAL = new universal();
    p5pkg.UNIVERSAL._ref_ = "UNIVERSAL";
    p5pkg.UNIVERSAL.isa = function (List__) {
        var o = List__[0];
        var s = List__[1];
        var clas;
        if (typeof o === "string") {
            clas = p5pkg[o];
        }
        else {
            clas = o._class_;
        }
        if (!clas) {
            return false;
        }
        if (clas._ref_ == s) {
            return true;
        }
        var isa = clas.List_ISA;
        if (isa) {
            for (var i = 0; i < isa.length; i++) {
                if (isa[i] == s) {
                    return true;
                }
                if (p5pkg.UNIVERSAL.isa( isa[i], s )) {
                    return true;
                }
            }
        }
        return false;
    };
    p5pkg.UNIVERSAL.can = function (List__) {
        var o = List__[0];
        var s = List__[1];
        if (typeof o === "string") {
            return p5method_lookup(s, o, {})
        }
        if ( s.indexOf("::") == -1 ) {
            return p5method_lookup(s, o._class_._ref_, {})
        }
        var c = s.split("::");
        s = c.pop(); 
        return p5method_lookup(s, c.join("::"), {});
    };
    p5pkg.UNIVERSAL.DOES = p5pkg.UNIVERSAL.can;

    var core = function () {};
    p5pkg["CORE"] = new core();
    p5pkg["CORE"]._ref_ = "CORE";

    var core_global = function () {};
    core_global.prototype = p5pkg.CORE;
    p5pkg["CORE::GLOBAL"] = new core_global();
    p5pkg["CORE::GLOBAL"]._ref_ = "CORE::GLOBAL";

    var p5_error = function (type, v) {
        this.type = type;
        this.v = this.message = v;
        this.toString = function(){
            if (this.type == 'break') {
                return 'Can\'t "break" outside a given block'
            }
            if (this.type == 'next' || this.type == 'last' || this.type == 'redo') {
                if (this.v == "") { return 'Can\'t "' + this.type + '" outside a loop block' }
                return 'Label not found for "' + this.type + ' ' + this.v + '"';
            }
            return this.v;
        };
    };
    p5_error.prototype = Error.prototype;
}

function p5make_package(pkg_name) {
    if (!p5pkg.hasOwnProperty(pkg_name)) {
        var tmp = function () {};
        tmp.prototype = p5pkg["CORE::GLOBAL"];
        p5pkg[pkg_name] = new tmp();
        p5pkg[pkg_name]._ref_ = pkg_name;
        p5pkg[pkg_name]._class_ = p5pkg[pkg_name];  // XXX memory leak
        p5pkg[pkg_name]._is_package_ = 1;

        // TODO - add the other package global variables
        p5pkg[pkg_name]["List_ISA"] = [];
        p5pkg[pkg_name]["v_a"] = null;
        p5pkg[pkg_name]["v_b"] = null;
        p5pkg[pkg_name]["v__"] = null;
        p5pkg[pkg_name]["v_AUTOLOAD"] = null;
    }
    return p5pkg[pkg_name];
}

function p5get_class_for_method(method, class_name, seen) {
    // default mro
    // TODO - cache the methods that were already looked up
    if ( p5pkg[class_name].hasOwnProperty(method) ) {
        return class_name
    }
    var isa = p5pkg[class_name].List_ISA;
    if (isa) {
        for (var i = 0; i < isa.length; i++) {
            if (!seen[isa[i]]) {
                var m = p5get_class_for_method(method, isa[i], seen);
                if (m) {
                    return m 
                }
                seen[isa[i]]++;
            }
        }
    }
}

function p5method_lookup(method, class_name, seen) {
    var c = p5get_class_for_method(method, class_name, seen);
    if (c) {
        return p5pkg[c][method]
    }
    if ( p5pkg.UNIVERSAL.hasOwnProperty(method) ) {
        return p5pkg.UNIVERSAL[method]
    }
}

function p5method_not_found(method, class_name) {
    return "Can't locate object method \""
        + method + "\" via package \"" + class_name + "\" (perhaps you forgot to load \""
        + class_name + "\"?)";
}

function p5call(invocant, method, list, p5want) {
    var invocant_original = invocant;
    if (typeof invocant === "string") {
        list.unshift(invocant);
        invocant = p5make_package(invocant);
    }
    else if ( invocant.hasOwnProperty("_is_package_") ) {
        list.unshift(invocant._ref_);   // invocant is a "package" object
    }
    else {
        list.unshift(invocant);
    }

    if ( invocant.hasOwnProperty("_class_") ) {

        if ( invocant._class_.hasOwnProperty(method) ) {
            return invocant._class_[method](list, p5want)
        }
        var m = p5method_lookup(method, invocant._class_._ref_, {});
        if (m) {
            return m(list, p5want)
        }

        // method can have an optional namespace
        var pkg_name = method.split(/::/);
        if (pkg_name.length > 1) {
            var name = pkg_name.pop();
            pkg_name = pkg_name.join("::");
            m = p5method_lookup(name, pkg_name, {});
            if (m) {
                return m(list, p5want)
            }
            p5pkg.CORE.die([p5method_not_found(name, pkg_name)]);
        }

        if (method == "print" || method == "printf" || method == "say" || method == "close") {
            list.shift();
            return p5pkg['Perlito5::IO'][method]( invocant_original, list, p5want);
        }

        if (method.substr(0, 1) != "("
         && method != "import"
         && method != "unimport"
         && method != "isa"
         && method != "can"
        ) {
            pkg_name = p5get_class_for_method('AUTOLOAD', invocant._class_._ref_, {}) || p5get_class_for_method('AUTOLOAD', "UNIVERSAL", {});
            if (pkg_name) {
                p5pkg[pkg_name]["v_AUTOLOAD"] = invocant._class_._ref_ + "::" + method;
                return p5pkg[pkg_name]["AUTOLOAD"](list, p5want);
            }
        }
        p5pkg.CORE.die([p5method_not_found(method, invocant._class_._ref_)]);
    }
    p5pkg.CORE.die(["Can't call method ", method, " on unblessed reference"]);
}

function p5cget(namespace, name) {
    if(p5pkg[namespace].hasOwnProperty(name)) {
        return p5pkg[namespace][name]
    }
    if(p5pkg[namespace].hasOwnProperty("AUTOLOAD")) {
        p5pkg[namespace]["v_AUTOLOAD"] = namespace + "::" + name;
        return p5pkg[namespace]["AUTOLOAD"]
    }
    p5pkg.CORE.die(["Undefined subroutine &" + namespace + "::" + name]);
}

function p5cget_by_name(namespace, name) {
    // name can be a function already
    if (typeof name === "function") {
        return name;
    }
    // name can have an optional namespace
    var parts = name.split(/::/);
    if (parts.length > 1) {
        name = parts.pop();
        namespace = parts.join("::");
    }
    if(p5pkg[namespace].hasOwnProperty(name)) {
        return p5pkg[namespace][name]
    }
    if(p5pkg[namespace].hasOwnProperty("AUTOLOAD")) {
        p5pkg[namespace]["v_AUTOLOAD"] = namespace + "::" + name;
        return p5pkg[namespace]["AUTOLOAD"]
    }
    p5pkg.CORE.die(["Undefined subroutine &" + namespace + "::" + name]);
}

function p5code_lookup_by_name(package_name, sub_name) {
    // sub_name can be a function already
    if (typeof sub_name === "function") {
        return sub_name;
    }
    // sub_name can have an optional namespace
    var parts = sub_name.split(/::/);
    if (parts.length > 1) {
        sub_name = parts.pop();
        package_name = parts.join("::");
    }
    if (p5pkg.hasOwnProperty(package_name)) {
        var c = p5pkg[package_name];
        if ( c.hasOwnProperty(sub_name) ) {
            return c[sub_name]
        }
    }
    return null;
}

function p5sub_exists(name, current_pkg_name) {
    var v = name;
    var pkg_name = v.split(/::/);
    if (pkg_name.length > 1) {
        v = pkg_name.pop();
        pkg_name = pkg_name.join("::");
    }
    else {
        pkg_name = current_pkg_name;
    }
    var c = v.charCodeAt(0);
    if (c < 27) {
        pkg_name = 'main';
    }
    return p5pkg.hasOwnProperty(pkg_name) && p5pkg[pkg_name].hasOwnProperty(v) 
}

function p5sub_prototype(name, current_pkg_name) {
    if (!name) {
        return null;
    }
    if (typeof name === "function") {
        return name._prototype_;
    }
    var v = name;
    var pkg_name = v.split(/::/);
    if (pkg_name.length > 1) {
        v = pkg_name.pop();
        pkg_name = pkg_name.join("::");
    }
    else {
        pkg_name = current_pkg_name;
    }
    var c = v.charCodeAt(0);
    if (c < 27) {
        pkg_name = 'main';
    }
    if (p5pkg.hasOwnProperty(pkg_name) && p5pkg[pkg_name].hasOwnProperty(v)) {
        return p5pkg[pkg_name][v]._prototype_
    }
    return p5pkg["Perlito5"].v_PROTO._hash_[name] || p5pkg["Perlito5"].v_CORE_PROTO._hash_[name]
}

function p5scalar_deref(v, current_pkg_name, autoviv_type) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            pkg_name = 'main';
        }
        var name = "v_"+v;
        if (!p5make_package(pkg_name)[name]) {
            if (autoviv_type == 'array') {
                p5pkg[pkg_name][name] = new p5ArrayRef([]);
            }
            else if (autoviv_type == 'hash') {
                p5pkg[pkg_name][name] = new p5HashRef([]);
            }
            else if (autoviv_type == 'scalar') {
                p5pkg[pkg_name][name] = new p5ScalarRef([]);
            }
        }
        return p5pkg[pkg_name][name];
    }
    if (!v._scalar_) {
        if (autoviv_type == 'array') {
            v._scalar_ = new p5ArrayRef([]);
        }
        else if (autoviv_type == 'hash') {
            v._scalar_ = new p5HashRef([]);
        }
        else if (autoviv_type == 'scalar') {
            v._scalar_ = new p5ScalarRef([]);
        }
    }
    return v._scalar_;
}

function p5scalar_deref_set(v, n, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            pkg_name = 'main';
        }
        var name = "v_"+v;
        p5make_package(pkg_name)[name] = n;
        return p5pkg[pkg_name][name];
    }
    v._scalar_ = n;
    return v._scalar_;
}

function p5array_deref(v, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            pkg_name = 'main';
        }
        var name = "List_"+v;
        if (!p5make_package(pkg_name)[name]) {
                p5pkg[pkg_name][name] = [];
        }
        return p5pkg[pkg_name][name];
    }
    return v._array_;
}

function p5hash_deref(v, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        var c = v.charCodeAt(0);
        if (c < 27) {
            pkg_name = 'main';
        }
        var name = "Hash_"+v;
        if (!p5make_package(pkg_name)[name]) {
                p5pkg[pkg_name][name] = [];
        }
        return p5pkg[pkg_name][name];
    }
    return v._hash_;
}

// regex globals
p5make_package("Regex");
var p5_last_regex = new RegExp("", "");
var p5_regex_capture = [];

p5make_package("main");
p5make_package("Perlito5");
p5pkg["Perlito5"].v_PKG_NAME = "main";
p5make_package("main::STDIN").file_handle = { id : 0, readline_buffer : '' };
p5make_package("main::STDOUT").file_handle = { id : 1 };
p5make_package("main::STDERR").file_handle = { id : 2 };
p5make_package("main::STDIN")['List_ISA'] = ['Perlito5::IO'];
// p5make_package("main::STDOUT")['List_ISA'] = ['Perlito5::IO'];
// p5make_package("main::STDERR")['List_ISA'] = ['Perlito5::IO'];
p5make_package("ARGV").file_handle = { id : null };
p5make_package("main")["STDOUT"] = p5pkg["main::STDOUT"];
p5make_package("main")["STDERR"] = p5pkg["main::STDERR"];
p5make_package("main")["STDIN"] = p5pkg["main::STDIN"];
p5pkg["STDOUT"] = p5pkg["main::STDOUT"];
p5pkg["STDERR"] = p5pkg["main::STDERR"];
p5pkg["STDIN"] = p5pkg["main::STDIN"];
p5pkg["Perlito5"].v_SELECT = "main::STDOUT";
p5pkg["main"]["v_@"] = [];      // $@
p5pkg["main"]["v_|"] = 0;       // $|
p5pkg["main"]["v_/"] = "\n";    // $/
p5pkg["main"]['v_"'] = " ";     // $"
p5pkg["main"]["List_#"] = [];   // @#
p5scalar_deref_set(String.fromCharCode(15), isNode ? "node.js" : "javascript2");  // $^O
p5pkg["main"]["List_INC"] = [];
p5pkg["main"]["Hash_INC"] = {};
p5pkg["main"]["List_ARGV"] = [];
p5pkg["main"]["Hash_ENV"] = {};
p5pkg["main"]["Hash_SIG"] = {};
if (isNode) {
    p5pkg["main"]["List_ARGV"] = process.argv.splice(2);

    p5pkg["main"]["Hash_ENV"] = {};
    for (var e in process.env) p5pkg["main"]["Hash_ENV"][e] = process.env[e];

    p5pkg["main"]["v_$"] = process.pid;   // $$
    p5scalar_deref_set(String.fromCharCode(24), process.argv[0]);  // $^X
} else if (typeof arguments === "object") {
    p5pkg["main"]["List_ARGV"] = arguments;
}

p5make_package("Perlito5::IO");
p5make_package("Perlito5::Runtime");
p5make_package("Perlito5::Grammar");

var sigils = { '@' : 'List_', '%' : 'Hash_', '$' : 'v_', '&' : '' };

function p5typeglob_set(namespace, name, obj) {
    p5make_package(namespace);
    if ( obj.hasOwnProperty("_ref_") ) {
        if ( obj._ref_ == "HASH" ) {
            p5pkg[namespace][sigils['%'] + name] = obj._hash_;
        }
        else if ( obj._ref_ == "ARRAY" ) {
            p5pkg[namespace][sigils['@'] + name] = obj._array_;
        }
        else if ( obj._ref_ == "SCALAR" ) {
            p5pkg[namespace][sigils['$'] + name] = obj._scalar_;
        }
        else if ( obj._ref_ == "CODE" ) {
            p5pkg[namespace][sigils['&'] + name] = obj._code_;
        }
        else if ( obj._ref_ == "GLOB" ) {
            // TODO
            p5pkg[namespace][name] = obj;
        }
    }
    else {
        p5pkg[namespace][name] = obj;   // native CODE
        // TODO - non-reference
    }
    return p5pkg[namespace][name];  // TODO - return GLOB
}

function p5typeglob_deref_set(v, obj, current_pkg_name) {
    if (typeof v === "string") {
        var pkg_name = v.split(/::/);
        if (pkg_name.length > 1) {
            v = pkg_name.pop();
            pkg_name = pkg_name.join("::");
        }
        else {
            pkg_name = current_pkg_name;
        }
        return p5typeglob_set(pkg_name, v, obj);
    }
    CORE.die(["TODO: can't p5typeglob_deref_set()"]);
}

function p5cleanup_local(idx, value) {
    while (p5LOCAL.length > idx) {
        var l = p5LOCAL.pop();
        l();
    }
    return value;
}

//-------- Reference

var p5id = Math.floor(Math.random() * 1000000000) + 1000000000;

function p5HashRef(o) {
    this._hash_ = o;
    this._ref_ = "HASH";
    this.bool = function() { return 1 };
}

function p5ArrayRef(o) {
    this._array_ = o;
    this._ref_ = "ARRAY";
    this.bool = function() { return 1 };
}

function p5ScalarRef(o) {
    this._scalar_ = o;
    this._ref_ = "SCALAR";
    this.bool = function() { return 1 };
}

function p5GlobRef(o) {
    this._scalar_ = o;
    this._ref_ = "GLOB";
    this.bool = function() { return 1 };
}

function p5CodeRef(o) {
    this._code_ = o;
    this._ref_ = "CODE";
    this.bool = function() { return 1 };
}

//-------- Hash 

Object.defineProperty( Object.prototype, "p5hget", {
    enumerable : false,
    value : function (i) { return this[i] }
});
Object.defineProperty( Object.prototype, "p5hset", {
    enumerable : false,
    value : function (i, v) { this[i] = v; return this[i] }
});

Object.defineProperty( Object.prototype, "p5incr", {
    enumerable : false,
    value : function (i) {
        this[i] = p5incr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Object.prototype, "p5postincr", {
    enumerable : false,
    value : function (i) {
        var v = this[i];
        this[i] = p5incr_(this[i]);
        return v;
    }
});
Object.defineProperty( Object.prototype, "p5decr", {
    enumerable : false,
    value : function (i) {
        this[i] = p5decr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Object.prototype, "p5postdecr", {
    enumerable : false,
    value : function (i) {
        var v = this[i];
        this[i] = p5decr_(this[i]);
        return v;
    }
});

Object.defineProperty( Object.prototype, "p5hget_array", {
    enumerable : false,
    value : function (i) {
        if (this[i] == null) { this[i] = new p5ArrayRef([]) }
        return this[i]
    }
});
Object.defineProperty( Object.prototype, "p5hget_hash", {
    enumerable : false,
    value : function (i) {
        if (this[i] == null) { this[i] = new p5HashRef({}) }
        return this[i]
    }
});

//-------


var p5context = function(List__, p5want) {
    if (p5want) {
        return p5list_to_a(List__);
    }
    // scalar: return the last value
    var o = List__;
    if (o instanceof Array) {
        o =   o.length
            ? o[o.length-1]
            : null;
    }
    if (o instanceof Array) {
        o =   o.length
    }
    return o;
}

var p5list_to_a = function(args) {
    var res = [];
    for (var i = 0; i < args.length; i++) {
        var o = args[i];
        if  (  o == null
            || o._class_    // perl5 blessed reference
            || o._ref_      // perl5 un-blessed reference
            )
        {
            res.push(o);
        }
        else if (o instanceof Array) {
            // perl5 array
            for (var j = 0; j < o.length; j++) {
                res.push(o[j]);
            }
        }
        else if (typeof o === "object") {
            // perl5 hash
            for(var j in o) {
                if (o.hasOwnProperty(j)) {
                    res.push(j);
                    res.push(o[j]);
                }
            }
        }
        else {
            // non-ref
            res.push(o);
        }
    }
    return res;
};

var p5_list_of_refs = function(a) {
    // implements \( @a )
    var res = [];
    for (var i = 0; i < a.length; i++) {
        res.push(new p5ScalarRef(a[i]));
    }
    return res;
};

var p5a_to_h = function(a) {
    var res = {};
    for (var i = 0; i < a.length; i+=2) {
        res[p5str(a[i])] = a[i+1];
    }
    return res;
};

var p5idx = function(a, i) {
    return i >= 0 ? i : a.length + i
};

var p5smrt_scalar = function(a1, a2) {
    if (a2 == null) {
        return a1 == null;
    }
    if (typeof a2 == "string") {
        return p5str(a1) == a2;
    }
    if (typeof a2 == "number") {
        return p5num(a1) == a2;
    }
    CORE.die("Not implemented: smartmatch operator with argument type '", (typeof a2), "'");
};

var p5str = function(o) {
    if (o == null) {
        return "";
    }
    if (typeof o === "object") {
        if (o instanceof Array) {
            return CORE.join([""].concat(o));
        }
        if ( o.hasOwnProperty("_ref_") ) {
            var class_name = '';
            if (o._class_ && typeof o._class_._ref_ === "string") {
                // blessed reference
                // test for overload
                var meth = p5method_lookup('(""', o._class_._ref_, {});
                if (meth) {
                    return p5str(meth([o], 0));
                }
                // TODO - test the "fallback" flag
                meth = p5method_lookup('(0+', o._class_._ref_, {});
                if (meth) {
                    return p5str(meth([o], 0));
                }
                // no overload, strigify the reference instead
                class_name = o._class_._ref_ + '=';
            }
            if (!o._id_) { o._id_ = p5id++ }
            return [class_name, o._ref_, '(0x', o._id_.toString( 16 ), ')'].join('');
        }
    }
    if (typeof o === "function") {
        var class_name = '';
        if (o._class_ && typeof o._class_._ref_ === "string") {
            // blessed reference
            class_name = o._class_._ref_ + '=';
        }
        if (!o._id_) { o._id_ = p5id++ }
        return [class_name, 'CODE(0x', o._id_.toString( 16 ), ')'].join('');
    }
    if (typeof o == "number" && Math.abs(o) < 0.0001 && o != 0) {
        return o.toExponential().replace(/e-(\d)$/,"e-0$1");
    }
    if (typeof o === "boolean") {
        return o ? "1" : "";
    }
    if (typeof o !== "string") {
        return "" + o;
    }
    return o;
};

var p5num = function(o) {
    if (o == null) {
        return 0;
    }
    if (typeof o === "object") {
        if (o instanceof Array) {
            return o.length;
        }
        if ( o.hasOwnProperty("_ref_") ) {
            if (o._class_ && typeof o._class_._ref_ === "string") {
                // blessed reference
                // test for overload
                var meth = p5method_lookup('(0+', o._class_._ref_, {});
                if (meth) {
                    return p5num(meth([o], 0));
                }
                // TODO - test the "fallback" flag
                meth = p5method_lookup('(""', o._class_._ref_, {});
                if (meth) {
                    return p5num(meth([o], 0));
                }
            }
        }
    }
    if (typeof o !== "number") {
        var s = p5str(o).trim();
        var s1 = s.substr(0, 3).toUpperCase();
        if ( s1 == "NAN" ) { return NaN };
        if ( s1 == "INF" ) { return Infinity };
        s1 = s.substr(0, 4).toUpperCase();
        if ( s1 == "-NAN" ) { return NaN };
        if ( s1 == "-INF" ) { return -Infinity };
        s1 = parseFloat(s);
        if ( isNaN(s1) ) { return 0 };
        return s1;
    }
    return o;
};

var p5bool = function(o) {
    if (o) {
        if (typeof o === "boolean") {
            return o;
        }
        if (typeof o === "number") {
            return o;
        }
        if (typeof o === "string") {
            return o != "" && o != "0";
        }
        if (typeof o.length === "number") {
            return o.length;
        }
        if (o instanceof Error) {
            return true;
        }
        for (var i in o) {
            return true;
        }
    }
    return false;
};

var p5incr_ = function(o) {
    if (typeof o === "number") {
        return o + 1;
    }
    return p5str_inc(p5str(o));
};

var p5decr_ = function(o) {
    if (typeof o === "number") {
        return o - 1;
    }
    return p5num(o) - 1;
};

var p5modulo = function(o, k) {
    var m = o % k;
    if ( k < 0 && m > 0 ) {
        m = m + k;
    }
    else if ( k > 0 && m < 0 ) {
        m = m + k;
    }
    return m;
};

var p5shift_left = function(o, k) {
    return k < 31 ? o << k : o * Math.pow(2, k);
};

var p5and = function(a, fb) {
    if (p5bool(a)) {
        return fb();
    }
    return a;
};

var p5or = function(a, fb) {
    if (p5bool(a)) {
        return a;
    }
    return fb();
};

var p5defined_or = function(a, fb) {
    if (a == null) {
        return fb();
    }
    return a;
};

var p5xor = function(a, fb) {
    return p5bool(a) ? !p5bool(fb()) : fb()
};

var p5cmp = function(a, b) {
    return a > b ? 1 : a < b ? -1 : 0 
};

var p5complement = function(a) {
    return a < 0 ? ~a : 4294967295 - a
    // return a < 0 ? ~a : 18446744073709551615 - a
};

var p5str_replicate = function(o, n) {
    n = Math.floor(n);
    return n > 0 ? Array(n + 1).join(o) : "";
};

var p5list_replicate = function(o, n, want) {
    o = p5list_to_a([o]);
    n = p5num(n);

    if (!want) {
        return p5str_replicate(o.pop(), n);   // scalar context
    }

    var out = [];
    for(var i = 0; i < n; i++) {
        for(var j = 0; j < o.length; j++) {
            out.push(o[j]);
        }
    }
    return (want ? out : out.length)
};

var p5list_slice = function(o, ix, want) {
    var out = [];
    for (var i=0, l=ix.length; i<l; ++i) {
        if (ix[i] < o.length) {
            out[i] = o[ix[i]];
        }
    }
    if (want) { return out }
    return out.length ? out[out.length-1] : null;
}

var p5hash_slice = function(o, ix, want) {
    var out = [];
    for (var i=0, l=ix.length; i<l; ++i) {
        out.push(ix[i]);
        out.push(o[ix[i]]);
    }
    if (want) { return out }
    return out.length ? out[out.length-1] : null;
}

var p5list_lookup_slice = function(o, ix, want) {
    var out = [];
    for (var i=0, l=ix.length; i<l; ++i) {
        out[i] = o[ix[i]];
    }
    if (want) { return out }
    return out.length ? out[out.length-1] : null;
}

var p5hash_lookup_slice = function(o, ix, want) {
    var out = [];
    for (var i=0, l=ix.length; i<l; ++i) {
        out.push(ix[i]);
        out.push(o[ix[i]]);
    }
    if (want) { return out }
    return out.length ? out[out.length-1] : null;
}

var p5str_inc = function(s) {
    if (s.length < 2) {
        if ((s >= "0" && s <= "8") || (s >= "A" && s <= "Y") || (s >= "a" && s <= "y")) {
            return String.fromCharCode(s.charCodeAt(0) + 1);
        }
        if (s == "9") {
            return "10";
        }
        if (s == "Z") {
            return "AA";
        }
        if (s == "z") {
            return "aa";
        }
        return "1";
    }
    var c0 = s.substr(0, 1);
    if (c0 >= "0" && c0 <= "9") {
        return p5str(p5num(s)+1);
    }
    var c = p5str_inc(s.substr(s.length-1, 1));
    if (c.length == 1) {
        return s.substr(0, s.length-1) + c;
    }
    return p5str_inc(s.substr(0, s.length-1)) + c.substr(c.length-1, 1);
};

var p5looks_like_number = function(a) {
    if (typeof a === "number") {
        return 1;
    }
    a = a.trim();
    var s1 = a.toUpperCase();
    if ( s1 == "NAN" || s1 == "INF" || s1 == "-NAN" || s1 == "-INF" ) {
        return 1
    };
    if (s1.match(/^[\+\-]?[0-9]+\.?(?:E[-+]?[0-9]+)?$/)) {          // 999 999.
        return 1;
    }
    if (s1.match(/^[\+\-]?[0-9]*\.[0-9]+(?:E[-+]?[0-9]+)?$/)) {    // 999.999 .999
        return 1;
    }
    return 0;
}

var p5range_state = {};
var p5range = function(a, b, p5want, id, three_dots) {
    if (p5want) {
        // list context
        var tmp = [];
        if (typeof a === "number" || typeof b === "number") {
            a = p5num(a);
            b = p5num(b);
            if (isNaN(a) || isNaN(b) || a == Infinity || b == Infinity) {
                p5pkg.CORE.die(["Range iterator outside integer range"]);
            }
            a = CORE.int([a]);
            while (a <= b) {
                tmp.push(a);
                a++;
            }
        }
        else {
            a = p5str(a);
            b = p5str(b);
            if (a == '') {
                return [a];
            }

            if (a.substr(0, 1) != '0' && p5looks_like_number(a) && p5looks_like_number(b)) {
                // both sides look like number
                return p5range(p5num(a), p5num(b), p5want, id, three_dots)
            }

            // If the initial value specified isn't part of a magical increment sequence
            // (that is, a non-empty string matching /^[a-zA-Z]*[0-9]*\z/ ),
            // only the initial value will be returned.
            if (!a.match(/^[a-zA-Z]*[0-9]*$/)) {
                if (a.length > b.length) {
                    return []
                }
                return [a]
            }

            while (  (a.length < b.length)
                  || (a.length == b.length && a <= b) ) {
                tmp.push(a);
                a = p5incr_(a);
            }
        }
        return tmp;
    }
    // flip-flop operator
    var v;
    if (p5range_state[id]) {
        v = ++p5range_state[id];
        if (p5bool(b)) {
            p5range_state[id] = 0;
            v = v + "E0";
        }
        return v;
    }
    else {
        p5range_state[id] = 0;
        if (p5bool(a)) {
            p5range_state[id]++;
            v = p5range_state[id];
        }
        if (v && !three_dots && p5bool(b)) {
            p5range_state[id] = 0;
            v = v + "E0";
        }
        return v;
    }
};

var p5negative = function(o) {
    if (o == null) {
        return '-0';
    }
    if (typeof o === "object" && (o instanceof Array)) {
        return -(o.length);
    }
    if (typeof o !== "number") {
        var s = p5str(o);
        var c = s.substr(0, 1);
        if ( c == '+' ) { s = s.substr(1); return '-' + s }
        if ( c == '-' ) { s = s.substr(1); return '+' + s }
        var s1 = parseFloat(s.trim());
        if ( isNaN(s1) ) {
            if ( c.length && !c.match(/[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz]/) ) {
                if ( s.trim().substr(0,1) == "-" ) { return 0 };
                return '-0';
            };
            return '-' + s
        };
        return -s1;
    }
    return -o;
};

function p5regex_s_modifier (s) {
    var cc = s.split(/(\\.)|/);
    var out = [];
    var is_char_class = false;
    for(var i = 0; i < cc.length; i++) {
        var c = cc[i];
        if (typeof c != "undefined") {
            if (c == "[")                    { is_char_class = true }
            if (c == "]" && is_char_class )  { is_char_class = false }
            if (c == "." && !is_char_class ) { c = "[\\S\\s]" }
            out.push(c);
        }
    }
    return out.join("");
}

function p5regex_x_modifier (s) {
    var cc = s.split(/(\\.)|/);
    var out = [];
    var is_char_class = false;
    var is_comment = false;
    for(var i = 0; i < cc.length; i++) {
        var c = cc[i];
        if (typeof c != "undefined") {
            if (c == "[")                    { is_char_class = true }
            if (c == "]" && is_char_class )  { is_char_class = false }
            if (c == " " && !is_char_class ) { c = "" }
            if (c == "#" && !is_char_class ) { c = ""; is_comment = true }
            if (c == "\n" && is_comment )    { c = ""; is_comment = false }
            if (is_comment)                  { c = "" }
            out.push(c);
        }
    }
    return out.join("");
}

function p5regex_compile (s, flags) {
    if (flags.indexOf("s") != -1) {
        flags = flags.replace("s", "");
        s = p5regex_s_modifier(s);
    }
    if (flags.indexOf("x") != -1) {
        flags = flags.replace("x", "");
        s = p5regex_x_modifier(s);
    }
    return new RegExp(s, flags);
}

var p5qr = function(search, modifier) {
    // TODO - "Regex" stringification
    var re = p5regex_compile(search, modifier);
    return CORE.bless([(new p5ScalarRef(re)), 'Regex']);
};

var p5m = function(s, search, modifier, want) {
    // TODO - captures
    var re;
    if (search.hasOwnProperty('_scalar_')) {
        // search is a Regex object
        re = search._scalar_;
    }
    else {
        re = p5regex_compile(search, modifier);
    }

    p5_regex_capture = [];
    var res = [];
    var myArray;
    while ((myArray = re.exec(s)) !== null) {
        var m = myArray.shift();
        if (myArray.length) {
            res = res.concat(myArray);
            p5_regex_capture = p5_regex_capture.concat(myArray);
        }
        else {
            res.push(m);
        }
        if (re.lastIndex == 0) {
            return (want ? res : res.length)
        }
    }
    return (want ? res : res.length)
};

var p5s = function(s, search, fun_replace, modifier, want) {
    // TODO - captures
    var count = null;
    var re;
    if (search.hasOwnProperty('_scalar_')) {
        // search is a Regex object
        re = search._scalar_;
    }
    else {
        re = p5regex_compile(search, modifier);
    }

    p5_regex_capture = [];
    var res = [];
    var myArray;
    var last_index = 0;
    while ((myArray = re.exec(s)) !== null) {
        var m = myArray.shift();
        p5_regex_capture = [].concat(myArray);
        if (myArray.index > last_index) {
            res.push(s.substr(last_index, myArray.index - last_index));
        }
        res.push(fun_replace());
        last_index = re.lastIndex;
        if (last_index == 0) {
            count = 1;
            last_index = myArray.index + m.length;
            if (s.length > last_index) {
                res.push(s.substr(last_index, s.length - last_index));
            }
            return [res.join(''), count]
        }
        count++;
    }
    if (s.length > last_index) {
        res.push(s.substr(last_index, s.length - last_index));
    }
    return [res.join(''), count]
};

var p5tr = function(s, search, replace, modifier, want) {
    var count = 0;
    // TODO - expand character lists in spec
    // TODO - modifiers
    search = search.split("");
    replace = replace.split("");
    while (search.length > replace.length) {
        replace.push(replace[replace.length-1]);
    }
    var tr = {};
    for(var i = 0; i < search.length; i++) {
        tr[search[i]] = replace[i];
    }
    var res = s.split("");
    for(var i = 0; i < res.length; i++) {
        if (tr.hasOwnProperty(res[i])) {
            res[i] = tr[res[i]];
            count++;
        }
    }
    return [res.join(''), count]
};

var p5chop = function(s) {
    // TODO - hash

    if (s instanceof Array) {
        // perl5 array
        var count = 0;
        var res;
        for (var j = 0; j < s.length; j++) {
            res = p5chop(p5str(s[j]));
            count = res[0];
            s[j] = res[1];
        }
        return [count, s];
    }

    s = p5str(s);
    return [s.substr(-1,1), s.substr(0,s.length-1)]
};

var p5chomp = function(s) {
    // TODO - hash
    // TODO - special cases of $/ - empty string, reference

    if (s instanceof Array) {
        // perl5 array
        var count = 0;
        var res;
        for (var j = 0; j < s.length; j++) {
            res = p5chomp(p5str(s[j]));
            count = count + res[0];
            s[j] = res[1];
        }
        return [count, s];
    }

    s = p5str(s);
    var sep = p5pkg["main"]["v_/"];  // $/
    var c = s.substr(-sep.length);
    if (c == sep) {
        return [c.length, s.substr(0,s.length-sep.length)]
    }
    else {
        return [0, s]
    }
};

var p5for = function(namespace, var_name, func, args, cont, label) {
    var local_idx = p5LOCAL.length;
    var v_old = namespace[var_name];
    var _redo;
    p5LOCAL.push(function(){ namespace[var_name] = v_old });
    for(var i = 0; i < args.length; i++) {
        namespace[var_name] = args[i];
        do {
            _redo = false;
            try {
                func()
            }
            catch(err) {
                if (err instanceof p5_error && (err.v == label || err.v == '')) {
                    if (err.type == 'last') {
                        p5cleanup_local(local_idx, null);
                        return
                    }
                    else if (err.type == 'redo') { _redo = true }
                    else if (err.type != 'next') { throw(err) }
                }
                else {
                    throw(err)
                }
            }
            if (cont) {
                try {
                    if (!_redo) { cont() }
                }
                catch(err) {
                    if (err instanceof p5_error && (err.v == label || err.v == '')) {
                        if (err.type == 'last') {
                            p5cleanup_local(local_idx, null);
                            return
                        }
                        else if (err.type == 'redo') { _redo = true }
                        else if (err.type != 'next') { throw(err) }
                    }            
                    else {
                        throw(err)
                    }
                }
            }
        } while (_redo);
    }
    p5cleanup_local(local_idx, null);
};

var p5for_lex = function(set_var, func, args, cont, label) {
    var local_idx = p5LOCAL.length;
    var _redo;
    for(var i = 0; i < args.length; i++) {
        set_var(args[i]);
        do {
            _redo = false;
            try {
                func()
            }
            catch(err) {
                if (err instanceof p5_error && (err.v == label || err.v == '')) {
                    if (err.type == 'last') {
                        p5cleanup_local(local_idx, null);
                        return
                    }
                    else if (err.type == 'redo') { _redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
            if (cont) {
                try {
                    if (!_redo) { cont() }
                }
                catch(err) {
                    if (err instanceof p5_error && (err.v == label || err.v == '')) {
                        if (err.type == 'last') {
                            p5cleanup_local(local_idx, null);
                            return
                        }
                        else if (err.type == 'redo') { _redo = true }
                        else if (err.type != 'next') { throw(err) }
                    }            
                    else {
                        throw(err)
                    }
                }
            }
        } while (_redo);
    }
    p5cleanup_local(local_idx, null);
};

var p5block = function(set_var, func, args, cont, label) {
    var local_idx = p5LOCAL.length;
    var _redo;
    for(var i = 0; i < args.length; i++) {
        set_var(args[i]);
        do {
            _redo = false;
            try {
                return func()
            }
            catch(err) {
                if (err instanceof p5_error && (err.v == label || err.v == '')) {
                    if (err.type == 'last') {
                        p5cleanup_local(local_idx, null);
                        return
                    }
                    else if (err.type == 'redo') { _redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
            if (cont) {
                try {
                    if (!_redo) { cont() }
                }
                catch(err) {
                    if (err instanceof p5_error && (err.v == label || err.v == '')) {
                        if (err.type == 'last') {
                            p5cleanup_local(local_idx, null);
                            return
                        }
                        else if (err.type == 'redo') { _redo = true }
                        else if (err.type != 'next') { throw(err) }
                    }            
                    else {
                        throw(err)
                    }
                }
            }
        } while (_redo);
    }
    p5cleanup_local(local_idx, null);
};


var p5while = function(func, cond, cont, label, redo) {
    var local_idx = p5LOCAL.length;
    while (redo || p5bool(cond())) {
        redo = false;
        try {
            func()
        }
        catch(err) {
            if (err instanceof p5_error && (err.v == label || err.v == '')) {
                if (err.type == 'last') {
                    p5cleanup_local(local_idx, null);
                    return
                }
                else if (err.type == 'redo') { redo = true }
                else if (err.type != 'next') { throw(err) }
            }            
            else {
                throw(err)
            }
        }
        if (cont) {
            try {
                if (!redo) { cont() }
            }
            catch(err) {
                if (err instanceof p5_error && (err.v == label || err.v == '')) {
                    if (err.type == 'last') {
                        p5cleanup_local(local_idx, null);
                        return
                    }
                    else if (err.type == 'redo') { redo = true }
                    else if (err.type != 'next') { throw(err) }
                }            
                else {
                    throw(err)
                }
            }
        }
    }
    p5cleanup_local(local_idx, null);
};

var p5map = function(namespace, func, args) {
    var v_old = p5pkg["main"]["v__"];
    var out = [];
    for(var i = 0; i < args.length; i++) {
        p5pkg["main"]["v__"] = args[i];
        var o = p5list_to_a([func(1)]);
        for(var j = 0; j < o.length; j++) {
            out.push(o[j]);
        }
    }
    p5pkg["main"]["v__"] = v_old;
    return out;
};

var p5grep = function(namespace, func, args) {
    var v_old = p5pkg["main"]["v__"];
    var out = [];
    for(var i = 0; i < args.length; i++) {
        p5pkg["main"]["v__"] = args[i];
        if (p5bool(func(0))) {
            out.push(args[i])
        }
    }
    p5pkg["main"]["v__"] = v_old;
    return out;
};

var p5sort = function(namespace, func, args) {
    var a_old = namespace["v_a"];
    var b_old = namespace["v_b"];
    var out = 
        func == null
        ? args.sort()
        : args.sort(
            function(a, b) {
                namespace["v_a"] = a;
                namespace["v_b"] = b;
                return func(0);
            }
        );
    namespace["v_a"] = a_old;
    namespace["v_b"] = b_old;
    return out;
};

//
// lib/Perlito5/JavaScript2/Runtime.js
//
// Runtime for "Perlito" Perl5-in-JavaScript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

//-------- Array 

Object.defineProperty( Array.prototype, "p5aget", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        return this[i] 
    }
});
Object.defineProperty( Array.prototype, "p5aset", {
    enumerable : false,
    value : function (i, v) {
        if (i < 0) { i =  this.length + i };
        this[i] = v;
        return this[i]
    }
});

Object.defineProperty( Array.prototype, "p5incr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        this[i] = p5incr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Array.prototype, "p5postincr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this[i];
        this[i] = p5incr_(this[i]);
        return v;
    }
});
Object.defineProperty( Array.prototype, "p5decr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        this[i] = p5decr_(this[i]);
        return this[i];
    }
});
Object.defineProperty( Array.prototype, "p5postdecr", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this[i];
        this[i] = p5decr_(this[i]);
        return v;
    }
});

Object.defineProperty( Array.prototype, "p5aget_array", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        if (this[i] == null) { this[i] = new p5ArrayRef([]) }
        return this[i]
    }
});
Object.defineProperty( Array.prototype, "p5aget_hash", {
    enumerable : false,
    value : function (i) {
        if (i < 0) { i =  this.length + i };
        if (this[i] == null) { this[i] = new p5HashRef({}) }
        return this[i]
    }
});
Object.defineProperty( Array.prototype, "p5unshift", {
    enumerable : false,
    configurable : true,
    value : function (args) { 
        for(var i = args.length-1; i >= 0; i--) {
            this.unshift(args[i]);
        }
        return this.length; 
    }
});
Object.defineProperty( Array.prototype, "p5push", {
    enumerable : false,
    configurable : true,
    value : function (args) { 
        for(var i = 0; i < args.length; i++) {
            this.push(args[i]);
        }
        return this.length; 
    }
});

var p5tie_array = function(v, List__) {
    var pkg_name = p5str(List__.shift());

    var res = p5call(pkg_name, 'TIEARRAY', List__, null);
    
    // TODO
    
    //  A class implementing an ordinary array should have the following methods:
    //      TIEARRAY pkg_name, LIST
    //      FETCH this, key
    //      STORE this, key, value
    //      FETCHSIZE this
    //      STORESIZE this, count
    //      CLEAR this
    //      PUSH this, LIST
    //      POP this
    //      SHIFT this
    //      UNSHIFT this, LIST
    //      SPLICE this, offset, length, LIST
    //      EXTEND this, count
    //      DESTROY this
    //      UNTIE this
    
    Object.defineProperty( v, "p5aget", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            return p5call(res, 'FETCH', [i]);
        }
    });
    Object.defineProperty( v, "p5aset", {
        enumerable : false,
        configurable : true,
        value : function (i, value) {
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5incr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5incr_(p5call(res, 'FETCH', [i]));
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5postincr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            p5call(res, 'STORE', [i, p5incr_(value)]);
            return value;
        }
    });
    Object.defineProperty( v, "p5decr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5decr_(p5call(res, 'FETCH', [i]));
            p5call(res, 'STORE', [i, value]);
            return value;
        }
    });
    Object.defineProperty( v, "p5postdecr", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            p5call(res, 'STORE', [i, p5decr_(value)]);
            return value;
        }
    });
    
    Object.defineProperty( v, "p5aget_array", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            if (value == null) {
                value = new p5ArrayRef([]);
                p5call(res, 'STORE', [i, value]);
            }
            return value;
        }
    });
    Object.defineProperty( v, "p5aget_hash", {
        enumerable : false,
        configurable : true,
        value : function (i) {
            var value = p5call(res, 'FETCH', [i]);
            if (value == null) {
                value = new p5HashRef({});
                p5call(res, 'STORE', [i, value]);
            }
            return value;
        }
    });
    Object.defineProperty( v, "p5untie", {
        enumerable : false,
        configurable : true,
        value : function (i) { return p5call(res, 'UNTIE', []) }
    });
    Object.defineProperty( v, "shift", {
        enumerable : false,
        configurable : true,
        value : function () { return p5call(res, 'SHIFT', []) }
    });
    Object.defineProperty( v, "pop", {
        enumerable : false,
        configurable : true,
        value : function () { return p5call(res, 'POP', []) }
    });
    Object.defineProperty( v, "p5unshift", {
        enumerable : false,
        configurable : true,
        value : function (args) { 
            for(var i = args.length-1; i >= 0; i--) {
                p5call(res, 'UNSHIFT', [args[i]]);
            }
            return p5call(res, 'FETCHSIZE', []); 
        }
    });
    Object.defineProperty( v, "p5push", {
        enumerable : false,
        configurable : true,
        value : function (args) { 
            for(var i = 0; i < args.length; i++) {
                p5call(res, 'PUSH', [args[i]]);
            }
            return p5call(res, 'FETCHSIZE', []); 
        }
    });

    return res;
};

var p5untie_array = function(v) {
    if (v.hasOwnProperty('p5untie')) {
        var res = v.p5untie();  // call UNTIE
        delete v.p5aget;
        delete v.p5aset;
        delete v.p5incr;
        delete v.p5postincr;
        delete v.p5decr;
        delete v.p5postdecr;
        delete v.p5aget_array;
        delete v.p5aget_hash;
        delete v.p5untie;
        delete v.shift;
        delete v.pop;
        delete v.p5unshift;
        delete v.p5push;
        return res;
    }
    else {
        return null;
    }
};


function p5ArrayOfAlias(o) {

    // this is the structure that represents @_
    // _array = [ ref, index,
    //            ref, index,
    //            ...
    //          ]

    // TODO - autovivify array cells

    this._array_ = o;

    this.p5aget = function (i) {
        if (i < 0) { i =  this.length + i };
        return this._array_[i+i][this._array_[i+i+1]]; 
    }
    this.p5aset = function (i, v) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = v;
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5incr = function (i) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = p5incr_(this._array_[i+i][this._array_[i+i+1]]);
        return this._array_[i+i][this._array_[i+i+1]];
    }
    this.p5postincr = function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this._array_[i+i][this._array_[i+i+1]];
        this._array_[i+i][this._array_[i+i+1]] = p5incr_(this._array_[i+i][this._array_[i+i+1]]);
        return v;
    }
    this.p5decr = function (i) {
        if (i < 0) { i =  this.length + i };
        this._array_[i+i][this._array_[i+i+1]] = p5decr_(this._array_[i+i][this._array_[i+i+1]]);
        return this._array_[i+i][this._array_[i+i+1]];
    }
    this.p5postdecr = function (i) {
        if (i < 0) { i =  this.length + i };
        var v = this._array_[i+i][this._array_[i+i+1]];
        this._array_[i+i][this._array_[i+i+1]] = p5decr_(this._array_[i+i][this._array_[i+i+1]]);
        return v;
    }
    this.p5aget_array = function (i) {
        if (i < 0) { i =  this.length + i };
        if (this._array_[i+i][this._array_[i+i+1]] == null) {
            this._array_[i+i][this._array_[i+i+1]] = new p5ArrayRef([])
        }
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5aget_hash = function (i) {
        if (i < 0) { i =  this.length + i };
        if (this._array_[i+i][this._array_[i+i+1]] == null) {
            this._array_[i+i][this._array_[i+i+1]] = new p5HashRef({})
        }
        return this._array_[i+i][this._array_[i+i+1]]
    }
    this.p5unshift = function (args) { 
        for(var i = args.length-1; i >= 0; i--) {
            this.unshift(0);
            this.unshift([args[i]]);
        }
        return this._array_.length / 2; 
    }
    this.p5push = function (args) { 
        for(var i = 0; i < args.length; i++) {
            this.push([args[i]]);
            this.push(0);
        }
        return this._array_.length / 2; 
    }
    this.shift = function () { 
        var v0 = this._array_.shift();
        return v0[this._array_.shift()];
    }
    this.pop = function () { 
        var v1 = this._array_.pop();
        var v0 = this._array_.pop();
        return v0[v1];
    }
}


//
//
// lib/Perlito5/JavaScript2/CORE.js
//
// CORE functions for "Perlito" Perl5-in-JavaScript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var CORE = p5pkg.CORE;

var isNode = typeof require != "undefined";

if (isNode) {
    try {
        var sleep = require("sleep");
        CORE.sleep = function(List__) {
            var n = p5num(List__[0]) || 1;
            sleep.usleep(n * 1000000);  // sleep for n seconds (1 second is 1000000 microseconds)
            return n;
        }
    }
    catch (err) {
        CORE.sleep = function(List__) {
            CORE.die("sleep() function failed. Maybe you need 'npm install sleep'?\n" + err);
        }
    }
}
if (!CORE.sleep) {
    CORE.sleep = function(List__) {
        CORE.die("sleep() not supported for this platform");
    }
}

if (isNode) {
    try {
        var crypt = require("crypt3");
        CORE.crypt = function(List__) {
            var text = p5str(List__[0]);
            var salt = p5str(List__[1]);
            while(salt.length < 2) {
                salt += "A";
            }
            return crypt(text, salt);
        }
    }
    catch (err) {
        CORE.crypt = function(List__) {
            CORE.die("crypt() function failed. Maybe you need 'npm install crypt3'?\n" + err);
        }
    }
}
if (!CORE.crypt) {
    CORE.crypt = function(List__) {
        CORE.die("crypt() not supported for this platform");
    }
}

CORE.time = function(List__) {
    return CORE.int([Date.now() / 1000]);
}
var _fmt_date = function(date) {
    return ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][date.getDay()] + ' ' +
        ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][date.getMonth()] + ' ' +
        date.getDate() + ' ' + 
        CORE.sprintf([ "%02d:%02d:%02d ", date.getHours(), date.getMinutes(), date.getSeconds() ]) +
        date.getFullYear();
}
var _list_date = function(date) {
    var year_start = new Date(date);
    year_start.setMonth(0, 1);
    var year_day = Math.round((date-year_start)/8.64e7);

    var isdst = 0;  // not implemented

    return [date.getSeconds(),date.getMinutes(),date.getHours(),date.getDate(),
        date.getMonth(),date.getFullYear()-1900,date.getDay(),
        year_day,
        isdst
    ];
}
CORE.localtime = function(List__, want) {
    var n = List__.length ? p5num(List__[0]) : CORE.time() ;
    var date = new Date(n*1000);
    if (!want) {
        return _fmt_date(date);
    }
    return _list_date(date);
}
CORE.gmtime = function(List__, want) {
    var n = List__.length ? p5num(List__[0]) : CORE.time() ;
    var ofs = new Date().getTimezoneOffset() * 60;
    var date = new Date((n + ofs)*1000);
    if (!want) {
        return _fmt_date(date);
    }
    return _list_date(date);
}

CORE.bless = function(List__) {
    var o        = List__[0];
    var pkg_name = List__[1];
    if (typeof pkg_name === "object") {
        // bless {}, Class
        o._class_ = pkg_name;
        return o;
    }
    if (!p5pkg.hasOwnProperty(pkg_name)) {
        p5make_package(pkg_name);
    }
    o._class_ = p5pkg[pkg_name];
    return o;
};

CORE.caller = function(List__, want) {
    var caller = p5pkg["Perlito5"].List_CALLER;
    if ( caller && caller[0] ) {
        // TODO
        return caller[0]._array_
    }
    return p5context([null, null, null], want);
};

CORE.chr = function(List__) {
    var v = p5num(List__[0]);
    return String.fromCharCode(v >= 0 ? v : 65533);
};

CORE.ord = function(List__) {
    return p5str(List__[0]).charCodeAt(0);
};

CORE.hex = function(List__) {
    var v = List__[0];

    for(var i = 0; i < v.length; i++) {
        if (v.charCodeAt(i) > 255) {
            CORE.die(["Wide character in hex"]);
        }
    }

    var b1 = v.substr(0,1);
    var b2 = v.substr(0,2);
    if (b1 == "x" || b1 == "X" || b2 == "0x" || b2 == "0X") {
        return CORE.oct(List__);
    }
    v = "0x" + v;
    return CORE.oct([v]);
};

CORE.oct = function(List__) {
    var v = List__[0];
    v = v.trim();

    for(var i = 0; i < v.length; i++) {
        if (v.charCodeAt(i) > 255) {
            CORE.die(["Wide character in oct"]);
        }
    }

    var b = v.substr(0,1);
    if (b == "b" || b == "B" || b == "x" || b == "X") {
        v = "0" + v;
    }
    b = v.substr(0,2);

    for(var i = 2; i < v.length; i++) {
        if (v.substr(i,2) == "__") {
            v = v.substr(0, i);
        }
    }

    var re = new RegExp('_', 'g');
    v = v.replace(re, "");
    var result;

    if (b == "0b" || b == "0B") {
        for(var i = 2; i < v.length; i++) {
            var c = v.substr(i,1);
            if (c >= "0" && c <= "1") {}
            else {
                v = v.substr(0, i);
            }
        }
        if (v.length == 2) { return 0 }
        result = parseInt(v.substr(2), 2);
    }
    else if (b == "0x" || b == "0X") {
        for(var i = 2; i < v.length; i++) {
            var c = v.substr(i,1);
            if (c >= "0" && c <= "9" || c >= "A" && c <= "F" || c >= "a" && c <= "f") {}
            else {
                v = v.substr(0, i);
            }
        }
        if (v.length == 2) { return 0 }
        result = parseInt(v.substr(2), 16);
    }
    else {
        result = parseInt(v, 8);
    }
    return isNaN(result) ? 0 : result;
};

CORE.abs   = function(List__) { return Math.abs(List__[0]) };
CORE.exp   = function(List__) { return Math.exp(List__[0]) };
CORE.log   = function(List__) { return Math.log(List__[0]) };
CORE.cos   = function(List__) { return Math.cos(List__[0]) };
CORE.sin   = function(List__) { return Math.sin(List__[0]) };
CORE.sqrt  = function(List__) { return Math.sqrt(List__[0]) };
CORE.atan2 = function(List__) { return Math.atan2(List__[0], List__[1]) };
CORE.int   = function(List__) { return List__[0] > 0 ? Math.floor(List__[0]) : Math.ceil(List__[0]) };

var p5rand = function(v) { return Math.random() * v };
CORE.srand = function(List__) {
    if (List__.length > 0) {
        var v = p5num(List__[0]) || 1;
        p5rand = function() {
            v = Math.sin(v) * 10000;
            return v - Math.floor(v);
        };
        return List__[0];
    }
    return CORE.int(CORE.rand(100000));
};
CORE.rand = function(List__) {
    var v = p5num(List__[0]) || 1;
    return p5rand(v);
};

CORE.lc      = function(List__) { return p5str(List__[0]).toLowerCase() };
CORE.uc      = function(List__) { return p5str(List__[0]).toUpperCase() };
CORE.fc      = function(List__) { return p5str(List__[0]).toUpperCase() };

CORE.lcfirst = function(List__) {
    var s = p5str(List__[0]);
    var c = s.length > 0 ? s.slice(0,1).toLowerCase() : "";
    s = s.length > 1 ? s.substr(1) : "";
    return c + s
};

CORE.ucfirst = function(List__) {
    var s = p5str(List__[0]);
    var c = s.length > 0 ? s.slice(0,1).toUpperCase() : "";
    s = s.length > 1 ? s.substr(1) : "";
    return c + s
};

CORE.quotemeta = function(List__) {
    var s = p5str(List__[0]);
    var out = [];
    for(var i = 0; i < s.length; i++) {
        if (s.substr(i, 1).match(/[^0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/)) {
            out.push(String.fromCharCode(92));
        }
        out.push(s.substr(i, 1));
    }
    return out.join("");       
};

CORE.substr = function(List__) {
    var expr        = List__[0];
    var offset      = List__[1];
    var length      = List__[2];
    var replacement = List__[3];
    if (length < 0) {
        var s = p5str(expr);
        length = s.length - offset + length;
    } 
    return p5str(expr).substr(offset, length);
};

CORE.values = function(List__, p5want) {
    var o = List__[0];
    delete o["_each_"];
    if (p5want) {
        if (o == null) {
            return [];
        };
        if (typeof o.values === "function") {
            return o.values();
        }
        var out = [];
        for (var i in o) {
            out.push(o[i]);
        }
        return out;
    }
    return CORE.keys(List__, p5want);
};

CORE.keys = function(List__, p5want) {
    var o = List__[0];
    delete o["_each_"];
    if (p5want) {
        if (o == null) {
            return [];
        }
        if (typeof o.keys === "function") {
            return o.keys();
        }
        var out = [];
        for (var i in o) {
            out.push(i);
        }
        return out;
    }
    else {
        if (o == null) {
            return 0;
        }
        if (typeof o.keys === "function") {
            return p5num(o.keys());
        }
        var out = 0;
        for (var i in o) {
            out++;
        }
        return out;
    }
};

CORE.each = function(List__, p5want) {
    var o = List__[0];
    if (o.hasOwnProperty("_each_")) {
        return o._each_(p5want)
    }
    var keys = CORE.keys([o], 1);
    var i = 0;
    o._each_ = function () {
        if (i < keys.length) {
            i++;
            return p5want ? [keys[i-1], o[keys[i-1]]] : keys[i-1];
        }
        i = 0;
        return p5want ? [] : null;
    };
    return o._each_(p5want);
};

CORE.reverse = function(List__, p5want) {
    var o = List__;
    if (p5want) {
        if (o == null) {
            return [];
        }
        return List__.reverse();
    }
    o = p5str(o);
    return o.split("").reverse().join("")
};

CORE.splice = function(List__, p5want) {
    var array  = List__.shift();
    // CORE.say([ array ]);
    var offset = p5num(List__.shift());
    var limit  = List__.length ? p5num(List__.shift()) : (array.length + 1);

    if (limit < 0) {
        limit = array.length + limit - 1;
    }

    var list = [offset, limit];
    for(var i = 0; i < List__.length; i++) {
        list = p5list_to_a([ list, List__[i] ]);
    }

    var out = array.splice.apply(array, list);
    // CORE.say([ CORE.join([":",array]), " ofs=", offset, " lim=", limit, " list=", list, " out=", CORE.join([":",out])  ]);
    return p5want ? out : out.pop();
};

CORE.join = function(List__) {
    var s = List__.shift();
    var o = [];
    for (var i = 0; i < List__.length; i++) {
        o.push(p5str(List__[i]));
    }
    return o.join(s);
};

CORE.index = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        return o.indexOf(s, p5num(List__[2]));
    }
    catch(err) {
        return -1;
    }
};
CORE.rindex = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        if (List__.length > 2) {
            var i = p5num(List__[2]);
            if (i < 0) {
                if (s.length == 0) {
                    return 0;
                }
                return -1;
            }
            return o.lastIndexOf(s, i);
        }
        return o.lastIndexOf(s);
    }
    catch(err) {
        return -1;
    }
};

CORE.length = function(List__) {
    return p5str(List__[0]).length;
};

CORE.pack    = function(List__) { CORE.warn([ "CORE::pack not implemented" ]) };
CORE.unpack  = function(List__) { CORE.warn([ "CORE::unpack not implemented" ]) };

CORE.ref = function(List__) {
    var o = List__[0];
    if (o == null) {
        return "";
    }
    if (o._class_ && typeof o._class_._ref_ === "string") {
        // blessed reference
        return o._class_._ref_;
    }
    if (typeof o._ref_ === "string") {
        // un-blessed reference
        return o._ref_;
    }
    if (typeof o === "function") {
        return "CODE";
    }
    return "";
};

CORE.split = function(List__, want) {
    var pattern = List__[0];
    var s       = p5str(List__[1]);
    var limit   = p5num(List__[2]);
    if (!want) {
        // scalar context
        return p5num(CORE.split(List__, 1));
    }
    if (limit == 0) {
        // strip trailing empty strings and undef
        var res = CORE.split([pattern, s, -1], 1);
        while (res.length && (res[res.length - 1] == '' || typeof res[res.length - 1] == "undefined") ) {
            res.pop()
        }
        return res;
    }
    if (s == '') {
        return []
    }
    // make sure pattern is a RegExp
    if (typeof pattern === "object" && (pattern instanceof RegExp)) {
        pattern = pattern.source;
    }
    else {
        pattern = p5str(pattern);
        if (pattern == " ") {
            // single space string is special
            pattern = "(?: |\t|\n)+";
            s = s.replace(/^(?: |\t|\n)+/, "");
        }
    }
    // add "g", "m" modifiers
    var flags = "g";
    if (pattern.substr(0, 1) == "^" || pattern.substr(-1,1) == "$") {
        flags = flags + "m";
    }
    pattern = new RegExp(pattern, flags);
    var res = [];
    var pos = 0;
    var count = 0;
    while (1) {
        if (limit > 0 && limit <= (count + 1)) {
            res.push(s.substr(pos));
            return res;
        }
        var m = pattern.exec(s);
        if (m === null) {
            // no match
            res.push(s.substr(pos));
            return res;
        }
        if (m[0].length == 0 && m.index == pos) {
            // pointer didn't move
            pattern.lastIndex = pattern.lastIndex + 1;
        }
        else {
            var part = s.substr(pos, m.index - pos);
            res.push(part);
            count++;
            pos = m.index + m[0].length;
            pattern.lastIndex = pos;
        }
        for (var i = 1; i < m.length ; i++) {
            res.push(m[i]);     // captured substrings; don't increment count
        }
    }
};


//
//
// lib/Perlito5/JavaScript2/IO.js
//
// I/O functions for "Perlito" Perl5-in-JavaScript2
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var isNode = typeof require != "undefined";
if (isNode) {

    var fs = require("fs");

    p5typeglob_set("Perlito5::IO", "print", function (filehandle, List__, p5want) {
        try {
            var v = filehandle;
            var pkg;
            if (CORE.ref([v])) {
                // looks like a filehandle
                pkg = v;
            }
            else {
                // looks like a package name
                pkg = p5make_package(v);
            }
            if (!pkg.file_handle) {
                pkg.file_handle = {};
            }
            var handle_id = pkg.file_handle.id;
            if (handle_id == 1) {
                for (var i = 0; i < List__.length; i++) {
                    process.stdout.write(p5str(List__[i]));
                }
            }
            else if (handle_id == 2) {
                for (var i = 0; i < List__.length; i++) {
                    process.stderr.write(p5str(List__[i]));
                }
            }
            else {
                for (var i = 0; i < List__.length; i++) {
                    fs.writeSync(handle_id, p5str(List__[i]));
                }
            }
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    } );

    var p5_extra_buffer_size = 100;
    p5typeglob_set("Perlito5::IO", "read", function (filehandle, List__, p5want) {
        try {
            var v = filehandle;
            var length = List__.shift();
            var pkg;
            if (CORE.ref([v])) {
                // looks like a filehandle
                pkg = v;
            }
            else {
                // looks like a package name
                pkg = p5make_package(v);
            }
            if (!pkg.file_handle) {
                pkg.file_handle = {};
            }
            var handle_id = pkg.file_handle.id;

            if (!pkg.file_handle.buffer) {
                // we don't have any data yet
                var length_wanted = length + 2 * p5_extra_buffer_size;
                var buffer = new Buffer(length_wanted);
                var bytes_read = fs.readSync(handle_id, buffer, 0, length_wanted, null);
                if (bytes_read < length_wanted) {
                    pkg.file_handle.buffer_eof = 1;
                }
                pkg.file_handle.buffer = buffer;
                pkg.file_handle.buffer_start = 0;
                pkg.file_handle.buffer_end = bytes_read;
                pkg.file_handle.buffer_length = pkg.file_handle.buffer_end;
            }
            else if (pkg.file_handle.buffer_length > (length + p5_extra_buffer_size)) {
                // we have enough data
            }
            else if (!pkg.file_handle.buffer_eof) {
                // we have some data; append more data to the internal buffer
                var length_wanted = length + 2 * p5_extra_buffer_size;
                var buffer = new Buffer(pkg.file_handle.buffer_length + length_wanted);
                pkg.file_handle.buffer.copy(buffer, 0, pkg.file_handle.buffer_start, pkg.file_handle.buffer_end);
                var bytes_read = fs.readSync(handle_id, buffer, pkg.file_handle.buffer_length, length_wanted, null);
                if (bytes_read < length_wanted) {
                    pkg.file_handle.buffer_eof = 1;
                }
                pkg.file_handle.buffer = buffer;
                pkg.file_handle.buffer_start = 0;
                pkg.file_handle.buffer_end = pkg.file_handle.buffer_length + bytes_read;
                pkg.file_handle.buffer_length = pkg.file_handle.buffer_end;
            }

            var s = pkg.file_handle.buffer.toString('utf-8', pkg.file_handle.buffer_start, pkg.file_handle.buffer_end).substr(0, length);

            // how many bytes we actually used
            var buffer_used = Buffer.byteLength(s, 'utf-8');

            pkg.file_handle.buffer_start = pkg.file_handle.buffer_start + buffer_used;
            pkg.file_handle.buffer_length = pkg.file_handle.buffer_length - buffer_used;

            if ( handle_id == 0) {
                // STDIN
                pkg.file_handle.buffer_eof = (s.length ? 0 : 1);
                pkg.file_handle.eof = (s.length ? 0 : 1);
            }
            else if ( pkg.file_handle.buffer_eof && pkg.file_handle.buffer_length <= 0 ) {
                pkg.file_handle.eof = 1;
            }

            return [s.length, s];
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return [];
        }
    } );

    var p5ARGV = 0;
    (function (f) {
        p5typeglob_set("Perlito5::IO", "readline", f);
        p5typeglob_set("Perlito5::IO", "getline", f);
    })(function (List__, p5want) {
        var filehandle = List__.shift();

        if (p5want) {
            var out = [];
            while (1) {
                var s = p5pkg["Perlito5::IO"].readline([filehandle], 0);
                if (s == null) {
                    return out;
                }
                out.push(s);
            }
        }

        var v = filehandle;
        var pkg;
        if (CORE.ref([v])) {
            // looks like a filehandle
            pkg = v;
        }
        else {
            // looks like a package name
            pkg = p5make_package(v);
            if (v == "ARGV") {
                // ARGV is magical
                if (pkg.file_handle.id == null) {
                    if (!p5ARGV) {
                        if (p5pkg["main"]["List_ARGV"].length == 0) {
                            p5pkg["main"]["List_ARGV"].push('-');
                        }
                    }
                    p5ARGV = 1;
                    // TODO - open $ARGV[1], ...
                    var filename = p5pkg["main"]["List_ARGV"].shift();
                    CORE.open([ "ARGV", "<", filename ]) || CORE.die([ p5pkg["main"]["v_!"] ]);
                }
            }
        }
        if (!pkg.file_handle) {
            pkg.file_handle = {};
        }

        if (CORE.eof([v])) {
            return null;
        }

        var separator = p5pkg["main"]["v_/"];  // input record separator
        var buf = pkg.file_handle.readline_buffer;
        var pos;

        if (separator) {
            pos = buf.indexOf(separator);
            while ( pos < 0 && !pkg.file_handle.eof ) {
                var r = p5pkg["Perlito5::IO"].read(filehandle, [100]);
                buf = buf + r[1];
                pos = buf.indexOf(separator);
            }
        }
        else {
            // no separator
            pos = -1;
            while ( !pkg.file_handle.eof ) {
                var r = p5pkg["Perlito5::IO"].read(filehandle, [100]);
                buf = buf + r[1];
            }
        }

        if (pos < 0) {
            pkg.file_handle.readline_buffer = '';
            if (!buf.length) {
                pkg.file_handle.readline_buffer = '';
                pkg.file_handle.eof = 1;
                return null
            }
            return buf;
        }
        var s = buf.substr(0, pos + separator.length);
        pkg.file_handle.readline_buffer = buf.substr(pos + separator.length);
        if (!s.length) {
            pkg.file_handle.readline_buffer = '';
            pkg.file_handle.eof = 1;
            return null
        }
        return s;
    });

    p5typeglob_set("Perlito5::IO", "close", function (filehandle, List__, p5want) {
        try {
            var v = filehandle;
            var pkg;
            if (CORE.ref([v])) {
                // looks like a filehandle
                pkg = v;
            }
            else {
                // looks like a package name
                pkg = p5make_package(v);
            }
            if (!pkg.file_handle) {
                pkg.file_handle = {};
            }
            var handle_id = pkg.file_handle.id;
            if (handle_id == 1) {
                process.stdout.close();
            }
            else if (handle_id == 2) {
                process.stderr.close();
            }
            else {
                fs.closeSync(handle_id);
            }
            pkg.file_handle.id = null;
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    } );

    CORE.eof = function(List__) {
        try {
            var filehandle = List__.shift();
            var v = filehandle;
            var pkg;
            if (CORE.ref([v])) {
                // looks like a filehandle
                pkg = v;
            }
            else {
                // looks like a package name
                pkg = p5make_package(v);
            }
            if (!pkg.file_handle) {
                pkg.file_handle = {};
            }
            var handle_id = pkg.file_handle.id;
            if (handle_id == null) {
                return 1;  // file is not open
            }
            return pkg.file_handle.eof && pkg.file_handle.readline_buffer.length == 0;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.open = function(List__) {
        try {
            var filehandle = List__.shift();
            var flags = List__.shift();
            var path;
            if (List__.length) {
                path = List__.shift();
            }
            else {
                // 2-argument open
                var re = new RegExp("^([<>+|]*)(.*)$", "");
                var capture = re.exec(flags);
                flags = capture[1];
                path = capture[2];
            }
            var v = filehandle;
            var pkg;
            if (CORE.ref([v])) {
                // looks like a filehandle
                pkg = v;
            }
            else {
                // looks like a package name
                pkg = p5make_package(v);
                if (path == "-") {
                    if (flags == '>' || flags == '>>' || flags == '+>' || flags == '+>>') {
                        pkg.file_handle = p5pkg["STDOUT"].file_handle;
                    }
                    else {
                        pkg.file_handle = p5pkg["STDIN"].file_handle;
                    }
                }
            }
            if (!pkg.file_handle) {
                pkg.file_handle = {};
            }
            var handle_id = pkg.file_handle.id;
            if (handle_id != null) {
                if (handle_id < 2) {
                    return 1;   // STDIN, STDOUT, STDERR
                }
                p5pkg["Perlito5::IO"].close(filehandle, []);
            }
            if (flags == '>') {
                flags = 'w'
            }
            else if (flags == '>>') {
                flags = 'a'
            }
            else if (flags == '<' || flags == '' || flags == '<:encoding(UTF-8)') {
                flags = 'r'
            }
            else if (flags == '+>') {
                flags = 'w+'
            }
            else if (flags == '+>>') {
                flags = 'a+'
            }
            else if (flags == '+<') {
                flags = 'r+'
            }
            else {
                CORE.die([ "don't know what to do with MODE '", flags, "'" ]);
            }
            var id = fs.openSync(path, flags);
            pkg.file_handle = { id : id, readline_buffer : '' };
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    var p5atime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["atime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5mtime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["mtime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5ctime = function(s) {
        try {
            var stat = fs.statSync(s); return stat["ctime"];
        }
        catch(err) {
            return '';
        }
    };
    var p5size = function(s) {
        try {
            var stat = fs.statSync(s); return stat["size"];
        }
        catch(err) {
            return '';
        }
    };
    var p5is_file = function(s) {
        try {
            var stat = fs.statSync(s); return stat.isFile() ? 1 : 0;
        }
        catch(err) {
            return '';
        }
    };
    var p5is_directory = function(s) {
        try {
            var stat = fs.statSync(s); return stat.isDirectory() ? 1 : 0;
        }
        catch(err) {
            return '';
        }
    };
    var p5file_exists = function(s) {
        return p5is_file(s) || p5is_directory(s);
    };
    var p5is_pipe = function(s) {
        try {
            var stat = fs.statSync(s);
            return stat.isFIFO() ? 1 : "";
        }
        catch(err) {
            try {
                var filehandle = s;
                var v = filehandle;
                var pkg;
                if (CORE.ref([v])) {
                    // looks like a filehandle
                    pkg = v;
                }
                else {
                    // looks like a package name
                    pkg = p5make_package(v);
                }
                if (!pkg.file_handle) {
                    pkg.file_handle = {};
                }
                var handle_id = pkg.file_handle.id;
                if (handle_id == 0) {
                    return process.stdin.isTTY ? "" : 1;
                }
                else if (handle_id == 1) {
                    return process.stdout.isTTY ? "" : 1;
                }
                else if (handle_id == 2) {
                    return process.stderr.isTTY ? "" : 1;
                }
            }
            catch(err) {
            }
        }
        return '';
    };

    CORE.binmode = function(List__) {
        try {
            // TODO
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.rmdir = function(List__) {
        try {
            fs.rmdir(p5str(List__[0]));
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.chdir = function(List__) {
        try {
            process.chdir(p5str(List__[0]));
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.exit = function(List__) {
        process.exit(List__[0]);
    };

    CORE.rename = function(List__) {
        try {
            fs.renameSync(p5str(List__[0]), p5str(List__[1]));
            return 1;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return '';
        }
    };

    CORE.unlink = function(List__) {
        var count = 0;
        try {
            for(var i = 0; i < List__.length; i++) {
                fs.unlinkSync(p5str(List__[i]));
                count++;
            }
            return count;
        }
        catch(err) {
            p5pkg["main"]["v_!"] = err;
            return count;
        }
    };

} else {
    // not running in node.js
    p5typeglob_set("Perlito5::IO", "print", function (filehandle, List__, p5want) {
        var s = "";
        for (var i = 0; i < List__.length; i++) {
            s = s + p5str(List__[i]);
        }
        if (console && typeof console.log === 'function') {
            console.log(s);
        }
        else if (typeof write === 'function') {
            // d8 shell uses "write"
            write(s);
        }
        else if (typeof print === 'function') {
            // Rhino uses "print"
            print(s);
        }
        else {
            alert(s);
        }
        return 1;
    });
}

p5typeglob_set("Perlito5::IO", "say", function (filehandle, List__, p5want) {
    p5pkg['Perlito5::IO'].print( filehandle, List__);
    p5pkg['Perlito5::IO'].print( filehandle, ["\n"]);
    return 1;
} );
p5typeglob_set("Perlito5::IO", "printf", function (filehandle, List__, p5want) {
    p5pkg["Perlito5::IO"].print( filehandle, CORE.sprintf(List__));
    return 1;
} );

CORE.select = function(List__) {
    if (List__.length == 1) {
        var v = List__[0];
        p5pkg["Perlito5"].v_SELECT = v;
    }
    return p5pkg["Perlito5"].v_SELECT;
};

CORE.die = function(List__) {
    var i;
    var s = "";
    for (var i = 0; i < List__.length; i++) {
        s = s + p5str(List__[i]);
    }
    if (s.substr(-1, 1) != "\n") {
        try {
            if (s == "") {
                s = "Died";
            }
            s = s + " at " + p5pkg["Perlito5"].v_FILE_NAME + " line " + p5pkg["Perlito5"].v_LINE_NUMBER;
            s = s + "\n" + new Error().stack + "\n";
        }
        catch(err) { }
    }
    p5pkg["main"]["v_@"] = s;
    throw(new p5_error("die", s));
};

CORE.say = function(List__) {
    return p5pkg['Perlito5::IO'].say( 'STDOUT', List__);
};
CORE.print = function(List__) {
    return p5pkg['Perlito5::IO'].print( 'STDOUT', List__);
};
CORE.printf = function(List__) {
    return p5pkg['Perlito5::IO'].printf( 'STDOUT', List__);
};
CORE.readline = function(List__, p5want) {
    return p5pkg['Perlito5::IO'].readline(List__, p5want);
};

CORE.warn = function(List__) {
    var i;
    var s = "";
    for (var i = 0; i < List__.length; i++) {
        s = s + p5str(List__[i]);
    }
    if (s.substr(-1, 1) != "\n") {
        try {
            if (s == "") {
                s = "Warning: something's wrong";
            }
            s = s + " at " + p5pkg["Perlito5"].v_FILE_NAME + " line " + p5pkg["Perlito5"].v_LINE_NUMBER;
            s = s + "\n" + new Error().stack + "\n";
        }
        catch(err) { }
    }
    p5pkg['Perlito5::IO'].print( 'STDERR', [s]);
};


/**
 * Copyright (c) 2010 Jakob Westhoff
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

CORE.sprintf = function(List__) {
    var format = List__.shift();
    var list = List__;

    // Check for format definition
    if ( typeof format != 'string' ) {
        CORE.die(["sprintf: The first arguments need to be a valid format string."]);
    }
    
    /**
     * Define the regex to match a formating string
     * The regex consists of the following parts:
     * percent sign to indicate the start
     * (optional) sign specifier
     * (optional) padding specifier
     * (optional) alignment specifier
     * (optional) width specifier
     * (optional) precision specifier
     * type specifier:
     *  % - literal percent sign
     *  b - binary number
     *  c - ASCII character represented by the given value
     *  d - signed decimal number
     *  f - floating point value
     *  o - octal number
     *  s - string
     *  x - hexadecimal number (lowercase characters)
     *  X - hexadecimal number (uppercase characters)
     */
    var r = new RegExp( /%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g );

    /**
     * Each format string is splitted into the following parts:
     * 0: Full format string
     * 1: sign specifier (+)
     * 2: padding specifier (0/<space>/'<any char>)
     * 3: if the padding character starts with a ' this will be the real 
     *    padding character
     * 4: alignment specifier
     * 5: width specifier
     * 6: precision specifier including the dot
     * 7: precision specifier without the dot
     * 8: type specifier
     */
    var parts      = [];
    var paramIndex = 0;
    var part;
    while ( part = r.exec( format ) ) {
        // Check if an input value has been provided, for the current
        // format string
        if ( paramIndex >= list.length ) {
            CORE.die(["sprintf: At least one argument was missing."]);
        }

        parts[parts.length] = {
            /* beginning of the part in the string */
            begin: part.index,
            /* end of the part in the string */
            end: part.index + part[0].length,
            /* force sign */
            sign: ( part[1] == '+' ),
            /* is the given data negative */
            negative: ( parseInt( list[paramIndex] ) < 0 ) ? true : false,
            /* padding character (default: <space>) */
            padding: ( part[2] == undefined )
                     ? ( ' ' ) /* default */
                     : ( ( part[2].substring( 0, 1 ) == "'" ) 
                         ? ( part[3] ) /* use special char */
                         : ( part[2] ) /* use normal <space> or zero */
                       ),
            /* should the output be aligned left?*/
            alignLeft: ( part[4] == '-' ),
            /* width specifier (number or false) */
            width: ( part[5] != undefined ) ? part[5] : false,
            /* precision specifier (number or false) */
            precision: ( part[7] != undefined ) ? part[7] : false,
            /* type specifier */
            type: part[8],
            /* the given data associated with this part converted to a string */
            data: ( part[8] != '%' ) ? String ( list[paramIndex++] ) : false
        };
    }

    var newString = "";
    var start = 0;
    // Generate our new formated string
    for( var i=0; i<parts.length; ++i ) {
        // Add first unformated string part
        newString += format.substring( start, parts[i].begin );
        
        // Mark the new string start
        start = parts[i].end;

        // Create the appropriate preformat substitution
        // This substitution is only the correct type conversion. All the
        // different options and flags haven't been applied to it at this
        // point
        var preSubstitution = "";
        switch ( parts[i].type ) {
            case '%':
                preSubstitution = "%";
            break;
            case 'b':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 2 );
            break;
            case 'c':
                preSubstitution = String.fromCharCode( Math.abs( parseInt( parts[i].data ) ) );
            break;
            case 'd':
                preSubstitution = String( Math.abs( parseInt( parts[i].data ) ) );
            break;
            case 'f':
                preSubstitution = ( parts[i].precision == false )
                                  ? ( String( ( Math.abs( parseFloat( parts[i].data ) ) ) ) )
                                  : ( Math.abs( parseFloat( parts[i].data ) ).toFixed( parts[i].precision ) );
            break;
            case 'o':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 8 );
            break;
            case 's':
                preSubstitution = parts[i].data.substring( 0, parts[i].precision ? parts[i].precision : parts[i].data.length ); /* Cut if precision is defined */
            break;
            case 'x':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 16 ).toLowerCase();
            break;
            case 'X':
                preSubstitution = Math.abs( parseInt( parts[i].data ) ).toString( 16 ).toUpperCase();
            break;
            default:
                throw 'sprintf: Unknown type "' + parts[i].type + '" detected. This should never happen. Maybe the regex is wrong.';
        }

        // The % character is a special type and does not need further processing
        if ( parts[i].type ==  "%" ) {
            newString += preSubstitution;
            continue;
        }

        // Modify the preSubstitution by taking sign, padding and width
        // into account

        // Pad the string based on the given width
        if ( parts[i].width != false ) {
            // Padding needed?
            if ( parts[i].width > preSubstitution.length ) 
            {
                var origLength = preSubstitution.length;
                for( var j = 0; j < parts[i].width - origLength; ++j ) 
                {
                    preSubstitution = ( parts[i].alignLeft == true ) 
                                      ? ( preSubstitution + parts[i].padding )
                                      : ( parts[i].padding + preSubstitution );
                }
            }
        }

        // Add a sign symbol if neccessary or enforced, but only if we are
        // not handling a string
        if ( parts[i].type == 'b' 
          || parts[i].type == 'd' 
          || parts[i].type == 'o' 
          || parts[i].type == 'f' 
          || parts[i].type == 'x' 
          || parts[i].type == 'X' ) {
            if ( parts[i].negative == true ) {
                preSubstitution = "-" + preSubstitution;
            }
            else if ( parts[i].sign == true ) {
                preSubstitution = "+" + preSubstitution;
            }
        }

        // Add the substitution to the new string
        newString += preSubstitution;
    }

    // Add the last part of the given format string, which may still be there
    newString += format.substring( start, format.length );

    return newString;
};

var p5want;
var List__ = [];
(function () {
	p5make_package('strict');
	p5make_package('Perlito5')['v_STRICT_REFS'] = (2);
	p5make_package('Perlito5')['v_STRICT_SUBS'] = (512);
	p5make_package('Perlito5')['v_STRICT_VARS'] = (1024);
	p5typeglob_set('strict', 'import', (function () {
		var tmp2667;
		tmp2667 = function (List__, p5want) {
			var v_pkg_100;
			var List_args_101 = [];
			(function () {
					var tmp2668 = p5list_to_a([List__]);
					var tmp2669 = tmp2668.slice(0);
					v_pkg_100 = tmp2668.shift();
					List_args_101 = tmp2668;
					tmp2668 = [];
					return tmp2669
				})();
			p5and(!( p5bool(List_args_101.length)), function () {
					return List_args_101 = ['refs', 'subs', 'vars']
				});
			p5for(p5make_package('main'), "v__", function () {
						p5and((p5str(p5make_package('main')['v__']) == 'refs'), function () {
							return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) | p5num(p5make_package('Perlito5')['v_STRICT_REFS']))))
						});
						p5and((p5str(p5make_package('main')['v__']) == 'subs'), function () {
							return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) | p5num(p5make_package('Perlito5')['v_STRICT_SUBS']))))
						});
						return (p5and((p5str(p5make_package('main')['v__']) == 'vars'), function () {
								return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) | p5num(p5make_package('Perlito5')['v_STRICT_VARS']))))
							}));
					}, p5list_to_a([List_args_101]), false, '')
		};
		tmp2667._prototype_ = null;
		return tmp2667
	})());
	p5typeglob_set('strict', 'unimport', (function () {
		var tmp2670;
		tmp2670 = function (List__, p5want) {
			var v_pkg_102;
			var List_args_103 = [];
			(function () {
					var tmp2671 = p5list_to_a([List__]);
					var tmp2672 = tmp2671.slice(0);
					v_pkg_102 = tmp2671.shift();
					List_args_103 = tmp2671;
					tmp2671 = [];
					return tmp2672
				})();
			p5and(!( p5bool(List_args_103.length)), function () {
					return List_args_103 = ['refs', 'subs', 'vars']
				});
			p5for(p5make_package('main'), "v__", function () {
						p5and((p5str(p5make_package('main')['v__']) == 'refs'), function () {
							return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5complement( p5num(p5make_package('Perlito5')['v_STRICT_REFS']))))))
						});
						p5and((p5str(p5make_package('main')['v__']) == 'subs'), function () {
							return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5complement( p5num(p5make_package('Perlito5')['v_STRICT_SUBS']))))))
						});
						return (p5and((p5str(p5make_package('main')['v__']) == 'vars'), function () {
								return (p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5complement( p5num(p5make_package('Perlito5')['v_STRICT_VARS']))))))
							}));
					}, p5list_to_a([List_args_103]), false, '')
		};
		tmp2670._prototype_ = null;
		return tmp2670
	})());
	1;
})();;
(function () {
	p5make_package('warnings');
	p5typeglob_set('warnings', 'import', (function () {
		var tmp2673;
		tmp2673 = function (List__, p5want) {
			return ((p5make_package('Perlito5')['v_WARNINGS'] = (1)));
		};
		tmp2673._prototype_ = null;
		return tmp2673
	})());
	p5typeglob_set('warnings', 'unimport', (function () {
		var tmp2674;
		tmp2674 = function (List__, p5want) {
			return ((p5make_package('Perlito5')['v_WARNINGS'] = (0)));
		};
		tmp2674._prototype_ = null;
		return tmp2674
	})());
	p5typeglob_set('warnings', 'register_categories', (function () {
		var tmp2675;
		tmp2675 = function (List__, p5want) {
			return p5want ? [] : null
		};
		tmp2675._prototype_ = null;
		return tmp2675
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Match');
	p5typeglob_set('Perlito5::Match', 'flat', (function () {
		var tmp2676;
		tmp2676 = function (List__, p5want) {
			try {
				var v_self_104;
				v_self_104 = (List__.p5aget(0));
				p5and(((v_self_104 || (v_self_104 = new p5HashRef({})))._hash_.p5hget('capture') != null), function () {
					throw((v_self_104 || (v_self_104 = new p5HashRef({})))._hash_.p5hget('capture'))
				});
				return (p5context([p5pkg['Perlito5::Match'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_self_104 || (v_self_104 = new p5HashRef({})))._hash_.p5hget_array('str'), 'Perlito5::Match'), p5list_to_a([p5range((v_self_104 || (v_self_104 = new p5HashRef({})))._hash_.p5hget('from'), (p5num((v_self_104 || (v_self_104 = new p5HashRef({})))._hash_.p5hget('to')) - 1), 1, "tmp2677", 0)]), 1)])), p5want)], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2676._prototype_ = null;
		return tmp2676
	})());
	1;
})();;
(function () {
	p5make_package('feature');
	p5typeglob_set('feature', 'import', (function () {
		var tmp2678;
		tmp2678 = function (List__, p5want) {
			return p5want ? [] : null
		};
		tmp2678._prototype_ = null;
		return tmp2678
	})());
	p5typeglob_set('feature', 'unimport', (function () {
		var tmp2679;
		tmp2679 = function (List__, p5want) {
			return p5want ? [] : null
		};
		tmp2679._prototype_ = null;
		return tmp2679
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Precedence');
	p5typeglob_set('Perlito5::Grammar::Precedence', 'new', (function () {
		var tmp2680;
		tmp2680 = function (List__, p5want) {
			var v_class_105;
			v_class_105 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_105)])));
		};
		tmp2680._prototype_ = null;
		return tmp2680
	})());
	var v_Operator_106;
	v_Operator_106 = ((new p5HashRef({})));
	var v_Precedence_107;
	v_Precedence_107 = ((new p5HashRef({})));
	var v_PrefixPrecedence_108;
	v_PrefixPrecedence_108 = ((new p5HashRef({})));
	var v_Assoc_109;
	v_Assoc_109 = ((new p5HashRef({})));
	p5typeglob_set('Perlito5::Grammar::Precedence', 'is_assoc_type', (function () {
		var tmp2681;
		tmp2681 = function (List__, p5want) {
			var v_assoc_type_110;
			v_assoc_type_110 = (List__.shift());
			var v_op_name_111;
			v_op_name_111 = (List__.shift());
			return ((v_Assoc_109 || (v_Assoc_109 = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_assoc_type_110))._hash_.p5hget(p5str(v_op_name_111)));
		};
		tmp2681._prototype_ = null;
		return tmp2681
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'is_fixity_type', (function () {
		var tmp2682;
		tmp2682 = function (List__, p5want) {
			var v_fixity_type_112;
			v_fixity_type_112 = (List__.shift());
			var v_op_name_113;
			v_op_name_113 = (List__.shift());
			return ((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_fixity_type_112))._hash_.p5hget(p5str(v_op_name_113)));
		};
		tmp2682._prototype_ = null;
		return tmp2682
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'is_term', (function () {
		var tmp2683;
		tmp2683 = function (List__, p5want) {
			var v_token_114;
			v_token_114 = (List__.shift());
			return (p5or(p5context([(p5str((v_token_114 || (v_token_114 = new p5ArrayRef([])))._array_.p5aget(0)) == 'term')], 0), function () {
						return p5or(p5context([(p5str((v_token_114 || (v_token_114 = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix_or_term')], 0), function () {
							return p5context([(p5str((v_token_114 || (v_token_114 = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix')], p5want)
						})
					}));
		};
		tmp2683._prototype_ = null;
		return tmp2683
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'is_num', (function () {
		var tmp2684;
		tmp2684 = function (List__, p5want) {
			return (p5and((p5str(List__.p5aget(0)) >= '0'), function () {
						return (p5str(List__.p5aget(0)) <= '9')
					}));
		};
		tmp2684._prototype_ = null;
		return tmp2684
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'is_ident_middle', (function () {
		var tmp2685;
		tmp2685 = function (List__, p5want) {
			var v_c_115;
			v_c_115 = (List__.shift());
			return (p5or(p5context([p5and((p5str(v_c_115) >= 'a'), function () {
						return (p5str(v_c_115) <= 'z')
					})], 0), function () {
						return p5or(p5context([p5and((p5str(v_c_115) >= 'A'), function () {
							return (p5str(v_c_115) <= 'Z')
						})], 0), function () {
							return p5or(p5context([p5and((p5str(v_c_115) >= '0'), function () {
								return (p5str(v_c_115) <= '9')
							})], 0), function () {
								return p5context([(p5str(v_c_115) == '_')], p5want)
							})
						})
					}));
		};
		tmp2685._prototype_ = null;
		return tmp2685
	})());
	var List_Parsed_op_chars_116 = [];
	List_Parsed_op_chars_116 = [2, 1];
	var Hash_Parsed_op_117 = {};
	Hash_Parsed_op_117 = p5a_to_h(['?', (function () {
				var tmp2691;
				tmp2691 = function (List__, p5want) {
					return (p5pkg['Perlito5::Grammar::Expression'].term_ternary(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), p5want));
				};
				tmp2691._prototype_ = null;
				return tmp2691
			})(), '(', (function () {
				var tmp2692;
				tmp2692 = function (List__, p5want) {
					return (p5pkg['Perlito5::Grammar::Expression'].term_paren(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), p5want));
				};
				tmp2692._prototype_ = null;
				return tmp2692
			})(), '[', (function () {
				var tmp2693;
				tmp2693 = function (List__, p5want) {
					return (p5pkg['Perlito5::Grammar::Expression'].term_square(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), p5want));
				};
				tmp2693._prototype_ = null;
				return tmp2693
			})(), '{', (function () {
				var tmp2694;
				tmp2694 = function (List__, p5want) {
					return (p5pkg['Perlito5::Grammar::Expression'].term_curly(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), p5want));
				};
				tmp2694._prototype_ = null;
				return tmp2694
			})(), '->', (function () {
				var tmp2695;
				tmp2695 = function (List__, p5want) {
					return (p5pkg['Perlito5::Grammar::Expression'].term_arrow(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), p5want));
				};
				tmp2695._prototype_ = null;
				return tmp2695
			})()]);
	var List_Term_chars_118 = [];
	var Hash_Term_119 = {};
	p5typeglob_set('Perlito5::Grammar::Precedence', 'add_term', (function () {
		var tmp2696;
		tmp2696 = function (List__, p5want) {
			var v_name_120;
			v_name_120 = (List__.shift());
			var v_param_121;
			v_param_121 = (List__.shift());
			Hash_Term_119.p5hset(p5str(v_name_120), (v_param_121));
			(function () {
					p5while(function () {
						return (List_Term_chars_118.p5unshift([(p5num((List_Term_chars_118.length)) + 1)]));
					}, function () {
						return (p5num(List_Term_chars_118.length) < p5pkg['Perlito5::Grammar::Precedence'].length([v_name_120], ""))
					}, false, '', 0)
				})()
		};
		tmp2696._prototype_ = null;
		return tmp2696
	})());
	var v_End_token_122;
	var v_End_token_chars_123;
	var Hash_Op_124 = {};
	var List_Op_chars_125 = [];
	List_Op_chars_125 = [3, 2, 1];
	p5typeglob_set('Perlito5::Grammar::Precedence', 'op_parse', (function () {
		var tmp2697;
		tmp2697 = function (List__, p5want) {
			try {
				var v_str_126;
				v_str_126 = (List__.shift());
				var v_pos_127;
				v_pos_127 = (List__.shift());
				var v_last_is_term_128;
				v_last_is_term_128 = (List__.shift());
				var v_tok_129;
				v_tok_129 = (p5pkg['Perlito5::Grammar::Precedence'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_126 || (v_str_126 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'), p5list_to_a([p5range(v_pos_127, (p5num(v_pos_127) + 10), 1, "tmp2698", 0)]), 1)])), ""));
				(function () {
					var v_len_130;
					(function(){ var v_len_130; p5for_lex(function (v) { v_len_130 = v }, function () {
							var v_term_131;
							v_term_131 = (CORE.substr([v_tok_129, 0, v_len_130], ""));
							(function () {
								if ( (v_End_token_122 || (v_End_token_122 = new p5HashRef({})))._hash_.hasOwnProperty(v_term_131) ) {
								(function () {
									var v_c1_132;
									v_c1_132 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget(((p5num(v_pos_127) + p5num(v_len_130)) - 1)));
									var v_c2_133;
									v_c2_133 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_127) + p5num(v_len_130))));
									(function () {
										if ( (!( (p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c1_132], "")) && p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c2_133], "")))) && !( ((p5str(v_c1_132) == '<') && (p5str(v_c2_133) == '<')))) ) {
										throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_126, 'from', v_pos_127, 'to', v_pos_127, 'capture', (new p5ArrayRef(['end', v_term_131]))])))));
									}
									})();
								})();
							}
							})();
						}, p5list_to_a([p5array_deref((v_End_token_chars_123 || (v_End_token_chars_123 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence')]), false, '') })()
				})();
				(function () {
					if ( !( p5bool(v_last_is_term_128)) ) {
					(function () {
						var v_len_134;
						(function(){ var v_len_134; p5for_lex(function (v) { v_len_134 = v }, function () {
								var v_term_135;
								v_term_135 = (CORE.substr([v_tok_129, 0, v_len_134], ""));
								(function () {
									if ( (Hash_Term_119).hasOwnProperty(v_term_135) ) {
									(function () {
										var v_c1_136;
										v_c1_136 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget(((p5num(v_pos_127) + p5num(v_len_134)) - 1)));
										var v_c2_137;
										v_c2_137 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_127) + p5num(v_len_134))));
										(function () {
											if ( (p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_num([v_c1_136], "")) || (!( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c1_136], ""))) || !( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c2_137], ""))))) ) {
											(function () {
												var v_m_138;
												v_m_138 = ((Hash_Term_119.p5hget(p5str(v_term_135)))([v_str_126, v_pos_127], ""));
												p5and(v_m_138, function () {
													throw(p5context([v_m_138], p5want))
												});
											})();
										}
										})();
									})();
								}
								})();
							}, p5list_to_a([List_Term_chars_118]), false, '') })()
					})();
				}
				})();
				(function () {
					var v_len_139;
					(function(){ var v_len_139; p5for_lex(function (v) { v_len_139 = v }, function () {
							var v_op_140;
							v_op_140 = (CORE.substr([v_tok_129, 0, v_len_139], ""));
							(function () {
								if ( (Hash_Parsed_op_117).hasOwnProperty(v_op_140) ) {
								(function () {
									var v_m_141;
									v_m_141 = ((Hash_Parsed_op_117.p5hget(p5str(v_op_140)))([v_str_126, v_pos_127], ""));
									p5and(v_m_141, function () {
										throw(p5context([v_m_141], p5want))
									});
								})();
							}
							})();
						}, p5list_to_a([List_Parsed_op_chars_116]), false, '') })()
				})();
				(function () {
					var v_len_142;
					(function(){ var v_len_142; p5for_lex(function (v) { v_len_142 = v }, function () {
							var v_op_143;
							v_op_143 = (CORE.substr([v_tok_129, 0, v_len_142], ""));
							(function () {
								if ( (Hash_Op_124).hasOwnProperty(v_op_143) ) {
								(function () {
									var v_c1_144;
									v_c1_144 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget(((p5num(v_pos_127) + p5num(v_len_142)) - 1)));
									var v_c2_145;
									v_c2_145 = ((v_str_126 || (v_str_126 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_127) + p5num(v_len_142))));
									(function () {
										if ( ((!( (p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c1_144], "")) && p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_ident_middle([v_c2_145], "")))) && !( ((p5str(v_c1_144) == '&') && (p5str(v_c2_145) == '&')))) || ((p5str(v_c1_144) == 'x') && ((p5str(v_c2_145) >= '0') && (p5str(v_c2_145) <= '9')))) ) {
										(function () {
											if ( (((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget('infix'))._hash_.hasOwnProperty(v_op_143) && (!( ((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget('prefix'))._hash_.hasOwnProperty(v_op_143)) && !( p5bool(v_last_is_term_128)))) ) {}
										else {
											throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_126, 'from', v_pos_127, 'to', (p5num(v_pos_127) + p5num(v_len_142)), 'capture', (new p5ArrayRef(['op', v_op_143]))])))));
										}
										})();
									}
									})();
								})();
							}
							})();
						}, p5list_to_a([List_Op_chars_125]), false, '') })()
				})();
				return (p5pkg['Perlito5::Grammar::Bareword'].term_bareword([v_str_126, v_pos_127], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2697._prototype_ = null;
		return tmp2697
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'add_op', (function () {
		var tmp2699;
		tmp2699 = function (List__, p5want) {
			var v_fixity_146;
			var v_names_147;
			var v_precedence_148;
			var v_param_149;
			(function () {
					var tmp2700 = p5list_to_a([List__]);
					var tmp2701 = tmp2700.slice(0);
					v_fixity_146 = tmp2700.shift();
					v_names_147 = tmp2700.shift();
					v_precedence_148 = tmp2700.shift();
					v_param_149 = tmp2700.shift();
					return tmp2701
				})();
			(v_param_149 = (p5defined_or(v_param_149, function () {
							return (new p5HashRef({}))
						})));
			var v_assoc_150;
			v_assoc_150 = (p5or((v_param_149 || (v_param_149 = new p5HashRef({})))._hash_.p5hget('assoc'), function () {
							return 'left'
						}));
			(function () {
					var v_name_151;
					(function(){ var v_name_151; p5for_lex(function (v) { v_name_151 = v }, function () {
							(v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_fixity_146))._hash_.p5hset(p5str(v_name_151), (1));
							(v_Precedence_107 || (v_Precedence_107 = new p5HashRef({})))._hash_.p5hset(p5str(v_name_151), (v_precedence_148));
							p5and((p5str(v_fixity_146) == 'prefix'), function () {
								return (v_PrefixPrecedence_108 || (v_PrefixPrecedence_108 = new p5HashRef({})))._hash_.p5hset(p5str(v_name_151), (v_precedence_148))
							});
							(v_Assoc_109 || (v_Assoc_109 = new p5HashRef({})))._hash_.p5hget_hash(p5str(v_assoc_150))._hash_.p5hset(p5str(v_name_151), (1));
							return (Hash_Op_124.p5hset(p5str(v_name_151), (1)));
						}, p5list_to_a([p5array_deref((v_names_147 || (v_names_147 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence')]), false, '') })()
				})()
		};
		tmp2699._prototype_ = null;
		return tmp2699
	})());
	var v_prec_152;
	v_prec_152 = (100);
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['postfix', (new p5ArrayRef(['.( )', '.[ ]', '.{ }', '( )', '[ ]', 'funcall', 'funcall_no_params', 'methcall', 'methcall_no_params', 'block', 'hash'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['prefix', (new p5ArrayRef(['++', '--'])), v_prec_152]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['postfix', (new p5ArrayRef(['++', '--'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['**'])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['prefix', (new p5ArrayRef([String.fromCharCode(92), '+', '-', '~', '!'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['=~', '!~'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['*', '/', '%', 'x'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['+', '-'])), v_prec_152]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['.'])), v_prec_152, (new p5HashRef({'assoc' : 'list'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['<<', '>>'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['prefix', (new p5ArrayRef(['-r', '-w', '-x', '-o', '-R', '-W', '-X', '-O', '-e', '-z', '-s', '-f', '-d', '-l', '-p', '-S', '-b', '-c', '-t', '-u', '-g', '-k', '-T', '-B', '-M', '-A', '-C'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['lt', 'le', 'gt', 'ge', '<=', '>=', '<', '>'])), v_prec_152, (new p5HashRef({'assoc' : 'chain'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['<=>', 'cmp', '==', '!=', 'ne', 'eq'])), v_prec_152, (new p5HashRef({'assoc' : 'chain'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['&'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['|', '^'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['..', '...'])), v_prec_152]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['~~'])), v_prec_152, (new p5HashRef({'assoc' : 'chain'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['&&'])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['||'])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['//'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['ternary', (new p5ArrayRef(['? :'])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['=', '**=', '+=', '-=', '*=', '/=', 'x=', '|=', '&=', '.=', '<<=', '>>=', '%=', '||=', '&&=', '^=', '//='])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['=>'])), v_prec_152, (new p5HashRef({'assoc' : 'right'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['list', (new p5ArrayRef([','])), v_prec_152, (new p5HashRef({'assoc' : 'list'}))]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['prefix', (new p5ArrayRef(['not'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['and'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['or', 'xor'])), v_prec_152]), null);
	v_prec_152 = ((p5num(v_prec_152) - 1));
	p5pkg['Perlito5::Grammar::Precedence'].add_op(p5list_to_a(['infix', (new p5ArrayRef(['*start*'])), v_prec_152]), null);
	p5typeglob_set('Perlito5::Grammar::Precedence', 'get_token_precedence', (function () {
		var tmp2702;
		tmp2702 = function (List__, p5want) {
			try {
				var v_token_153;
				v_token_153 = (List__.p5aget(0));
				(function () {
					if ( (p5str((v_token_153 || (v_token_153 = new p5ArrayRef([])))._array_.p5aget(0)) == 'prefix') ) {
					throw((v_PrefixPrecedence_108 || (v_PrefixPrecedence_108 = new p5HashRef({})))._hash_.p5hget(p5str((v_token_153 || (v_token_153 = new p5ArrayRef([])))._array_.p5aget(1))));
				}
				})();
				return ((v_Precedence_107 || (v_Precedence_107 = new p5HashRef({})))._hash_.p5hget(p5str((v_token_153 || (v_token_153 = new p5ArrayRef([])))._array_.p5aget(1))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2702._prototype_ = null;
		return tmp2702
	})());
	p5typeglob_set('Perlito5::Grammar::Precedence', 'precedence_parse', (function () {
		var tmp2703;
		tmp2703 = function (List__, p5want) {
			var v_self_154;
			v_self_154 = (List__.shift());
			var v_get_token_155;
			v_get_token_155 = ((v_self_154 || (v_self_154 = new p5HashRef({})))._hash_.p5hget('get_token'));
			var v_reduce_156;
			v_reduce_156 = ((v_self_154 || (v_self_154 = new p5HashRef({})))._hash_.p5hget('reduce'));
			var v_last_end_token_157;
			v_last_end_token_157 = (v_End_token_122);
			var v_last_end_token_chars_158;
			v_last_end_token_chars_158 = (v_End_token_chars_123);
			v_End_token_122 = ((v_self_154 || (v_self_154 = new p5HashRef({})))._hash_.p5hget('end_token'));
			v_End_token_chars_123 = ((v_self_154 || (v_self_154 = new p5HashRef({})))._hash_.p5hget('end_token_chars'));
			var v_op_stack_159;
			v_op_stack_159 = ((new p5ArrayRef([])));
			var v_num_stack_160;
			v_num_stack_160 = ((new p5ArrayRef([])));
			var v_last_161;
			v_last_161 = ((new p5ArrayRef(['op', '*start*'])));
			var v_last_is_term_162;
			v_last_is_term_162 = (0);
			var v_token_163;
			v_token_163 = ((v_get_token_155)([v_last_is_term_162], ""));
			(function () {
					if ( (p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(0)) == 'space') ) {
					v_token_163 = ((v_get_token_155)([v_last_is_term_162], ""));
				}
				})();
			(function () {
					p5while(function () {
						var v_token_is_term_164;
						v_token_is_term_164 = (p5pkg['Perlito5::Grammar::Precedence'].is_term([v_token_163], ""));
						(function () {
							if ( ((p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)) == ',') && ((p5str((v_last_161 || (v_last_161 = new p5ArrayRef([])))._array_.p5aget(1)) == '*start*') || (p5str((v_last_161 || (v_last_161 = new p5ArrayRef([])))._array_.p5aget(1)) == ','))) ) {
							p5array_deref((v_num_stack_160 || (v_num_stack_160 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['term', null])))]));
						}
						})();
						(function () {
							if ( (p5bool((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget_hash('prefix')._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)))) && ((p5str((v_last_161 || (v_last_161 = new p5ArrayRef([])))._array_.p5aget(1)) == '*start*') || !( p5bool(v_last_is_term_162)))) ) {
							(v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aset(0, ('prefix'));
							p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token_163]);
						}
						else (function () {
							if ( (p5bool((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget_hash('postfix')._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)))) && p5bool(v_last_is_term_162)) ) {
							(function () {
								var v_pr_165;
								v_pr_165 = ((v_Precedence_107 || (v_Precedence_107 = new p5HashRef({})))._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1))));
								(function () {
									p5while(function () {
										(v_reduce_156)([v_op_stack_159, v_num_stack_160], null);
									}, function () {
										return p5and((p5num(p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
											return p5context([(p5num(v_pr_165) <= p5num(p5pkg['Perlito5::Grammar::Precedence'].get_token_precedence(p5list_to_a([(v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([])))._array_.p5aget(0)]), "")))], 0)
										})
									}, false, '', 0)
								})();
								(function () {
									if ( (p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(0)) != 'postfix_or_term') ) {
									(v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aset(0, ('postfix'));
								}
								})();
								p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token_163]);
								v_token_is_term_164 = (1);
							})();
						}
						else (function () {
							if ( p5bool(v_token_is_term_164) ) {
							(function () {
								if ( p5bool(v_last_is_term_162) ) {
								p5pkg['Perlito5::Compiler'].error(['Value tokens must be separated by an operator (did you forget a comma?)'], null);
							}
							})();
							(v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aset(0, ('term'));
							p5array_deref((v_num_stack_160 || (v_num_stack_160 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5push([v_token_163]);
						}
						else (function () {
							if ( p5bool((v_Precedence_107 || (v_Precedence_107 = new p5HashRef({})))._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
							(function () {
								var v_pr_166;
								v_pr_166 = ((v_Precedence_107 || (v_Precedence_107 = new p5HashRef({})))._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1))));
								(function () {
									if ( p5bool((v_Assoc_109 || (v_Assoc_109 = new p5HashRef({})))._hash_.p5hget_hash('right')._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
									(function () {
										p5while(function () {
											(v_reduce_156)([v_op_stack_159, v_num_stack_160], null);
										}, function () {
											return p5and((p5num(p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
												return p5context([(p5num(v_pr_166) < p5num(p5pkg['Perlito5::Grammar::Precedence'].get_token_precedence(p5list_to_a([(v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([])))._array_.p5aget(0)]), "")))], 0)
											})
										}, false, '', 0)
									})();
								}
								else {
									(function () {
										p5while(function () {
											(v_reduce_156)([v_op_stack_159, v_num_stack_160], null);
										}, function () {
											return p5and((p5num(p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence'))), function () {
												return p5context([(p5num(v_pr_166) <= p5num(p5pkg['Perlito5::Grammar::Precedence'].get_token_precedence(p5list_to_a([(v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([])))._array_.p5aget(0)]), "")))], 0)
											})
										}, false, '', 0)
									})();
								}
								})();
								(function () {
									if ( p5bool((v_Operator_106 || (v_Operator_106 = new p5HashRef({})))._hash_.p5hget_hash('ternary')._hash_.p5hget(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1)))) ) {
									(v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aset(0, ('ternary'));
								}
								else {
									(v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aset(0, ('infix'));
								}
								})();
								p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence').p5unshift([v_token_163]);
							})();
						}
						else {
							p5pkg['Perlito5::Compiler'].error(p5list_to_a(['Unknown token: ' + String.fromCharCode(39), (v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(1), String.fromCharCode(39)]), null);
						}
						})()
						})()
						})()
						})();
						v_last_161 = (v_token_163);
						v_last_is_term_162 = (v_token_is_term_164);
						v_token_163 = ((v_get_token_155)([v_last_is_term_162], ""));
						(function () {
							if ( (p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(0)) == 'space') ) {
							v_token_163 = ((v_get_token_155)([v_last_is_term_162], ""));
						}
						})();
					}, function () {
						return p5and(p5context([(v_token_163 != null)], 0), function () {
							return p5context([(p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(0)) != 'end')], 0)
						})
					}, false, '', 0)
				})();
			(function () {
					if ( ((v_token_163 != null) && (p5str((v_token_163 || (v_token_163 = new p5ArrayRef([])))._array_.p5aget(0)) != 'end')) ) {
					p5pkg['Perlito5::Compiler'].error(['Unexpected end token: ', v_token_163], null);
				}
				})();
			(function () {
					p5while(function () {
						(v_reduce_156)([v_op_stack_159, v_num_stack_160], null);
					}, function () {
						return (p5num(p5array_deref((v_op_stack_159 || (v_op_stack_159 = new p5ArrayRef([]))), 'Perlito5::Grammar::Precedence')))
					}, false, '', 0)
				})();
			v_End_token_122 = (v_last_end_token_157);
			v_End_token_chars_123 = (v_last_end_token_chars_158);
			return (p5context([v_num_stack_160], p5want));
		};
		tmp2703._prototype_ = null;
		return tmp2703
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Bareword');
	p5typeglob_set('Perlito5::Grammar::Bareword', 'the_object', (function () {
		var tmp2704;
		tmp2704 = function (List__, p5want) {
			var v_str_167;
			v_str_167 = (List__.p5aget(0));
			var v_pos_168;
			v_pos_168 = (List__.p5aget(1));
			var v_MATCH_169;
			v_MATCH_169 = ((new p5HashRef({'str' : v_str_167, 'from' : v_pos_168, 'to' : v_pos_168})));
			var v_tmp_170;
			v_tmp_170 = (p5context([p5context([(function () {
							var v_pos1_171;
							v_pos1_171 = ((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_tmp_172;
											v_tmp_172 = (v_MATCH_169);
											v_MATCH_169 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_172 || (v_tmp_172 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_172 || (v_tmp_172 = new p5HashRef({})))._hash_.p5hget('to')])))));
											var v_res_173;
											v_res_173 = (p5context([p5and(p5context([('$' == p5str((v_str_167 || (v_str_167 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0));
											v_MATCH_169 = (v_tmp_172);
											return ((( p5bool(v_res_173) ? 1 : 0)));
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_174;
												v_m2_174 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_167, (v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_174) ) {
													(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_174 || (v_m2_174 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_174));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1)));
													return ((1));
												})()], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_171));
										return ((p5context([p5and(p5context([p5and(p5context([('{' == p5str((v_str_167 || (v_str_167 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_175;
													v_m2_175 = (p5pkg['Perlito5::Grammar::Expression'].curly_parse(p5list_to_a([v_str_167, (v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_175) ) {
														(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_175 || (v_m2_175 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::curly_parse', (v_m2_175));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([p5and(p5context([('}' == p5str((v_str_167 || (v_str_167 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0), function () {
														return p5context([(function () {
															(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::curly_parse')]), "")));
															return ((1));
														})()], 0)
													})
												})
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_171));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_176;
													v_m2_176 = (p5pkg['Perlito5::Grammar::Print'].typeglob(p5list_to_a([v_str_167, (v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_176) ) {
														(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_176 || (v_m2_176 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Print::typeglob', (v_m2_176));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_169 || (v_MATCH_169 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Print::typeglob')]), "")));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0)
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_170) ? v_MATCH_169 : null));
		};
		tmp2704._prototype_ = null;
		return tmp2704
	})());
	p5typeglob_set('Perlito5::Grammar::Bareword', 'term_bareword', (function () {
		var tmp2705;
		tmp2705 = function (List__, p5want) {
			try {
				var v_str_177;
				v_str_177 = (List__.p5aget(0));
				var v_pos_178;
				v_pos_178 = (List__.p5aget(1));
				var v_p_179;
				v_p_179 = (v_pos_178);
				var v_m_namespace_180;
				v_m_namespace_180 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident([v_str_177, v_p_179], ""));
				var v_namespace_181;
				v_namespace_181 = (p5pkg['Perlito5::Match'].flat([v_m_namespace_180], ""));
				v_p_179 = ((v_m_namespace_180 || (v_m_namespace_180 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_m_name_182;
				v_m_name_182 = (p5pkg['Perlito5::Grammar'].ident([v_str_177, v_p_179], ""));
				(function () {
					if ( !( p5bool(v_m_name_182)) ) {
					(function () {
						if ( p5bool(v_namespace_181) ) {
						(v_m_namespace_180 || (v_m_namespace_180 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', v_namespace_181], 1)])))));
						throw(p5context([v_m_namespace_180], p5want));
					}
					})();
					throw(p5context([], p5want));
				}
				})();
				var v_name_183;
				v_name_183 = (p5pkg['Perlito5::Match'].flat([v_m_name_182], ""));
				(function () {
					if ( ((p5str(v_name_183) == '__PACKAGE__') && (p5str(v_namespace_181) == '')) ) {
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', '', 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 1)])))));
					throw(p5context([v_m_name_182], p5want));
				}
				})();
				v_p_179 = ((v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == ':') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1))) == ':')) ) {
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p_179) + 2)));
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', (p5str(v_namespace_181) + '::' + p5str(v_name_183))], 1)])))));
					throw(p5context([v_m_name_182], p5want));
				}
				})();
				var v_full_name_184;
				v_full_name_184 = (v_name_183);
				p5and(v_namespace_181, function () {
					return v_full_name_184 = ((p5str(v_namespace_181) + '::' + p5str(v_name_183)))
				});
				var v_m_185;
				v_m_185 = (p5pkg['Perlito5::Grammar::Space'].ws([v_str_177, v_p_179], ""));
				(function () {
					if ( p5bool(v_m_185) ) {
					v_p_179 = ((v_m_185 || (v_m_185 = new p5HashRef({})))._hash_.p5hget('to'));
				}
				})();
				var v_invocant_186;
				var v_is_subroutine_name_187;
				var v_effective_name_188;
				v_effective_name_188 = ((p5str(p5or(v_namespace_181, function () {
	return p5make_package('Perlito5')['v_PKG_NAME']
})) + '::' + p5str(v_name_183)));
				p5block(function (v) {}, function () {
						var v_p_189;
						v_p_189 = ((function () {
									var p5want = "";
									var r;
									p5pkg["main"]["v_@"] = "";
									try {
										r = (function () {
										return ((p5sub_prototype(v_effective_name_188, 'Perlito5::Grammar::Bareword')));
									})()
									}
									catch(err) {
										if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
											throw(err)
										}
										else if ( err instanceof p5_error || err instanceof Error ) {
											p5pkg["main"]["v_@"] = err;
											if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
												try {
													p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
												}
												catch(err) { }
											}
										}
										else {
											return(err);
										}
									}
									return r;
								})());
						p5and(v_p_189, function () {
							return (p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hset(p5str(v_effective_name_188), (v_p_189))
						});
					}, [0], false, ''
				);
				(function () {
					if ( (p5pkg[p5make_package('Perlito5::Grammar::Print')['Hash_Print'] || (p5make_package('Perlito5::Grammar::Print')['Hash_Print'] = {}), 'Perlito5::Grammar::Print']['Hash_Print']).hasOwnProperty(v_name_183) ) {
					v_invocant_186 = (null);
				}
				else (function () {
					if ( ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_effective_name_188) || ((!( p5bool(v_namespace_181)) || (p5str(v_namespace_181) == 'CORE')) && (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_183))))) ) {
					v_is_subroutine_name_187 = (1);
					v_invocant_186 = (p5pkg['Perlito5::Grammar'].full_ident([v_str_177, v_p_179], ""));
					(function () {
						if ( p5bool(v_invocant_186) ) {
						(function () {
							var v_package_190;
							v_package_190 = (p5pkg['Perlito5::Match'].flat([v_invocant_186], ""));
							(function () {
								if ( p5bool(v_package_190) ) {
								(v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', v_package_190], "")));
								(function () {
									if ( ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num((v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hget('to')))) == ':') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num((v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hget('to')) + 1))) == ':')) ) {
									(v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hget('to')) + 2)));
								}
								else (function () {
									if ( !( p5bool((p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.p5hget(p5str(v_package_190)))) ) {
									v_invocant_186 = (null);
								}
								})()
								})();
							}
							})();
						})();
					}
					})();
				}
				else {
					v_invocant_186 = (p5pkg['Perlito5::Grammar::Bareword'].the_object([v_str_177, v_p_179], ""));
				}
				})()
				})();
				(function () {
					if ( p5bool(v_invocant_186) ) {
					(function () {
						v_p_179 = ((v_invocant_186 || (v_invocant_186 = new p5HashRef({})))._hash_.p5hget('to'));
						var v_arg_191;
						v_arg_191 = ((new p5ArrayRef([])));
						v_m_185 = (p5pkg['Perlito5::Grammar::Space'].ws([v_str_177, v_p_179], ""));
						p5and(v_m_185, function () {
							return v_p_179 = ((v_m_185 || (v_m_185 = new p5HashRef({})))._hash_.p5hget('to'))
						});
						(function () {
							if ( ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '-') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1))) == '>')) ) {}
						else (function () {
							if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '(') ) {
							(function () {
								var v_m_192;
								v_m_192 = (p5pkg['Perlito5::Grammar::Expression'].term_paren([v_str_177, v_p_179], ""));
								(function () {
									if ( p5bool(v_m_192) ) {
									v_arg_191 = ((v_m_192 || (v_m_192 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
									v_p_179 = ((v_m_192 || (v_m_192 = new p5HashRef({})))._hash_.p5hget('to'));
									v_arg_191 = (p5pkg['Perlito5::Grammar::Expression'].expand_list([v_arg_191], ""));
								}
								})();
							})();
						}
						else {
							(function () {
								var v_m_193;
								v_m_193 = (p5pkg['Perlito5::Grammar::Expression'].list_parse([v_str_177, v_p_179], ""));
								(function () {
									if ( (p5str((v_m_193 || (v_m_193 = new p5HashRef({})))._hash_.p5hget('capture')) != '*undef*') ) {
									v_arg_191 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_m_193 || (v_m_193 = new p5HashRef({})))._hash_.p5hget('capture')]), ""));
									v_p_179 = ((v_m_193 || (v_m_193 = new p5HashRef({})))._hash_.p5hget('to'));
								}
								})();
							})();
						}
						})()
						})();
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Call', 'new', p5list_to_a(['method', v_full_name_184, 'invocant', p5pkg['Perlito5::Match'].flat([v_invocant_186], 1), 'arguments', v_arg_191]), 1)])))));
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', (v_p_179));
						throw(p5context([v_m_name_182], p5want));
					})();
				}
				})();
				(function () {
					if ( ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '=') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1))) == '>')) ) {
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 1)])))));
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', (v_p_179));
					throw(p5context([v_m_name_182], p5want));
				}
				})();
				(function () {
					if ( ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '-') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1))) == '>')) ) {
					(function () {
						if ( p5bool(v_is_subroutine_name_187) ) {
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'code', v_name_183, 'namespace', v_namespace_181]), 1)])))));
					}
					else {
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', ['name', '', 'namespace', v_full_name_184, 'sigil', '::'], 1)])))));
					}
					})();
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', (v_p_179));
					throw(p5context([v_m_name_182], p5want));
				}
				})();
				var v_sig_194;
				v_sig_194 = (null);
				p5block(function (v) {}, function () {
						var v_op_195;
						v_op_195 = ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) + p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1)))));
						(function () {
							if ( ((p5str(v_op_195) == '!=') || ((p5str(v_op_195) == '!~') || (p5str(v_op_195) == '=~'))) ) {
							v_sig_194 = ('');
						}
						})();
					}, [0], false, ''
				);
				(function () {
					if ( (p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_effective_name_188) ) {
					v_sig_194 = ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name_188)));
				}
				else (function () {
					if ( ((!( p5bool(v_namespace_181)) || (p5str(v_namespace_181) == 'CORE')) && (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_183)))) ) {
					v_effective_name_188 = (('CORE::' + p5str(v_name_183)));
					v_sig_194 = ((p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name_188)));
				}
				else {
					(function () {
						var v_m_196;
						v_m_196 = (p5pkg['Perlito5::Grammar::Number'].val_version([v_str_177, v_pos_178], ""));
						(function () {
							if ( p5bool(v_m_196) ) {
							(v_m_196 || (v_m_196 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', (v_m_196 || (v_m_196 = new p5HashRef({})))._hash_.p5hget('capture')])))));
							throw(p5context([v_m_196], p5want));
						}
						})();
					})();
				}
				})()
				})();
				var v_has_paren_197;
				v_has_paren_197 = (0);
				(function () {
					if ( (v_sig_194 != null) ) {
					(function () {
						var v_arg_index_198;
						v_arg_index_198 = (1);
						var v_optional_199;
						v_optional_199 = (0);
						var List_args_200 = [];
						var v_sig_part_201;
						v_sig_part_201 = (p5str(v_sig_194).substr(0, 1));
						var v_m_202;
						var v_capture_203;
						(function () {
							if ( (p5str(v_sig_part_201) == '&') ) {
							v_m_202 = (p5pkg['Perlito5::Grammar::Space'].ws([v_str_177, v_p_179], ""));
							p5and(v_m_202, function () {
								return v_p_179 = ((v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hget('to'))
							});
							(function () {
								if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) != '(') ) {
								v_sig_194 = (CORE.substr([v_sig_194, 1], ""));
								v_m_202 = (p5pkg['Perlito5::Grammar::Bareword'].prototype_is_ampersand([v_str_177, v_p_179], ""));
								p5and(v_m_202, function () {
									return v_capture_203 = ((v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hget('capture'))
								});
								(function () {
									if ( !( p5bool(v_m_202)) ) {
									p5pkg['Perlito5::Compiler'].error([('Type of arg ' + p5str(v_arg_index_198) + ' to ' + p5str(v_name_183) + ' must be block or sub {}')], null);
								}
								})();
								v_p_179 = ((v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hget('to'));
								List_args_200.p5push([v_capture_203]);
							}
							})();
						}
						})();
						(function () {
							if ( ((p5str(v_sig_194).substr(0, 1) == ';') && ((p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '/') && (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_179) + 1))) == '/'))) ) {
							(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef([])), 'bareword', 1]), 1)])))));
							(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', (v_p_179));
							throw(p5context([v_m_name_182], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sig_194) == '') ) {
							(function () {
								if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '(') ) {
								(function () {
									(function () {
										var tmp2706 = v_p_179;
										v_p_179 = p5incr_(tmp2706);
										return tmp2706
									})();
									v_has_paren_197 = (1);
									var v_m_204;
									v_m_204 = (p5pkg['Perlito5::Grammar::Space'].ws([v_str_177, v_p_179], ""));
									(function () {
										if ( p5bool(v_m_204) ) {
										v_p_179 = ((v_m_204 || (v_m_204 = new p5HashRef({})))._hash_.p5hget('to'));
									}
									})();
									(function () {
										if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) != ')') ) {
										p5pkg['Perlito5::Compiler'].error(['syntax error near ', p5pkg['Perlito5::Grammar::Bareword'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_177 || (v_str_177 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword'), p5list_to_a([p5range(v_pos_178, (p5num(v_pos_178) + 10), 1, "tmp2707", 0)]), 1)])), 1)], null);
									}
									})();
									(function () {
										var tmp2708 = v_p_179;
										v_p_179 = p5incr_(tmp2708);
										return tmp2708
									})();
								})();
							}
							})();
							(function () {
								if ( (p5str(v_name_183) == '__FILE__') ) {
								(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('Perlito5')['v_FILE_NAME']], 1)])))));
							}
							else (function () {
								if ( (p5str(v_name_183) == '__LINE__') ) {
								(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Int', 'new', ['int', p5make_package('Perlito5')['v_LINE_NUMBER']], 1)])))));
							}
							else {
								(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef(List_args_200)), 'bareword', (p5num(v_has_paren_197) == 0)]), 1)])))));
							}
							})()
							})();
							(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', (v_p_179));
							throw(p5context([v_m_name_182], p5want));
						}
						})();
						(function () {
							if ( ((p5str(v_sig_194) == '_') || ((p5str(v_sig_194) == '$') || ((p5str(v_sig_194) == '+') || (p5str(v_sig_194) == ';$')))) ) {
							(function () {
								var v_m_205;
								var v_arg_206;
								(function () {
									if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '(') ) {
									(function () {
										v_m_205 = (p5pkg['Perlito5::Grammar::Expression'].term_paren([v_str_177, v_p_179], ""));
										(function () {
											if ( !( p5bool(v_m_205)) ) {
											throw(p5context([v_m_205], p5want));
										}
										})();
										v_p_179 = ((v_m_205 || (v_m_205 = new p5HashRef({})))._hash_.p5hget('to'));
										v_has_paren_197 = (1);
										v_arg_206 = ((v_m_205 || (v_m_205 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
										v_arg_206 = (p5pkg['Perlito5::Grammar::Expression'].expand_list([v_arg_206], ""));
										var v_v_207;
										v_v_207 = (p5array_deref((v_arg_206 || (v_arg_206 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword').shift());
										p5and(p5num(p5array_deref((v_arg_206 || (v_arg_206 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword')), function () {
											return p5pkg['Perlito5::Compiler'].error([('Too many arguments for ' + p5str(v_name_183))], null)
										});
										v_arg_206 = (v_v_207);
									})();
								}
								else {
									v_m_205 = (p5pkg['Perlito5::Grammar::Expression'].argument_parse([v_str_177, v_p_179], ""));
									v_arg_206 = ((v_m_205 || (v_m_205 = new p5HashRef({})))._hash_.p5hget('capture'));
									(function () {
										if ( (p5str(v_arg_206) == '*undef*') ) {
										v_arg_206 = (null);
									}
									else (function () {
										if ( ((p5pkg['Perlito5::Grammar::Bareword'].ref([v_arg_206], "") == 'Perlito5::AST::Apply') && (p5str((v_arg_206 || (v_arg_206 = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>')) ) {
										(function () {
											var v_v_208;
											v_v_208 = (p5array_deref((v_arg_206 || (v_arg_206 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Grammar::Bareword').shift());
											p5and(p5num(p5array_deref((v_arg_206 || (v_arg_206 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Grammar::Bareword')), function () {
												return p5pkg['Perlito5::Compiler'].error([('Too many arguments for ' + p5str(v_name_183))], null)
											});
											v_arg_206 = (v_v_208);
										})();
									}
									})()
									})();
								}
								})();
								(function () {
									if ( (v_arg_206 != null) ) {
									List_args_200.p5push([v_arg_206]);
									v_has_paren_197 = (1);
								}
								else {
									p5and((p5str(v_sig_194) == '$'), function () {
										return p5pkg['Perlito5::Compiler'].error([('Not enough arguments for ' + p5str(v_name_183))], null)
									});
									p5and((p5str(v_sig_194) == '_'), function () {
										return List_args_200.p5push(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['namespace', '', 'name', '_', 'sigil', '$'], 1)]))
									});
								}
								})();
								var v_ast_209;
								v_ast_209 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef(List_args_200)), 'bareword', (p5num(v_has_paren_197) == 0)]), ""));
								(function () {
									if ( ((p5str(v_name_183) == 'eval') && !( p5bool(v_namespace_181))) ) {
									(v_ast_209 || (v_ast_209 = new p5HashRef({})))._hash_.p5hset('_scope', (p5pkg['Perlito5::Grammar::Scope'].get_snapshot([p5make_package('Perlito5')['v_CLOSURE_SCOPE']], "")));
									(v_ast_209 || (v_ast_209 = new p5HashRef({})))._hash_.p5hset('_scalar_hints', (p5make_package('main')['v_' + String.fromCharCode(8)]));
									(v_ast_209 || (v_ast_209 = new p5HashRef({})))._hash_.p5hset('_hash_hints', ((new p5HashRef(p5a_to_h(p5list_to_a([p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)]]))))));
								}
								})();
								(v_m_205 || (v_m_205 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_ast_209]))));
								throw(p5context([v_m_205], p5want));
							})();
						}
						})();
						(function () {
							if ( ((p5str(v_sig_194) == ';@') || (p5str(v_sig_194) == '@')) ) {
							(function () {
								(function () {
									if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '(') ) {
									(function () {
										v_m_202 = (p5pkg['Perlito5::Grammar::Expression'].term_paren([v_str_177, v_p_179], ""));
										v_has_paren_197 = (1);
										var v_arg_210;
										v_arg_210 = ((v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
										v_arg_210 = (p5pkg['Perlito5::Grammar::Expression'].expand_list([v_arg_210], ""));
										List_args_200.p5push(p5list_to_a([p5array_deref((v_arg_210 || (v_arg_210 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword')]));
									})();
								}
								else {
									(function () {
										v_m_202 = (p5pkg['Perlito5::Grammar::Expression'].list_parse([v_str_177, v_p_179], ""));
										var v_arg_211;
										v_arg_211 = ((v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hget('capture'));
										(function () {
											if ( (p5str(v_arg_211) != '*undef*') ) {
											v_arg_211 = (p5pkg['Perlito5::Grammar::Expression'].expand_list([v_arg_211], ""));
											List_args_200.p5push(p5list_to_a([p5array_deref((v_arg_211 || (v_arg_211 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword')]));
										}
										})();
									})();
								}
								})();
								var v_ast_212;
								v_ast_212 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef(List_args_200)), 'bareword', (p5num(v_has_paren_197) == 0)]), ""));
								(v_m_202 || (v_m_202 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_ast_212]))));
								throw(p5context([v_m_202], p5want));
							})();
						}
						})();
						(function () {
							if ( (p5str(v_sig_194) == '*') ) {}
						})();
					})();
				}
				})();
				(function () {
					if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_179))) == '(') ) {
					(function () {
						v_m_185 = (p5pkg['Perlito5::Grammar::Expression'].term_paren([v_str_177, v_p_179], ""));
						(function () {
							if ( !( p5bool(v_m_185)) ) {
							throw(p5context([v_m_185], p5want));
						}
						})();
						var v_arg_213;
						v_arg_213 = ((v_m_185 || (v_m_185 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(2));
						v_arg_213 = (p5pkg['Perlito5::Grammar::Expression'].expand_list([v_arg_213], ""));
						(function () {
							if ( ((p5str(v_namespace_181) == '') || (p5str(v_namespace_181) == 'CORE')) ) {
							(function () {
								if ( ((p5str(v_name_183) == 'local') || ((p5str(v_name_183) == 'my') || ((p5str(v_name_183) == 'state') || (p5str(v_name_183) == 'our')))) ) {
								(function () {
									var v_declarator_214;
									v_declarator_214 = (v_name_183);
									(function () {
										var v_var_215;
										(function(){ var v_var_215; p5for_lex(function (v) { v_var_215 = v }, function () {
												(function () {
													if ( ((p5pkg['Perlito5::Grammar::Bareword'].ref([v_var_215], "") == 'Perlito5::AST::Apply') && (p5str((v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hget('code')) == 'undef')) ) {}
												else {
													(function () {
														var v_decl_216;
														v_decl_216 = (p5call('Perlito5::AST::Decl', 'new', p5list_to_a(['decl', v_declarator_214, 'type', '', 'var', v_var_215, 'attributes', (new p5ArrayRef([]))]), ""));
														(v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hset('_decl', (v_name_183));
														(v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hset('_id', ((function () {
																	var tmp2709 = p5make_package('Perlito5')['v_ID'];
																	p5make_package('Perlito5')['v_ID'] = p5incr_(tmp2709);
																	return tmp2709
																})()));
														p5and((p5str(v_declarator_214) == 'our'), function () {
															return (v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']))
														});
														p5and(p5and((p5str(v_declarator_214) == 'local'), function () {
															return p5and(!( p5bool((v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hget('namespace'))), function () {
																return !( p5bool((v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hget('_namespace')))
															})
														}), function () {
															return (v_var_215 || (v_var_215 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']))
														});
													})();
												}
												})();
											}, p5list_to_a([p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword')]), false, '') })()
									})();
								})();
							}
							})();
							(function () {
								if ( ((p5str(v_name_183) == 'print') || (p5str(v_name_183) == 'say')) ) {
								(function () {
									if ( (p5num(p5num(p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword'))) == 0) ) {
									p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword').p5push(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['namespace', '', 'name', '_', 'sigil', '$'], 1)]));
								}
								})();
							}
							})();
							(function () {
								if ( (p5str(v_name_183) == 'split') ) {
								(function () {
									if ( (p5num(p5num(p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword'))) == 0) ) {
									p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword').p5push(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', ' '], 1)]));
								}
								})();
								(function () {
									if ( (p5num(p5num(p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword'))) == 1) ) {
									p5array_deref((v_arg_213 || (v_arg_213 = new p5ArrayRef([]))), 'Perlito5::Grammar::Bareword').p5push(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['namespace', '', 'name', '_', 'sigil', '$'], 1)]));
								}
								})();
							}
							})();
						}
						})();
						(v_m_185 || (v_m_185 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', ['code', v_name_183, 'namespace', v_namespace_181, 'arguments', v_arg_213, 'proto', v_sig_194], 1)])))));
						throw(p5context([v_m_185], p5want));
					})();
				}
				})();
				var v_m_list_217;
				v_m_list_217 = (p5pkg['Perlito5::Grammar::Expression'].list_parse([v_str_177, v_p_179], ""));
				var v_list_218;
				v_list_218 = ((v_m_list_217 || (v_m_list_217 = new p5HashRef({})))._hash_.p5hget('capture'));
				(function () {
					if ( (p5str(v_list_218) != '*undef*') ) {
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['postfix_or_term', 'funcall', v_namespace_181, v_name_183, v_list_218]))));
					(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('to', ((v_m_list_217 || (v_m_list_217 = new p5HashRef({})))._hash_.p5hget('to')));
					throw(p5context([v_m_name_182], p5want));
				}
				})();
				(function () {
					if ( ((p5str(v_namespace_181) == '') || (p5str(v_namespace_181) == 'CORE')) ) {
					(function () {
						if ( ((p5str(v_name_183) == 'print') || (p5str(v_name_183) == 'say')) ) {
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['namespace', '', 'name', '_', 'sigil', '$'], 1)])))]), 1)])))));
						throw(p5context([v_m_name_182], p5want));
					}
					})();
					(function () {
						if ( ((p5str(v_name_183) == 'split') && ((p5str(v_namespace_181) == '') || (p5str(v_namespace_181) == 'CORE'))) ) {
						(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_name_183, 'namespace', v_namespace_181, 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', ' '], 1), p5call('Perlito5::AST::Var', 'new', ['namespace', '', 'name', '_', 'sigil', '$'], 1)])))]), 1)])))));
						throw(p5context([v_m_name_182], p5want));
					}
					})();
				}
				})();
				(function () {
					if ( p5bool((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5make_package('Perlito5')['v_STRICT_SUBS']))) ) {
					(function () {
						var v_m_219;
						v_m_219 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_177, v_p_179], ""));
						var v_p_220;
						v_p_220 = ((v_m_219 || (v_m_219 = new p5HashRef({})))._hash_.p5hget('to'));
						(function () {
							if ( (p5str((v_str_177 || (v_str_177 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_220))) == ':') ) {}
						else (function () {
							if ( !( ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_effective_name_188) || ((!( p5bool(v_namespace_181)) || (p5str(v_namespace_181) == 'CORE')) && (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_183)))))) ) {}
						})()
						})();
					})();
				}
				})();
				(v_m_name_182 || (v_m_name_182 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['postfix_or_term', 'funcall_no_params', v_namespace_181, v_name_183]))));
				return (p5context([v_m_name_182], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2705._prototype_ = null;
		return tmp2705
	})());
	p5typeglob_set('Perlito5::Grammar::Bareword', 'prototype_is_ampersand', (function () {
		var tmp2710;
		tmp2710 = function (List__, p5want) {
			var v_str_221;
			v_str_221 = (List__.p5aget(0));
			var v_pos_222;
			v_pos_222 = (List__.p5aget(1));
			var v_MATCH_223;
			v_MATCH_223 = ((new p5HashRef({'str' : v_str_221, 'from' : v_pos_222, 'to' : v_pos_222})));
			var v_tmp_224;
			v_tmp_224 = (p5context([p5context([(function () {
							var v_pos1_225;
							v_pos1_225 = ((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('s' == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('u' == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5and(p5context([('b' == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
													return p5context([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
												})
											})
										})], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_226;
												v_m2_226 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_221, (v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_226) ) {
													(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_226 || (v_m2_226 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_227;
													v_m2_227 = (p5pkg['Perlito5::Grammar::Block'].anon_sub_def(p5list_to_a([v_str_221, (v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_227) ) {
														(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_227 || (v_m2_227 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::anon_sub_def', (v_m2_227));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::anon_sub_def')]), "")));
														return ((1));
													})()], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_225));
										return ((p5context([p5and(p5context([(function () {
												var v_m2_228;
												v_m2_228 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_221, (v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_228) ) {
													(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_228 || (v_m2_228 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_228));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['attributes', (new p5ArrayRef([])), 'block', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::block')]), 1), 'name', null, 'namespace', null, 'sig', null]), "")));
													return ((1));
												})()], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_225));
											return ((p5context([p5and(p5context([(function () {
													var v_tmp_229;
													v_tmp_229 = (v_MATCH_223);
													v_MATCH_223 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_229 || (v_tmp_229 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_229 || (v_tmp_229 = new p5HashRef({})))._hash_.p5hget('to')])))));
													var v_res_230;
													v_res_230 = (p5context([p5and(p5context([p5and(p5context([(String.fromCharCode(92) == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5and(p5context([(String.fromCharCode(92) == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																	return p5context([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																})
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2_231;
																	v_m2_231 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_221, (v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_231) ) {
																		(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_231 || (v_m2_231 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5context([p5and(p5context([('&' == p5str((v_str_221 || (v_str_221 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0)
																})
															})], 0));
													v_MATCH_223 = (v_tmp_229);
													return ((( p5bool(v_res_230) ? 1 : 0)));
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_232;
														v_m2_232 = (p5pkg['Perlito5::Grammar::Expression'].argument_parse(p5list_to_a([v_str_221, (v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_232) ) {
															(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_232 || (v_m2_232 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::argument_parse', (v_m2_232));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_223 || (v_MATCH_223 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::argument_parse')]), "")));
															return ((1));
														})()], 0)
													})
												})], 0)));
										})()], 0)
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_224) ? v_MATCH_223 : null));
		};
		tmp2710._prototype_ = null;
		return tmp2710
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Attribute');
	p5typeglob_set('Perlito5::Grammar::Attribute', 'opt_attribute', (function () {
		var tmp2711;
		tmp2711 = function (List__, p5want) {
			try {
				var v_str_233;
				v_str_233 = (List__.p5aget(0));
				var v_pos_234;
				v_pos_234 = (List__.p5aget(1));
				var List_attributes_235 = [];
				var v_ws_236;
				v_ws_236 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_233, v_pos_234], ""));
				(function () {
					if ( (p5str((v_str_233 || (v_str_233 = new p5ArrayRef([])))._array_.p5aget(p5num((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to')))) != ':') ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['to', v_pos_234, 'capture', (new p5ArrayRef([]))])))));
				}
				})();
				v_ws_236 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_233, (p5num((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to')) + 1)], ""));
				var v_p_237;
				v_p_237 = ((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_m_238;
				v_m_238 = (p5pkg['Perlito5::Grammar'].ident([v_str_233, v_p_237], ""));
				p5and(!( p5bool(v_m_238)), function () {
					return p5pkg['Perlito5::Compiler'].error(['syntax error'], null)
				});
				var v_to_239;
				(function () {
					p5while(function () {
						var v_attr_240;
						v_attr_240 = ((new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_m_238], 1), null]))));
						v_to_239 = ((v_m_238 || (v_m_238 = new p5HashRef({})))._hash_.p5hget('to'));
						var v_delimiter_241;
						v_delimiter_241 = ((v_str_233 || (v_str_233 = new p5ArrayRef([])))._array_.p5aget(p5num(v_to_239)));
						(function () {
							if ( (p5str(v_delimiter_241) == '(') ) {
							(function () {
								var v_params_242;
								v_params_242 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_233, (p5num((v_m_238 || (v_m_238 = new p5HashRef({})))._hash_.p5hget('to')) + 1), '(', ')', 0], ""));
								p5and(!( p5bool(v_params_242)), function () {
									return p5pkg['Perlito5::Compiler'].error(['syntax error'], null)
								});
								(v_attr_240 || (v_attr_240 = new p5ArrayRef([])))._array_.p5aset(1, (p5pkg['Perlito5::Match'].flat([v_params_242], p5want)._hash_.p5hget('buf')));
								v_to_239 = ((v_params_242 || (v_params_242 = new p5HashRef({})))._hash_.p5hget('to'));
							})();
						}
						})();
						List_attributes_235.p5push([v_attr_240]);
						v_ws_236 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_233, v_to_239], ""));
						(function () {
							if ( (p5str((v_str_233 || (v_str_233 = new p5ArrayRef([])))._array_.p5aget(p5num((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to')))) == ':') ) {
							v_ws_236 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_233, (p5num((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to')) + 1)], ""));
						}
						})();
						v_p_237 = ((v_ws_236 || (v_ws_236 = new p5HashRef({})))._hash_.p5hget('to'));
						v_m_238 = (p5pkg['Perlito5::Grammar'].ident([v_str_233, v_p_237], ""));
						return (p5and(!( p5bool(v_m_238)), function () {
								(function () {
								throw((new p5HashRef(p5a_to_h(p5list_to_a(['to', v_to_239, 'capture', (new p5ArrayRef(List_attributes_235))])))))
							})()
							}));
					}, function () {
						return 1
					}, false, '', 0)
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2711._prototype_ = null;
		return tmp2711
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Dumper');
	p5typeglob_set('Perlito5::Dumper', 'ast_dumper', (function () {
		var tmp2712;
		tmp2712 = function (List__, p5want) {
			var v_seen_252;
			v_seen_252 = ((new p5HashRef({})));
			var v_level_253;
			v_level_253 = ('');
			var v_pos_254;
			v_pos_254 = ('[TODO - recursive structure in AST is not supported]');
			return (p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([List__.p5aget(0), v_level_253, v_seen_252, v_pos_254]), p5want));
		};
		tmp2712._prototype_ = null;
		return tmp2712
	})());
	p5typeglob_set('Perlito5::Dumper', 'Dumper', (function () {
		var tmp2713;
		tmp2713 = function (List__, p5want) {
			var v_seen_255;
			v_seen_255 = ((new p5HashRef({})));
			var v_level_256;
			v_level_256 = ('    ');
			var List_out_257 = [];
			(function () {
					var v_i_258;
					(function(){ var v_i_258; p5for_lex(function (v) { v_i_258 = v }, function () {
							var v_pos_259;
							v_pos_259 = (('$VAR' + p5str((p5num(v_i_258) + 1))));
							List_out_257.p5push([(p5str(v_pos_259) + ' = ' + p5str(p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([List__.p5aget(p5num(v_i_258)), v_level_256, v_seen_255, v_pos_259]), "")) + ';' + String.fromCharCode(10))]);
						}, p5list_to_a([p5range(0, (List__.length - 1), 1, "tmp2714", 0)]), false, '') })()
				})();
			return (p5context([p5pkg['Perlito5::Dumper'].join([''].concat(p5list_to_a([List_out_257])), p5want)], p5want));
		};
		tmp2713._prototype_ = null;
		return tmp2713
	})());
	p5typeglob_set('Perlito5::Dumper', '_dumper', (function () {
		var tmp2715;
		tmp2715 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_obj_260;
				var v_tab_261;
				var v_seen_262;
				var v_pos_263;
				(function () {
					var tmp2716 = p5list_to_a([List__]);
					var tmp2717 = tmp2716.slice(0);
					v_obj_260 = tmp2716.shift();
					v_tab_261 = tmp2716.shift();
					v_seen_262 = tmp2716.shift();
					v_pos_263 = tmp2716.shift();
					return tmp2717
				})();
				p5and(!( (v_obj_260 != null)), function () {
					throw(p5context(['undef'], p5want))
				});
				var v_ref_264;
				v_ref_264 = (p5pkg['Perlito5::Dumper'].ref([v_obj_260], ""));
				(function () {
					if ( !( p5bool(v_ref_264)) ) {
					(function () {
						if ( (p5pkg['Perlito5::Dumper'].ref([(new p5ScalarRef(v_ref_264))], "") == 'GLOB') ) {
						throw(p5context([('GLOB:: ' + p5str(v_obj_260))], p5want));
					}
					})();
					throw(p5pkg['Perlito5::Dumper'].escape_string([v_obj_260], p5want));
				}
				})();
				var v_as_string_265;
				v_as_string_265 = (v_obj_260);
				p5and((v_seen_262 || (v_seen_262 = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string_265)), function () {
					throw((v_seen_262 || (v_seen_262 = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string_265)))
				});
				(v_seen_262 || (v_seen_262 = new p5HashRef({})))._hash_.p5hset(p5str(v_as_string_265), (v_pos_263));
				var v_tab1_266;
				v_tab1_266 = ((p5str(v_tab_261) + '    '));
				(function () {
					if ( (p5str(v_ref_264) == 'ARRAY') ) {
					(function () {
						p5or(p5num(p5array_deref((v_obj_260 || (v_obj_260 = new p5ArrayRef([]))), 'Perlito5::Dumper')), function () {
							throw(p5context(['[]'], p5want))
						});
						var List_out_267 = [];
						(function () {
							var v_i_268;
							(function(){ var v_i_268; p5for_lex(function (v) { v_i_268 = v }, function () {
									var v_here_269;
									v_here_269 = ((p5str(v_pos_263) + '->[' + p5str(v_i_268) + ']'));
									List_out_267.p5push(p5list_to_a([v_tab1_266, p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([(v_obj_260 || (v_obj_260 = new p5ArrayRef([])))._array_.p5aget(p5num(v_i_268)), v_tab1_266, v_seen_262, v_here_269]), 1), ',' + String.fromCharCode(10)]));
								}, p5list_to_a([p5range(0, (p5array_deref((v_obj_260 || (v_obj_260 = new p5ArrayRef([]))), 'Perlito5::Dumper').length - 1), 1, "tmp2718", 0)]), false, '') })()
						})();
						throw(p5context([p5pkg['Perlito5::Dumper'].join([''].concat(p5list_to_a(['[' + String.fromCharCode(10), List_out_267, v_tab_261, ']'])), p5want)], p5want));
					})();
				}
				else (function () {
					if ( (p5str(v_ref_264) == 'HASH') ) {
					(function () {
						p5or(p5pkg['Perlito5::Dumper'].keys([p5hash_deref((v_obj_260 || (v_obj_260 = new p5HashRef({}))), 'Perlito5::Dumper')], ""), function () {
							throw(p5context(['{}'], p5want))
						});
						var List_out_270 = [];
						(function () {
							var v_i_271;
							(function(){ var v_i_271; p5for_lex(function (v) { v_i_271 = v }, function () {
									var v_here_272;
									v_here_272 = ((p5str(v_pos_263) + '->{' + p5str(v_i_271) + '}'));
									List_out_270.p5push(p5list_to_a([v_tab1_266, (String.fromCharCode(39) + p5str(v_i_271) + String.fromCharCode(39) + ' => '), p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([(v_obj_260 || (v_obj_260 = new p5HashRef({})))._hash_.p5hget(p5str(v_i_271)), v_tab1_266, v_seen_262, v_here_272]), 1), ',' + String.fromCharCode(10)]));
								}, p5list_to_a([p5sort(p5pkg['Perlito5::Dumper'], function (p5want) {
									return (p5cmp(p5str(p5make_package('Perlito5::Dumper')['v_a']), p5str(p5make_package('Perlito5::Dumper')['v_b'])));
								}, p5list_to_a([p5pkg['Perlito5::Dumper'].keys([p5hash_deref((v_obj_260 || (v_obj_260 = new p5HashRef({}))), 'Perlito5::Dumper')], 1)]))]), false, '') })()
						})();
						throw(p5context([p5pkg['Perlito5::Dumper'].join([''].concat(p5list_to_a(['{' + String.fromCharCode(10), List_out_270, v_tab_261, '}'])), p5want)], p5want));
					})();
				}
				else (function () {
					if ( ((p5str(v_ref_264) == 'SCALAR') || (p5str(v_ref_264) == 'REF')) ) {
					throw(p5context([(String.fromCharCode(92) + p5str(p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([p5scalar_deref(v_obj_260, 'Perlito5::Dumper', ""), v_tab1_266, v_seen_262, v_pos_263]), "")))], p5want));
				}
				else (function () {
					if ( (p5str(v_ref_264) == 'CODE') ) {
					throw(p5context(['sub { "DUMMY" }'], p5want));
				}
				else (function () {
					if ( (p5str(v_ref_264) == 'GLOB') ) {
					throw(p5context([(String.fromCharCode(92) + p5str(p5cget('Perlito5::Dumper', 'prefix:<*>')([v_obj_260], "")))], p5want));
				}
				})()
				})()
				})()
				})()
				})();
				var List_out_273 = [];
				var v_res_274;
				(function () {
					var v_tmp2719_2720 = p5make_package('main')['v_@'];
					p5LOCAL.push(function(){ p5make_package('main')['v_@'] = v_tmp2719_2720 });
					return (p5make_package('main')['v_@'] = (null));
				})();
				p5make_package('main')['v_@'];
				v_res_274 = ((function () {
							var p5want = "";
							var r;
							p5pkg["main"]["v_@"] = "";
							try {
								r = (function () {
								(function () {
									var v_i_276;
									(function(){ var v_i_276; p5for_lex(function (v) { v_i_276 = v }, function () {
											var v_here_277;
											v_here_277 = ((p5str(v_pos_263) + '->[' + p5str(v_i_276) + ']'));
											List_out_273.p5push(p5list_to_a([v_tab1_266, p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([(v_obj_260 || (v_obj_260 = new p5ArrayRef([])))._array_.p5aget(p5num(v_i_276)), v_tab1_266, v_seen_262, v_here_277]), 1), ',' + String.fromCharCode(10)]));
										}, p5list_to_a([p5range(0, (p5array_deref((v_obj_260 || (v_obj_260 = new p5ArrayRef([]))), 'Perlito5::Dumper').length - 1), 1, "tmp2721", 0)]), false, '') })()
								})();
								return ((p5pkg['Perlito5::Dumper'].join([''].concat(p5list_to_a(['bless([' + String.fromCharCode(10), List_out_273, v_tab_261, ('], ' + String.fromCharCode(39) + p5str(v_ref_264) + String.fromCharCode(39) + ')')])), "")));
							})()
							}
							catch(err) {
								if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
									throw(err)
								}
								else if ( err instanceof p5_error || err instanceof Error ) {
									p5pkg["main"]["v_@"] = err;
									if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
										try {
											p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
										}
										catch(err) { }
									}
								}
								else {
									return(err);
								}
							}
							return r;
						})());
				p5and(v_res_274, function () {
					throw(p5context([v_res_274], p5want))
				});
				(function () {
					var v_i_278;
					(function(){ var v_i_278; p5for_lex(function (v) { v_i_278 = v }, function () {
							var v_here_279;
							v_here_279 = ((p5str(v_pos_263) + '->{' + p5str(v_i_278) + '}'));
							List_out_273.p5push(p5list_to_a([v_tab1_266, (String.fromCharCode(39) + p5str(v_i_278) + String.fromCharCode(39) + ' => '), p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([(v_obj_260 || (v_obj_260 = new p5HashRef({})))._hash_.p5hget(p5str(v_i_278)), v_tab1_266, v_seen_262, v_here_279]), 1), ',' + String.fromCharCode(10)]));
						}, p5list_to_a([p5sort(p5pkg['Perlito5::Dumper'], function (p5want) {
							return (p5cmp(p5str(p5make_package('Perlito5::Dumper')['v_a']), p5str(p5make_package('Perlito5::Dumper')['v_b'])));
						}, p5list_to_a([p5pkg['Perlito5::Dumper'].keys([p5hash_deref((v_obj_260 || (v_obj_260 = new p5HashRef({}))), 'Perlito5::Dumper')], 1)]))]), false, '') })()
				})();
				return p5cleanup_local(local_idx, (p5context([p5pkg['Perlito5::Dumper'].join([''].concat(p5list_to_a(['bless({' + String.fromCharCode(10), List_out_273, v_tab_261, ('}, ' + String.fromCharCode(39) + p5str(v_ref_264) + String.fromCharCode(39) + ')')])), p5want)], p5want)));
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp2715._prototype_ = null;
		return tmp2715
	})());
	if (typeof p5pkg[p5make_package('Perlito5::Dumper')['Hash_safe_char'] || (p5make_package('Perlito5::Dumper')['Hash_safe_char'] = {}), 'Perlito5::Dumper']['Hash_safe_char'] == "undefined" ) { p5pkg[p5make_package('Perlito5::Dumper')['Hash_safe_char'] || (p5make_package('Perlito5::Dumper')['Hash_safe_char'] = {}), 'Perlito5::Dumper']['Hash_safe_char'] = {};}
	p5pkg[p5make_package('Perlito5::Dumper')['Hash_safe_char'] || (p5make_package('Perlito5::Dumper')['Hash_safe_char'] = {}), 'Perlito5::Dumper']['Hash_safe_char'] = p5a_to_h([' ', 1, '!', 1, '"', 1, String.fromCharCode(39), 1, '#', 1, '$', 1, '%', 1, '&', 1, '(', 1, ')', 1, '*', 1, '+', 1, ',', 1, '-', 1, '.', 1, '/', 1, ':', 1, ';', 1, '<', 1, '=', 1, '>', 1, '?', 1, '@', 1, '[', 1, ']', 1, '^', 1, '_', 1, '`', 1, '{', 1, '|', 1, '}', 1, '~', 1, String.fromCharCode(10), 1]);
	p5typeglob_set('Perlito5::Dumper', 'escape_string', (function () {
		var tmp2722;
		tmp2722 = function (List__, p5want) {
			try {
				var v_s_281;
				v_s_281 = (List__.shift());
				var List_out_282 = [];
				var v_tmp_283;
				v_tmp_283 = ('');
				p5and((p5str(v_s_281) == ''), function () {
					throw(p5context([String.fromCharCode(39) + String.fromCharCode(39)], p5want))
				});
				p5and(p5and((p5str((0 + p5num(v_s_281))) == p5str(v_s_281)), function () {
					return p5m(v_s_281, '[0-9]', '', 0)
				}), function () {
					throw(p5context([(0 + p5num(v_s_281))], p5want))
				});
				(function () {
					var v_c_284;
					(function(){ var v_c_284; p5for_lex(function (v) { v_c_284 = v }, function () {
							(function () {
								if ( ((p5str(v_c_284) == String.fromCharCode(92)) || ((p5str(v_c_284) == '$') || ((p5str(v_c_284) == '@') || (p5str(v_c_284) == '"')))) ) {
								v_tmp_283 = ((p5str(v_tmp_283) + String.fromCharCode(92) + p5str(v_c_284)));
							}
							else (function () {
								if ( (((p5str(v_c_284) >= 'a') && (p5str(v_c_284) <= 'z')) || (((p5str(v_c_284) >= 'A') && (p5str(v_c_284) <= 'Z')) || (((p5str(v_c_284) >= '0') && (p5str(v_c_284) <= '9')) || (p5pkg[p5make_package('Perlito5::Dumper')['Hash_safe_char'] || (p5make_package('Perlito5::Dumper')['Hash_safe_char'] = {}), 'Perlito5::Dumper']['Hash_safe_char']).hasOwnProperty(v_c_284)))) ) {
								v_tmp_283 = ((p5str(v_tmp_283) + p5str(v_c_284)));
							}
							else {
								v_tmp_283 = ((p5str(v_tmp_283) + String.fromCharCode(92) + 'x{' + p5str(p5pkg['Perlito5::Dumper'].sprintf(['%x'].concat([p5pkg['Perlito5::Dumper'].ord([v_c_284], 1)]), "")) + '}'));
							}
							})()
							})();
						}, p5list_to_a([CORE.split(['', v_s_281], 1)]), false, '') })()
				})();
				p5and((p5str(v_tmp_283) != ''), function () {
					return List_out_282.p5push([('"' + p5str(v_tmp_283) + '"')])
				});
				return (p5context([p5pkg['Perlito5::Dumper'].join([' . '].concat(p5list_to_a([List_out_282])), p5want)], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2722._prototype_ = null;
		return tmp2722
	})());
	p5typeglob_set('Perlito5::Dumper', '_identity', (function () {
		var tmp2723;
		tmp2723 = function (List__, p5want) {
			return (p5context([(p5str(List__.p5aget(0)) == p5str(List__.p5aget(1)))], p5want));
		};
		tmp2723._prototype_ = null;
		return tmp2723
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::TreeGrammar');
	var Hash_dispatch_285 = {};
	Hash_dispatch_285 = {'Ref' : (function () {
				var tmp2724;
				tmp2724 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Ref(p5list_to_a([List__]), p5want));
				};
				tmp2724._prototype_ = null;
				return tmp2724
			})(), 'Lookup' : (function () {
				var tmp2725;
				tmp2725 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Lookup(p5list_to_a([List__]), p5want));
				};
				tmp2725._prototype_ = null;
				return tmp2725
			})(), 'Index' : (function () {
				var tmp2726;
				tmp2726 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Index(p5list_to_a([List__]), p5want));
				};
				tmp2726._prototype_ = null;
				return tmp2726
			})(), 'Value' : (function () {
				var tmp2727;
				tmp2727 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Value(p5list_to_a([List__]), p5want));
				};
				tmp2727._prototype_ = null;
				return tmp2727
			})(), 'And' : (function () {
				var tmp2728;
				tmp2728 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].And(p5list_to_a([List__]), p5want));
				};
				tmp2728._prototype_ = null;
				return tmp2728
			})(), 'Or' : (function () {
				var tmp2729;
				tmp2729 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Or(p5list_to_a([List__]), p5want));
				};
				tmp2729._prototype_ = null;
				return tmp2729
			})(), 'Not' : (function () {
				var tmp2730;
				tmp2730 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Not(p5list_to_a([List__]), p5want));
				};
				tmp2730._prototype_ = null;
				return tmp2730
			})(), 'Action' : (function () {
				var tmp2731;
				tmp2731 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Action(p5list_to_a([List__]), p5want));
				};
				tmp2731._prototype_ = null;
				return tmp2731
			})(), 'Progn' : (function () {
				var tmp2732;
				tmp2732 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Progn(p5list_to_a([List__]), p5want));
				};
				tmp2732._prototype_ = null;
				return tmp2732
			})(), 'Star' : (function () {
				var tmp2733;
				tmp2733 = function (List__, p5want) {
					return (p5pkg['Perlito5::TreeGrammar'].Star(p5list_to_a([List__]), p5want));
				};
				tmp2733._prototype_ = null;
				return tmp2733
			})()};
	p5typeglob_set('Perlito5::TreeGrammar', 'render', (function () {
		var tmp2734;
		tmp2734 = function (List__, p5want) {
			var v_rule_286;
			var v_node_287;
			(function () {
					var tmp2735 = p5list_to_a([List__]);
					var tmp2736 = tmp2735.slice(0);
					v_rule_286 = tmp2735.shift();
					v_node_287 = tmp2735.shift();
					return tmp2736
				})();
			return ((Hash_dispatch_285.p5hget(p5str((v_rule_286 || (v_rule_286 = new p5ArrayRef([])))._array_.p5aget(0))))([v_rule_286, v_node_287], p5want));
		};
		tmp2734._prototype_ = null;
		return tmp2734
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'scan', (function () {
		var tmp2737;
		tmp2737 = function (List__, p5want) {
			try {
				var v_rule_288;
				var v_node_289;
				(function () {
					var tmp2738 = p5list_to_a([List__]);
					var tmp2739 = tmp2738.slice(0);
					v_rule_288 = tmp2738.shift();
					v_node_289 = tmp2738.shift();
					return tmp2739
				})();
				p5and(v_rule_288, function () {
					return p5pkg['Perlito5::TreeGrammar'].render([v_rule_288, v_node_289], null)
				});
				(function () {
					if ( (p5pkg['Perlito5::TreeGrammar'].ref([v_node_289], "") == 'ARRAY') ) {
					p5for(p5make_package('main'), "v__", function () {
							p5pkg['Perlito5::TreeGrammar'].scan([v_rule_288, p5make_package('main')['v__']], null);
						}, p5list_to_a([p5array_deref((v_node_289 || (v_node_289 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar')]), false, '');
				}
				else (function () {
					if ( p5bool(p5pkg['Perlito5::TreeGrammar'].ref([v_node_289], "")) ) {
					p5for(p5make_package('main'), "v__", function () {
							p5pkg['Perlito5::TreeGrammar'].scan([v_rule_288, p5make_package('main')['v__']], null);
						}, p5list_to_a([p5pkg['Perlito5::TreeGrammar'].values([p5hash_deref((v_node_289 || (v_node_289 = new p5HashRef({}))), 'Perlito5::TreeGrammar')], 1)]), false, '');
				}
				})()
				})();
				(function () {
					throw(p5context([], p5want))
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2737._prototype_ = null;
		return tmp2737
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Action', (function () {
		var tmp2740;
		tmp2740 = function (List__, p5want) {
			var v_rule_290;
			var v_node_291;
			(function () {
					var tmp2741 = p5list_to_a([List__]);
					var tmp2742 = tmp2741.slice(0);
					v_rule_290 = tmp2741.shift();
					v_node_291 = tmp2741.shift();
					return tmp2742
				})();
			((v_rule_290 || (v_rule_290 = new p5ArrayRef([])))._array_.p5aget(1))([v_node_291], null);
			return (p5context([1], p5want));
		};
		tmp2740._prototype_ = null;
		return tmp2740
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Not', (function () {
		var tmp2743;
		tmp2743 = function (List__, p5want) {
			try {
				var v_rule_292;
				var v_node_293;
				(function () {
					var tmp2744 = p5list_to_a([List__]);
					var tmp2745 = tmp2744.slice(0);
					v_rule_292 = tmp2744.shift();
					v_node_293 = tmp2744.shift();
					return tmp2745
				})();
				var v_result_294;
				p5and(p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_292 || (v_rule_292 = new p5ArrayRef([])))._array_.p5aget(1), v_node_293]), ""), function () {
					throw(p5context([], p5want))
				});
				return (p5context([1], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2743._prototype_ = null;
		return tmp2743
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Star', (function () {
		var tmp2746;
		tmp2746 = function (List__, p5want) {
			try {
				var v_rule_295;
				var v_node_296;
				(function () {
					var tmp2747 = p5list_to_a([List__]);
					var tmp2748 = tmp2747.slice(0);
					v_rule_295 = tmp2747.shift();
					v_node_296 = tmp2747.shift();
					return tmp2748
				})();
				var v_result_297;
				(function () {
					p5while(function () {
						return (p5or(p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_295 || (v_rule_295 = new p5ArrayRef([])))._array_.p5aget(1), v_node_296]), ""), function () {
								(function () {
								throw(p5context([], p5want))
							})()
							}));
					}, function () {
						return 1
					}, false, '', 0)
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2746._prototype_ = null;
		return tmp2746
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Progn', (function () {
		var tmp2749;
		tmp2749 = function (List__, p5want) {
			var v_rule_298;
			var v_node_299;
			(function () {
					var tmp2750 = p5list_to_a([List__]);
					var tmp2751 = tmp2750.slice(0);
					v_rule_298 = tmp2750.shift();
					v_node_299 = tmp2750.shift();
					return tmp2751
				})();
			var v_result_300;
			p5for(p5make_package('main'), "v__", function () {
						v_result_300 = (p5pkg['Perlito5::TreeGrammar'].render([p5make_package('main')['v__'], v_node_299], ""));
					}, p5list_to_a([p5list_slice(p5array_deref((v_rule_298 || (v_rule_298 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar'), p5list_to_a([p5range(1, (p5array_deref((v_rule_298 || (v_rule_298 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1), 1, "tmp2752", 0)]), 1)]), false, '');
			return (p5context([v_result_300], p5want));
		};
		tmp2749._prototype_ = null;
		return tmp2749
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'And', (function () {
		var tmp2753;
		tmp2753 = function (List__, p5want) {
			try {
				var v_rule_301;
				var v_node_302;
				(function () {
					var tmp2754 = p5list_to_a([List__]);
					var tmp2755 = tmp2754.slice(0);
					v_rule_301 = tmp2754.shift();
					v_node_302 = tmp2754.shift();
					return tmp2755
				})();
				var v_result_303;
				p5for(p5make_package('main'), "v__", function () {
						p5or((v_result_303 = (p5pkg['Perlito5::TreeGrammar'].render([p5make_package('main')['v__'], v_node_302], ""))), function () {
							throw(p5context([], p5want))
						});
					}, p5list_to_a([p5list_slice(p5array_deref((v_rule_301 || (v_rule_301 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar'), p5list_to_a([p5range(1, (p5array_deref((v_rule_301 || (v_rule_301 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1), 1, "tmp2756", 0)]), 1)]), false, '');
				return (p5context([v_result_303], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2753._prototype_ = null;
		return tmp2753
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Or', (function () {
		var tmp2757;
		tmp2757 = function (List__, p5want) {
			try {
				var v_rule_304;
				var v_node_305;
				(function () {
					var tmp2758 = p5list_to_a([List__]);
					var tmp2759 = tmp2758.slice(0);
					v_rule_304 = tmp2758.shift();
					v_node_305 = tmp2758.shift();
					return tmp2759
				})();
				var v_result_306;
				p5for(p5make_package('main'), "v__", function () {
						p5and((v_result_306 = (p5pkg['Perlito5::TreeGrammar'].render([p5make_package('main')['v__'], v_node_305], ""))), function () {
							throw(p5context([v_result_306], p5want))
						});
					}, p5list_to_a([p5list_slice(p5array_deref((v_rule_304 || (v_rule_304 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar'), p5list_to_a([p5range(1, (p5array_deref((v_rule_304 || (v_rule_304 = new p5ArrayRef([]))), 'Perlito5::TreeGrammar').length - 1), 1, "tmp2760", 0)]), 1)]), false, '');
				(function () {
					throw(p5context([], p5want))
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2757._prototype_ = null;
		return tmp2757
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Ref', (function () {
		var tmp2761;
		tmp2761 = function (List__, p5want) {
			try {
				var v_rule_307;
				var v_node_308;
				(function () {
					var tmp2762 = p5list_to_a([List__]);
					var tmp2763 = tmp2762.slice(0);
					v_rule_307 = tmp2762.shift();
					v_node_308 = tmp2762.shift();
					return tmp2763
				})();
				p5and((p5pkg['Perlito5::TreeGrammar'].ref([v_node_308], "") != p5str((v_rule_307 || (v_rule_307 = new p5ArrayRef([])))._array_.p5aget(1))), function () {
					throw(p5context([], p5want))
				});
				p5and(!( p5bool((v_rule_307 || (v_rule_307 = new p5ArrayRef([])))._array_.p5aget(2))), function () {
					throw(p5context([1], p5want))
				});
				return (p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_307 || (v_rule_307 = new p5ArrayRef([])))._array_.p5aget(2), v_node_308]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2761._prototype_ = null;
		return tmp2761
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Lookup', (function () {
		var tmp2764;
		tmp2764 = function (List__, p5want) {
			try {
				var v_rule_309;
				var v_node_310;
				(function () {
					var tmp2765 = p5list_to_a([List__]);
					var tmp2766 = tmp2765.slice(0);
					v_rule_309 = tmp2765.shift();
					v_node_310 = tmp2765.shift();
					return tmp2766
				})();
				p5and(p5or(!( p5bool(p5pkg['Perlito5::TreeGrammar'].ref([v_node_310], ""))), function () {
					return p5or((p5pkg['Perlito5::TreeGrammar'].ref([v_node_310], "") == 'ARRAY'), function () {
						return !( (v_node_310 || (v_node_310 = new p5HashRef({})))._hash_.hasOwnProperty((v_rule_309 || (v_rule_309 = new p5ArrayRef([])))._array_.p5aget(1)))
					})
				}), function () {
					throw(p5context([], p5want))
				});
				p5and(!( p5bool((v_rule_309 || (v_rule_309 = new p5ArrayRef([])))._array_.p5aget(2))), function () {
					throw(p5context([1], p5want))
				});
				return (p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_309 || (v_rule_309 = new p5ArrayRef([])))._array_.p5aget(2), (v_node_310 || (v_node_310 = new p5HashRef({})))._hash_.p5hget(p5str((v_rule_309 || (v_rule_309 = new p5ArrayRef([])))._array_.p5aget(1)))]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2764._prototype_ = null;
		return tmp2764
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Index', (function () {
		var tmp2767;
		tmp2767 = function (List__, p5want) {
			try {
				var v_rule_311;
				var v_node_312;
				(function () {
					var tmp2768 = p5list_to_a([List__]);
					var tmp2769 = tmp2768.slice(0);
					v_rule_311 = tmp2768.shift();
					v_node_312 = tmp2768.shift();
					return tmp2769
				})();
				p5and(p5or(!( p5bool(p5pkg['Perlito5::TreeGrammar'].ref([v_node_312], ""))), function () {
					return p5or((p5pkg['Perlito5::TreeGrammar'].ref([v_node_312], "") != 'ARRAY'), function () {
						return !( (v_node_312 || (v_node_312 = new p5ArrayRef([])))._array_.hasOwnProperty((v_rule_311 || (v_rule_311 = new p5ArrayRef([])))._array_.p5aget(1)))
					})
				}), function () {
					throw(p5context([], p5want))
				});
				p5and(!( p5bool((v_rule_311 || (v_rule_311 = new p5ArrayRef([])))._array_.p5aget(2))), function () {
					throw(p5context([1], p5want))
				});
				return (p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_311 || (v_rule_311 = new p5ArrayRef([])))._array_.p5aget(2), (v_node_312 || (v_node_312 = new p5ArrayRef([])))._array_.p5aget(p5num((v_rule_311 || (v_rule_311 = new p5ArrayRef([])))._array_.p5aget(1)))]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2767._prototype_ = null;
		return tmp2767
	})());
	p5typeglob_set('Perlito5::TreeGrammar', 'Value', (function () {
		var tmp2770;
		tmp2770 = function (List__, p5want) {
			try {
				var v_rule_313;
				var v_node_314;
				(function () {
					var tmp2771 = p5list_to_a([List__]);
					var tmp2772 = tmp2771.slice(0);
					v_rule_313 = tmp2771.shift();
					v_node_314 = tmp2771.shift();
					return tmp2772
				})();
				p5and(p5or(p5pkg['Perlito5::TreeGrammar'].ref([v_node_314], ""), function () {
					return (p5str(v_node_314) != p5str((v_rule_313 || (v_rule_313 = new p5ArrayRef([])))._array_.p5aget(1)))
				}), function () {
					throw(p5context([], p5want))
				});
				p5and(!( p5bool((v_rule_313 || (v_rule_313 = new p5ArrayRef([])))._array_.p5aget(2))), function () {
					throw(p5context([1], p5want))
				});
				return (p5pkg['Perlito5::TreeGrammar'].render(p5list_to_a([(v_rule_313 || (v_rule_313 = new p5ArrayRef([])))._array_.p5aget(2), v_node_314]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2770._prototype_ = null;
		return tmp2770
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Macro');
	p5block(function (v) {}, function () {
			p5make_package('Perlito5::AST::Apply');
			var Hash_op_243 = {};
			Hash_op_243 = {'infix:<+=>' : 'infix:<+>', 'infix:<-=>' : 'infix:<->', 'infix:<*=>' : 'infix:<*>', 'infix:</=>' : 'infix:</>', 'infix:<||=>' : 'infix:<||>', 'infix:<&&=>' : 'infix:<&&>', 'infix:<|=>' : 'infix:<|>', 'infix:<&=>' : 'infix:<&>', 'infix:<//=>' : 'infix:<//>', 'infix:<.=>' : 'list:<.>', 'infix:<x=>' : 'infix:<x>'};
			p5typeglob_set('Perlito5::AST::Apply', 'op_assign', (function () {
				var tmp2773;
				tmp2773 = function (List__, p5want) {
					try {
						var v_self_244;
						v_self_244 = (List__.p5aget(0));
						var v_code_245;
						v_code_245 = ((v_self_244 || (v_self_244 = new p5HashRef({})))._hash_.p5hget('code'));
						p5and(p5pkg['Perlito5::AST::Apply'].ref([v_code_245], ""), function () {
							throw(p5context([0], p5want))
						});
						(function () {
							if ( (Hash_op_243).hasOwnProperty(v_code_245) ) {
							throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([(v_self_244 || (v_self_244 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', Hash_op_243.p5hget(p5str(v_code_245)), 'arguments', (v_self_244 || (v_self_244 = new p5HashRef({})))._hash_.p5hget('arguments')]), 1)])))]), p5want));
						}
						})();
						return (p5context([0], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2773._prototype_ = null;
				return tmp2773
			})());
			var Hash_op_auto_246 = {};
			Hash_op_auto_246 = {'prefix:<++>' : 1, 'prefix:<-->' : 1, 'postfix:<++>' : 1, 'postfix:<-->' : 1};
			p5typeglob_set('Perlito5::AST::Apply', 'op_auto', (function () {
				var tmp2774;
				tmp2774 = function (List__, p5want) {
					try {
						var v_self_247;
						v_self_247 = (List__.p5aget(0));
						var v_code_248;
						v_code_248 = ((v_self_247 || (v_self_247 = new p5HashRef({})))._hash_.p5hget('code'));
						p5and(p5pkg['Perlito5::AST::Apply'].ref([v_code_248], ""), function () {
							throw(p5context([0], p5want))
						});
						(function () {
							if ( (Hash_op_auto_246).hasOwnProperty(v_code_248) ) {
							(function () {
								var v_paren_249;
								v_paren_249 = ((v_self_247 || (v_self_247 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( (p5str((v_paren_249 || (v_paren_249 = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>') ) {
									(function () {
										var v_arg_250;
										v_arg_250 = ((v_paren_249 || (v_paren_249 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(p5num(p5negative( 1))));
										(function () {
											if ( (p5str((v_arg_250 || (v_arg_250 = new p5HashRef({})))._hash_.p5hget('code')) == 'infix:<=>') ) {
											(function () {
												var v_var_251;
												v_var_251 = ((v_arg_250 || (v_arg_250 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
												throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([v_paren_249, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_code_248, 'arguments', (new p5ArrayRef([v_var_251]))]), 1)])))]), 1)])))]), p5want));
											})();
										}
										})();
									})();
								}
								})();
							})();
						}
						})();
						return (p5context([0], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2774._prototype_ = null;
				return tmp2774
			})());
		}, [0], false, ''
	);
	p5block(function (v) {}, function () {
			p5make_package('Perlito5::AST::Sub');
			p5typeglob_set('Perlito5::AST::Sub', 'maybe_rewrite_statevars', (function () {
				var tmp2775;
				tmp2775 = function (List__, p5want) {
					try {
						var v_self_315;
						(function () {
							var tmp2776 = p5list_to_a([List__]);
							var tmp2777 = tmp2776.slice(0);
							v_self_315 = tmp2776.shift();
							return tmp2777
						})();
						var v_block_316;
						v_block_316 = (p5or((v_self_315 || (v_self_315 = new p5HashRef({})))._hash_.p5hget('block'), function () {
									(function () {
									throw(p5context([0], p5want))
								})()
								}));
						var List_init_flags_317 = [];
						var List_vars_318 = [];
						var List_base_rules_319 = [];
						List_base_rules_319 = p5list_to_a([(new p5ArrayRef(['Lookup', 'block'])), (new p5ArrayRef(['Lookup', 'stmts']))]);
						(function () {
							var v_idx_320;
							(function(){ var v_idx_320; p5for_lex(function (v) { v_idx_320 = v }, function () {
									var v_stmt_321;
									v_stmt_321 = ((v_block_316 || (v_block_316 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(p5num(v_idx_320)));
									var v_node_322;
									var List_rules_323 = [];
									(function () {
										var tmp2779 = p5list_to_a([p5pkg['Perlito5::AST::Sub'].find_state_expr(p5list_to_a([v_stmt_321, List_base_rules_319, (new p5ArrayRef(['Index', v_idx_320]))]), 1)]);
										var tmp2780 = tmp2779.slice(0);
										v_node_322 = tmp2779.shift();
										List_rules_323 = tmp2779;
										tmp2779 = [];
										return tmp2780
									})();
									(function () {
										if ( (v_node_322 != null) ) {
										(function () {
											var v_transformed_324;
											var v_var_325;
											var v_flagvar_326;
											(function () {
												var tmp2781 = p5list_to_a([p5pkg['Perlito5::AST::Sub'].rewrite_state_expr([v_node_322], 1)]);
												var tmp2782 = tmp2781.slice(0);
												v_transformed_324 = tmp2781.shift();
												v_var_325 = tmp2781.shift();
												v_flagvar_326 = tmp2781.shift();
												return tmp2782
											})();
											List_vars_318.p5push([v_var_325, v_flagvar_326]);
											var v_last_rule_327;
											v_last_rule_327 = (List_rules_323.pop());
											List_rules_323.p5push(p5list_to_a([(new p5ArrayRef(['Action', (function () {
	var tmp2783;
	tmp2783 = function (List__, p5want) {
		var v_parent_328;
		(function () {
				var tmp2784 = p5list_to_a([List__]);
				var tmp2785 = tmp2784.slice(0);
				v_parent_328 = tmp2784.shift();
				return tmp2785
			})();
		return (function () {
				if ( (p5str((v_last_rule_327 || (v_last_rule_327 = new p5ArrayRef([])))._array_.p5aget(0)) == 'Lookup') ) {
				return ((v_parent_328 || (v_parent_328 = new p5HashRef({})))._hash_.p5hset(p5str((v_last_rule_327 || (v_last_rule_327 = new p5ArrayRef([])))._array_.p5aget(1)), (v_transformed_324)));
			}
			else {
				return ((v_parent_328 || (v_parent_328 = new p5ArrayRef([])))._array_.p5aset(p5num((v_last_rule_327 || (v_last_rule_327 = new p5ArrayRef([])))._array_.p5aget(1)), (v_transformed_324)));
			}
			})()
	};
	tmp2783._prototype_ = null;
	return tmp2783
})()]))]));
											var v_rule_329;
											v_rule_329 = (p5pkg['Perlito5::AST::Sub'].nest(p5list_to_a([(new p5ArrayRef(List_rules_323))]), ""));
											p5pkg['Perlito5::TreeGrammar'].render([v_rule_329, v_self_315], null);
										})();
									}
									})();
								}, p5list_to_a([p5range(0, (p5array_deref((v_block_316 || (v_block_316 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::AST::Sub').length - 1), 1, "tmp2778", 0)]), false, '') })()
						})();
						(function () {
							if ( p5bool((List_vars_318.length)) ) {
							throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'namespace', (v_block_316 || (v_block_316 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['sig', null, 'stmts', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Sub'].myvar_declaration_stmt(p5list_to_a([List_vars_318]), 1), v_self_315])))]), 1)])))]), p5want));
						}
						})();
						return (p5context([0], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2775._prototype_ = null;
				return tmp2775
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'myvar_declaration_stmt', (function () {
				var tmp2786;
				tmp2786 = function (List__, p5want) {
					p5and(p5context([p5grep(p5pkg['Perlito5::AST::Sub'], function (p5want) {
							return (((p5str(p5defined_or((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('decl'), function () {
									return 'my'
								})) != 'my')));
						}, p5list_to_a([List__]))], 0), function () {
							return p5pkg['Perlito5::AST::Sub'].die([].concat(['Can only handle `my` variables']), null)
						});
					return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'my', 'arguments', (new p5ArrayRef(p5list_to_a([List__])))]), p5want));
				};
				tmp2786._prototype_ = null;
				return tmp2786
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'rewrite_state_expr', (function () {
				var tmp2787;
				tmp2787 = function (List__, p5want) {
					var v_target_330;
					(function () {
							var tmp2788 = p5list_to_a([List__]);
							var tmp2789 = tmp2788.slice(0);
							v_target_330 = tmp2788.shift();
							return tmp2789
						})();
					var v_decl_331;
					var v_rhs_332;
					p5context([p5context([v_decl_331], 0), p5context([v_rhs_332], 0)], 0);
					(function () {
							if ( (p5pkg['Perlito5::AST::Sub'].ref([v_target_330], "") == 'Perlito5::AST::Apply') ) {
							v_decl_331 = ((v_target_330 || (v_target_330 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							v_rhs_332 = ((v_target_330 || (v_target_330 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1));
						}
						else (function () {
							if ( (p5pkg['Perlito5::AST::Sub'].ref([v_target_330], "") == 'Perlito5::AST::Decl') ) {
							v_decl_331 = (v_target_330);
						}
						else {
							p5pkg['Perlito5::AST::Sub'].die([].concat([('Invalid node type for state variable transformation: ' + p5pkg['Perlito5::AST::Sub'].ref([v_target_330], ""))]), null);
						}
						})()
						})();
					var v_state_var_333;
					v_state_var_333 = ((v_decl_331 || (v_decl_331 = new p5HashRef({})))._hash_.p5hget('var'));
					var v_var_334;
					v_var_334 = (p5call('Perlito5::AST::Var', 'new', p5list_to_a(['namespace', (v_state_var_333 || (v_state_var_333 = new p5HashRef({})))._hash_.p5hget('namespace'), 'sigil', (v_state_var_333 || (v_state_var_333 = new p5HashRef({})))._hash_.p5hget('sigil'), 'name', (v_state_var_333 || (v_state_var_333 = new p5HashRef({})))._hash_.p5hget('name'), '_id', (v_state_var_333 || (v_state_var_333 = new p5HashRef({})))._hash_.p5hget('_id'), '_decl', 'my']), ""));
					var v_label_335;
					v_label_335 = (p5pkg['Perlito5'].get_label([], ""));
					var v_flagvar_336;
					v_flagvar_336 = (p5call('Perlito5::AST::Var', 'new', p5list_to_a(['name', (p5str((v_var_334 || (v_var_334 = new p5HashRef({})))._hash_.p5hget('name')) + '_inited_' + p5str(v_label_335)), 'sigil', '$', 'namespace', '', '_id', (function () {
	var tmp2790 = p5make_package('Perlito5')['v_ID'];
	p5make_package('Perlito5')['v_ID'] = p5incr_(tmp2790);
	return tmp2790
})(), '_decl', 'my']), ""));
					var v_init_block_337;
					v_init_block_337 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'namespace', (v_decl_331 || (v_decl_331 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['sig', null, 'stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'namespace', (v_decl_331 || (v_decl_331 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', (new p5ArrayRef(p5list_to_a([v_flagvar_336, p5call('Perlito5::AST::Int', 'new', ['int', 1], 1)])))]), 1), ( (p5pkg['Perlito5::AST::Sub'].ref([v_target_330], "") == 'Perlito5::AST::Apply') ? p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'namespace', (v_decl_331 || (v_decl_331 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', (new p5ArrayRef([v_var_334, v_rhs_332]))]), 1) : v_var_334)])))]), 1)])))]), ""));
					var v_transformed_338;
					v_transformed_338 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'ternary:<? :>', 'namespace', (v_decl_331 || (v_decl_331 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', (new p5ArrayRef([v_flagvar_336, v_var_334, v_init_block_337]))]), ""));
					return (p5context([v_transformed_338, v_var_334, v_flagvar_336], p5want));
				};
				tmp2787._prototype_ = null;
				return tmp2787
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'nest', (function () {
				var tmp2791;
				tmp2791 = function (List__, p5want) {
					try {
						var v_xs_339;
						(function () {
							var tmp2792 = p5list_to_a([List__]);
							var tmp2793 = tmp2792.slice(0);
							v_xs_339 = tmp2792.shift();
							return tmp2793
						})();
						(function () {
							if ( p5bool(((p5num(p5num(p5array_deref((v_xs_339 || (v_xs_339 = new p5ArrayRef([]))), 'Perlito5::AST::Sub'))) == 0))) ) {
							throw(p5context([], p5want));
						}
						})();
						return ((new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Sub'].flatten(p5list_to_a([(v_xs_339 || (v_xs_339 = new p5ArrayRef([])))._array_.p5aget(0)]), 1), p5pkg['Perlito5::AST::Sub'].nest(p5list_to_a([(new p5ArrayRef(p5list_to_a([p5list_slice(p5array_deref((v_xs_339 || (v_xs_339 = new p5ArrayRef([]))), 'Perlito5::AST::Sub'), p5list_to_a([p5range(1, (p5array_deref((v_xs_339 || (v_xs_339 = new p5ArrayRef([]))), 'Perlito5::AST::Sub').length - 1), 1, "tmp2794", 0)]), 1)])))]), 1)]))));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2791._prototype_ = null;
				return tmp2791
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'flatten', (function () {
				var tmp2795;
				tmp2795 = function (List__, p5want) {
					try {
						var v_arg_340;
						(function () {
							var tmp2796 = p5list_to_a([List__]);
							var tmp2797 = tmp2796.slice(0);
							v_arg_340 = tmp2796.shift();
							return tmp2797
						})();
						(function () {
							if ( (p5pkg['Perlito5::AST::Sub'].ref([v_arg_340], "") == 'ARRAY') ) {
							throw(p5context([p5array_deref((v_arg_340 || (v_arg_340 = new p5ArrayRef([]))), 'Perlito5::AST::Sub')], p5want));
						}
						})();
						return (p5context([v_arg_340], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2795._prototype_ = null;
				return tmp2795
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'find_state_expr', (function () {
				var tmp2798;
				tmp2798 = function (List__, p5want) {
					try {
						var v_node_341;
						var List_rules_342 = [];
						(function () {
							var tmp2799 = p5list_to_a([List__]);
							var tmp2800 = tmp2799.slice(0);
							v_node_341 = tmp2799.shift();
							List_rules_342 = tmp2799;
							tmp2799 = [];
							return tmp2800
						})();
						(function () {
							if ( (p5bool(p5pkg['Perlito5::AST::Sub'].is_node_state_decl([v_node_341], "")) || p5bool(p5pkg['Perlito5::AST::Sub'].is_node_state_assignment([v_node_341], ""))) ) {
							throw(p5context([v_node_341, (p5want ? List_rules_342 : List_rules_342.length)], p5want));
						}
						})();
						(function () {
							var v_branch_343;
							(function(){ var v_branch_343; p5for_lex(function (v) { v_branch_343 = v }, function () {
									(function () {
										if ( ((v_node_341 || (v_node_341 = new p5HashRef({})))._hash_.hasOwnProperty(v_branch_343) && (p5pkg['Perlito5::AST::Sub'].ref([(v_node_341 || (v_node_341 = new p5HashRef({})))._hash_.p5hget(p5str(v_branch_343))], "") == 'ARRAY')) ) {
										p5for(p5make_package('main'), "v__", function () {
												var v_retnode_344;
												var List_retrules_345 = [];
												(function () {
													var tmp2802 = p5list_to_a([p5pkg['Perlito5::AST::Sub'].find_state_expr(p5list_to_a([(v_node_341 || (v_node_341 = new p5HashRef({})))._hash_.p5hget_array(p5str(v_branch_343))._array_.p5aget(p5num(p5make_package('main')['v__'])), List_rules_342, (new p5ArrayRef(['Lookup', v_branch_343])), (new p5ArrayRef(['Index', p5make_package('main')['v__']]))]), 1)]);
													var tmp2803 = tmp2802.slice(0);
													v_retnode_344 = tmp2802.shift();
													List_retrules_345 = tmp2802;
													tmp2802 = [];
													return tmp2803
												})();
												(function () {
													if ( p5bool(v_retnode_344) ) {
													throw(p5context([v_retnode_344, (p5want ? List_retrules_345 : List_retrules_345.length)], p5want));
												}
												})();
											}, p5list_to_a([p5range(0, (p5array_deref((v_node_341 || (v_node_341 = new p5HashRef({})))._hash_.p5hget_array(p5str(v_branch_343)), 'Perlito5::AST::Sub').length - 1), 1, "tmp2801", 0)]), false, '');
									}
									})();
								}, ['stmts', 'arguments'], false, '') })()
						})();
						return (null);
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2798._prototype_ = null;
				return tmp2798
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'is_node_state_assignment', (function () {
				var tmp2804;
				tmp2804 = function (List__, p5want) {
					var v_node_346;
					(function () {
							var tmp2805 = p5list_to_a([List__]);
							var tmp2806 = tmp2805.slice(0);
							v_node_346 = tmp2805.shift();
							return tmp2806
						})();
					return (p5context([p5and((p5pkg['Perlito5::AST::Sub'].ref([v_node_346], "") == 'Perlito5::AST::Apply'), function () {
								return p5and((p5str((v_node_346 || (v_node_346 = new p5HashRef({})))._hash_.p5hget('code')) == 'infix:<=>'), function () {
									return p5pkg['Perlito5::AST::Sub'].is_node_state_decl(p5list_to_a([(v_node_346 || (v_node_346 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), p5want)
								})
							})], p5want));
				};
				tmp2804._prototype_ = null;
				return tmp2804
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'is_node_state_decl', (function () {
				var tmp2807;
				tmp2807 = function (List__, p5want) {
					var v_node_347;
					(function () {
							var tmp2808 = p5list_to_a([List__]);
							var tmp2809 = tmp2808.slice(0);
							v_node_347 = tmp2808.shift();
							return tmp2809
						})();
					return (p5context([p5and((p5pkg['Perlito5::AST::Sub'].ref([v_node_347], "") == 'Perlito5::AST::Decl'), function () {
								return (p5str((v_node_347 || (v_node_347 = new p5HashRef({})))._hash_.p5hget('decl')) == 'state')
							})], p5want));
				};
				tmp2807._prototype_ = null;
				return tmp2807
			})());
		}, [0], false, ''
	);
	p5typeglob_set('Perlito5::Macro', 'while_file', (function () {
		var tmp2810;
		tmp2810 = function (List__, p5want) {
			try {
				var v_self_348;
				v_self_348 = (List__.p5aget(0));
				p5and((p5pkg['Perlito5::Macro'].ref([v_self_348], "") != 'Perlito5::AST::While'), function () {
					throw(p5context([0], p5want))
				});
				var v_cond_349;
				v_cond_349 = ((v_self_348 || (v_self_348 = new p5HashRef({})))._hash_.p5hget('cond'));
				(function () {
					if ( (p5bool(p5call(v_cond_349, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_cond_349 || (v_cond_349 = new p5HashRef({})))._hash_.p5hget('code')) == 'readline')) ) {
					(v_self_348 || (v_self_348 = new p5HashRef({})))._hash_.p5hset('cond', (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1), v_cond_349]))), 'code', 'infix:<=>', 'namespace', ''])))), 'Perlito5::AST::Apply']))]))), 'bareword', '', 'code', 'defined', 'namespace', ''])))), 'Perlito5::AST::Apply']))));
					throw(p5context([v_self_348], p5want));
				}
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2810._prototype_ = null;
		return tmp2810
	})());
	p5typeglob_set('Perlito5::Macro', 'insert_return_in_block', (function () {
		var tmp2811;
		tmp2811 = function (List__, p5want) {
			var v_self_350;
			(function () {
					var tmp2812 = p5list_to_a([List__]);
					var tmp2813 = tmp2812.slice(0);
					v_self_350 = tmp2812.shift();
					return tmp2813
				})();
			(function () {
					if ( (p5num(p5num(p5array_deref((v_self_350 || (v_self_350 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::Macro'))) == 0) ) {
					p5array_deref((v_self_350 || (v_self_350 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::Macro').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'code', 'return', 'namespace', '', '_return_from_block', 1]), 1)]));
				}
				else {
					(function () {
						var v_last_statement_351;
						v_last_statement_351 = (p5array_deref((v_self_350 || (v_self_350 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::Macro').pop());
						p5array_deref((v_self_350 || (v_self_350 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::Macro').p5push(p5list_to_a([p5pkg['Perlito5::Macro'].insert_return([v_last_statement_351], 1)]));
					})();
				}
				})();
			return (p5context([v_self_350], p5want));
		};
		tmp2811._prototype_ = null;
		return tmp2811
	})());
	p5typeglob_set('Perlito5::Macro', 'insert_return_in_if', (function () {
		var tmp2814;
		tmp2814 = function (List__, p5want) {
			var v_self_352;
			v_self_352 = (List__.p5aget(0));
			(v_self_352 || (v_self_352 = new p5HashRef({})))._hash_.p5hset('body', (p5pkg['Perlito5::Macro'].insert_return_in_block(p5list_to_a([p5or((v_self_352 || (v_self_352 = new p5HashRef({})))._hash_.p5hget('body'), function () {
							return p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1)
						})]), "")));
			(v_self_352 || (v_self_352 = new p5HashRef({})))._hash_.p5hset('otherwise', (p5pkg['Perlito5::Macro'].insert_return_in_block(p5list_to_a([p5or((v_self_352 || (v_self_352 = new p5HashRef({})))._hash_.p5hget('otherwise'), function () {
							return p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1)
						})]), "")));
			return (p5context([v_self_352], p5want));
		};
		tmp2814._prototype_ = null;
		return tmp2814
	})());
	p5typeglob_set('Perlito5::Macro', 'insert_return', (function () {
		var tmp2815;
		tmp2815 = function (List__, p5want) {
			try {
				var v_self_353;
				v_self_353 = (List__.p5aget(0));
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::If'], "")) ) {
					throw(p5pkg['Perlito5::Macro'].insert_return_in_if([v_self_353], p5want));
				}
				})();
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Block'], "")) ) {
					throw(p5pkg['Perlito5::Macro'].insert_return_in_block([v_self_353], p5want));
				}
				})();
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::For'], "")) ) {
					throw(p5context([v_self_353, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', ''], 1)]))), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want)], p5want));
				}
				})();
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::While'], "")) ) {
					(function () {
						if ( (p5bool(p5call((v_self_353 || (v_self_353 = new p5HashRef({})))._hash_.p5hget('cond'), 'isa', ['Perlito5::AST::Int'], "")) && p5bool((v_self_353 || (v_self_353 = new p5HashRef({})))._hash_.p5hget_hash('cond')._hash_.p5hget('int'))) ) {
						throw(p5context([v_self_353], p5want));
					}
					else {
						throw(p5context([v_self_353, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Int', 'new', ['int', 0], 1)]))), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want)], p5want));
					}
					})();
				}
				})();
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Sub'], "")) ) {
					(function () {
						if ( !( p5bool((v_self_353 || (v_self_353 = new p5HashRef({})))._hash_.p5hget('name'))) ) {
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([v_self_353])), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want));
					}
					else {
						throw(p5context([v_self_353, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Int', 'new', ['int', 0], 1)]))), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want)], p5want));
					}
					})();
				}
				})();
				(function () {
					if ( (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Int'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Num'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Buf'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Lookup'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Call'], "")) || (p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Var'], "")) || p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Decl'], ""))))))))) ) {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([v_self_353])), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want));
				}
				})();
				(function () {
					if ( p5bool(p5call(v_self_353, 'isa', ['Perlito5::AST::Apply'], "")) ) {
					(function () {
						if ( (p5str(p5call(v_self_353, 'code', [], "")) == 'return') ) {
						throw(p5context([v_self_353], p5want));
					}
					})();
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([v_self_353])), 'code', 'return', 'namespace', '', '_return_from_block', 1]), p5want));
				}
				})();
				return (p5context([v_self_353], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2815._prototype_ = null;
		return tmp2815
	})());
	p5typeglob_set('Perlito5::Macro', 'split_code_too_large', (function () {
		var tmp2816;
		tmp2816 = function (List__, p5want) {
			var List_stmts_354 = [];
			List_stmts_354 = p5list_to_a([List__]);
			(function () {
					p5while(function () {
						var List_do_355 = [];
						List_do_355 = p5list_to_a([p5pkg['Perlito5::Macro'].splice([List_stmts_354, p5negative( 15), 15], 1)]);
						List_stmts_354.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(List_do_355))]), 1)]))), 'code', 'do']), 1)]));
					}, function () {
						return (p5num(List_stmts_354.length) > 20)
					}, false, '', 0)
				})();
			return ((p5want ? List_stmts_354 : List_stmts_354.length));
		};
		tmp2816._prototype_ = null;
		return tmp2816
	})());
	p5typeglob_set('Perlito5::Macro', 'preprocess_regex', (function () {
		var tmp2817;
		tmp2817 = function (List__, p5want) {
			var v_regex_356;
			v_regex_356 = (List__.shift());
			(function () {
					if ( (p5bool(p5call(v_regex_356, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_regex_356 || (v_regex_356 = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>')) ) {
					(function () {
						var tmp2818 = p5list_to_a([p5array_deref((v_regex_356 || (v_regex_356 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::Macro')]);
						var tmp2819 = tmp2818.slice(0);
						v_regex_356 = tmp2818.shift();
						return tmp2819
					})();
				}
				})();
			(function () {
					if ( (p5bool(p5call(v_regex_356, 'isa', ['Perlito5::AST::Buf'], "")) || (p5bool(p5call(v_regex_356, 'isa', ['Perlito5::AST::Var'], "")) || (p5bool(p5call(v_regex_356, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_regex_356 || (v_regex_356 = new p5HashRef({})))._hash_.p5hget('code')) == 'list:<.>')))) ) {
					v_regex_356 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:m', 'arguments', (new p5ArrayRef(p5list_to_a([v_regex_356, p5call('Perlito5::AST::Buf', 'new', ['buf', ''], 1)])))]), ""));
				}
				})();
			return (p5context([v_regex_356], p5want));
		};
		tmp2817._prototype_ = null;
		return tmp2817
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Statement');
	var List_Statement_chars_357 = [];
	var Hash_Statement_358 = {};
	p5typeglob_set('Perlito5::Grammar::Statement', 'add_statement', (function () {
		var tmp2820;
		tmp2820 = function (List__, p5want) {
			var v_name_359;
			v_name_359 = (List__.shift());
			var v_param_360;
			v_param_360 = (List__.shift());
			Hash_Statement_358.p5hset(p5str(v_name_359), (v_param_360));
			(function () {
					p5while(function () {
						return (List_Statement_chars_357.p5unshift([(p5num((List_Statement_chars_357.length)) + 1)]));
					}, function () {
						return (p5num(List_Statement_chars_357.length) < p5pkg['Perlito5::Grammar::Statement'].length([v_name_359], ""))
					}, false, '', 0)
				})()
		};
		tmp2820._prototype_ = null;
		return tmp2820
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'stmt_yadayada', (function () {
		var tmp2821;
		tmp2821 = function (List__, p5want) {
			var v_str_361;
			v_str_361 = (List__.p5aget(0));
			var v_pos_362;
			v_pos_362 = (List__.p5aget(1));
			var v_MATCH_363;
			v_MATCH_363 = ((new p5HashRef({'str' : v_str_361, 'from' : v_pos_362, 'to' : v_pos_362})));
			var v_tmp_364;
			v_tmp_364 = (p5context([p5context([p5and(p5context([p5and(p5context([('.' == p5str((v_str_361 || (v_str_361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('.' == p5str((v_str_361 || (v_str_361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('.' == p5str((v_str_361 || (v_str_361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5context([(v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
								})
							})
						})], 0), function () {
							return p5context([(function () {
								(v_MATCH_363 || (v_MATCH_363 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'die', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', 'Unimplemented'], 1)])))]), "")));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_364) ? v_MATCH_363 : null));
		};
		tmp2821._prototype_ = null;
		return tmp2821
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'stmt_format', (function () {
		var tmp2822;
		tmp2822 = function (List__, p5want) {
			var v_str_365;
			v_str_365 = (List__.p5aget(0));
			var v_pos_366;
			v_pos_366 = (List__.p5aget(1));
			var v_MATCH_367;
			v_MATCH_367 = ((new p5HashRef({'str' : v_str_365, 'from' : v_pos_366, 'to' : v_pos_366})));
			var v_tmp_368;
			v_tmp_368 = (p5context([p5context([p5and(p5context([p5and(p5context([('f' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('r' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('m' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('a' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5and(p5context([('t' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
												return p5context([(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 6)))], 0)
											})
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_369;
								v_m2_369 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_365, (v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_369) ) {
									(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_369 || (v_m2_369 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_pos1_370;
									v_pos1_370 = ((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([(function () {
													var v_m2_371;
													v_m2_371 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_365, (v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_371) ) {
														(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_371 || (v_m2_371 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_371));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_370));
												return ((p5context([(function () {
														(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', ('STDOUT'));
														return ((1));
													})()], 0)));
											})()], 0)
										})));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_placeholder_372;
										v_placeholder_372 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 1)])))]), ""));
										p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'].p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a(['single_quote', (v_placeholder_372 || (v_placeholder_372 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('arguments'), '.'])))]));
										(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:format', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), 1), v_placeholder_372])))]), "")));
										return ((1));
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_373;
											v_m2_373 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_365, (v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_373) ) {
												(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_373 || (v_m2_373 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([('=' == p5str((v_str_365 || (v_str_365 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_m2_374;
													v_m2_374 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_365, (v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_374) ) {
														(v_MATCH_367 || (v_MATCH_367 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_374 || (v_m2_374 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0)
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_368) ? v_MATCH_367 : null));
		};
		tmp2822._prototype_ = null;
		return tmp2822
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'stmt_package', (function () {
		var tmp2823;
		tmp2823 = function (List__, p5want) {
			var v_str_375;
			v_str_375 = (List__.p5aget(0));
			var v_pos_376;
			v_pos_376 = (List__.p5aget(1));
			var v_MATCH_377;
			v_MATCH_377 = ((new p5HashRef({'str' : v_str_375, 'from' : v_pos_376, 'to' : v_pos_376})));
			var v_tmp_378;
			v_tmp_378 = (p5context([p5context([p5and(p5context([p5and(p5context([('p' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('a' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('c' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('k' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('a' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5and(p5context([('g' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
												return p5and(p5context([('e' == p5str((v_str_375 || (v_str_375 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 6))))], 0), function () {
													return p5context([(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')) + 7)))], 0)
												})
											})
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_379;
								v_m2_379 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_379) ) {
									(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_379 || (v_m2_379 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_380;
									v_m2_380 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_380) ) {
										(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_380 || (v_m2_380 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_380));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_pos1_381;
										v_pos1_381 = ((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to'));
										return ((p5or(p5context([(function () {
												return ((p5context([p5and(p5context([(function () {
														var v_m2_382;
														v_m2_382 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_382) ) {
															(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_382 || (v_m2_382 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_383;
															v_m2_383 = (p5pkg['Perlito5::Grammar::Use'].version_string(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_383) ) {
																(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_383 || (v_m2_383 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Use::version_string', (v_m2_383));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_version_384;
																v_version_384 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Use::version_string')]), ""));
																(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('_version', (v_version_384));
																return ((1));
															})()], 0), function () {
																return p5context([(function () {
																	var v_m2_385;
																	v_m2_385 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_385) ) {
																		(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_385 || (v_m2_385 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0)
															})
														})
													})], 0)));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_381));
													return ((p5context([(function () {
															var v_m2_386;
															v_m2_386 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_386) ) {
																(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_386 || (v_m2_386 = new p5HashRef({})))._hash_.p5hget('to')));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0)));
												})()], 0)
											})));
									})()], 0), function () {
										return p5context([(function () {
											var v_pos1_387;
											v_pos1_387 = ((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to'));
											return ((p5or(p5context([(function () {
													return ((p5context([p5and(p5context([(function () {
															var v_name_388;
															v_name_388 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
															(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('_package', (p5make_package('Perlito5')['v_PKG_NAME']));
															(p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.p5hset(p5str(v_name_388), (1));
															p5make_package('Perlito5')['v_PKG_NAME'] = (v_name_388);
															return ((1));
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2_389;
																v_m2_389 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_375, (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_389) ) {
																	(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_389 || (v_m2_389 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_389));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0), function () {
																return p5context([(function () {
																	var v_namespace_390;
																	v_namespace_390 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
																	var List_statements_391 = [];
																	List_statements_391 = p5list_to_a([p5array_deref((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::block')._hash_.p5hget_hash('capture')._hash_.p5hget_array('stmts'), 'Perlito5::Grammar::Statement')]);
																	(function () {
																		if ( (p5num(List_statements_391.length) == 1) ) {
																		(function () {
																			var v_stmt_392;
																			v_stmt_392 = (List_statements_391.p5aget(0));
																			(function () {
																				if ( (p5bool(v_stmt_392) && ((p5pkg['Perlito5::Grammar::Statement'].ref([v_stmt_392], "") == 'Perlito5::AST::Apply') && ((p5str((v_stmt_392 || (v_stmt_392 = new p5HashRef({})))._hash_.p5hget('code')) == 'infix:<=>>') || (p5str((v_stmt_392 || (v_stmt_392 = new p5HashRef({})))._hash_.p5hget('code')) == 'list:<,>')))) ) {
																				p5pkg[p5make_package('Perlito')['List_ANNOTATION'] || (p5make_package('Perlito')['List_ANNOTATION'] = []), 'Perlito']['List_ANNOTATION'].p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a([v_namespace_390, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([v_stmt_392])), 'code', 'circumfix:<{ }>']), 1)])))]));
																			}
																			})();
																		})();
																	}
																	})();
																	(function () {
																		if ( p5bool((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('_version')) ) {
																		List_statements_391.p5unshift(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['name', 'VERSION', 'namespace', v_namespace_390, 'sigil', '$'], 1), (v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('_version')]))), 'code', 'infix:<=>']), 1)]));
																	}
																	})();
																	(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'package', 'arguments', (new p5ArrayRef([])), 'namespace', v_namespace_390]), 1), List_statements_391])))]), "")));
																	p5make_package('Perlito5')['v_PKG_NAME'] = ((v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('_package'));
																	return ((1));
																})()], 0)
															})
														})], 0)));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_387));
														return ((p5context([(function () {
																var v_name_393;
																v_name_393 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
																(p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.p5hset(p5str(v_name_393), (1));
																p5make_package('Perlito5')['v_PKG_NAME'] = (v_name_393);
																(v_MATCH_377 || (v_MATCH_377 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'package', 'arguments', (new p5ArrayRef([])), 'namespace', v_name_393]), "")));
																return ((1));
															})()], 0)));
													})()], 0)
												})));
										})()], 0)
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_378) ? v_MATCH_377 : null));
		};
		tmp2823._prototype_ = null;
		return tmp2823
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'exp_stmt', (function () {
		var tmp2824;
		tmp2824 = function (List__, p5want) {
			try {
				var v_str_394;
				v_str_394 = (List__.p5aget(0));
				var v_pos_395;
				v_pos_395 = (List__.p5aget(1));
				var v_tok_396;
				v_tok_396 = (p5pkg['Perlito5::Grammar::Statement'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_394 || (v_str_394 = new p5ArrayRef([]))), 'Perlito5::Grammar::Statement'), p5list_to_a([p5range(v_pos_395, (p5num(v_pos_395) + 15), 1, "tmp2825", 0)]), 1)])), ""));
				(function () {
					var v_len_397;
					(function(){ var v_len_397; p5for_lex(function (v) { v_len_397 = v }, function () {
							var v_term_398;
							v_term_398 = (CORE.substr([v_tok_396, 0, v_len_397], ""));
							(function () {
								if ( (Hash_Statement_358).hasOwnProperty(v_term_398) ) {
								(function () {
									var v_m_399;
									v_m_399 = ((Hash_Statement_358.p5hget(p5str(v_term_398)))(p5list_to_a([List__.p5aget(0), v_pos_395]), ""));
									p5and(v_m_399, function () {
										throw(p5context([v_m_399], p5want))
									});
								})();
							}
							})();
						}, p5list_to_a([List_Statement_chars_357]), false, '') })()
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2824._prototype_ = null;
		return tmp2824
	})());
	var List_Modifier_chars_400 = [];
	List_Modifier_chars_400 = [7, 6, 5, 4, 3, 2];
	var Hash_Modifier_401 = {};
	Hash_Modifier_401 = {'if' : 1, 'unless' : 1, 'when' : 1, 'for' : 1, 'foreach' : 1, 'while' : 1, 'until' : 1, 'given' : 1};
	p5typeglob_set('Perlito5::Grammar::Statement', 'statement_modifier', (function () {
		var tmp2826;
		tmp2826 = function (List__, p5want) {
			try {
				var v_str_402;
				v_str_402 = (List__.p5aget(0));
				var v_pos_403;
				v_pos_403 = (List__.p5aget(1));
				var v_tok_404;
				v_tok_404 = (p5pkg['Perlito5::Grammar::Statement'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_402 || (v_str_402 = new p5ArrayRef([]))), 'Perlito5::Grammar::Statement'), p5list_to_a([p5range(v_pos_403, (p5num(v_pos_403) + 15), 1, "tmp2827", 0)]), 1)])), ""));
				var v_expression_405;
				v_expression_405 = (List__.p5aget(2));
				(function () {
					var v_len_406;
					(function(){ var v_len_406; p5for_lex(function (v) { v_len_406 = v }, function () {
							var v_term_407;
							v_term_407 = (CORE.substr([v_tok_404, 0, v_len_406], ""));
							(function () {
								if ( (Hash_Modifier_401).hasOwnProperty(v_term_407) ) {
								(function () {
									var v_m_408;
									v_m_408 = (p5pkg['Perlito5::Grammar::Statement'].modifier(p5list_to_a([List__.p5aget(0), (p5num(v_pos_403) + p5num(v_len_406)), v_term_407, v_expression_405]), ""));
									p5and(v_m_408, function () {
										throw(p5context([v_m_408], p5want))
									});
								})();
							}
							})();
						}, p5list_to_a([List_Modifier_chars_400]), false, '') })()
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2826._prototype_ = null;
		return tmp2826
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'modifier', (function () {
		var tmp2828;
		tmp2828 = function (List__, p5want) {
			try {
				var v_str_409;
				v_str_409 = (List__.p5aget(0));
				var v_pos_410;
				v_pos_410 = (List__.p5aget(1));
				var v_modifier_411;
				v_modifier_411 = (List__.p5aget(2));
				var v_expression_412;
				v_expression_412 = (List__.p5aget(3));
				var v_modifier_exp_413;
				v_modifier_exp_413 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse([v_str_409, v_pos_410], ""));
				(function () {
					if ( !( p5bool(v_modifier_exp_413)) ) {
					p5pkg['Perlito5::Compiler'].error(p5list_to_a(['Expected expression after ' + String.fromCharCode(39), p5pkg['Perlito5::Match'].flat([v_modifier_411], 1), String.fromCharCode(39)]), null);
				}
				})();
				(function () {
					if ( (p5str(v_modifier_411) == 'if') ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1), v_expression_412]))), 'code', 'infix:<&&>', 'namespace', '']), 1)])))));
				}
				})();
				(function () {
					if ( (p5str(v_modifier_411) == 'unless') ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1), v_expression_412]))), 'code', 'infix:<||>', 'namespace', '']), 1)])))));
				}
				})();
				(function () {
					if ( (p5str(v_modifier_411) == 'when') ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call('Perlito5::AST::When', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1), 'body', v_expression_412]), 1)])))));
				}
				})();
				(function () {
					if ( (p5str(v_modifier_411) == 'while') ) {
					(function () {
						var v_stmt_414;
						v_stmt_414 = (p5call('Perlito5::AST::While', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1), 'body', v_expression_412]), ""));
						var v_out_415;
						v_out_415 = (p5pkg['Perlito5::Macro'].while_file([v_stmt_414], ""));
						p5and(v_out_415, function () {
							return v_stmt_414 = (v_out_415)
						});
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', v_stmt_414])))));
					})();
				}
				})();
				(function () {
					if ( (p5str(v_modifier_411) == 'until') ) {
					(function () {
						var v_stmt_416;
						v_stmt_416 = (p5call('Perlito5::AST::While', 'new', p5list_to_a(['cond', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1)]))), 'code', 'prefix:<!>', 'namespace', '']), 1), 'body', v_expression_412]), ""));
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', v_stmt_416])))));
					})();
				}
				})();
				(function () {
					if ( ((p5str(v_modifier_411) == 'for') || (p5str(v_modifier_411) == 'foreach')) ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_409, 'from', v_pos_410, 'to', (v_modifier_exp_413 || (v_modifier_exp_413 = new p5HashRef({})))._hash_.p5hget('to'), 'capture', p5call('Perlito5::AST::For', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat([v_modifier_exp_413], 1), 'body', v_expression_412, 'topic', p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1)]), 1)])))));
				}
				})();
				return (p5pkg['Perlito5::Compiler'].error([('Unexpected statement modifier ' + String.fromCharCode(39) + p5str(v_modifier_411) + String.fromCharCode(39))], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2828._prototype_ = null;
		return tmp2828
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'statement_parse', (function () {
		var tmp2829;
		tmp2829 = function (List__, p5want) {
			try {
				var v_m_417;
				v_m_417 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse_inner(p5list_to_a([List__]), ""));
				p5and(!( p5bool(p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].length)), function () {
					throw(p5context([v_m_417], p5want))
				});
				p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
				return (p5context([v_m_417], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2829._prototype_ = null;
		return tmp2829
	})());
	p5typeglob_set('Perlito5::Grammar::Statement', 'statement_parse_inner', (function () {
		var tmp2830;
		tmp2830 = function (List__, p5want) {
			try {
				var v_str_418;
				v_str_418 = (List__.p5aget(0));
				var v_pos_419;
				v_pos_419 = (List__.p5aget(1));
				var v_res_420;
				v_res_420 = (p5pkg['Perlito5::Grammar::Statement'].exp_stmt([v_str_418, v_pos_419], ""));
				(function () {
					if ( p5bool(v_res_420) ) {
					(function () {
						if ( ((p5pkg['Perlito5::Grammar::Statement'].ref([(v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('capture')], "") == 'Perlito5::AST::Apply') && (p5str((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hget('code')) == 'circumfix:<{ }>')) ) {}
					else {
						throw(p5context([v_res_420], p5want));
					}
					})();
				}
				})();
				v_res_420 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse([v_str_418, v_pos_419], ""));
				(function () {
					if ( !( p5bool(v_res_420)) ) {
					throw(p5context([], p5want));
				}
				})();
				(function () {
					if ( ((p5str((v_str_418 || (v_str_418 = new p5ArrayRef([])))._array_.p5aget(p5num((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('to')))) == ':') && (p5bool(p5call((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('capture'), 'isa', ['Perlito5::AST::Apply'], "")) && p5bool((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hget('bareword')))) ) {
					(function () {
						var v_label_421;
						v_label_421 = ((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hget('code'));
						var v_ws_422;
						v_ws_422 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_418, (p5num((v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('to')) + 1)], ""));
						var v_stmt_423;
						v_stmt_423 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse(p5list_to_a([v_str_418, (v_ws_422 || (v_ws_422 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
						(function () {
							if ( p5bool(v_stmt_423) ) {
							(v_stmt_423 || (v_stmt_423 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('label', (v_label_421));
							throw(p5context([v_stmt_423], p5want));
						}
						})();
						(v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hset('to', ((v_ws_422 || (v_ws_422 = new p5HashRef({})))._hash_.p5hget('to')));
						(v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'code', 'undef', 'namespace', '', 'label', v_label_421]), "")));
						throw(p5context([v_res_420], p5want));
					})();
				}
				})();
				var v_modifier_424;
				v_modifier_424 = (p5pkg['Perlito5::Grammar::Statement'].statement_modifier(p5list_to_a([v_str_418, (v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('to'), p5pkg['Perlito5::Match'].flat([v_res_420], 1)]), ""));
				var v_p_425;
				v_p_425 = (( p5bool(v_modifier_424) ? (v_modifier_424 || (v_modifier_424 = new p5HashRef({})))._hash_.p5hget('to') : (v_res_420 || (v_res_420 = new p5HashRef({})))._hash_.p5hget('to')));
				var v_terminator_426;
				v_terminator_426 = ((v_str_418 || (v_str_418 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_425)));
				(function () {
					if ( ((p5str(v_terminator_426) != ';') && ((p5str(v_terminator_426) != '}') && (p5str(v_terminator_426) != ''))) ) {
					(function () {
						var v_type_427;
						v_type_427 = ('Number or Bareword');
						p5and(p5and((p5str(v_terminator_426) >= '0'), function () {
							return (p5str(v_terminator_426) <= '9')
						}), function () {
							return v_type_427 = ('Number')
						});
						p5and(p5or((p5str(v_terminator_426) == '"'), function () {
							return (p5str(v_terminator_426) == String.fromCharCode(39))
						}), function () {
							return v_type_427 = ('String')
						});
						p5and((p5str(v_terminator_426) == '$'), function () {
							return v_type_427 = ('Scalar')
						});
						p5and((p5str(v_terminator_426) == '@'), function () {
							return v_type_427 = ('Array')
						});
						p5pkg['Perlito5::Compiler'].error([(p5str(v_type_427) + ' found where operator expected')], null);
					})();
				}
				})();
				(function () {
					if ( !( p5bool(v_modifier_424)) ) {
					throw(p5context([v_res_420], p5want));
				}
				})();
				return (p5context([v_modifier_424], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2830._prototype_ = null;
		return tmp2830
	})());
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['...', p5pkg['Perlito5::Grammar::Statement'].stmt_yadayada]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['package', p5pkg['Perlito5::Grammar::Statement'].stmt_package]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['format', p5pkg['Perlito5::Grammar::Statement'].stmt_format]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Expression');
	p5typeglob_set('Perlito5::Grammar::Expression', 'expand_list_fat_arrow', (function () {
		var tmp2831;
		tmp2831 = function (List__, p5want) {
			try {
				var v_param_list_428;
				v_param_list_428 = (List__.shift());
				(function () {
					if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_param_list_428], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_param_list_428, 'code', [], "")) == 'infix:<=>>')) ) {
					throw(p5context([p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_param_list_428 || (v_param_list_428 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), p5want), p5pkg['Perlito5::Grammar::Expression'].expand_list_fat_arrow(p5list_to_a([(v_param_list_428 || (v_param_list_428 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), p5want)], p5want));
				}
				})();
				return (p5context([v_param_list_428], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2831._prototype_ = null;
		return tmp2831
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'expand_list', (function () {
		var tmp2832;
		tmp2832 = function (List__, p5want) {
			try {
				var v_param_list_429;
				v_param_list_429 = (List__.shift());
				(function () {
					if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_param_list_429], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_param_list_429, 'code', [], "")) == 'list:<,>')) ) {
					throw((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Expression'], function (p5want) {
	return (p5pkg['Perlito5::Grammar::Expression'].expand_list_fat_arrow([p5make_package('main')['v__']], 1));
}, p5list_to_a([p5grep(p5pkg['Perlito5::Grammar::Expression'], function (p5want) {
	return ((p5make_package('main')['v__'] != null));
}, p5list_to_a([p5array_deref(p5call(v_param_list_429, 'arguments', [], p5want), 'Perlito5::Grammar::Expression')]))]))]))));
				}
				})();
				return (function () {
					if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_param_list_429], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_param_list_429, 'code', [], "")) == 'infix:<=>>')) ) {
					(function () {
						throw((new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].expand_list_fat_arrow([v_param_list_429], 1)]))))
					})()
				}
				else return (function () {
					if ( (p5str(v_param_list_429) == '*undef*') ) {
					(function () {
						throw((new p5ArrayRef([])))
					})()
				}
				else {
					(function () {
						throw((new p5ArrayRef([v_param_list_429])))
					})()
				}
				})()
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2832._prototype_ = null;
		return tmp2832
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'block_or_hash', (function () {
		var tmp2833;
		tmp2833 = function (List__, p5want) {
			try {
				var v_o_430;
				v_o_430 = (List__.shift());
				(function () {
					if ( (p5call(v_o_430, 'sig', [], "") != null) ) {
					throw(p5context([v_o_430], p5want));
				}
				})();
				var v_stmts_431;
				v_stmts_431 = (p5call(v_o_430, 'stmts', [], ""));
				(function () {
					if ( (!( (v_stmts_431 != null)) || (p5num((p5num(p5array_deref((v_stmts_431 || (v_stmts_431 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0)) ) {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), p5want));
				}
				})();
				(function () {
					if ( (p5num((p5num(p5array_deref((v_stmts_431 || (v_stmts_431 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) != 1) ) {
					throw(p5context([v_o_430], p5want));
				}
				})();
				var v_stmt_432;
				v_stmt_432 = ((v_stmts_431 || (v_stmts_431 = new p5ArrayRef([])))._array_.p5aget(0));
				(function () {
					if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_stmt_432], "") == 'Perlito5::AST::Var') ) {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([v_stmt_432]))]), p5want));
				}
				})();
				(function () {
					if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_stmt_432], "") != 'Perlito5::AST::Apply') ) {
					throw(p5context([v_o_430], p5want));
				}
				})();
				(function () {
					if ( ((p5str(p5call(v_stmt_432, 'code', [], "")) == 'infix:<=>>') || ((p5str(p5call(v_stmt_432, 'code', [], "")) == 'prefix:<%>') || (p5str(p5call(v_stmt_432, 'code', [], "")) == 'prefix:<@>'))) ) {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', (new p5ArrayRef([v_stmt_432]))]), p5want));
				}
				})();
				(function () {
					if ( (p5str(p5call(v_stmt_432, 'code', [], "")) != 'list:<,>') ) {}
				})();
				return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'namespace', '', 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list([v_stmt_432], 1)]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2833._prototype_ = null;
		return tmp2833
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'pop_term', (function () {
		var tmp2834;
		tmp2834 = function (List__, p5want) {
			try {
				var v_num_stack_433;
				v_num_stack_433 = (List__.shift());
				var v_v_434;
				v_v_434 = (p5array_deref((v_num_stack_433 || (v_num_stack_433 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
				(function () {
					if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_v_434], "") == 'ARRAY') ) {
					p5and(p5pkg['Perlito5::Grammar::Expression'].ref([(v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)], ""), function () {
						throw((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1))
					});
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall_no_params') ) {
						v_v_434 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', null, 'method', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([]))]), ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall_no_params') ) {
						v_v_434 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(3), 'namespace', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([])), 'bareword', 1]), ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall') ) {
						(function () {
							var v_param_list_435;
							v_param_list_435 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(3)]), ""));
							v_v_434 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', null, 'method', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', v_param_list_435]), ""));
							throw(p5context([v_v_434], p5want));
						})();
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall') ) {
						(function () {
							var v_param_list_436;
							v_param_list_436 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(4)]), ""));
							v_v_434 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(3), 'arguments', v_param_list_436, 'namespace', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
							throw(p5context([v_v_434], p5want));
						})();
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == '( )') ) {
						(function () {
							var v_param_list_437;
							v_param_list_437 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
							v_v_434 = (p5call('Perlito5::AST::Apply', 'new', ['code', 'circumfix:<( )>', 'arguments', v_param_list_437, 'namespace', ''], ""));
							throw(p5context([v_v_434], p5want));
						})();
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == '[ ]') ) {
						(function () {
							var v_param_list_438;
							v_param_list_438 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
							v_v_434 = (p5call('Perlito5::AST::Apply', 'new', ['code', 'circumfix:<[ ]>', 'arguments', v_param_list_438, 'namespace', ''], ""));
							throw(p5context([v_v_434], p5want));
						})();
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == 'block') ) {
						v_v_434 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2), 'sig', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(3)]), ""));
						v_v_434 = (p5pkg['Perlito5::Grammar::Expression'].block_or_hash([v_v_434], ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == '.( )') ) {
						v_v_434 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', null, 'method', 'postcircumfix:<( )>', 'arguments', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == '.[ ]') ) {
						v_v_434 = (p5call('Perlito5::AST::Index', 'new', p5list_to_a(['obj', null, 'index_exp', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					(function () {
						if ( (p5str((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1)) == '.{ }') ) {
						v_v_434 = (p5call('Perlito5::AST::Lookup', 'new', p5list_to_a(['obj', null, 'index_exp', (v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
						throw(p5context([v_v_434], p5want));
					}
					})();
					throw((v_v_434 || (v_v_434 = new p5ArrayRef([])))._array_.p5aget(1));
				}
				})();
				return (p5context([v_v_434], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2834._prototype_ = null;
		return tmp2834
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'reduce_postfix', (function () {
		var tmp2835;
		tmp2835 = function (List__, p5want) {
			try {
				var v_op_439;
				v_op_439 = (List__.shift());
				var v_value_440;
				v_value_440 = (List__.shift());
				var v_v_441;
				v_v_441 = (v_op_439);
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall_no_params') ) {
					(function () {
						if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)) == '@*') ) {
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<@>', 'arguments', (new p5ArrayRef([v_value_440]))]), p5want));
					}
					})();
					v_v_441 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', v_value_440, 'method', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', (new p5ArrayRef([])), ( p5bool(p5pkg['Perlito5::Grammar::Expression'].ref([(v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)], "")) ? p5context([], 1) : p5context(['_no_params', 1], 1))]), ""));
					throw(p5context([v_v_441], p5want));
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall_no_params') ) {
					p5pkg['Perlito5::Compiler'].error(['Bareword found where operator expected'], null);
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == 'methcall') ) {
					(function () {
						var v_param_list_442;
						v_param_list_442 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(3)]), ""));
						v_v_441 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', v_value_440, 'method', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2), 'arguments', v_param_list_442]), ""));
						throw(p5context([v_v_441], p5want));
					})();
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == 'funcall') ) {
					p5pkg['Perlito5::Compiler'].error(['unexpected function call'], null);
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == '( )') ) {
					(function () {
						var v_param_list_443;
						v_param_list_443 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
						(function () {
							if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Apply') && !( (p5call(v_value_440, 'arguments', [], "") != null))) ) {
							(v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hset('arguments', (v_param_list_443));
							throw(p5context([v_value_440], p5want));
						}
						})();
						(function () {
							if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Call') && !( (p5call(v_value_440, 'arguments', [], "") != null))) ) {
							(v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hset('arguments', (v_param_list_443));
							throw(p5context([v_value_440], p5want));
						}
						})();
						(function () {
							if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Var') && (p5str(p5call(v_value_440, 'sigil', [], "")) == '&')) ) {
							v_v_441 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['ignore_proto', 1, 'code', (v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hget('name'), 'namespace', (v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hget('namespace'), 'arguments', v_param_list_443, 'proto', null]), ""));
							throw(p5context([v_v_441], p5want));
						}
						})();
						(function () {
							if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_value_440, 'code', [], "")) == 'prefix:<&>')) ) {
							v_v_441 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['ignore_proto', 1, 'code', v_value_440, 'namespace', '', 'arguments', v_param_list_443, 'proto', null]), ""));
							throw(p5context([v_v_441], p5want));
						}
						})();
						(function () {
							if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Var') ) {
							p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
						}
						})();
						v_v_441 = (p5call('Perlito5::AST::Call', 'new', ['invocant', v_value_440, 'method', 'postcircumfix:<( )>', 'arguments', v_param_list_443], ""));
						throw(p5context([v_v_441], p5want));
					})();
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == '[ ]') ) {
					(function () {
						if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Var') ) {
						(v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hset('_real_sigil', ('@'));
					}
					})();
					v_v_441 = (p5call('Perlito5::AST::Index', 'new', p5list_to_a(['obj', v_value_440, 'index_exp', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
					throw(p5context([v_v_441], p5want));
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == 'block') ) {
					(function () {
						if ( (p5pkg['Perlito5::Grammar::Expression'].ref([v_value_440], "") == 'Perlito5::AST::Var') ) {
						(v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hset('_real_sigil', ('%'));
						p5and((p5str((v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hget('sigil')) == '*'), function () {
							return (v_value_440 || (v_value_440 = new p5HashRef({})))._hash_.p5hset('_real_sigil', ('*'))
						});
					}
					})();
					v_v_441 = (p5call('Perlito5::AST::Lookup', 'new', p5list_to_a(['obj', v_value_440, 'index_exp', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget_array(2)._array_.p5aget(0)]), ""));
					throw(p5context([v_v_441], p5want));
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == '.( )') ) {
					(function () {
						var v_param_list_444;
						v_param_list_444 = (p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
						v_v_441 = (p5call('Perlito5::AST::Call', 'new', ['invocant', v_value_440, 'method', 'postcircumfix:<( )>', 'arguments', v_param_list_444], ""));
						throw(p5context([v_v_441], p5want));
					})();
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == '.[ ]') ) {
					v_v_441 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', v_value_440, 'method', 'postcircumfix:<[ ]>', 'arguments', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
					throw(p5context([v_v_441], p5want));
				}
				})();
				(function () {
					if ( (p5str((v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(1)) == '.{ }') ) {
					v_v_441 = (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['invocant', v_value_440, 'method', 'postcircumfix:<{ }>', 'arguments', (v_v_441 || (v_v_441 = new p5ArrayRef([])))._array_.p5aget(2)]), ""));
					throw(p5context([v_v_441], p5want));
				}
				})();
				p5array_deref((v_op_439 || (v_op_439 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push([v_value_440]);
				return (p5context([v_op_439], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2835._prototype_ = null;
		return tmp2835
	})());
	var v_reduce_to_ast_445;
	v_reduce_to_ast_445 = ((function () {
				var tmp2836;
				tmp2836 = function (List__, p5want) {
					try {
						var v_op_stack_446;
						v_op_stack_446 = (List__.shift());
						var v_num_stack_447;
						v_num_stack_447 = (List__.shift());
						var v_last_op_448;
						v_last_op_448 = (p5array_deref((v_op_stack_446 || (v_op_stack_446 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').shift());
						return (function () {
							if ( (p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(0)) == 'prefix') ) {
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', ('prefix:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1)])))]), 1)])));
						}
						else return (function () {
							if ( (p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix') ) {
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', ('postfix:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1)])))]), 1)])));
						}
						else return (function () {
							if ( (p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(0)) == 'postfix_or_term') ) {
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].reduce_postfix(p5list_to_a([v_last_op_448, p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1)]), 1)])));
						}
						else return (function () {
							if ( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_assoc_type(p5list_to_a(['list', (v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)]), "")) ) {
							var v_arg_449;
							(function () {
								if ( (p5num((p5num(p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
								(function () {
									var v_v2_450;
									v_v2_450 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], ""));
									(function () {
										if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([v_v2_450], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_v2_450, 'code', [], "")) == ('list:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'))) ) {
										p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', p5call(v_v2_450, 'namespace', [], 1), 'code', p5call(v_v2_450, 'code', [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5array_deref(p5call(v_v2_450, 'arguments', [], p5want), 'Perlito5::Grammar::Expression')])))]), 1)]));
									}
									else {
										p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', ('list:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef([v_v2_450]))]), 1)]));
									}
									})();
									throw(p5context([], p5want));
								})();
							}
							else {
								(function () {
									var v_v2_451;
									v_v2_451 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], ""));
									v_arg_449 = ((new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1), v_v2_451]))));
								})();
							}
							})();
							(function () {
								if ( ((p5pkg['Perlito5::Grammar::Expression'].ref([(v_arg_449 || (v_arg_449 = new p5ArrayRef([])))._array_.p5aget(0)], "") == 'Perlito5::AST::Apply') && ((p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(0)) == 'infix') && (p5str(p5call((v_arg_449 || (v_arg_449 = new p5ArrayRef([])))._array_.p5aget(0), 'code', [], "")) == ('list:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>')))) ) {
								p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', p5call(p5context([(v_arg_449 || (v_arg_449 = new p5ArrayRef([])))._array_.p5aget(0)], 0), 'code', [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5array_deref(p5call(p5context([(v_arg_449 || (v_arg_449 = new p5ArrayRef([])))._array_.p5aget(0)], 0), 'arguments', [], p5want), 'Perlito5::Grammar::Expression'), (v_arg_449 || (v_arg_449 = new p5ArrayRef([])))._array_.p5aget(1)])))]), 1)]));
								throw(p5context([], p5want));
							}
							})();
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', ['namespace', '', 'code', ('list:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', v_arg_449], 1)])));
						}
						else return (function () {
							if ( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_assoc_type(p5list_to_a(['chain', (v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)]), "")) ) {
							(function () {
								if ( (p5num((p5num(p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
								p5pkg['Perlito5::Compiler'].error([('Missing value after operator ' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)))], null);
							}
							})();
							var v_v2_452;
							v_v2_452 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], ""));
							var v_arg_453;
							v_arg_453 = ((new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1), v_v2_452]))));
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', ['namespace', '', 'code', ('infix:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', v_arg_453], 1)])));
						}
						else return (function () {
							if ( (p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(0)) == 'ternary') ) {
							(function () {
								if ( (p5num((p5num(p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
								p5pkg['Perlito5::Compiler'].error(['Missing value after ternary operator'], null);
							}
							})();
							var v_v2_454;
							v_v2_454 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], ""));
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', ('ternary:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1), (v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(2), v_v2_454])))]), 1)])));
						}
						else {
							(function () {
								if ( (p5num((p5num(p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) < 2) ) {
								p5pkg['Perlito5::Compiler'].error([('missing value after operator ' + String.fromCharCode(39) + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + String.fromCharCode(39))], null);
							}
							})();
							var v_v2_455;
							v_v2_455 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], ""));
							return (p5array_deref((v_num_stack_447 || (v_num_stack_447 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', ('infix:<' + p5str((v_last_op_448 || (v_last_op_448 = new p5ArrayRef([])))._array_.p5aget(1)) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Grammar::Expression'].pop_term([v_num_stack_447], 1), v_v2_455])))]), 1)])));
						}
						})()
						})()
						})()
						})()
						})()
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp2836._prototype_ = null;
				return tmp2836
			})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_arrow', (function () {
		var tmp2837;
		tmp2837 = function (List__, p5want) {
			var v_str_456;
			v_str_456 = (List__.p5aget(0));
			var v_pos_457;
			v_pos_457 = (List__.p5aget(1));
			var v_MATCH_458;
			v_MATCH_458 = ((new p5HashRef({'str' : v_str_456, 'from' : v_pos_457, 'to' : v_pos_457})));
			var v_tmp_459;
			v_tmp_459 = (p5context([p5context([p5and(p5context([p5and(p5context([('-' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('>' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_460;
								v_m2_460 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_460) ) {
									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_460 || (v_m2_460 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_461;
									v_pos1_461 = ((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_462;
														v_m2_462 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_462) ) {
															(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_462 || (v_m2_462 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_462));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([p5and(p5context([(')' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0), function () {
															return p5context([(function () {
																(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.( )', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																return ((1));
															})()], 0)
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_461));
												return ((p5context([p5and(p5context([p5and(p5context([('[' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_463;
															v_m2_463 = (p5pkg['Perlito5::Grammar::Expression'].square_parse(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_463) ) {
																(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_463 || (v_m2_463 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('square_parse', (v_m2_463));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([p5and(p5context([(']' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0), function () {
																return p5context([(function () {
																	(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.[ ]', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('square_parse')]), 1)])))));
																	return ((1));
																})()], 0)
															})
														})
													})], 0)));
											})()], 0), function () {
												return p5or(p5context([(function () {
													(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_461));
													return ((p5context([p5and(p5context([p5and(p5context([('{' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0), function () {
															return p5context([(function () {
																var v_pos1_464;
																v_pos1_464 = ((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to'));
																return ((p5or(p5context([(function () {
																		return ((p5context([p5and(p5context([(function () {
																				var v_m2_465;
																				v_m2_465 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_465) ) {
																					(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_465 || (v_m2_465 = new p5HashRef({})))._hash_.p5hget('to')));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2_466;
																					v_m2_466 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_466) ) {
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_466 || (v_m2_466 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::ident', (v_m2_466));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2_467;
																						v_m2_467 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																						return (function () {
																							if ( p5bool(v_m2_467) ) {
																							(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_467 || (v_m2_467 = new p5HashRef({})))._hash_.p5hget('to')));
																							return ((1));
																						}
																						else {
																							return ((0));
																						}
																						})()
																					})()], 0), function () {
																						return p5and(p5context([p5and(p5context([('}' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0), function () {
																							return p5context([(function () {
																								(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.{ }', p5call('Perlito5::AST::Buf', 'new', p5list_to_a(['buf', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), 1)]), 1)])))));
																								return ((1));
																							})()], 0)
																						})
																					})
																				})
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_464));
																			return ((p5context([p5and(p5context([(function () {
																					var v_m2_468;
																					v_m2_468 = (p5pkg['Perlito5::Grammar::Expression'].curly_parse(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_468) ) {
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_468 || (v_m2_468 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('curly_parse', (v_m2_468));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_pos1_469;
																						v_pos1_469 = ((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to'));
																						return ((p5or(p5context([(function () {
																								return ((p5context([p5and(p5context([('}' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																										return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																									})], 0)));
																							})()], 0), function () {
																								return p5context([(function () {
																									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_469));
																									return ((p5context([(function () {
																											p5pkg['Perlito5::Compiler'].error(['Missing right curly or square bracket'], null);
																											return ((1));
																										})()], 0)));
																								})()], 0)
																							})));
																					})()], 0), function () {
																						return p5context([(function () {
																							(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '.{ }', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('curly_parse')]), 1)])))));
																							return ((1));
																						})()], 0)
																					})
																				})], 0)));
																		})()], 0)
																	})));
															})()], 0)
														})], 0)));
												})()], 0), function () {
													return p5or(p5context([(function () {
														(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_461));
														return ((p5context([p5and(p5context([p5and(p5context([('$' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2_470;
																	v_m2_470 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_470) ) {
																		(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_470 || (v_m2_470 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::ident', (v_m2_470));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2_471;
																		v_m2_471 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_471) ) {
																			(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_471 || (v_m2_471 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5context([(function () {
																			var v_pos1_472;
																			v_pos1_472 = ((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to'));
																			return ((p5or(p5context([(function () {
																					return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0), function () {
																							return p5and(p5context([(function () {
																								var v_m2_473;
																								v_m2_473 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																								return (function () {
																									if ( p5bool(v_m2_473) ) {
																									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_473 || (v_m2_473 = new p5HashRef({})))._hash_.p5hget('to')));
																									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_473));
																									return ((1));
																								}
																								else {
																									return ((0));
																								}
																								})()
																							})()], 0), function () {
																								return p5and(p5context([p5and(p5context([(')' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																									return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																								})], 0), function () {
																									return p5context([(function () {
																										(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', '$', 'namespace', '', 'name', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), 1)]), 1), p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																										return ((1));
																									})()], 0)
																								})
																							})
																						})], 0)));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_472));
																						return ((p5context([(function () {
																								(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall_no_params', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', '$', 'namespace', '', 'name', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), 1)]), 1)])))));
																								return ((1));
																							})()], 0)));
																					})()], 0)
																				})));
																		})()], 0)
																	})
																})
															})], 0)));
													})()], 0), function () {
														return p5or(p5context([(function () {
															(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_461));
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_474;
																	v_m2_474 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_474) ) {
																		(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_474 || (v_m2_474 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_474));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_m2_475;
																		v_m2_475 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_475) ) {
																			(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_475 || (v_m2_475 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5context([(function () {
																			var v_pos1_476;
																			v_pos1_476 = ((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to'));
																			return ((p5or(p5context([(function () {
																					return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0), function () {
																							return p5and(p5context([(function () {
																								var v_m2_477;
																								v_m2_477 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_456, (v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																								return (function () {
																									if ( p5bool(v_m2_477) ) {
																									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_477 || (v_m2_477 = new p5HashRef({})))._hash_.p5hget('to')));
																									(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_477));
																									return ((1));
																								}
																								else {
																									return ((0));
																								}
																								})()
																							})()], 0), function () {
																								return p5and(p5context([p5and(p5context([(')' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																									return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																								})], 0), function () {
																									return p5context([(function () {
																										(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), 1), p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
																										return ((1));
																									})()], 0)
																								})
																							})
																						})], 0)));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_476));
																						return ((p5context([(function () {
																								(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'methcall_no_params', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), 1)])))));
																								return ((1));
																							})()], 0)));
																					})()], 0)
																				})));
																		})()], 0)
																	})
																})], 0)));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_461));
																return ((p5context([p5and(p5context([p5and(p5context([('@' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5and(p5context([('*' == p5str((v_str_456 || (v_str_456 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																			return p5context([(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																		})
																	})], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_458 || (v_MATCH_458 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['postfix_or_term', 'methcall_no_params', '@*']))));
																			return ((1));
																		})()], 0)
																	})], 0)));
															})()], 0)
														})
													})
												})
											})
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_459) ? v_MATCH_458 : null));
		};
		tmp2837._prototype_ = null;
		return tmp2837
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_ternary', (function () {
		var tmp2838;
		tmp2838 = function (List__, p5want) {
			var v_str_478;
			v_str_478 = (List__.p5aget(0));
			var v_pos_479;
			v_pos_479 = (List__.p5aget(1));
			var v_MATCH_480;
			v_MATCH_480 = ((new p5HashRef({'str' : v_str_478, 'from' : v_pos_479, 'to' : v_pos_479})));
			var v_tmp_481;
			v_tmp_481 = (p5context([p5context([p5and(p5context([p5and(p5context([('?' == p5str((v_str_478 || (v_str_478 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_482;
								v_m2_482 = (p5pkg['Perlito5::Grammar::Expression'].ternary5_parse(p5list_to_a([v_str_478, (v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_482) ) {
									(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_482 || (v_m2_482 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hset('ternary5_parse', (v_m2_482));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([p5and(p5context([(':' == p5str((v_str_478 || (v_str_478 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
									return p5context([(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
								})], 0), function () {
									return p5context([(function () {
										(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['op', '? :', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_480 || (v_MATCH_480 = new p5HashRef({})))._hash_.p5hget('ternary5_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_481) ? v_MATCH_480 : null));
		};
		tmp2838._prototype_ = null;
		return tmp2838
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_paren', (function () {
		var tmp2839;
		tmp2839 = function (List__, p5want) {
			var v_str_483;
			v_str_483 = (List__.p5aget(0));
			var v_pos_484;
			v_pos_484 = (List__.p5aget(1));
			var v_MATCH_485;
			v_MATCH_485 = ((new p5HashRef({'str' : v_str_483, 'from' : v_pos_484, 'to' : v_pos_484})));
			var v_tmp_486;
			v_tmp_486 = (p5context([p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_483 || (v_str_483 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_487;
								v_m2_487 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_483, (v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_487) ) {
									(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_487 || (v_m2_487 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_487));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([p5and(p5context([(')' == p5str((v_str_483 || (v_str_483 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
									return p5context([(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
								})], 0), function () {
									return p5context([(function () {
										(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '( )', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_485 || (v_MATCH_485 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_486) ? v_MATCH_485 : null));
		};
		tmp2839._prototype_ = null;
		return tmp2839
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_square', (function () {
		var tmp2840;
		tmp2840 = function (List__, p5want) {
			var v_str_488;
			v_str_488 = (List__.p5aget(0));
			var v_pos_489;
			v_pos_489 = (List__.p5aget(1));
			var v_MATCH_490;
			v_MATCH_490 = ((new p5HashRef({'str' : v_str_488, 'from' : v_pos_489, 'to' : v_pos_489})));
			var v_tmp_491;
			v_tmp_491 = (p5context([p5context([p5and(p5context([p5and(p5context([('[' == p5str((v_str_488 || (v_str_488 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_492;
								v_m2_492 = (p5pkg['Perlito5::Grammar::Expression'].square_parse(p5list_to_a([v_str_488, (v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_492) ) {
									(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_492 || (v_m2_492 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hset('square_parse', (v_m2_492));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([p5and(p5context([(']' == p5str((v_str_488 || (v_str_488 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
									return p5context([(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
								})], 0), function () {
									return p5context([(function () {
										(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', '[ ]', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_490 || (v_MATCH_490 = new p5HashRef({})))._hash_.p5hget('square_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_491) ? v_MATCH_490 : null));
		};
		tmp2840._prototype_ = null;
		return tmp2840
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_curly', (function () {
		var tmp2841;
		tmp2841 = function (List__, p5want) {
			var v_str_493;
			v_str_493 = (List__.p5aget(0));
			var v_pos_494;
			v_pos_494 = (List__.p5aget(1));
			var v_MATCH_495;
			v_MATCH_495 = ((new p5HashRef({'str' : v_str_493, 'from' : v_pos_494, 'to' : v_pos_494})));
			var v_tmp_496;
			v_tmp_496 = (p5context([p5context([p5and(p5context([p5and(p5context([('{' == p5str((v_str_493 || (v_str_493 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m_497;
								v_m_497 = (v_MATCH_495);
								(function () {
									if ( !( p5bool((function () {
										var v_m2_498;
										v_m2_498 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_493, (v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_498) ) {
											(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_498 || (v_m2_498 = new p5HashRef({})))._hash_.p5hget('to')));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})())) ) {
									v_MATCH_495 = (v_m_497);
								}
								})();
								return ((1));
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_499;
									v_pos1_499 = ((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([(function () {
													var v_m2_500;
													v_m2_500 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_493, (v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_500) ) {
														(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_500 || (v_m2_500 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::ident', (v_m2_500));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m_501;
														v_m_501 = (v_MATCH_495);
														(function () {
															if ( !( p5bool((function () {
																var v_m2_502;
																v_m2_502 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_493, (v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_502) ) {
																	(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_502 || (v_m2_502 = new p5HashRef({})))._hash_.p5hget('to')));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})())) ) {
															v_MATCH_495 = (v_m_501);
														}
														})();
														return ((1));
													})()], 0), function () {
														return p5and(p5context([p5and(p5context([('}' == p5str((v_str_493 || (v_str_493 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0), function () {
															return p5context([(function () {
																(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'block', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'bareword', 1, 'code', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), 1), 'namespace', '']), 1)])))])))));
																return ((1));
															})()], 0)
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_499));
												return ((p5context([p5and(p5context([(function () {
														(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('_save_scope', ((new p5ArrayRef(p5list_to_a([p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT']])))));
														p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = [];
														return ((1));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_503;
															v_m2_503 = (p5pkg['Perlito5::Grammar'].exp_stmts(p5list_to_a([v_str_493, (v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_503) ) {
																(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_503 || (v_m2_503 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::exp_stmts', (v_m2_503));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([(function () {
																p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = p5list_to_a([p5array_deref((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget_array('_save_scope'), 'Perlito5::Grammar::Expression')]);
																return ((1));
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m_504;
																	v_m_504 = (v_MATCH_495);
																	(function () {
																		if ( !( p5bool((function () {
																			var v_m2_505;
																			v_m2_505 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_493, (v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_505) ) {
																				(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_505 || (v_m2_505 = new p5HashRef({})))._hash_.p5hget('to')));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})())) ) {
																		v_MATCH_495 = (v_m_504);
																	}
																	})();
																	return ((1));
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_pos1_506;
																		v_pos1_506 = ((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to'));
																		return ((p5or(p5context([(function () {
																				return ((p5context([p5and(p5context([('}' == p5str((v_str_493 || (v_str_493 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5context([(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																					})], 0)));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_506));
																					return ((p5context([(function () {
																							p5pkg['Perlito5::Compiler'].error(['Missing right curly or square bracket'], null);
																							return ((1));
																						})()], 0)));
																				})()], 0)
																			})));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['postfix_or_term', 'block', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_495 || (v_MATCH_495 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::exp_stmts')]), 1)])))));
																			return ((1));
																		})()], 0)
																	})
																})
															})
														})
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_496) ? v_MATCH_495 : null));
		};
		tmp2841._prototype_ = null;
		return tmp2841
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_pos', (function () {
		var tmp2842;
		tmp2842 = function (List__, p5want) {
			var v_str_507;
			v_str_507 = (List__.p5aget(0));
			var v_pos_508;
			v_pos_508 = (List__.p5aget(1));
			var v_MATCH_509;
			v_MATCH_509 = ((new p5HashRef({'str' : v_str_507, 'from' : v_pos_508, 'to' : v_pos_508})));
			var v_tmp_510;
			v_tmp_510 = (p5context([p5context([p5and(p5context([p5and(p5context([('p' == p5str((v_str_507 || (v_str_507 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_507 || (v_str_507 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('s' == p5str((v_str_507 || (v_str_507 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5context([(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_511;
								v_m2_511 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_507, (v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_511) ) {
									(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_511 || (v_m2_511 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_512;
									v_pos1_512 = ((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([(function () {
													var v_m2_513;
													v_m2_513 = (p5pkg['Perlito5::Grammar'].var_ident(p5list_to_a([v_str_507, (v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_513) ) {
														(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_513 || (v_m2_513 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::var_ident', (v_m2_513));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'pos', 'arguments', (new p5ArrayRef(p5list_to_a([(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::var_ident')._hash_.p5hget('capture')])))]), 1)])))));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_512));
												return ((p5context([p5and(p5context([(function () {
														var v_tmp_514;
														v_tmp_514 = (v_MATCH_509);
														v_MATCH_509 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_514 || (v_tmp_514 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_514 || (v_tmp_514 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_515;
														v_res_515 = (p5context([p5and(p5context([('(' == p5str((v_str_507 || (v_str_507 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0));
														v_MATCH_509 = (v_tmp_514);
														return ((( p5bool(v_res_515) ? 0 : 1)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_509 || (v_MATCH_509 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'pos', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1)]))), 'bareword', 1]), 1)])))));
															return ((1));
														})()], 0)
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_510) ? v_MATCH_509 : null));
		};
		tmp2842._prototype_ = null;
		return tmp2842
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'declarator', (function () {
		var tmp2843;
		tmp2843 = function (List__, p5want) {
			var v_str_516;
			v_str_516 = (List__.p5aget(0));
			var v_pos_517;
			v_pos_517 = (List__.p5aget(1));
			var v_MATCH_518;
			v_MATCH_518 = ((new p5HashRef({'str' : v_str_516, 'from' : v_pos_517, 'to' : v_pos_517})));
			var v_tmp_519;
			v_tmp_519 = (p5context([p5context([(function () {
							var v_pos1_520;
							v_pos1_520 = ((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('m' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('y' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_520));
										return ((p5context([p5and(p5context([('s' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('t' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('a' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('t' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5and(p5context([('e' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																return p5context([(v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
															})
														})
													})
												})
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_520));
											return ((p5context([p5and(p5context([('o' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5and(p5context([('u' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
														return p5and(p5context([('r' == p5str((v_str_516 || (v_str_516 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
															return p5context([(v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_518 || (v_MATCH_518 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
														})
													})
												})], 0)));
										})()], 0)
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_519) ? v_MATCH_518 : null));
		};
		tmp2843._prototype_ = null;
		return tmp2843
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_declarator', (function () {
		var tmp2844;
		tmp2844 = function (List__, p5want) {
			try {
				var v_str_521;
				v_str_521 = (List__.p5aget(0));
				var v_pos_522;
				v_pos_522 = (List__.p5aget(1));
				var v_MATCH_523;
				v_MATCH_523 = ((new p5HashRef({'str' : v_str_521, 'from' : v_pos_522, 'to' : v_pos_522})));
				var v_tmp_524;
				v_tmp_524 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_525;
							v_m2_525 = (p5pkg['Perlito5::Grammar::Expression'].declarator(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_525) ) {
								(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_525 || (v_m2_525 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('declarator', (v_m2_525));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_526;
								v_pos1_526 = ((v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([(function () {
												var v_m2_527;
												v_m2_527 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_527) ) {
													(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_527 || (v_m2_527 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													var v_pos1_528;
													v_pos1_528 = ((v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_529;
																	v_m2_529 = (p5pkg['Perlito5::Grammar::Block'].named_sub(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_529) ) {
																		(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_529 || (v_m2_529 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::named_sub', (v_m2_529));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5context([(function () {
																		var v_sub_530;
																		v_sub_530 = ((v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Block::named_sub')._hash_.p5hget('capture'));
																		(v_sub_530 || (v_sub_530 = new p5HashRef({})))._hash_.p5hset('decl', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('declarator')]), "")));
																		(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_sub_530]))));
																		throw(p5context([v_MATCH_523], p5want));
																		return ((1));
																	})()], 0)
																})], 0)));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_528));
																return ((p5context([(function () {
																		var v_m2_531;
																		v_m2_531 = (p5pkg['Perlito5::Grammar'].opt_type(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_531) ) {
																			(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_531 || (v_m2_531 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::opt_type', (v_m2_531));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0)));
															})()], 0)
														})));
												})()], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_526));
											return ((1));
										})()], 0)
									})));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_532;
									v_m2_532 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_532) ) {
										(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_532 || (v_m2_532 = new p5HashRef({})))._hash_.p5hget('to')));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_533;
										v_m2_533 = (p5pkg['Perlito5::Grammar'].var_ident(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_533) ) {
											(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_533 || (v_m2_533 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::var_ident', (v_m2_533));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_534;
											v_m2_534 = (p5pkg['Perlito5::Grammar::Attribute'].opt_attribute(p5list_to_a([v_str_521, (v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_534) ) {
												(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_534 || (v_m2_534 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute::opt_attribute', (v_m2_534));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5context([(function () {
												var v_declarator_535;
												v_declarator_535 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('declarator')]), ""));
												var v_type_536;
												v_type_536 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::opt_type')]), ""));
												p5and(p5and(v_type_536, function () {
													return !( p5bool((p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.p5hget(p5str(v_type_536))))
												}), function () {
													return p5pkg['Perlito5::Compiler'].error([('No such class ' + p5str(v_type_536))], null)
												});
												var v_var_537;
												v_var_537 = ((v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::var_ident')._hash_.p5hget('capture'));
												p5and((v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
													return p5pkg['Perlito5::Compiler'].error([('No package name allowed for variable ' + p5str((v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hget('sigil')) + p5str((v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hget('name')) + ' in "' + p5str(v_declarator_535) + '"')], null)
												});
												(v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hset('_decl', (v_declarator_535));
												(v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hset('_id', ((function () {
															var tmp2845 = p5make_package('Perlito5')['v_ID'];
															p5make_package('Perlito5')['v_ID'] = p5incr_(tmp2845);
															return tmp2845
														})()));
												p5and((p5str(v_declarator_535) == 'our'), function () {
													return (v_var_537 || (v_var_537 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']))
												});
												var v_decl_538;
												v_decl_538 = (p5call('Perlito5::AST::Decl', 'new', p5list_to_a(['decl', v_declarator_535, 'type', v_type_536, 'var', v_var_537, 'attributes', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute::opt_attribute')]), 1)]), ""));
												(v_MATCH_523 || (v_MATCH_523 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_decl_538]))));
												return ((1));
											})()], 0)
										})
									})
								})
							})
						})], 0)], 0));
				return (( p5bool(v_tmp_524) ? v_MATCH_523 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2844._prototype_ = null;
		return tmp2844
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'operator_with_paren', (function () {
		var tmp2846;
		tmp2846 = function (List__, p5want) {
			var v_str_539;
			v_str_539 = (List__.p5aget(0));
			var v_pos_540;
			v_pos_540 = (List__.p5aget(1));
			var v_MATCH_541;
			v_MATCH_541 = ((new p5HashRef({'str' : v_str_539, 'from' : v_pos_540, 'to' : v_pos_540})));
			var v_tmp_542;
			v_tmp_542 = (p5context([p5context([(function () {
							var v_pos1_543;
							v_pos1_543 = ((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('c' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('h' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5and(p5context([('o' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
													return p5and(p5context([('m' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
														return p5and(p5context([('p' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
															return p5context([(v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
														})
													})
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_543));
										return ((p5context([p5and(p5context([('c' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('h' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('o' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('p' == p5str((v_str_539 || (v_str_539 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5context([(v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_541 || (v_MATCH_541 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
														})
													})
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_542) ? v_MATCH_541 : null));
		};
		tmp2846._prototype_ = null;
		return tmp2846
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_operator_with_paren', (function () {
		var tmp2847;
		tmp2847 = function (List__, p5want) {
			var v_str_544;
			v_str_544 = (List__.p5aget(0));
			var v_pos_545;
			v_pos_545 = (List__.p5aget(1));
			var v_MATCH_546;
			v_MATCH_546 = ((new p5HashRef({'str' : v_str_544, 'from' : v_pos_545, 'to' : v_pos_545})));
			var v_tmp_547;
			v_tmp_547 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_548;
							v_m2_548 = (p5pkg['Perlito5::Grammar::Expression'].operator_with_paren(p5list_to_a([v_str_544, (v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_548) ) {
								(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_548 || (v_m2_548 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('operator_with_paren', (v_m2_548));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_549;
								v_m2_549 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_544, (v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_549) ) {
									(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_549 || (v_m2_549 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([p5and(p5context([('(' == p5str((v_str_544 || (v_str_544 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
									return p5context([(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
								})], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_550;
										v_m2_550 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_544, (v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_550) ) {
											(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_550 || (v_m2_550 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_550));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([p5and(p5context([(')' == p5str((v_str_544 || (v_str_544 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('operator_with_paren')]), 1), 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_546 || (v_MATCH_546 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)]), 1), 'namespace', '']), 1)])))));
												return ((1));
											})()], 0)
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_547) ? v_MATCH_546 : null));
		};
		tmp2847._prototype_ = null;
		return tmp2847
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_not', (function () {
		var tmp2848;
		tmp2848 = function (List__, p5want) {
			var v_str_551;
			v_str_551 = (List__.p5aget(0));
			var v_pos_552;
			v_pos_552 = (List__.p5aget(1));
			var v_MATCH_553;
			v_MATCH_553 = ((new p5HashRef({'str' : v_str_551, 'from' : v_pos_552, 'to' : v_pos_552})));
			var v_tmp_554;
			v_tmp_554 = (p5context([p5context([p5and(p5context([p5and(p5context([('n' == p5str((v_str_551 || (v_str_551 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_551 || (v_str_551 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('t' == p5str((v_str_551 || (v_str_551 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5context([(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_555;
								v_m2_555 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_551, (v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_555) ) {
									(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_555 || (v_m2_555 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([p5and(p5context([('(' == p5str((v_str_551 || (v_str_551 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
									return p5context([(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
								})], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_556;
										v_m2_556 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_551, (v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_556) ) {
											(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_556 || (v_m2_556 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('paren_parse', (v_m2_556));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([p5and(p5context([(')' == p5str((v_str_551 || (v_str_551 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<not>', 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_553 || (v_MATCH_553 = new p5HashRef({})))._hash_.p5hget('paren_parse')]), 1)]), 1), 'namespace', '']), 1)])))));
												return ((1));
											})()], 0)
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_554) ? v_MATCH_553 : null));
		};
		tmp2848._prototype_ = null;
		return tmp2848
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_local', (function () {
		var tmp2849;
		tmp2849 = function (List__, p5want) {
			var v_str_557;
			v_str_557 = (List__.p5aget(0));
			var v_pos_558;
			v_pos_558 = (List__.p5aget(1));
			var v_MATCH_559;
			v_MATCH_559 = ((new p5HashRef({'str' : v_str_557, 'from' : v_pos_558, 'to' : v_pos_558})));
			var v_tmp_560;
			v_tmp_560 = (p5context([p5context([p5and(p5context([p5and(p5context([('l' == p5str((v_str_557 || (v_str_557 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_557 || (v_str_557 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('c' == p5str((v_str_557 || (v_str_557 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('a' == p5str((v_str_557 || (v_str_557 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('l' == p5str((v_str_557 || (v_str_557 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5context([(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_561;
								v_m2_561 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_557, (v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_561) ) {
									(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_561 || (v_m2_561 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_562;
									v_m2_562 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_557, (v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_562) ) {
										(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_562 || (v_m2_562 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_562));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										var v_declarator_563;
										v_declarator_563 = ('local');
										var v_type_564;
										v_type_564 = ('');
										(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1)));
										v_MATCH_559 = (p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_MATCH_559], ""));
										var v_var_565;
										v_var_565 = ((v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hget('capture'));
										var v_look_566;
										v_look_566 = (p5pkg['Perlito5::Grammar::Scope'].lookup_variable([v_var_565], ""));
										(function () {
											if ( (p5bool(v_look_566) && ((p5str((v_look_566 || (v_look_566 = new p5HashRef({})))._hash_.p5hget('_decl')) == 'my') || (p5str((v_look_566 || (v_look_566 = new p5HashRef({})))._hash_.p5hget('_decl')) == 'state'))) ) {
											p5pkg['Perlito5::Compiler'].error([('Can' + String.fromCharCode(39) + 't localize lexical variable ' + p5str((v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hget('sigil')) + p5str((v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hget('name')))], null);
										}
										})();
										(v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hset('_id', ((function () {
													var tmp2850 = p5make_package('Perlito5')['v_ID'];
													p5make_package('Perlito5')['v_ID'] = p5incr_(tmp2850);
													return tmp2850
												})()));
										(v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hset('_decl', (v_declarator_563));
										p5and(p5and(!( p5bool((v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hget('namespace'))), function () {
											return !( p5bool((v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hget('_namespace')))
										}), function () {
											return (v_var_565 || (v_var_565 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']))
										});
										var v_decl_567;
										v_decl_567 = (p5call('Perlito5::AST::Decl', 'new', ['decl', v_declarator_563, 'type', v_type_564, 'var', v_var_565], ""));
										(v_MATCH_559 || (v_MATCH_559 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(['term', v_decl_567]))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_560) ? v_MATCH_559 : null));
		};
		tmp2849._prototype_ = null;
		return tmp2849
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_return', (function () {
		var tmp2851;
		tmp2851 = function (List__, p5want) {
			var v_str_568;
			v_str_568 = (List__.p5aget(0));
			var v_pos_569;
			v_pos_569 = (List__.p5aget(1));
			var v_MATCH_570;
			v_MATCH_570 = ((new p5HashRef({'str' : v_str_568, 'from' : v_pos_569, 'to' : v_pos_569})));
			var v_tmp_571;
			v_tmp_571 = (p5context([p5context([p5and(p5context([p5and(p5context([('r' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('e' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('t' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('u' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('r' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5and(p5context([('n' == p5str((v_str_568 || (v_str_568 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
												return p5context([(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')) + 6)))], 0)
											})
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_572;
								v_m2_572 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_568, (v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_572) ) {
									(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_572 || (v_m2_572 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_573;
									v_m2_573 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_568, (v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_573) ) {
										(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_573 || (v_m2_573 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hset('list_parse', (v_m2_573));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										var v_args_574;
										v_args_574 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hget('list_parse')]), ""));
										(v_MATCH_570 || (v_MATCH_570 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'return', 'arguments', ( (p5str(v_args_574) == '*undef*') ? (new p5ArrayRef([])) : (new p5ArrayRef([v_args_574]))), 'namespace', '', 'bareword', ( (p5str(v_args_574) == '*undef*') ? 1 : 0)]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_571) ? v_MATCH_570 : null));
		};
		tmp2851._prototype_ = null;
		return tmp2851
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'term_eval', (function () {
		var tmp2852;
		tmp2852 = function (List__, p5want) {
			var v_str_575;
			v_str_575 = (List__.p5aget(0));
			var v_pos_576;
			v_pos_576 = (List__.p5aget(1));
			var v_MATCH_577;
			v_MATCH_577 = ((new p5HashRef({'str' : v_str_575, 'from' : v_pos_576, 'to' : v_pos_576})));
			var v_tmp_578;
			v_tmp_578 = (p5context([p5context([p5and(p5context([p5and(p5context([('e' == p5str((v_str_575 || (v_str_575 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('v' == p5str((v_str_575 || (v_str_575 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('a' == p5str((v_str_575 || (v_str_575 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('l' == p5str((v_str_575 || (v_str_575 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5context([(v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_579;
								v_m2_579 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_575, (v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_579) ) {
									(v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_579 || (v_m2_579 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_579));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'eval', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_577 || (v_MATCH_577 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::block')]), 1)]))), 'namespace', '']), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_578) ? v_MATCH_577 : null));
		};
		tmp2852._prototype_ = null;
		return tmp2852
	})());
	var v_Expr_end_token_chars_580;
	v_Expr_end_token_chars_580 = ((new p5ArrayRef([7, 6, 5, 4, 3, 2, 1])));
	var v_Expr_end_token_581;
	v_Expr_end_token_581 = ((new p5HashRef({']' : 1, ')' : 1, '}' : 1, ';' : 1, 'if' : 1, 'for' : 1, 'else' : 1, 'when' : 1, 'while' : 1, 'until' : 1, 'elsif' : 1, 'unless' : 1, 'foreach' : 1})));
	var v_List_end_token_582;
	v_List_end_token_582 = ((new p5HashRef(p5a_to_h(p5list_to_a([':', 1, 'or', 1, 'and', 1, 'xor', 1, p5hash_deref((v_Expr_end_token_581 || (v_Expr_end_token_581 = new p5HashRef({}))), 'Perlito5::Grammar::Expression')])))));
	var v_Argument_end_token_583;
	v_Argument_end_token_583 = ((new p5HashRef(p5a_to_h(p5list_to_a([',', 1, '<', 1, '>', 1, '=', 1, '|', 1, '^', 1, '?', 1, '=>', 1, 'lt', 1, 'le', 1, 'gt', 1, 'ge', 1, '<=', 1, '>=', 1, '==', 1, '!=', 1, 'ne', 1, 'eq', 1, '..', 1, '~~', 1, '&&', 1, '||', 1, '+=', 1, '-=', 1, '*=', 1, '/=', 1, 'x=', 1, '|=', 1, '&=', 1, '.=', 1, '^=', 1, '%=', 1, '//', 1, '...', 1, '<=>', 1, 'cmp', 1, '<<=', 1, '>>=', 1, '||=', 1, '&&=', 1, '//=', 1, '**=', 1, p5hash_deref((v_List_end_token_582 || (v_List_end_token_582 = new p5HashRef({}))), 'Perlito5::Grammar::Expression')])))));
	p5typeglob_set('Perlito5::Grammar::Expression', 'list_parser', (function () {
		var tmp2853;
		tmp2853 = function (List__, p5want) {
			try {
				var v_str_584;
				var v_pos_585;
				var v_end_token_586;
				(function () {
					var tmp2854 = p5list_to_a([List__]);
					var tmp2855 = tmp2854.slice(0);
					v_str_584 = tmp2854.shift();
					v_pos_585 = tmp2854.shift();
					v_end_token_586 = tmp2854.shift();
					return tmp2855
				})();
				var v_expr_587;
				var v_last_pos_588;
				v_last_pos_588 = (v_pos_585);
				var v_is_first_token_589;
				v_is_first_token_589 = (1);
				var v_lexer_stack_590;
				v_lexer_stack_590 = ((new p5ArrayRef([])));
				var v_last_token_was_space_591;
				v_last_token_was_space_591 = (1);
				var v_get_token_592;
				v_get_token_592 = ((function () {
							var tmp2856;
							tmp2856 = function (List__, p5want) {
								try {
									var v_last_is_term_593;
									v_last_is_term_593 = (List__.p5aget(0));
									var v_v_594;
									(function () {
										if ( p5bool((p5num(p5array_deref((v_lexer_stack_590 || (v_lexer_stack_590 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) ) {
										v_v_594 = (p5array_deref((v_lexer_stack_590 || (v_lexer_stack_590 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
										(function () {
											if ( (p5bool(v_is_first_token_589) && ((p5str((v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_fixity_type(p5list_to_a(['prefix', (v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(1)]), ""))))) ) {
											(v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
										}
										})();
									}
									else {
										(function () {
											var v_m_595;
											v_m_595 = (p5pkg['Perlito5::Grammar::Precedence'].op_parse([v_str_584, v_last_pos_588, v_last_is_term_593], ""));
											(function () {
												if ( p5bool(v_m_595) ) {
												(function () {
													var v_spc_596;
													v_spc_596 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_584, (v_m_595 || (v_m_595 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													(function () {
														if ( p5bool(v_spc_596) ) {
														(v_m_595 || (v_m_595 = new p5HashRef({})))._hash_.p5hset('to', ((v_spc_596 || (v_spc_596 = new p5HashRef({})))._hash_.p5hget('to')));
													}
													})();
												})();
											}
											})();
											(function () {
												if ( !( p5bool(v_m_595)) ) {
												throw((new p5ArrayRef(['end', '*end*'])));
											}
											})();
											v_v_594 = ((v_m_595 || (v_m_595 = new p5HashRef({})))._hash_.p5hget('capture'));
											(function () {
												if ( (p5bool(v_is_first_token_589) && ((p5str((v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(0)) == 'op') && !( p5bool(p5pkg['Perlito5::Grammar::Precedence'].is_fixity_type(p5list_to_a(['prefix', (v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(1)]), ""))))) ) {
												(v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aset(0, ('end'));
											}
											})();
											(function () {
												if ( (p5str((v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
												v_last_pos_588 = ((v_m_595 || (v_m_595 = new p5HashRef({})))._hash_.p5hget('to'));
											}
											})();
										})();
									}
									})();
									v_last_token_was_space_591 = (p5context([(p5str((v_v_594 || (v_v_594 = new p5ArrayRef([])))._array_.p5aget(0)) == 'space')], 0));
									v_is_first_token_589 = (0);
									return (p5context([v_v_594], p5want));
								}
								catch(err) {
									if ( err instanceof Error ) {
										throw(err);
									}
									else {
										return(err);
									}
								}
							};
							tmp2856._prototype_ = null;
							return tmp2856
						})());
				var v_prec_597;
				v_prec_597 = (p5call('Perlito5::Grammar::Precedence', 'new', ['get_token', v_get_token_592, 'reduce', v_reduce_to_ast_445, 'end_token', v_end_token_586, 'end_token_chars', v_Expr_end_token_chars_580], ""));
				var v_res_598;
				v_res_598 = (p5call(v_prec_597, 'precedence_parse', [], ""));
				(function () {
					if ( (p5num((p5num(p5array_deref((v_res_598 || (v_res_598 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0) ) {
					throw((new p5HashRef({'str' : v_str_584, 'from' : v_pos_585, 'to' : v_last_pos_588, 'capture' : '*undef*'})));
				}
				})();
				var v_result_599;
				v_result_599 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_res_598], ""));
				return ((new p5HashRef({'str' : v_str_584, 'from' : v_pos_585, 'to' : v_last_pos_588, 'capture' : v_result_599})));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2853._prototype_ = null;
		return tmp2853
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'argument_parse', (function () {
		var tmp2857;
		tmp2857 = function (List__, p5want) {
			var v_str_600;
			var v_pos_601;
			(function () {
					var tmp2858 = p5list_to_a([List__]);
					var tmp2859 = tmp2858.slice(0);
					v_str_600 = tmp2858.shift();
					v_pos_601 = tmp2858.shift();
					return tmp2859
				})();
			return (p5pkg['Perlito5::Grammar::Expression'].list_parser([v_str_600, v_pos_601, v_Argument_end_token_583], p5want));
		};
		tmp2857._prototype_ = null;
		return tmp2857
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'list_parse', (function () {
		var tmp2860;
		tmp2860 = function (List__, p5want) {
			var v_str_602;
			var v_pos_603;
			(function () {
					var tmp2861 = p5list_to_a([List__]);
					var tmp2862 = tmp2861.slice(0);
					v_str_602 = tmp2861.shift();
					v_pos_603 = tmp2861.shift();
					return tmp2862
				})();
			return (p5pkg['Perlito5::Grammar::Expression'].list_parser([v_str_602, v_pos_603, v_List_end_token_582], p5want));
		};
		tmp2860._prototype_ = null;
		return tmp2860
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'circumfix_parse', (function () {
		var tmp2863;
		tmp2863 = function (List__, p5want) {
			var v_str_604;
			var v_pos_605;
			var v_delimiter_606;
			(function () {
					var tmp2864 = p5list_to_a([List__]);
					var tmp2865 = tmp2864.slice(0);
					v_str_604 = tmp2864.shift();
					v_pos_605 = tmp2864.shift();
					v_delimiter_606 = tmp2864.shift();
					return tmp2865
				})();
			var v_expr_607;
			var v_last_pos_608;
			v_last_pos_608 = (v_pos_605);
			var v_get_token_609;
			v_get_token_609 = ((function () {
							var tmp2866;
							tmp2866 = function (List__, p5want) {
								var v_last_is_term_610;
								v_last_is_term_610 = (List__.p5aget(0));
								var v_m_611;
								v_m_611 = (p5pkg['Perlito5::Grammar::Precedence'].op_parse([v_str_604, v_last_pos_608, v_last_is_term_610], ""));
								(function () {
										if ( p5bool(v_m_611) ) {
										(function () {
											var v_spc_612;
											v_spc_612 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_604, (v_m_611 || (v_m_611 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											(function () {
												if ( p5bool(v_spc_612) ) {
												(v_m_611 || (v_m_611 = new p5HashRef({})))._hash_.p5hset('to', ((v_spc_612 || (v_spc_612 = new p5HashRef({})))._hash_.p5hget('to')));
											}
											})();
										})();
									}
									})();
								(function () {
										if ( !( p5bool(v_m_611)) ) {
										(function () {
											var v_msg_613;
											v_msg_613 = (('Expected closing delimiter: ' + p5str(v_delimiter_606)));
											p5and(p5or((p5str(v_delimiter_606) == '}'), function () {
												return (p5str(v_delimiter_606) == ']')
											}), function () {
												return v_msg_613 = ('Missing right curly or square bracket')
											});
											p5pkg['Perlito5::Compiler'].error([(p5str(v_msg_613) + ' near '), v_last_pos_608], null);
										})();
									}
									})();
								var v_v_614;
								v_v_614 = ((v_m_611 || (v_m_611 = new p5HashRef({})))._hash_.p5hget('capture'));
								(function () {
										if ( (p5str((v_v_614 || (v_v_614 = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
										v_last_pos_608 = ((v_m_611 || (v_m_611 = new p5HashRef({})))._hash_.p5hget('to'));
									}
									})();
								return (p5context([v_v_614], p5want));
							};
							tmp2866._prototype_ = null;
							return tmp2866
						})());
			var Hash_delim_token_615 = {};
			Hash_delim_token_615.p5hset(p5str(v_delimiter_606), (1));
			var v_prec_616;
			v_prec_616 = (p5call('Perlito5::Grammar::Precedence', 'new', p5list_to_a(['get_token', v_get_token_609, 'reduce', v_reduce_to_ast_445, 'end_token', (new p5HashRef(Hash_delim_token_615)), 'end_token_chars', (new p5ArrayRef([p5pkg['Perlito5::Grammar::Expression'].length([v_delimiter_606], 1)]))]), ""));
			var v_res_617;
			v_res_617 = (p5call(v_prec_616, 'precedence_parse', [], ""));
			v_res_617 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_res_617], ""));
			(function () {
					if ( !( (v_res_617 != null)) ) {
					v_res_617 = ('*undef*');
				}
				})();
			return ((new p5HashRef({'str' : v_str_604, 'from' : v_pos_605, 'to' : v_last_pos_608, 'capture' : v_res_617})));
		};
		tmp2863._prototype_ = null;
		return tmp2863
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'ternary5_parse', (function () {
		var tmp2867;
		tmp2867 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Expression'].circumfix_parse(p5list_to_a([List__, ':']), p5want));
		};
		tmp2867._prototype_ = null;
		return tmp2867
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'curly_parse', (function () {
		var tmp2868;
		tmp2868 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Expression'].circumfix_parse(p5list_to_a([List__, '}']), p5want));
		};
		tmp2868._prototype_ = null;
		return tmp2868
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'square_parse', (function () {
		var tmp2869;
		tmp2869 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Expression'].circumfix_parse(p5list_to_a([List__, ']']), p5want));
		};
		tmp2869._prototype_ = null;
		return tmp2869
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'paren_parse', (function () {
		var tmp2870;
		tmp2870 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Expression'].circumfix_parse(p5list_to_a([List__, ')']), p5want));
		};
		tmp2870._prototype_ = null;
		return tmp2870
	})());
	p5typeglob_set('Perlito5::Grammar::Expression', 'exp_parse', (function () {
		var tmp2871;
		tmp2871 = function (List__, p5want) {
			try {
				var v_str_618;
				var v_pos_619;
				(function () {
					var tmp2872 = p5list_to_a([List__]);
					var tmp2873 = tmp2872.slice(0);
					v_str_618 = tmp2872.shift();
					v_pos_619 = tmp2872.shift();
					return tmp2873
				})();
				var v_expr_620;
				var v_last_pos_621;
				v_last_pos_621 = (v_pos_619);
				var v_lexer_stack_622;
				v_lexer_stack_622 = ((new p5ArrayRef([])));
				var v_get_token_623;
				v_get_token_623 = ((function () {
							var tmp2874;
							tmp2874 = function (List__, p5want) {
								try {
									var v_last_is_term_624;
									v_last_is_term_624 = (List__.p5aget(0));
									var v_v_625;
									(function () {
										if ( p5bool((p5num(p5array_deref((v_lexer_stack_622 || (v_lexer_stack_622 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) ) {
										v_v_625 = (p5array_deref((v_lexer_stack_622 || (v_lexer_stack_622 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression').pop());
									}
									else {
										(function () {
											var v_m_626;
											v_m_626 = (p5pkg['Perlito5::Grammar::Precedence'].op_parse([v_str_618, v_last_pos_621, v_last_is_term_624], ""));
											(function () {
												if ( p5bool(v_m_626) ) {
												(function () {
													var v_spc_627;
													v_spc_627 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_618, (v_m_626 || (v_m_626 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													(function () {
														if ( p5bool(v_spc_627) ) {
														(v_m_626 || (v_m_626 = new p5HashRef({})))._hash_.p5hset('to', ((v_spc_627 || (v_spc_627 = new p5HashRef({})))._hash_.p5hget('to')));
													}
													})();
												})();
											}
											})();
											(function () {
												if ( !( p5bool(v_m_626)) ) {
												throw((new p5ArrayRef(['end', '*end*'])));
											}
											})();
											v_v_625 = ((v_m_626 || (v_m_626 = new p5HashRef({})))._hash_.p5hget('capture'));
											(function () {
												if ( (p5str((v_v_625 || (v_v_625 = new p5ArrayRef([])))._array_.p5aget(0)) != 'end') ) {
												v_last_pos_621 = ((v_m_626 || (v_m_626 = new p5HashRef({})))._hash_.p5hget('to'));
											}
											})();
										})();
									}
									})();
									return (p5context([v_v_625], p5want));
								}
								catch(err) {
									if ( err instanceof Error ) {
										throw(err);
									}
									else {
										return(err);
									}
								}
							};
							tmp2874._prototype_ = null;
							return tmp2874
						})());
				var v_prec_628;
				v_prec_628 = (p5call('Perlito5::Grammar::Precedence', 'new', ['get_token', v_get_token_623, 'reduce', v_reduce_to_ast_445, 'end_token', v_Expr_end_token_581, 'end_token_chars', v_Expr_end_token_chars_580], ""));
				var v_res_629;
				v_res_629 = (p5call(v_prec_628, 'precedence_parse', [], ""));
				(function () {
					if ( (p5num((p5num(p5array_deref((v_res_629 || (v_res_629 = new p5ArrayRef([]))), 'Perlito5::Grammar::Expression')))) == 0) ) {
					throw(p5context([0], p5want));
				}
				})();
				var v_result_630;
				v_result_630 = (p5pkg['Perlito5::Grammar::Expression'].pop_term([v_res_629], ""));
				return ((new p5HashRef({'str' : v_str_618, 'from' : v_pos_619, 'to' : v_last_pos_621, 'capture' : v_result_630})));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2871._prototype_ = null;
		return tmp2871
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['my', p5pkg['Perlito5::Grammar::Expression'].term_declarator]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['our', p5pkg['Perlito5::Grammar::Expression'].term_declarator]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['eval', p5pkg['Perlito5::Grammar::Expression'].term_eval]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['state', p5pkg['Perlito5::Grammar::Expression'].term_declarator]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['local', p5pkg['Perlito5::Grammar::Expression'].term_local]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['return', p5pkg['Perlito5::Grammar::Expression'].term_return]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['not', p5pkg['Perlito5::Grammar::Expression'].term_not]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['pos', p5pkg['Perlito5::Grammar::Expression'].term_pos]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['chomp', p5pkg['Perlito5::Grammar::Expression'].term_operator_with_paren]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['chop', p5pkg['Perlito5::Grammar::Expression'].term_operator_with_paren]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar');
	p5typeglob_set('Perlito5::Grammar', 'unless', (function () {
		var tmp2875;
		tmp2875 = function (List__, p5want) {
			var v_str_631;
			v_str_631 = (List__.p5aget(0));
			var v_pos_632;
			v_pos_632 = (List__.p5aget(1));
			var v_MATCH_633;
			v_MATCH_633 = ((new p5HashRef({'str' : v_str_631, 'from' : v_pos_632, 'to' : v_pos_632})));
			var v_tmp_634;
			v_tmp_634 = (p5context([p5context([p5and(p5context([p5and(p5context([('u' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('n' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('l' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('e' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('s' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5and(p5context([('s' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
												return p5context([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 6)))], 0)
											})
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_635;
								v_m2_635 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_635) ) {
									(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_635 || (v_m2_635 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_636;
										v_m2_636 = (p5pkg['Perlito5::Grammar::Expression'].term_paren(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_636) ) {
											(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_636 || (v_m2_636 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::term_paren', (v_m2_636));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_637;
											v_m2_637 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_637) ) {
												(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_637 || (v_m2_637 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_638;
												v_m2_638 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_638) ) {
													(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_638 || (v_m2_638 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_638));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_pos1_639;
													v_pos1_639 = ((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_640;
																	v_m2_640 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_640) ) {
																		(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_640 || (v_m2_640 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([p5and(p5context([('e' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5and(p5context([('l' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																			return p5and(p5context([('s' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																				return p5and(p5context([('e' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																					return p5context([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																				})
																			})
																		})
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2_641;
																			v_m2_641 = (p5pkg['Perlito5::Grammar'].block2(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_641) ) {
																				(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_641 || (v_m2_641 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('block2', (v_m2_641));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('block2')]), 1), 'otherwise', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('block')]), 1)]), "")));
																				return ((1));
																			})()], 0)
																		})
																	})
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_639));
																return ((p5context([p5and(p5context([(function () {
																		var v_m2_642;
																		v_m2_642 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_642) ) {
																			(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_642 || (v_m2_642 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5and(p5context([p5and(p5context([('e' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5and(p5context([('l' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																				return p5and(p5context([('s' == p5str((v_str_631 || (v_str_631 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																					return p5context([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
																				})
																			})
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2_643;
																				v_m2_643 = (p5pkg['Perlito5::Grammar'].if_(p5list_to_a([v_str_631, (v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_643) ) {
																					(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_643 || (v_m2_643 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('if_', (v_m2_643));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('if_')]), 1)])))]), 1), 'otherwise', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('block')]), 1)]), "")));
																					return ((1));
																				})()], 0)
																			})
																		})
																	})], 0)));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_639));
																	return ((p5context([(function () {
																			(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1), 'otherwise', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_633 || (v_MATCH_633 = new p5HashRef({})))._hash_.p5hget('block')]), 1)]), "")));
																			return ((1));
																		})()], 0)));
																})()], 0)
															})
														})));
												})()], 0), function () {
													return p5context([(function () {
														p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
														return ((1));
													})()], 0)
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_634) ? v_MATCH_633 : null));
		};
		tmp2875._prototype_ = null;
		return tmp2875
	})());
	p5typeglob_set('Perlito5::Grammar', 'if_', (function () {
		var tmp2876;
		tmp2876 = function (List__, p5want) {
			var v_str_644;
			v_str_644 = (List__.p5aget(0));
			var v_pos_645;
			v_pos_645 = (List__.p5aget(1));
			var v_MATCH_646;
			v_MATCH_646 = ((new p5HashRef({'str' : v_str_644, 'from' : v_pos_645, 'to' : v_pos_645})));
			var v_tmp_647;
			v_tmp_647 = (p5context([p5context([p5and(p5context([p5and(p5context([('i' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('f' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5context([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_648;
								v_m2_648 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_648) ) {
									(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_648 || (v_m2_648 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_649;
										v_m2_649 = (p5pkg['Perlito5::Grammar::Expression'].term_paren(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_649) ) {
											(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_649 || (v_m2_649 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::term_paren', (v_m2_649));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_650;
											v_m2_650 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_650) ) {
												(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_650 || (v_m2_650 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_651;
												v_m2_651 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_651) ) {
													(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_651 || (v_m2_651 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_651));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_pos1_652;
													v_pos1_652 = ((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_653;
																	v_m2_653 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_653) ) {
																		(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_653 || (v_m2_653 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([p5and(p5context([('e' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5and(p5context([('l' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																			return p5and(p5context([('s' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																				return p5and(p5context([('e' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																					return p5context([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																				})
																			})
																		})
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2_654;
																			v_m2_654 = (p5pkg['Perlito5::Grammar'].block2(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_654) ) {
																				(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_654 || (v_m2_654 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('block2', (v_m2_654));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('block')]), 1), 'otherwise', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('block2')]), 1)]), "")));
																				return ((1));
																			})()], 0)
																		})
																	})
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_652));
																return ((p5context([p5and(p5context([(function () {
																		var v_m2_655;
																		v_m2_655 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_655) ) {
																			(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_655 || (v_m2_655 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5and(p5context([p5and(p5context([('e' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5and(p5context([('l' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																				return p5and(p5context([('s' == p5str((v_str_644 || (v_str_644 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																					return p5context([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
																				})
																			})
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2_656;
																				v_m2_656 = (p5pkg['Perlito5::Grammar'].if_(p5list_to_a([v_str_644, (v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_656) ) {
																					(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_656 || (v_m2_656 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('if_', (v_m2_656));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('block')]), 1), 'otherwise', p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('if_')]), 1)])))]), 1)]), "")));
																					return ((1));
																				})()], 0)
																			})
																		})
																	})], 0)));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_652));
																	return ((p5context([(function () {
																			(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::If', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_646 || (v_MATCH_646 = new p5HashRef({})))._hash_.p5hget('block')]), 1), 'otherwise', p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([]))]), 1)]), "")));
																			return ((1));
																		})()], 0)));
																})()], 0)
															})
														})));
												})()], 0), function () {
													return p5context([(function () {
														p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
														return ((1));
													})()], 0)
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_647) ? v_MATCH_646 : null));
		};
		tmp2876._prototype_ = null;
		return tmp2876
	})());
	p5typeglob_set('Perlito5::Grammar', 'when', (function () {
		var tmp2877;
		tmp2877 = function (List__, p5want) {
			var v_str_657;
			v_str_657 = (List__.p5aget(0));
			var v_pos_658;
			v_pos_658 = (List__.p5aget(1));
			var v_MATCH_659;
			v_MATCH_659 = ((new p5HashRef({'str' : v_str_657, 'from' : v_pos_658, 'to' : v_pos_658})));
			var v_tmp_660;
			v_tmp_660 = (p5context([p5context([p5and(p5context([p5and(p5context([('w' == p5str((v_str_657 || (v_str_657 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('h' == p5str((v_str_657 || (v_str_657 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('e' == p5str((v_str_657 || (v_str_657 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('n' == p5str((v_str_657 || (v_str_657 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5context([(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_661;
								v_m2_661 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_657, (v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_661) ) {
									(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_661 || (v_m2_661 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_662;
										v_m2_662 = (p5pkg['Perlito5::Grammar::Expression'].term_paren(p5list_to_a([v_str_657, (v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_662) ) {
											(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_662 || (v_m2_662 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::term_paren', (v_m2_662));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_663;
											v_m2_663 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_657, (v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_663) ) {
												(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_663 || (v_m2_663 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_664;
												v_m2_664 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_657, (v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_664) ) {
													(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_664 || (v_m2_664 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_664));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::When', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_paren')]), p5want)._array_.p5aget(2), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_659 || (v_MATCH_659 = new p5HashRef({})))._hash_.p5hget('block')]), 1)]), "")));
													return ((1));
												})()], 0), function () {
													return p5context([(function () {
														p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
														return ((1));
													})()], 0)
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_660) ? v_MATCH_659 : null));
		};
		tmp2877._prototype_ = null;
		return tmp2877
	})());
	p5typeglob_set('Perlito5::Grammar', 'is_bareword', (function () {
		var tmp2878;
		tmp2878 = function (List__, p5want) {
			var v_term_665;
			v_term_665 = (List__.shift());
			return (p5and(p5call(v_term_665, 'isa', ['Perlito5::AST::Apply'], ""), function () {
						return (v_term_665 || (v_term_665 = new p5HashRef({})))._hash_.p5hget('bareword')
					}));
		};
		tmp2878._prototype_ = null;
		return tmp2878
	})());
	p5typeglob_set('Perlito5::Grammar', 'for', (function () {
		var tmp2879;
		tmp2879 = function (List__, p5want) {
			var v_str_666;
			v_str_666 = (List__.p5aget(0));
			var v_pos_667;
			v_pos_667 = (List__.p5aget(1));
			var v_MATCH_668;
			v_MATCH_668 = ((new p5HashRef({'str' : v_str_666, 'from' : v_pos_667, 'to' : v_pos_667})));
			var v_tmp_669;
			v_tmp_669 = (p5context([p5context([p5and(p5context([p5and(p5context([('f' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('r' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m_670;
								v_m_670 = (v_MATCH_668);
								(function () {
									if ( !( (('e' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0)))) && (('a' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))) && (('c' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))) && (('h' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))) && p5bool((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))))))) ) {
									v_MATCH_668 = (v_m_670);
								}
								})();
								return ((1));
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_pos1_671;
										v_pos1_671 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
										return ((p5or(p5context([(function () {
												return ((p5context([p5and(p5context([(function () {
														var v_pos1_672;
														v_pos1_672 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
														return ((p5or(p5context([(function () {
																return ((p5context([p5and(p5context([(function () {
																		var v_m2_673;
																		v_m2_673 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_673) ) {
																			(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_673 || (v_m2_673 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2_674;
																			v_m2_674 = (p5pkg['Perlito5::Grammar::Expression'].term_declarator(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_674) ) {
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_674 || (v_m2_674 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::term_declarator', (v_m2_674));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('_tmp', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::term_declarator')]), p5want)._array_.p5aget(1)));
																				return ((1));
																			})()], 0)
																		})
																	})], 0)));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_672));
																	return ((p5context([p5and(p5context([(function () {
																			var v_m2_675;
																			v_m2_675 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_675) ) {
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_675 || (v_m2_675 = new p5HashRef({})))._hash_.p5hget('to')));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_tmp_676;
																				v_tmp_676 = (v_MATCH_668);
																				v_MATCH_668 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_676 || (v_tmp_676 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_676 || (v_tmp_676 = new p5HashRef({})))._hash_.p5hget('to')])))));
																				var v_res_677;
																				v_res_677 = (p5context([p5and(p5context([('$' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0));
																				v_MATCH_668 = (v_tmp_676);
																				return ((( p5bool(v_res_677) ? 1 : 0)));
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2_678;
																					v_m2_678 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_678) ) {
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_678 || (v_m2_678 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_678));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('_tmp', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1)));
																						var v_v_679;
																						v_v_679 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('_tmp'));
																						var v_look_680;
																						v_look_680 = (p5pkg['Perlito5::Grammar::Scope'].lookup_variable([v_v_679], ""));
																						var v_decl_681;
																						v_decl_681 = (( (p5bool(v_look_680) && p5bool((v_look_680 || (v_look_680 = new p5HashRef({})))._hash_.p5hget('_decl'))) ? (v_look_680 || (v_look_680 = new p5HashRef({})))._hash_.p5hget('_decl') : 'global'));
																						(function () {
																							if ( (p5str(v_decl_681) != 'global') ) {
																							(v_v_679 || (v_v_679 = new p5HashRef({})))._hash_.p5hset('_id', ((function () {
																										var tmp2880 = p5make_package('Perlito5')['v_ID'];
																										p5make_package('Perlito5')['v_ID'] = p5incr_(tmp2880);
																										return tmp2880
																									})()));
																							(v_v_679 || (v_v_679 = new p5HashRef({})))._hash_.p5hset('_decl', (v_decl_681));
																							(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('_tmp', (p5call('Perlito5::AST::Decl', 'new', ['decl', v_decl_681, 'var', v_v_679], "")));
																						}
																						})();
																						return ((1));
																					})()], 0)
																				})
																			})
																		})], 0)));
																})()], 0)
															})));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_682;
															v_m2_682 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_682) ) {
																(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_682 || (v_m2_682 = new p5HashRef({})))._hash_.p5hget('to')));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([p5and(p5context([('(' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2_683;
																	v_m2_683 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_683) ) {
																		(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_683 || (v_m2_683 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::paren_parse', (v_m2_683));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([p5and(p5context([(')' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2_684;
																			v_m2_684 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_684) ) {
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_684 || (v_m2_684 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_684));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2_685;
																				v_m2_685 = (p5pkg['Perlito5::Grammar'].opt_continue_block(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_685) ) {
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_685 || (v_m2_685 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2_685));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					var v_body_686;
																					v_body_686 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('block')]), ""));
																					var v_header_687;
																					v_header_687 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::paren_parse')]), ""));
																					var v_topic_688;
																					v_topic_688 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('_tmp'));
																					var v_continue_block_689;
																					v_continue_block_689 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture'));
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::For', 'new', ['cond', v_header_687, 'body', v_body_686, 'continue', v_continue_block_689, 'topic', v_topic_688], "")));
																					return ((1));
																				})()], 0)
																			})
																		})
																	})
																})
															})
														})
													})], 0)));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_671));
													return ((p5context([p5and(p5context([(function () {
															var v_m2_690;
															v_m2_690 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_690) ) {
																(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_690 || (v_m2_690 = new p5HashRef({})))._hash_.p5hget('to')));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([p5and(p5context([('(' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0), function () {
																return p5and(p5context([(function () {
																	var v_pos1_691;
																	v_pos1_691 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
																	return ((p5or(p5context([(function () {
																			return ((p5context([p5and(p5context([(function () {
																					var v_m2_692;
																					v_m2_692 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_692) ) {
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_692 || (v_m2_692 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::exp_parse', (v_m2_692));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5context([(function () {
																						p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
																						return ((1));
																					})()], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_691));
																				return ((p5context([], 0)));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_691));
																					return ((p5context([p5and(p5context([(function () {
																							var v_m2_693;
																							v_m2_693 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																							return (function () {
																								if ( p5bool(v_m2_693) ) {
																								(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_693 || (v_m2_693 = new p5HashRef({})))._hash_.p5hget('to')));
																								return ((1));
																							}
																							else {
																								return ((0));
																							}
																							})()
																						})()], 0), function () {
																							return p5context([(function () {
																								var v_tmp_694;
																								v_tmp_694 = (v_MATCH_668);
																								v_MATCH_668 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_694 || (v_tmp_694 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_694 || (v_tmp_694 = new p5HashRef({})))._hash_.p5hget('to')])))));
																								var v_res_695;
																								v_res_695 = (p5context([p5and(p5context([(';' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																											return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																										})], 0));
																								v_MATCH_668 = (v_tmp_694);
																								return ((( p5bool(v_res_695) ? 1 : 0)));
																							})()], 0)
																						})], 0)));
																				})()], 0)
																			})
																		})));
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_pos1_696;
																		v_pos1_696 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
																		return ((p5or(p5context([(function () {
																				return ((p5context([p5and(p5context([p5and(p5context([(';' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																					})], 0), function () {
																						return p5and(p5context([(function () {
																							(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('c_style_for', (1));
																							return ((1));
																						})()], 0), function () {
																							return p5and(p5context([(function () {
																								var v_pos1_697;
																								v_pos1_697 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
																								return ((p5or(p5context([(function () {
																										return ((p5context([p5and(p5context([(function () {
																												var v_m2_698;
																												v_m2_698 = (p5pkg['Perlito5::Grammar'].exp(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																												return (function () {
																													if ( p5bool(v_m2_698) ) {
																													(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_698 || (v_m2_698 = new p5HashRef({})))._hash_.p5hget('to')));
																													(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::exp', (v_m2_698));
																													return ((1));
																												}
																												else {
																													return ((0));
																												}
																												})()
																											})()], 0), function () {
																												return p5context([(function () {
																													p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
																													return ((1));
																												})()], 0)
																											})], 0)));
																									})()], 0), function () {
																										return p5or(p5context([(function () {
																											(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_697));
																											return ((p5context([], 0)));
																										})()], 0), function () {
																											return p5context([(function () {
																												(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_697));
																												return ((p5context([(function () {
																														var v_m2_699;
																														v_m2_699 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																														return (function () {
																															if ( p5bool(v_m2_699) ) {
																															(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_699 || (v_m2_699 = new p5HashRef({})))._hash_.p5hget('to')));
																															return ((1));
																														}
																														else {
																															return ((0));
																														}
																														})()
																													})()], 0)));
																											})()], 0)
																										})
																									})));
																							})()], 0), function () {
																								return p5and(p5context([p5and(p5context([(';' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																									return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																								})], 0), function () {
																									return p5context([(function () {
																										var v_pos1_700;
																										v_pos1_700 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to'));
																										return ((p5or(p5context([(function () {
																												return ((p5context([(function () {
																														var v_m2_701;
																														v_m2_701 = (p5pkg['Perlito5::Grammar'].exp2(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																														return (function () {
																															if ( p5bool(v_m2_701) ) {
																															(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_701 || (v_m2_701 = new p5HashRef({})))._hash_.p5hget('to')));
																															(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::exp2', (v_m2_701));
																															return ((1));
																														}
																														else {
																															return ((0));
																														}
																														})()
																													})()], 0)));
																											})()], 0), function () {
																												return p5or(p5context([(function () {
																													(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_700));
																													return ((p5context([], 0)));
																												})()], 0), function () {
																													return p5context([(function () {
																														(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_700));
																														return ((p5context([(function () {
																																var v_m2_702;
																																v_m2_702 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																																return (function () {
																																	if ( p5bool(v_m2_702) ) {
																																	(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_702 || (v_m2_702 = new p5HashRef({})))._hash_.p5hget('to')));
																																	return ((1));
																																}
																																else {
																																	return ((0));
																																}
																																})()
																															})()], 0)));
																													})()], 0)
																												})
																											})));
																									})()], 0)
																								})
																							})
																						})
																					})], 0)));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_696));
																					return ((1));
																				})()], 0)
																			})));
																	})()], 0), function () {
																		return p5and(p5context([p5and(p5context([(')' == p5str((v_str_666 || (v_str_666 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5context([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2_703;
																				v_m2_703 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_703) ) {
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_703 || (v_m2_703 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_703));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2_704;
																					v_m2_704 = (p5pkg['Perlito5::Grammar'].opt_continue_block(p5list_to_a([v_str_666, (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_704) ) {
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_704 || (v_m2_704 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2_704));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5context([(function () {
																						var v_header_705;
																						var v_body_706;
																						v_body_706 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('block')]), ""));
																						var v_topic_707;
																						var v_continue_block_708;
																						v_continue_block_708 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture'));
																						(function () {
																							if ( p5bool((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget('c_style_for')) ) {
																							v_header_705 = ((new p5ArrayRef(p5list_to_a([(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::exp_parse')._hash_.p5hget('capture'), (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::exp')._hash_.p5hget('capture'), (v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::exp2')._hash_.p5hget('capture')]))));
																						}
																						else {
																							v_header_705 = ((v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::exp_parse')._hash_.p5hget('capture'));
																							v_topic_707 = (p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], ""));
																						}
																						})();
																						(v_MATCH_668 || (v_MATCH_668 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::For', 'new', ['cond', v_header_705, 'body', v_body_706, 'continue', v_continue_block_708, 'topic', v_topic_707], "")));
																						return ((1));
																					})()], 0)
																				})
																			})
																		})
																	})
																})
															})
														})], 0)));
												})()], 0)
											})));
									})()], 0), function () {
										return p5context([(function () {
											p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
											return ((1));
										})()], 0)
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_669) ? v_MATCH_668 : null));
		};
		tmp2879._prototype_ = null;
		return tmp2879
	})());
	p5typeglob_set('Perlito5::Grammar', 'while', (function () {
		var tmp2881;
		tmp2881 = function (List__, p5want) {
			var v_str_709;
			v_str_709 = (List__.p5aget(0));
			var v_pos_710;
			v_pos_710 = (List__.p5aget(1));
			var v_MATCH_711;
			v_MATCH_711 = ((new p5HashRef({'str' : v_str_709, 'from' : v_pos_710, 'to' : v_pos_710})));
			var v_tmp_712;
			v_tmp_712 = (p5context([p5context([p5and(p5context([p5and(p5context([('w' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('h' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('i' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('l' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('e' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5context([(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_713;
								v_m2_713 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_709, (v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_713) ) {
									(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_713 || (v_m2_713 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([p5and(p5context([('(' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
										return p5context([(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_714;
											v_m2_714 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_709, (v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_714) ) {
												(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_714 || (v_m2_714 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::paren_parse', (v_m2_714));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([(')' == p5str((v_str_709 || (v_str_709 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_715;
													v_m2_715 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_709, (v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_715) ) {
														(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_715 || (v_m2_715 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_715));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_716;
														v_m2_716 = (p5pkg['Perlito5::Grammar'].opt_continue_block(p5list_to_a([v_str_709, (v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_716) ) {
															(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_716 || (v_m2_716 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2_716));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_cond_717;
															v_cond_717 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::paren_parse')]), ""));
															(function () {
																if ( (p5str(v_cond_717) == '*undef*') ) {
																v_cond_717 = (p5call('Perlito5::AST::Int', 'new', ['int', 1], ""));
															}
															})();
															var v_stmt_718;
															v_stmt_718 = (p5call('Perlito5::AST::While', 'new', p5list_to_a(['cond', v_cond_717, 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget('block')]), 1), 'continue', (v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), ""));
															var v_out_719;
															v_out_719 = (p5pkg['Perlito5::Macro'].while_file([v_stmt_718], ""));
															p5and(v_out_719, function () {
																return v_stmt_718 = (v_out_719)
															});
															(v_MATCH_711 || (v_MATCH_711 = new p5HashRef({})))._hash_.p5hset('capture', (v_stmt_718));
															return ((1));
														})()], 0), function () {
															return p5context([(function () {
																p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
																return ((1));
															})()], 0)
														})
													})
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_712) ? v_MATCH_711 : null));
		};
		tmp2881._prototype_ = null;
		return tmp2881
	})());
	p5typeglob_set('Perlito5::Grammar', 'until', (function () {
		var tmp2882;
		tmp2882 = function (List__, p5want) {
			var v_str_720;
			v_str_720 = (List__.p5aget(0));
			var v_pos_721;
			v_pos_721 = (List__.p5aget(1));
			var v_MATCH_722;
			v_MATCH_722 = ((new p5HashRef({'str' : v_str_720, 'from' : v_pos_721, 'to' : v_pos_721})));
			var v_tmp_723;
			v_tmp_723 = (p5context([p5context([p5and(p5context([p5and(p5context([('u' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('n' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('t' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('i' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('l' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5context([(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_724;
								v_m2_724 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_720, (v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_724) ) {
									(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_724 || (v_m2_724 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([p5and(p5context([('(' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
										return p5context([(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_725;
											v_m2_725 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_720, (v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_725) ) {
												(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_725 || (v_m2_725 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::paren_parse', (v_m2_725));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([(')' == p5str((v_str_720 || (v_str_720 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_726;
													v_m2_726 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_720, (v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_726) ) {
														(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_726 || (v_m2_726 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_726));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_727;
														v_m2_727 = (p5pkg['Perlito5::Grammar'].opt_continue_block(p5list_to_a([v_str_720, (v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_727) ) {
															(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_727 || (v_m2_727 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('opt_continue_block', (v_m2_727));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_cond_728;
															v_cond_728 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::paren_parse')]), ""));
															(function () {
																if ( (p5str(v_cond_728) == '*undef*') ) {
																v_cond_728 = (p5call('Perlito5::AST::Int', 'new', ['int', 1], ""));
															}
															})();
															(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::While', 'new', p5list_to_a(['cond', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([v_cond_728])), 'code', 'prefix:<!>', 'namespace', '']), 1), 'body', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget('block')]), 1), 'continue', (v_MATCH_722 || (v_MATCH_722 = new p5HashRef({})))._hash_.p5hget_hash('opt_continue_block')._hash_.p5hget('capture')]), "")));
															return ((1));
														})()], 0), function () {
															return p5context([(function () {
																p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
																return ((1));
															})()], 0)
														})
													})
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_723) ? v_MATCH_722 : null));
		};
		tmp2882._prototype_ = null;
		return tmp2882
	})());
	p5typeglob_set('Perlito5::Grammar', 'given', (function () {
		var tmp2883;
		tmp2883 = function (List__, p5want) {
			var v_str_729;
			v_str_729 = (List__.p5aget(0));
			var v_pos_730;
			v_pos_730 = (List__.p5aget(1));
			var v_MATCH_731;
			v_MATCH_731 = ((new p5HashRef({'str' : v_str_729, 'from' : v_pos_730, 'to' : v_pos_730})));
			var v_tmp_732;
			v_tmp_732 = (p5context([p5context([p5and(p5context([p5and(p5context([('g' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('i' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('v' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('e' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('n' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5context([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_733;
								v_m2_733 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_729, (v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_733) ) {
									(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_733 || (v_m2_733 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
									return ((1));
								})()], 0), function () {
									return p5and(p5context([p5and(p5context([('(' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
										return p5context([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
									})], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_734;
											v_m2_734 = (p5pkg['Perlito5::Grammar::Expression'].paren_parse(p5list_to_a([v_str_729, (v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_734) ) {
												(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_734 || (v_m2_734 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::paren_parse', (v_m2_734));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([(')' == p5str((v_str_729 || (v_str_729 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_735;
													v_m2_735 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_729, (v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_735) ) {
														(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_735 || (v_m2_735 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_735));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_body_736;
														v_body_736 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('block')]), ""));
														(v_body_736 || (v_body_736 = new p5HashRef({})))._hash_.p5hset('sig', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::var_ident')]), "")));
														(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Given', 'new', p5list_to_a(['cond', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_731 || (v_MATCH_731 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::paren_parse')]), 1), 'body', v_body_736]), "")));
														return ((1));
													})()], 0), function () {
														return p5context([(function () {
															p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
															return ((1));
														})()], 0)
													})
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_732) ? v_MATCH_731 : null));
		};
		tmp2883._prototype_ = null;
		return tmp2883
	})());
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['if', p5pkg['Perlito5::Grammar'].if_]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['for', p5pkg['Perlito5::Grammar'].for]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['foreach', p5pkg['Perlito5::Grammar'].for]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['when', p5pkg['Perlito5::Grammar'].when]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['while', p5pkg['Perlito5::Grammar'].while]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['until', p5pkg['Perlito5::Grammar'].until]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['given', p5pkg['Perlito5::Grammar'].given]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['unless', p5pkg['Perlito5::Grammar'].unless]), null);
})();;
(function () {
	p5make_package('Perlito5::Grammar::String');
	p5typeglob_set('Perlito5::Grammar::String', 'term_q_quote', (function () {
		var tmp2884;
		tmp2884 = function (List__, p5want) {
			var v_str_737;
			v_str_737 = (List__.p5aget(0));
			var v_pos_738;
			v_pos_738 = (List__.p5aget(1));
			var v_MATCH_739;
			v_MATCH_739 = ((new p5HashRef({'str' : v_str_737, 'from' : v_pos_738, 'to' : v_pos_738})));
			var v_tmp_740;
			v_tmp_740 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_741;
							v_pos1_741 = ((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('q' == p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												var v_pos1_742;
												v_pos1_742 = ((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('#' == p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_742));
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_743;
																	v_m2_743 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_737, (v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_743) ) {
																		(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_743 || (v_m2_743 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_tmp_744;
																		v_tmp_744 = (v_MATCH_739);
																		v_MATCH_739 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_744 || (v_tmp_744 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_744 || (v_tmp_744 = new p5HashRef({})))._hash_.p5hget('to')])))));
																		var v_res_745;
																		v_res_745 = (p5context([p5and(p5context([('=' == p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5and(p5context([('>' == p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																						return p5context([(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																					})
																				})], 0));
																		v_MATCH_739 = (v_tmp_744);
																		return ((( p5bool(v_res_745) ? 0 : 1)));
																	})()], 0), function () {
																		return p5context([p5and(('' != p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
																			return (v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5incr('to')
																		})], 0)
																	})
																})], 0)));
														})()], 0)
													})));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_741));
										return ((p5context([p5and(p5context([(String.fromCharCode(39) == p5str((v_str_737 || (v_str_737 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_746;
								v_m2_746 = (p5pkg['Perlito5::Grammar::String'].q_quote_parse(p5list_to_a([v_str_737, (v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_746) ) {
									(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_746 || (v_m2_746 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('q_quote_parse', (v_m2_746));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_739 || (v_MATCH_739 = new p5HashRef({})))._hash_.p5hget('q_quote_parse')]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_740) ? v_MATCH_739 : null));
		};
		tmp2884._prototype_ = null;
		return tmp2884
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_qq_quote', (function () {
		var tmp2885;
		tmp2885 = function (List__, p5want) {
			var v_str_747;
			v_str_747 = (List__.p5aget(0));
			var v_pos_748;
			v_pos_748 = (List__.p5aget(1));
			var v_MATCH_749;
			v_MATCH_749 = ((new p5HashRef({'str' : v_str_747, 'from' : v_pos_748, 'to' : v_pos_748})));
			var v_tmp_750;
			v_tmp_750 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_751;
							v_pos1_751 = ((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('q' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('q' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0), function () {
											return p5context([(function () {
												var v_pos1_752;
												v_pos1_752 = ((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('#' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_752));
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_753;
																	v_m2_753 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_747, (v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_753) ) {
																		(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_753 || (v_m2_753 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_tmp_754;
																		v_tmp_754 = (v_MATCH_749);
																		v_MATCH_749 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_754 || (v_tmp_754 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_754 || (v_tmp_754 = new p5HashRef({})))._hash_.p5hget('to')])))));
																		var v_res_755;
																		v_res_755 = (p5context([p5and(p5context([('=' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5and(p5context([('>' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																						return p5context([(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																					})
																				})], 0));
																		v_MATCH_749 = (v_tmp_754);
																		return ((( p5bool(v_res_755) ? 0 : 1)));
																	})()], 0), function () {
																		return p5context([p5and(('' != p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
																			return (v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5incr('to')
																		})], 0)
																	})
																})], 0)));
														})()], 0)
													})));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_751));
										return ((p5context([p5and(p5context([('"' == p5str((v_str_747 || (v_str_747 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_756;
								v_m2_756 = (p5pkg['Perlito5::Grammar::String'].qq_quote_parse(p5list_to_a([v_str_747, (v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_756) ) {
									(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_756 || (v_m2_756 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('qq_quote_parse', (v_m2_756));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_749 || (v_MATCH_749 = new p5HashRef({})))._hash_.p5hget('qq_quote_parse')]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_750) ? v_MATCH_749 : null));
		};
		tmp2885._prototype_ = null;
		return tmp2885
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_qw_quote', (function () {
		var tmp2886;
		tmp2886 = function (List__, p5want) {
			var v_str_757;
			v_str_757 = (List__.p5aget(0));
			var v_pos_758;
			v_pos_758 = (List__.p5aget(1));
			var v_MATCH_759;
			v_MATCH_759 = ((new p5HashRef({'str' : v_str_757, 'from' : v_pos_758, 'to' : v_pos_758})));
			var v_tmp_760;
			v_tmp_760 = (p5context([p5context([p5and(p5context([p5and(p5context([('q' == p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('w' == p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5context([(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_761;
								v_pos1_761 = ((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([('#' == p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_761));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_762;
													v_m2_762 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_757, (v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_762) ) {
														(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_762 || (v_m2_762 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_tmp_763;
														v_tmp_763 = (v_MATCH_759);
														v_MATCH_759 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_763 || (v_tmp_763 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_763 || (v_tmp_763 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_764;
														v_res_764 = (p5context([p5and(p5context([('=' == p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([('>' == p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5context([(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																	})
																})], 0));
														v_MATCH_759 = (v_tmp_763);
														return ((( p5bool(v_res_764) ? 0 : 1)));
													})()], 0), function () {
														return p5context([p5and(('' != p5str((v_str_757 || (v_str_757 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
															return (v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5incr('to')
														})], 0)
													})
												})], 0)));
										})()], 0)
									})));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_765;
									v_m2_765 = (p5pkg['Perlito5::Grammar::String'].qw_quote_parse(p5list_to_a([v_str_757, (v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_765) ) {
										(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_765 || (v_m2_765 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('qw_quote_parse', (v_m2_765));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_759 || (v_MATCH_759 = new p5HashRef({})))._hash_.p5hget('qw_quote_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_760) ? v_MATCH_759 : null));
		};
		tmp2886._prototype_ = null;
		return tmp2886
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_m_quote', (function () {
		var tmp2887;
		tmp2887 = function (List__, p5want) {
			var v_str_766;
			v_str_766 = (List__.p5aget(0));
			var v_pos_767;
			v_pos_767 = (List__.p5aget(1));
			var v_MATCH_768;
			v_MATCH_768 = ((new p5HashRef({'str' : v_str_766, 'from' : v_pos_767, 'to' : v_pos_767})));
			var v_tmp_769;
			v_tmp_769 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_770;
							v_pos1_770 = ((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('m' == p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												var v_pos1_771;
												v_pos1_771 = ((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('#' == p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_771));
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_772;
																	v_m2_772 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_766, (v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_772) ) {
																		(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_772 || (v_m2_772 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_tmp_773;
																		v_tmp_773 = (v_MATCH_768);
																		v_MATCH_768 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_773 || (v_tmp_773 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_773 || (v_tmp_773 = new p5HashRef({})))._hash_.p5hget('to')])))));
																		var v_res_774;
																		v_res_774 = (p5context([p5and(p5context([('=' == p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5and(p5context([('>' == p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																						return p5context([(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																					})
																				})], 0));
																		v_MATCH_768 = (v_tmp_773);
																		return ((( p5bool(v_res_774) ? 0 : 1)));
																	})()], 0), function () {
																		return p5context([p5and(('' != p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
																			return (v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5incr('to')
																		})], 0)
																	})
																})], 0)));
														})()], 0)
													})));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_770));
										return ((p5context([p5and(p5context([('/' == p5str((v_str_766 || (v_str_766 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_775;
								v_m2_775 = (p5pkg['Perlito5::Grammar::String'].m_quote_parse(p5list_to_a([v_str_766, (v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_775) ) {
									(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_775 || (v_m2_775 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('m_quote_parse', (v_m2_775));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_768 || (v_MATCH_768 = new p5HashRef({})))._hash_.p5hget('m_quote_parse')]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_769) ? v_MATCH_768 : null));
		};
		tmp2887._prototype_ = null;
		return tmp2887
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_s_quote', (function () {
		var tmp2888;
		tmp2888 = function (List__, p5want) {
			var v_str_776;
			v_str_776 = (List__.p5aget(0));
			var v_pos_777;
			v_pos_777 = (List__.p5aget(1));
			var v_MATCH_778;
			v_MATCH_778 = ((new p5HashRef({'str' : v_str_776, 'from' : v_pos_777, 'to' : v_pos_777})));
			var v_tmp_779;
			v_tmp_779 = (p5context([p5context([p5and(p5context([p5and(p5context([('s' == p5str((v_str_776 || (v_str_776 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_780;
								v_pos1_780 = ((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([('#' == p5str((v_str_776 || (v_str_776 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_780));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_781;
													v_m2_781 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_776, (v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_781) ) {
														(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_781 || (v_m2_781 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_tmp_782;
														v_tmp_782 = (v_MATCH_778);
														v_MATCH_778 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_782 || (v_tmp_782 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_782 || (v_tmp_782 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_783;
														v_res_783 = (p5context([p5and(p5context([('=' == p5str((v_str_776 || (v_str_776 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([('>' == p5str((v_str_776 || (v_str_776 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5context([(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																	})
																})], 0));
														v_MATCH_778 = (v_tmp_782);
														return ((( p5bool(v_res_783) ? 0 : 1)));
													})()], 0), function () {
														return p5context([p5and(('' != p5str((v_str_776 || (v_str_776 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
															return (v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5incr('to')
														})], 0)
													})
												})], 0)));
										})()], 0)
									})));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_784;
									v_m2_784 = (p5pkg['Perlito5::Grammar::String'].s_quote_parse(p5list_to_a([v_str_776, (v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_784) ) {
										(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_784 || (v_m2_784 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('s_quote_parse', (v_m2_784));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_778 || (v_MATCH_778 = new p5HashRef({})))._hash_.p5hget('s_quote_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_779) ? v_MATCH_778 : null));
		};
		tmp2888._prototype_ = null;
		return tmp2888
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_qx', (function () {
		var tmp2889;
		tmp2889 = function (List__, p5want) {
			var v_str_785;
			v_str_785 = (List__.p5aget(0));
			var v_pos_786;
			v_pos_786 = (List__.p5aget(1));
			var v_MATCH_787;
			v_MATCH_787 = ((new p5HashRef({'str' : v_str_785, 'from' : v_pos_786, 'to' : v_pos_786})));
			var v_tmp_788;
			v_tmp_788 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_789;
							v_pos1_789 = ((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('q' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('x' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0), function () {
											return p5context([(function () {
												var v_pos1_790;
												v_pos1_790 = ((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('#' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_790));
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_791;
																	v_m2_791 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_785, (v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_791) ) {
																		(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_791 || (v_m2_791 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_tmp_792;
																		v_tmp_792 = (v_MATCH_787);
																		v_MATCH_787 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_792 || (v_tmp_792 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_792 || (v_tmp_792 = new p5HashRef({})))._hash_.p5hget('to')])))));
																		var v_res_793;
																		v_res_793 = (p5context([p5and(p5context([('=' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5and(p5context([('>' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																						return p5context([(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																					})
																				})], 0));
																		v_MATCH_787 = (v_tmp_792);
																		return ((( p5bool(v_res_793) ? 0 : 1)));
																	})()], 0), function () {
																		return p5context([p5and(('' != p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
																			return (v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5incr('to')
																		})], 0)
																	})
																})], 0)));
														})()], 0)
													})));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_789));
										return ((p5context([p5and(p5context([('`' == p5str((v_str_785 || (v_str_785 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_794;
								v_m2_794 = (p5pkg['Perlito5::Grammar::String'].qx_quote_parse(p5list_to_a([v_str_785, (v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_794) ) {
									(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_794 || (v_m2_794 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('qx_quote_parse', (v_m2_794));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_787 || (v_MATCH_787 = new p5HashRef({})))._hash_.p5hget('qx_quote_parse')]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_788) ? v_MATCH_787 : null));
		};
		tmp2889._prototype_ = null;
		return tmp2889
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_glob', (function () {
		var tmp2890;
		tmp2890 = function (List__, p5want) {
			var v_str_795;
			v_str_795 = (List__.p5aget(0));
			var v_pos_796;
			v_pos_796 = (List__.p5aget(1));
			var v_MATCH_797;
			v_MATCH_797 = ((new p5HashRef({'str' : v_str_795, 'from' : v_pos_796, 'to' : v_pos_796})));
			var v_tmp_798;
			v_tmp_798 = (p5context([p5context([p5and(p5context([p5and(p5context([('<' == p5str((v_str_795 || (v_str_795 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_799;
								v_m2_799 = (p5pkg['Perlito5::Grammar::String'].glob_quote_parse(p5list_to_a([v_str_795, (v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_799) ) {
									(v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_799 || (v_m2_799 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hset('glob_quote_parse', (v_m2_799));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_797 || (v_MATCH_797 = new p5HashRef({})))._hash_.p5hget('glob_quote_parse')]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_798) ? v_MATCH_797 : null));
		};
		tmp2890._prototype_ = null;
		return tmp2890
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_tr_quote', (function () {
		var tmp2891;
		tmp2891 = function (List__, p5want) {
			var v_str_800;
			v_str_800 = (List__.p5aget(0));
			var v_pos_801;
			v_pos_801 = (List__.p5aget(1));
			var v_MATCH_802;
			v_MATCH_802 = ((new p5HashRef({'str' : v_str_800, 'from' : v_pos_801, 'to' : v_pos_801})));
			var v_tmp_803;
			v_tmp_803 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_804;
							v_pos1_804 = ((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('t' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('r' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_804));
										return ((p5context([p5and(p5context([('y' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_805;
								v_pos1_805 = ((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([('#' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_805));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_806;
													v_m2_806 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_800, (v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_806) ) {
														(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_806 || (v_m2_806 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_tmp_807;
														v_tmp_807 = (v_MATCH_802);
														v_MATCH_802 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_807 || (v_tmp_807 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_807 || (v_tmp_807 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_808;
														v_res_808 = (p5context([p5and(p5context([('=' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([('>' == p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5context([(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																	})
																})], 0));
														v_MATCH_802 = (v_tmp_807);
														return ((( p5bool(v_res_808) ? 0 : 1)));
													})()], 0), function () {
														return p5context([p5and(('' != p5str((v_str_800 || (v_str_800 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
															return (v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5incr('to')
														})], 0)
													})
												})], 0)));
										})()], 0)
									})));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_809;
									v_m2_809 = (p5pkg['Perlito5::Grammar::String'].tr_quote_parse(p5list_to_a([v_str_800, (v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_809) ) {
										(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_809 || (v_m2_809 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('tr_quote_parse', (v_m2_809));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_802 || (v_MATCH_802 = new p5HashRef({})))._hash_.p5hget('tr_quote_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_803) ? v_MATCH_802 : null));
		};
		tmp2891._prototype_ = null;
		return tmp2891
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'term_qr_quote', (function () {
		var tmp2892;
		tmp2892 = function (List__, p5want) {
			var v_str_810;
			v_str_810 = (List__.p5aget(0));
			var v_pos_811;
			v_pos_811 = (List__.p5aget(1));
			var v_MATCH_812;
			v_MATCH_812 = ((new p5HashRef({'str' : v_str_810, 'from' : v_pos_811, 'to' : v_pos_811})));
			var v_tmp_813;
			v_tmp_813 = (p5context([p5context([p5and(p5context([p5and(p5context([('q' == p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('r' == p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5context([(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_814;
								v_pos1_814 = ((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([('#' == p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_814));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_815;
													v_m2_815 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_810, (v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_815) ) {
														(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_815 || (v_m2_815 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_tmp_816;
														v_tmp_816 = (v_MATCH_812);
														v_MATCH_812 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_816 || (v_tmp_816 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_816 || (v_tmp_816 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_817;
														v_res_817 = (p5context([p5and(p5context([('=' == p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([('>' == p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5context([(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																	})
																})], 0));
														v_MATCH_812 = (v_tmp_816);
														return ((( p5bool(v_res_817) ? 0 : 1)));
													})()], 0), function () {
														return p5context([p5and(('' != p5str((v_str_810 || (v_str_810 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
															return (v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5incr('to')
														})], 0)
													})
												})], 0)));
										})()], 0)
									})));
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_818;
									v_m2_818 = (p5pkg['Perlito5::Grammar::String'].qr_quote_parse(p5list_to_a([v_str_810, (v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_818) ) {
										(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_818 || (v_m2_818 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('qr_quote_parse', (v_m2_818));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_812 || (v_MATCH_812 = new p5HashRef({})))._hash_.p5hget('qr_quote_parse')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_813) ? v_MATCH_812 : null));
		};
		tmp2892._prototype_ = null;
		return tmp2892
	})());
	var Hash_pair_819 = {};
	Hash_pair_819 = p5a_to_h(['{', '}', '(', ')', '[', ']', '<', '>']);
	var Hash_escape_sequence_820 = {};
	Hash_escape_sequence_820 = {'a' : '7', 'b' : '8', 'e' : '27', 'f' : '12', 'n' : '10', 'r' : '13', 't' : '9'};
	var Hash_hex_821 = {};
	Hash_hex_821 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::String'], function (p5want) {
				return ((p5context([p5make_package('main')['v__'], 1], 1)));
			}, ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'])]));
	var Hash_octal_822 = {};
	Hash_octal_822 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::String'], function (p5want) {
				return ((p5context([p5make_package('main')['v__'], 1], 1)));
			}, ['0', '1', '2', '3', '4', '5', '6', '7'])]));
	p5typeglob_set('Perlito5::Grammar::String', 'q_quote_parse', (function () {
		var tmp2893;
		tmp2893 = function (List__, p5want) {
			var v_str_823;
			v_str_823 = (List__.p5aget(0));
			var v_pos_824;
			v_pos_824 = (List__.p5aget(1));
			var v_delimiter_825;
			v_delimiter_825 = ((v_str_823 || (v_str_823 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_824) - 1)));
			var v_open_delimiter_826;
			v_open_delimiter_826 = (v_delimiter_825);
			p5and((Hash_pair_819).hasOwnProperty(v_delimiter_825), function () {
					return v_delimiter_825 = (Hash_pair_819.p5hget(p5str(v_delimiter_825)))
				});
			return (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_823, v_pos_824, v_open_delimiter_826, v_delimiter_825, 0], p5want));
		};
		tmp2893._prototype_ = null;
		return tmp2893
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'qq_quote_parse', (function () {
		var tmp2894;
		tmp2894 = function (List__, p5want) {
			var v_str_827;
			v_str_827 = (List__.p5aget(0));
			var v_pos_828;
			v_pos_828 = (List__.p5aget(1));
			var v_delimiter_829;
			v_delimiter_829 = ((v_str_827 || (v_str_827 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_828) - 1)));
			var v_open_delimiter_830;
			v_open_delimiter_830 = (v_delimiter_829);
			p5and((Hash_pair_819).hasOwnProperty(v_delimiter_829), function () {
					return v_delimiter_829 = (Hash_pair_819.p5hget(p5str(v_delimiter_829)))
				});
			return (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_827, v_pos_828, v_open_delimiter_830, v_delimiter_829, 1], p5want));
		};
		tmp2894._prototype_ = null;
		return tmp2894
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'qw_quote_parse', (function () {
		var tmp2895;
		tmp2895 = function (List__, p5want) {
			var v_str_831;
			v_str_831 = (List__.p5aget(0));
			var v_pos_832;
			v_pos_832 = (List__.p5aget(1));
			var v_delimiter_833;
			v_delimiter_833 = ((v_str_831 || (v_str_831 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_832) - 1)));
			var v_open_delimiter_834;
			v_open_delimiter_834 = (v_delimiter_833);
			p5and((Hash_pair_819).hasOwnProperty(v_delimiter_833), function () {
					return v_delimiter_833 = (Hash_pair_819.p5hget(p5str(v_delimiter_833)))
				});
			var v_m_835;
			v_m_835 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_831, v_pos_832, v_open_delimiter_834, v_delimiter_833, 0], ""));
			(function () {
					if ( p5bool(v_m_835) ) {
					(v_m_835 || (v_m_835 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'list:<,>', 'arguments', (new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::String'], function (p5want) {
	return (p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('main')['v__']], 1));
}, p5list_to_a([CORE.split([' ', p5pkg['Perlito5::Match'].flat([v_m_835], p5want)._hash_.p5hget('buf')], 1)]))]))), 'namespace', '']), "")));
				}
				})();
			return (p5context([v_m_835], p5want));
		};
		tmp2895._prototype_ = null;
		return tmp2895
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'm_quote_parse', (function () {
		var tmp2896;
		tmp2896 = function (List__, p5want) {
			try {
				var v_str_836;
				v_str_836 = (List__.p5aget(0));
				var v_pos_837;
				v_pos_837 = (List__.p5aget(1));
				var v_delimiter_838;
				v_delimiter_838 = ((v_str_836 || (v_str_836 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_837) - 1)));
				var v_open_delimiter_839;
				v_open_delimiter_839 = (v_delimiter_838);
				var v_closing_delimiter_840;
				v_closing_delimiter_840 = (v_delimiter_838);
				p5and((Hash_pair_819).hasOwnProperty(v_delimiter_838), function () {
					return v_closing_delimiter_840 = (Hash_pair_819.p5hget(p5str(v_delimiter_838)))
				});
				var v_interpolate_841;
				v_interpolate_841 = (2);
				p5and((p5str(v_delimiter_838) == String.fromCharCode(39)), function () {
					return v_interpolate_841 = (3)
				});
				var v_part1_842;
				v_part1_842 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_836, v_pos_837, v_open_delimiter_839, v_closing_delimiter_840, v_interpolate_841], ""));
				p5or(v_part1_842, function () {
					throw(p5context([v_part1_842], p5want))
				});
				var v_str_regex_843;
				v_str_regex_843 = ((v_part1_842 || (v_part1_842 = new p5HashRef({})))._hash_.p5hget('capture'));
				var v_p_844;
				v_p_844 = ((v_part1_842 || (v_part1_842 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_modifiers_845;
				v_modifiers_845 = ('');
				var v_m_846;
				v_m_846 = (p5pkg['Perlito5::Grammar'].ident([v_str_836, v_p_844], ""));
				(function () {
					if ( p5bool(v_m_846) ) {
					v_modifiers_845 = (p5pkg['Perlito5::Match'].flat([v_m_846], ""));
					(v_part1_842 || (v_part1_842 = new p5HashRef({})))._hash_.p5hset('to', ((v_m_846 || (v_m_846 = new p5HashRef({})))._hash_.p5hget('to')));
				}
				})();
				(v_part1_842 || (v_part1_842 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:m', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex_843, p5call('Perlito5::AST::Buf', 'new', ['buf', v_modifiers_845], 1), p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1)]))), 'namespace', '']), "")));
				return (p5context([v_part1_842], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2896._prototype_ = null;
		return tmp2896
	})());
	p5typeglob_set('Perlito5::Grammar::String', 's_quote_parse', (function () {
		var tmp2897;
		tmp2897 = function (List__, p5want) {
			try {
				var v_str_847;
				v_str_847 = (List__.p5aget(0));
				var v_pos_848;
				v_pos_848 = (List__.p5aget(1));
				var v_delimiter_849;
				v_delimiter_849 = ((v_str_847 || (v_str_847 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_848) - 1)));
				var v_open_delimiter_850;
				v_open_delimiter_850 = (v_delimiter_849);
				var v_closing_delimiter_851;
				v_closing_delimiter_851 = (v_delimiter_849);
				p5and((Hash_pair_819).hasOwnProperty(v_delimiter_849), function () {
					return v_closing_delimiter_851 = (Hash_pair_819.p5hget(p5str(v_delimiter_849)))
				});
				var v_interpolate_852;
				v_interpolate_852 = (2);
				p5and((p5str(v_delimiter_849) == String.fromCharCode(39)), function () {
					return v_interpolate_852 = (3)
				});
				var v_part1_853;
				v_part1_853 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_847, v_pos_848, v_open_delimiter_850, v_closing_delimiter_851, v_interpolate_852], ""));
				p5or(v_part1_853, function () {
					throw(p5context([v_part1_853], p5want))
				});
				var v_str_regex_854;
				v_str_regex_854 = (p5pkg['Perlito5::Match'].flat([v_part1_853], ""));
				var v_part2_855;
				var v_m_856;
				var v_p_857;
				v_p_857 = ((v_part1_853 || (v_part1_853 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (Hash_pair_819).hasOwnProperty(v_delimiter_849) ) {
					v_m_856 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_847, v_p_857], ""));
					v_p_857 = ((v_m_856 || (v_m_856 = new p5HashRef({})))._hash_.p5hget('to'));
					v_delimiter_849 = ((v_str_847 || (v_str_847 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_857)));
					v_open_delimiter_850 = (v_delimiter_849);
					(function () {
						var tmp2898 = v_p_857;
						v_p_857 = p5incr_(tmp2898);
						return tmp2898
					})();
					v_closing_delimiter_851 = (v_delimiter_849);
					p5and((Hash_pair_819).hasOwnProperty(v_delimiter_849), function () {
						return v_closing_delimiter_851 = (Hash_pair_819.p5hget(p5str(v_delimiter_849)))
					});
				}
				})();
				v_part2_855 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_847, v_p_857, v_open_delimiter_850, v_closing_delimiter_851, 0], ""));
				p5or(v_part2_855, function () {
					throw(p5context([v_part2_855], p5want))
				});
				var List_replace_858 = [];
				List_replace_858 = p5list_to_a([p5list_slice(p5array_deref((v_str_847 || (v_str_847 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_p_857, (p5num((v_part2_855 || (v_part2_855 = new p5HashRef({})))._hash_.p5hget('to')) - 2), 1, "tmp2899", 0)]), 1)]);
				var v_replace_859;
				v_p_857 = ((v_part2_855 || (v_part2_855 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_modifiers_860;
				v_modifiers_860 = ('');
				v_m_856 = (p5pkg['Perlito5::Grammar'].ident([v_str_847, v_p_857], ""));
				(function () {
					if ( p5bool(v_m_856) ) {
					v_modifiers_860 = (p5pkg['Perlito5::Match'].flat([v_m_856], ""));
				}
				})();
				(function () {
					if ( p5bool(p5m(v_modifiers_860, 'e', '', 0)) ) {
					(function () {
						var v_m_861;
						v_m_861 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([(new p5ArrayRef(p5list_to_a(['{', List_replace_858, '}']))), 0]), ""));
						(function () {
							if ( !( p5bool(v_m_861)) ) {
							p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
						}
						})();
						v_replace_859 = (p5pkg['Perlito5::Match'].flat([v_m_861], ""));
						(function () {
							if ( p5bool(p5m(v_modifiers_860, 'ee', '', 0)) ) {
							v_replace_859 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['sig', null, 'stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'eval', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef([v_replace_859]))]), 1)]))), 'bareword', '', 'namespace', '']), 1)])))]), ""));
						}
						})();
					})();
				}
				else {
					(function () {
						v_interpolate_852 = (1);
						p5and((p5str(v_delimiter_849) == p5pkg['Perlito5::Grammar::String'].chr([39], "")), function () {
							return p5context([v_interpolate_852 = (3)], 0)
						});
						var v_m_862;
						v_m_862 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse(p5list_to_a([(new p5ArrayRef(p5list_to_a([v_open_delimiter_850, List_replace_858, v_closing_delimiter_851]))), 1, v_open_delimiter_850, v_closing_delimiter_851, v_interpolate_852]), ""));
						(function () {
							if ( !( p5bool(v_m_862)) ) {
							p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
						}
						})();
						v_replace_859 = (p5pkg['Perlito5::Match'].flat([v_m_862], ""));
					})();
				}
				})();
				(function () {
					if ( p5bool(v_m_856) ) {
					(v_part2_855 || (v_part2_855 = new p5HashRef({})))._hash_.p5hset('to', ((v_m_856 || (v_m_856 = new p5HashRef({})))._hash_.p5hget('to')));
				}
				})();
				(v_part2_855 || (v_part2_855 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:s', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex_854, v_replace_859, p5call('Perlito5::AST::Buf', 'new', ['buf', v_modifiers_860], 1), p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1)]))), 'namespace', '']), "")));
				return (p5context([v_part2_855], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2897._prototype_ = null;
		return tmp2897
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'qr_quote_parse', (function () {
		var tmp2900;
		tmp2900 = function (List__, p5want) {
			try {
				var v_str_863;
				v_str_863 = (List__.p5aget(0));
				var v_pos_864;
				v_pos_864 = (List__.p5aget(1));
				var v_delimiter_865;
				v_delimiter_865 = ((v_str_863 || (v_str_863 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_864) - 1)));
				var v_open_delimiter_866;
				v_open_delimiter_866 = (v_delimiter_865);
				var v_closing_delimiter_867;
				v_closing_delimiter_867 = (v_delimiter_865);
				p5and((Hash_pair_819).hasOwnProperty(v_delimiter_865), function () {
					return v_closing_delimiter_867 = (Hash_pair_819.p5hget(p5str(v_delimiter_865)))
				});
				var v_interpolate_868;
				v_interpolate_868 = (2);
				p5and((p5str(v_delimiter_865) == String.fromCharCode(39)), function () {
					return v_interpolate_868 = (3)
				});
				var v_part1_869;
				v_part1_869 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_863, v_pos_864, v_open_delimiter_866, v_closing_delimiter_867, v_interpolate_868], ""));
				p5or(v_part1_869, function () {
					throw(p5context([v_part1_869], p5want))
				});
				var v_str_regex_870;
				v_str_regex_870 = ((v_part1_869 || (v_part1_869 = new p5HashRef({})))._hash_.p5hget('capture'));
				var v_p_871;
				v_p_871 = ((v_part1_869 || (v_part1_869 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_modifiers_872;
				v_modifiers_872 = ('');
				var v_m_873;
				v_m_873 = (p5pkg['Perlito5::Grammar'].ident([v_str_863, v_p_871], ""));
				(function () {
					if ( p5bool(v_m_873) ) {
					v_modifiers_872 = (p5pkg['Perlito5::Match'].flat([v_m_873], ""));
					(v_part1_869 || (v_part1_869 = new p5HashRef({})))._hash_.p5hset('to', ((v_m_873 || (v_m_873 = new p5HashRef({})))._hash_.p5hget('to')));
				}
				})();
				(v_part1_869 || (v_part1_869 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:qr', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex_870, p5call('Perlito5::AST::Buf', 'new', ['buf', v_modifiers_872], 1)]))), 'namespace', '']), "")));
				return (p5context([v_part1_869], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2900._prototype_ = null;
		return tmp2900
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'qx_quote_parse', (function () {
		var tmp2901;
		tmp2901 = function (List__, p5want) {
			var v_str_874;
			v_str_874 = (List__.p5aget(0));
			var v_pos_875;
			v_pos_875 = (List__.p5aget(1));
			var v_delimiter_876;
			v_delimiter_876 = ((v_str_874 || (v_str_874 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_875) - 1)));
			var v_open_delimiter_877;
			v_open_delimiter_877 = (v_delimiter_876);
			p5and((Hash_pair_819).hasOwnProperty(v_delimiter_876), function () {
					return v_delimiter_876 = (Hash_pair_819.p5hget(p5str(v_delimiter_876)))
				});
			var v_m_878;
			v_m_878 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_874, v_pos_875, v_open_delimiter_877, v_delimiter_876, 0], ""));
			(function () {
					if ( p5bool(v_m_878) ) {
					(v_m_878 || (v_m_878 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'qx', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_m_878], 1)]))), 'namespace', '']), "")));
				}
				})();
			return (p5context([v_m_878], p5want));
		};
		tmp2901._prototype_ = null;
		return tmp2901
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'glob_quote_parse', (function () {
		var tmp2902;
		tmp2902 = function (List__, p5want) {
			try {
				var v_str_879;
				v_str_879 = (List__.p5aget(0));
				var v_pos_880;
				v_pos_880 = (List__.p5aget(1));
				var v_delimiter_881;
				v_delimiter_881 = ((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_880) - 1)));
				var v_open_delimiter_882;
				v_open_delimiter_882 = (v_delimiter_881);
				p5and((Hash_pair_819).hasOwnProperty(v_delimiter_881), function () {
					return v_delimiter_881 = (Hash_pair_819.p5hget(p5str(v_delimiter_881)))
				});
				(function () {
					if ( ((p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_880))) == '<') && ((p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_880) + 1))) == '>') && (p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_880) + 2))) == '>'))) ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_879, 'from', v_pos_880, 'to', (p5num(v_pos_880) + 3), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'readline', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', '<>', 'arguments', (new p5ArrayRef([])), 'namespace', '', 'bareword', 1]), 1)]))), 'namespace', '']), 1)])))));
				}
				})();
				(function () {
					if ( (p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_880))) == '>') ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_879, 'from', v_pos_880, 'to', (p5num(v_pos_880) + 1), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'readline', 'arguments', (new p5ArrayRef([])), 'namespace', '']), 1)])))));
				}
				})();
				var v_p_883;
				v_p_883 = (v_pos_880);
				var v_sigil_884;
				v_sigil_884 = ('::');
				(function () {
					if ( (p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_883))) == '$') ) {
					v_sigil_884 = ('$');
					(function () {
						var tmp2903 = v_p_883;
						v_p_883 = p5incr_(tmp2903);
						return tmp2903
					})();
				}
				})();
				var v_m_namespace_885;
				v_m_namespace_885 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident([v_str_879, v_p_883], ""));
				var v_namespace_886;
				v_namespace_886 = (p5pkg['Perlito5::Match'].flat([v_m_namespace_885], ""));
				v_p_883 = ((v_m_namespace_885 || (v_m_namespace_885 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_m_name_887;
				v_m_name_887 = (p5pkg['Perlito5::Grammar'].ident([v_str_879, v_p_883], ""));
				(function () {
					if ( (p5bool(v_m_name_887) && (p5str((v_str_879 || (v_str_879 = new p5ArrayRef([])))._array_.p5aget(p5num((v_m_name_887 || (v_m_name_887 = new p5HashRef({})))._hash_.p5hget('to')))) == '>')) ) {
					(function () {
						if ( (p5str(v_sigil_884) == '::') ) {
						throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_879, 'from', v_pos_880, 'to', (p5num((v_m_name_887 || (v_m_name_887 = new p5HashRef({})))._hash_.p5hget('to')) + 1), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'readline', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', p5pkg['Perlito5::Match'].flat([v_m_name_887], 1), 'arguments', (new p5ArrayRef([])), 'namespace', v_namespace_886, 'bareword', 1]), 1)]))), 'namespace', '']), 1)])))));
					}
					})();
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_879, 'from', v_pos_880, 'to', (p5num((v_m_name_887 || (v_m_name_887 = new p5HashRef({})))._hash_.p5hget('to')) + 1), 'capture', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'readline', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', v_sigil_884, 'name', p5pkg['Perlito5::Match'].flat([v_m_name_887], 1), 'namespace', v_namespace_886]), 1)]))), 'namespace', '']), 1)])))));
				}
				})();
				var v_m_888;
				v_m_888 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_879, v_pos_880, v_open_delimiter_882, v_delimiter_881, 1], ""));
				(function () {
					if ( p5bool(v_m_888) ) {
					(v_m_888 || (v_m_888 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'glob', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_m_888], 1)]))), 'namespace', '']), "")));
				}
				})();
				return (p5context([v_m_888], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2902._prototype_ = null;
		return tmp2902
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'tr_quote_parse', (function () {
		var tmp2904;
		tmp2904 = function (List__, p5want) {
			try {
				var v_str_889;
				v_str_889 = (List__.p5aget(0));
				var v_pos_890;
				v_pos_890 = (List__.p5aget(1));
				var v_delimiter_891;
				v_delimiter_891 = ((v_str_889 || (v_str_889 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_890) - 1)));
				var v_open_delimiter_892;
				v_open_delimiter_892 = (v_delimiter_891);
				var v_closing_delimiter_893;
				v_closing_delimiter_893 = (v_delimiter_891);
				p5and((Hash_pair_819).hasOwnProperty(v_delimiter_891), function () {
					return v_closing_delimiter_893 = (Hash_pair_819.p5hget(p5str(v_delimiter_891)))
				});
				var v_interpolate_894;
				v_interpolate_894 = (2);
				p5and((p5str(v_delimiter_891) == String.fromCharCode(39)), function () {
					return v_interpolate_894 = (3)
				});
				var v_part1_895;
				v_part1_895 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_889, v_pos_890, v_open_delimiter_892, v_closing_delimiter_893, v_interpolate_894], ""));
				p5or(v_part1_895, function () {
					throw(p5context([v_part1_895], p5want))
				});
				var v_str_regex_896;
				v_str_regex_896 = (p5pkg['Perlito5::Match'].flat([v_part1_895], ""));
				var v_part2_897;
				var v_m_898;
				var v_p_899;
				v_p_899 = ((v_part1_895 || (v_part1_895 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (Hash_pair_819).hasOwnProperty(v_delimiter_891) ) {
					(function () {
						v_m_898 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_889, v_p_899], ""));
						v_p_899 = ((v_m_898 || (v_m_898 = new p5HashRef({})))._hash_.p5hget('to'));
						v_delimiter_891 = ((v_str_889 || (v_str_889 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_899)));
						var v_open_delimiter_900;
						v_open_delimiter_900 = (v_delimiter_891);
						(function () {
							var tmp2905 = v_p_899;
							v_p_899 = p5incr_(tmp2905);
							return tmp2905
						})();
						v_closing_delimiter_893 = (v_delimiter_891);
						p5and((Hash_pair_819).hasOwnProperty(v_delimiter_891), function () {
							return v_closing_delimiter_893 = (Hash_pair_819.p5hget(p5str(v_delimiter_891)))
						});
						v_interpolate_894 = (2);
						p5and((p5str(v_delimiter_891) == String.fromCharCode(39)), function () {
							return v_interpolate_894 = (3)
						});
						v_part2_897 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_889, v_p_899, v_open_delimiter_900, v_closing_delimiter_893, v_interpolate_894], ""));
						p5or(v_part2_897, function () {
							throw(p5context([v_part2_897], p5want))
						});
					})();
				}
				else {
					v_part2_897 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_889, v_p_899, v_open_delimiter_892, v_closing_delimiter_893, v_interpolate_894], ""));
					p5or(v_part2_897, function () {
						throw(p5context([v_part2_897], p5want))
					});
				}
				})();
				v_p_899 = ((v_part2_897 || (v_part2_897 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_modifiers_901;
				v_modifiers_901 = ('');
				v_m_898 = (p5pkg['Perlito5::Grammar'].ident([v_str_889, v_p_899], ""));
				(function () {
					if ( p5bool(v_m_898) ) {
					v_modifiers_901 = (p5pkg['Perlito5::Match'].flat([v_m_898], ""));
					(v_part2_897 || (v_part2_897 = new p5HashRef({})))._hash_.p5hset('to', ((v_m_898 || (v_m_898 = new p5HashRef({})))._hash_.p5hget('to')));
				}
				})();
				(v_part2_897 || (v_part2_897 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:tr', 'arguments', (new p5ArrayRef(p5list_to_a([v_str_regex_896, p5pkg['Perlito5::Match'].flat([v_part2_897], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', v_modifiers_901], 1), p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1)]))), 'namespace', '']), "")));
				return (p5context([v_part2_897], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2904._prototype_ = null;
		return tmp2904
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'apply_quote_flags', (function () {
		var tmp2906;
		tmp2906 = function (List__, p5want) {
			try {
				var v_c_902;
				var v_quote_flags_903;
				(function () {
					var tmp2907 = p5list_to_a([List__]);
					var tmp2908 = tmp2907.slice(0);
					v_c_902 = tmp2907.shift();
					v_quote_flags_903 = tmp2907.shift();
					return tmp2908
				})();
				p5or(p5pkg['Perlito5::Grammar::String'].length([v_c_902], ""), function () {
					throw(p5context([v_c_902], p5want))
				});
				(function () {
					if ( p5bool((v_quote_flags_903 || (v_quote_flags_903 = new p5HashRef({})))._hash_.p5hget('l')) ) {
					v_c_902 = (p5pkg['Perlito5::Grammar::String'].lcfirst([v_c_902], ""));
					(delete v_quote_flags_903._hash_['l']);
				}
				})();
				(function () {
					if ( p5bool((v_quote_flags_903 || (v_quote_flags_903 = new p5HashRef({})))._hash_.p5hget('u')) ) {
					v_c_902 = (p5pkg['Perlito5::Grammar::String'].ucfirst([v_c_902], ""));
					(delete v_quote_flags_903._hash_['u']);
				}
				})();
				p5and((v_quote_flags_903 || (v_quote_flags_903 = new p5HashRef({})))._hash_.p5hget('L'), function () {
					return v_c_902 = (p5pkg['Perlito5::Grammar::String'].lc([v_c_902], ""))
				});
				p5and((v_quote_flags_903 || (v_quote_flags_903 = new p5HashRef({})))._hash_.p5hget('U'), function () {
					return v_c_902 = (p5pkg['Perlito5::Grammar::String'].uc([v_c_902], ""))
				});
				p5and((v_quote_flags_903 || (v_quote_flags_903 = new p5HashRef({})))._hash_.p5hget('Q'), function () {
					return v_c_902 = (p5pkg['Perlito5::Grammar::String'].quotemeta([v_c_902], ""))
				});
				return (p5context([v_c_902], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2906._prototype_ = null;
		return tmp2906
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'string_interpolation_parse', (function () {
		var tmp2909;
		tmp2909 = function (List__, p5want) {
			var v_str_904;
			v_str_904 = (List__.p5aget(0));
			var v_pos_905;
			v_pos_905 = (List__.p5aget(1));
			var v_open_delimiter_906;
			v_open_delimiter_906 = (List__.p5aget(2));
			var v_delimiter_907;
			v_delimiter_907 = (List__.p5aget(3));
			var v_interpolate_908;
			v_interpolate_908 = (List__.p5aget(4));
			var v_quote_flags_909;
			v_quote_flags_909 = (p5or(List__.p5aget(5), function () {
							return (new p5HashRef({}))
						}));
			var v_interpolate_vars_910;
			v_interpolate_vars_910 = (p5context([p5or((p5num(v_interpolate_908) == 1), function () {
							return (p5num(v_interpolate_908) == 2)
						})], 0));
			var v_p_911;
			v_p_911 = (v_pos_905);
			var v_balanced_912;
			v_balanced_912 = (p5and(v_open_delimiter_906, function () {
							return (Hash_pair_819).hasOwnProperty(v_open_delimiter_906)
						}));
			var List_args_913 = [];
			var v_buf_914;
			v_buf_914 = ('');
			var v_d1_915;
			v_d1_915 = (p5str(v_delimiter_907).substr(0, 1));
			(function () {
					p5while(function () {
						var v_c_916;
						v_c_916 = ((v_str_904 || (v_str_904 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_911)));
						var v_c2_917;
						v_c2_917 = ((v_str_904 || (v_str_904 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_911) + 1)));
						var v_m_918;
						var v_more_919;
						v_more_919 = ('');
						(function () {
							if ( (p5bool(v_balanced_912) && ((p5str(v_c_916) == String.fromCharCode(92)) && ((p5str(v_c2_917) == p5str(v_open_delimiter_906)) || (p5str(v_c2_917) == p5str(v_delimiter_907))))) ) {
							(function () {
								var tmp2910 = v_p_911;
								v_p_911 = p5incr_(tmp2910);
								return tmp2910
							})();
							v_c_916 = (v_c2_917);
						}
						else (function () {
							if ( (p5bool(v_balanced_912) && (p5str(v_c_916) == p5str(v_open_delimiter_906))) ) {
							(v_buf_914 = ((p5str(v_buf_914) + p5str(v_c_916))));
							(function () {
								var tmp2911 = v_p_911;
								v_p_911 = p5incr_(tmp2911);
								return tmp2911
							})();
							v_m_918 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_904, v_p_911, v_open_delimiter_906, v_delimiter_907, v_interpolate_908, v_quote_flags_909], ""));
							v_more_919 = (v_delimiter_907);
						}
						else (function () {
							if ( (p5bool(v_interpolate_vars_910) && ((p5str(v_c_916) == '$') || (p5str(v_c_916) == '@'))) ) {
							(function () {
								var v_match_920;
								v_match_920 = (p5pkg['Perlito5::Grammar::String'].double_quoted_var([v_str_904, v_p_911, v_delimiter_907, v_interpolate_908], ""));
								(function () {
									if ( p5bool(v_match_920) ) {
									(function () {
										var v_ast_921;
										v_ast_921 = ((v_match_920 || (v_match_920 = new p5HashRef({})))._hash_.p5hget('capture'));
										(function () {
											if ( p5bool((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('l')) ) {
											v_ast_921 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'lcfirst', 'arguments', (new p5ArrayRef([v_ast_921]))]), ""));
											(delete v_quote_flags_909._hash_['l']);
										}
										})();
										(function () {
											if ( p5bool((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('u')) ) {
											v_ast_921 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'ucfirst', 'arguments', (new p5ArrayRef([v_ast_921]))]), ""));
											(delete v_quote_flags_909._hash_['u']);
										}
										})();
										p5and((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('L'), function () {
											return v_ast_921 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'lc', 'arguments', (new p5ArrayRef([v_ast_921]))]), ""))
										});
										p5and((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('U'), function () {
											return v_ast_921 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'uc', 'arguments', (new p5ArrayRef([v_ast_921]))]), ""))
										});
										p5and((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('Q'), function () {
											return v_ast_921 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'quotemeta', 'arguments', (new p5ArrayRef([v_ast_921]))]), ""))
										});
										(v_match_920 || (v_match_920 = new p5HashRef({})))._hash_.p5hset('capture', (v_ast_921));
									})();
								}
								})();
								v_m_918 = (v_match_920);
							})();
						}
						else (function () {
							if ( (p5str(v_c_916) == String.fromCharCode(92)) ) {
							(function () {
								if ( p5bool(v_interpolate_908) ) {
								(function () {
									if ( (p5str(v_c2_917) == 'E') ) {
									(function () {
										var v_flag_to_reset_922;
										v_flag_to_reset_922 = ((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('last_flag'));
										(function () {
											if ( p5bool(v_flag_to_reset_922) ) {
											(delete v_quote_flags_909._hash_[v_flag_to_reset_922]);
											(delete v_quote_flags_909._hash_['last_flag']);
										}
										else {
											v_quote_flags_909 = ((new p5HashRef({})));
										}
										})();
										(v_p_911 = ((p5num(v_p_911) + 1)));
										v_c_916 = ('');
									})();
								}
								else (function () {
									if ( (p5str(v_c2_917) == 'L') ) {
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset(p5str(v_c2_917), (1));
									(delete v_quote_flags_909._hash_['U']);
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2_917));
									(v_p_911 = ((p5num(v_p_911) + 1)));
									v_c_916 = ('');
								}
								else (function () {
									if ( (p5str(v_c2_917) == 'U') ) {
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset(p5str(v_c2_917), (1));
									(delete v_quote_flags_909._hash_['L']);
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2_917));
									(v_p_911 = ((p5num(v_p_911) + 1)));
									v_c_916 = ('');
								}
								else (function () {
									if ( (p5str(v_c2_917) == 'Q') ) {
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset(p5str(v_c2_917), (1));
									(v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset('last_flag', (v_c2_917));
									(v_p_911 = ((p5num(v_p_911) + 1)));
									v_c_916 = ('');
								}
								else (function () {
									if ( (p5str(v_c2_917) == 'l') ) {
									p5or((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('u'), function () {
										return (v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset(p5str(v_c2_917), (1))
									});
									(v_p_911 = ((p5num(v_p_911) + 1)));
									v_c_916 = ('');
								}
								else (function () {
									if ( (p5str(v_c2_917) == 'u') ) {
									p5or((v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hget('l'), function () {
										return (v_quote_flags_909 || (v_quote_flags_909 = new p5HashRef({})))._hash_.p5hset(p5str(v_c2_917), (1))
									});
									(v_p_911 = ((p5num(v_p_911) + 1)));
									v_c_916 = ('');
								}
								})()
								})()
								})()
								})()
								})()
								})();
							}
							})();
							(function () {
								if ( p5bool(v_c_916) ) {
								(function () {
									if ( (p5num(v_interpolate_908) == 2) ) {
									v_m_918 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_904, 'from', v_p_911, 'to', (p5num(v_p_911) + 2), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', (p5str((v_str_904 || (v_str_904 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_911))) + p5str((v_str_904 || (v_str_904 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_911) + 1))))], 1)])))));
								}
								else (function () {
									if ( (p5num(v_interpolate_908) == 1) ) {
									v_m_918 = (p5pkg['Perlito5::Grammar::String'].double_quoted_unescape([v_str_904, v_p_911], ""));
								}
								else {
									v_m_918 = (( (p5str(v_c2_917) == String.fromCharCode(92)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_904, 'from', v_p_911, 'to', (p5num(v_p_911) + 2), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', String.fromCharCode(92)], 1)])))) : ( (p5str(v_c2_917) == String.fromCharCode(39)) ? (new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_904, 'from', v_p_911, 'to', (p5num(v_p_911) + 2), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', String.fromCharCode(39)], 1)])))) : 0)));
								}
								})()
								})();
							}
							})();
						}
						})()
						})()
						})()
						})();
						(function () {
							if ( p5bool(v_m_918) ) {
							(function () {
								var v_obj_923;
								v_obj_923 = (p5pkg['Perlito5::Match'].flat([v_m_918], ""));
								(function () {
									if ( (p5pkg['Perlito5::Grammar::String'].ref([v_obj_923], "") == 'Perlito5::AST::Buf') ) {
									(v_buf_914 = ((p5str(v_buf_914) + p5str(p5pkg['Perlito5::Grammar::String'].apply_quote_flags(p5list_to_a([(v_obj_923 || (v_obj_923 = new p5HashRef({})))._hash_.p5hget('buf'), v_quote_flags_909]), "")))));
									v_obj_923 = (null);
								}
								})();
								(function () {
									if ( p5bool(v_obj_923) ) {
									(function () {
										if ( p5bool(p5pkg['Perlito5::Grammar::String'].length([v_buf_914], "")) ) {
										List_args_913.p5push(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_buf_914], 1)]));
										v_buf_914 = ('');
									}
									})();
									List_args_913.p5push([v_obj_923]);
								}
								})();
								v_p_911 = ((v_m_918 || (v_m_918 = new p5HashRef({})))._hash_.p5hget('to'));
								(v_buf_914 = ((p5str(v_buf_914) + p5str(v_more_919))));
							})();
						}
						else {
							(function () {
								var tmp2912 = v_p_911;
								v_p_911 = p5incr_(tmp2912);
								return tmp2912
							})();
							(function () {
								if ( ((p5str(v_c_916) == p5pkg['Perlito5::Grammar::String'].chr([10], "")) || (p5str(v_c_916) == p5pkg['Perlito5::Grammar::String'].chr([13], ""))) ) {
								(function () {
									var v_m_924;
									v_m_924 = (p5pkg['Perlito5::Grammar::String'].here_doc([v_str_904, v_p_911], ""));
									(function () {
										if ( (p5num(v_p_911) != p5num((v_m_924 || (v_m_924 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
										v_p_911 = ((v_m_924 || (v_m_924 = new p5HashRef({})))._hash_.p5hget('to'));
									}
									else {
										(v_buf_914 = ((p5str(v_buf_914) + p5str(p5pkg['Perlito5::Grammar::String'].apply_quote_flags([v_c_916, v_quote_flags_909], "")))));
									}
									})();
								})();
							}
							else {
								(v_buf_914 = ((p5str(v_buf_914) + p5str(p5pkg['Perlito5::Grammar::String'].apply_quote_flags([v_c_916, v_quote_flags_909], "")))));
							}
							})();
						}
						})();
					}, function () {
						return p5and((p5num(v_p_911) < p5num(p5num(p5array_deref((v_str_904 || (v_str_904 = new p5ArrayRef([]))), 'Perlito5::Grammar::String')))), function () {
							return !( ((p5str((v_str_904 || (v_str_904 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_911))) == p5str(v_d1_915)) && (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_904 || (v_str_904 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_p_911, ((p5num(v_p_911) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_907], "")) - 1), 1, "tmp2913", 0)]), 1)])), "") == p5str(v_delimiter_907))))
						})
					}, false, '', 0)
				})();
			(function () {
					if ( p5bool(p5pkg['Perlito5::Grammar::String'].length([v_buf_914], "")) ) {
					List_args_913.p5push(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_buf_914], 1)]));
				}
				})();
			p5and((p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_904 || (v_str_904 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_p_911, ((p5num(v_p_911) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_907], "")) - 1), 1, "tmp2914", 0)]), 1)])), "") != p5str(v_delimiter_907)), function () {
					return p5pkg['Perlito5::Compiler'].error([('Can' + String.fromCharCode(39) + 't find string terminator ' + String.fromCharCode(39) + p5str(v_delimiter_907) + String.fromCharCode(39) + ' anywhere before EOF')], null)
				});
			(v_p_911 = ((p5num(v_p_911) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_907], ""))));
			var v_ast_925;
			(function () {
					if ( !( p5bool(List_args_913.length)) ) {
					v_ast_925 = (p5call('Perlito5::AST::Buf', 'new', ['buf', ''], ""));
				}
				else (function () {
					if ( (p5num(List_args_913.length) == 1) ) {
					v_ast_925 = (List_args_913.p5aget(0));
				}
				else {
					v_ast_925 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['namespace', '', 'code', 'list:<.>', 'arguments', (new p5ArrayRef(List_args_913))]), ""));
				}
				})()
				})();
			return ((new p5HashRef({'str' : v_str_904, 'from' : v_pos_905, 'to' : v_p_911, 'capture' : v_ast_925})));
		};
		tmp2909._prototype_ = null;
		return tmp2909
	})());
	if (typeof p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'] == "undefined" ) { p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'] = [];}
	p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'];
	p5typeglob_set('Perlito5::Grammar::String', 'here_doc_wanted', (function () {
		var tmp2915;
		tmp2915 = function (List__, p5want) {
			try {
				var v_str_927;
				v_str_927 = (List__.p5aget(0));
				var v_pos_928;
				v_pos_928 = (List__.p5aget(1));
				var v_delimiter_929;
				var v_type_930;
				v_type_930 = ('double_quote');
				var v_indented_931;
				v_indented_931 = (0);
				var v_p_932;
				v_p_932 = (v_pos_928);
				(function () {
					if ( ((p5str((v_str_927 || (v_str_927 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_932))) == '<') && (p5str((v_str_927 || (v_str_927 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_932) + 1))) == '<')) ) {
					(function () {
						(v_p_932 = ((p5num(v_p_932) + 2)));
						var v_quote_933;
						v_quote_933 = ((v_str_927 || (v_str_927 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_932)));
						(function () {
							if ( (p5str(v_quote_933) == '~') ) {
							v_indented_931 = (1);
							(function () {
								var tmp2916 = v_p_932;
								v_p_932 = p5incr_(tmp2916);
								return tmp2916
							})();
							v_quote_933 = ((v_str_927 || (v_str_927 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_932)));
						}
						})();
						(function () {
							if ( ((p5str(v_quote_933) == String.fromCharCode(39)) || (p5str(v_quote_933) == '"')) ) {
							(function () {
								(v_p_932 = ((p5num(v_p_932) + 1)));
								var v_m_934;
								v_m_934 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse(p5list_to_a([List__.p5aget(0), v_p_932, v_quote_933, v_quote_933, 0]), ""));
								(function () {
									if ( p5bool(v_m_934) ) {
									v_p_932 = ((v_m_934 || (v_m_934 = new p5HashRef({})))._hash_.p5hget('to'));
									v_delimiter_929 = (p5pkg['Perlito5::Match'].flat([v_m_934], p5want)._hash_.p5hget('buf'));
									v_type_930 = (( (p5str(v_quote_933) == String.fromCharCode(39)) ? 'single_quote' : 'double_quote'));
								}
								})();
							})();
						}
						else {
							(function () {
								p5and((p5str(v_quote_933) == String.fromCharCode(92)), function () {
									return (v_p_932 = ((p5num(v_p_932) + 1)))
								});
								var v_m_935;
								v_m_935 = (p5pkg['Perlito5::Grammar'].ident([v_str_927, v_p_932], ""));
								(function () {
									if ( p5bool(v_m_935) ) {
									v_p_932 = ((v_m_935 || (v_m_935 = new p5HashRef({})))._hash_.p5hget('to'));
									v_delimiter_929 = (p5pkg['Perlito5::Match'].flat([v_m_935], ""));
									v_type_930 = (( (p5str(v_quote_933) == String.fromCharCode(92)) ? 'single_quote' : 'double_quote'));
								}
								else {
									p5and(p5make_package('Perlito5')['v_WARNINGS'], function () {
										return p5pkg['Perlito5::Grammar::String'].warn([].concat(['Use of bare << to mean <<"" is deprecated']), null)
									});
									v_delimiter_929 = ('');
									v_type_930 = ('double_quote');
								}
								})();
							})();
						}
						})();
					})();
				}
				})();
				(function () {
					if ( !( (v_delimiter_929 != null)) ) {
					throw(p5context([0], p5want));
				}
				})();
				var v_placeholder_936;
				v_placeholder_936 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'list:<.>', 'namespace', '', 'arguments', (new p5ArrayRef([]))]), 1)])))]), ""));
				p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'].p5push(p5list_to_a([(new p5ArrayRef(p5list_to_a([v_type_930, (v_placeholder_936 || (v_placeholder_936 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('arguments'), v_delimiter_929, v_indented_931])))]));
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_927, 'from', v_pos_928, 'to', v_p_932, 'capture', (new p5ArrayRef(['term', v_placeholder_936]))])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2915._prototype_ = null;
		return tmp2915
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'newline', (function () {
		var tmp2917;
		tmp2917 = function (List__, p5want) {
			var v_str_937;
			v_str_937 = (List__.p5aget(0));
			var v_pos_938;
			v_pos_938 = (List__.p5aget(1));
			var v_MATCH_939;
			v_MATCH_939 = ((new p5HashRef({'str' : v_str_937, 'from' : v_pos_938, 'to' : v_pos_938})));
			var v_tmp_940;
			v_tmp_940 = (p5context([p5context([(function () {
							var v_pos1_941;
							v_pos1_941 = ((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([(String.fromCharCode(10) == p5str((v_str_937 || (v_str_937 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												var v_m_942;
												v_m_942 = (v_MATCH_939);
												(function () {
													if ( !( ((String.fromCharCode(13) == p5str((v_str_937 || (v_str_937 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 0)))) && p5bool((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))))) ) {
													v_MATCH_939 = (v_m_942);
												}
												})();
												return ((1));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_941));
										return ((p5context([p5and(p5context([p5and(p5context([(String.fromCharCode(13) == p5str((v_str_937 || (v_str_937 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_m_943;
													v_m_943 = (v_MATCH_939);
													(function () {
														if ( !( ((String.fromCharCode(10) == p5str((v_str_937 || (v_str_937 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 0)))) && p5bool((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_939 || (v_MATCH_939 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))))) ) {
														v_MATCH_939 = (v_m_943);
													}
													})();
													return ((1));
												})()], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_940) ? v_MATCH_939 : null));
		};
		tmp2917._prototype_ = null;
		return tmp2917
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'here_doc', (function () {
		var tmp2918;
		tmp2918 = function (List__, p5want) {
			try {
				var v_str_944;
				v_str_944 = (List__.p5aget(0));
				var v_pos_945;
				v_pos_945 = (List__.p5aget(1));
				(function () {
					if ( !( p5bool(p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'].length)) ) {
					throw((new p5HashRef({'str' : v_str_944, 'from' : v_pos_945, 'to' : v_pos_945})));
				}
				})();
				var v_p_946;
				v_p_946 = (v_pos_945);
				var v_here_947;
				v_here_947 = (p5pkg[p5make_package('Perlito5::Grammar::String')['List_Here_doc'] || (p5make_package('Perlito5::Grammar::String')['List_Here_doc'] = []), 'Perlito5::Grammar::String']['List_Here_doc'].shift());
				var v_type_948;
				v_type_948 = ((v_here_947 || (v_here_947 = new p5ArrayRef([])))._array_.p5aget(0));
				var v_result_949;
				v_result_949 = ((v_here_947 || (v_here_947 = new p5ArrayRef([])))._array_.p5aget(1));
				var v_delimiter_950;
				v_delimiter_950 = ((v_here_947 || (v_here_947 = new p5ArrayRef([])))._array_.p5aget(2));
				var v_indented_951;
				v_indented_951 = ((v_here_947 || (v_here_947 = new p5ArrayRef([])))._array_.p5aget(3));
				(function () {
					p5while(function () {
						var v_spaces_952;
						v_spaces_952 = ('');
						var v_p0_953;
						v_p0_953 = (v_p_946);
						(function () {
							if ( p5bool(v_indented_951) ) {
							(function () {
								p5while(function () {
									p5and(p5and((p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) != ' '), function () {
										return (p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) != String.fromCharCode(9))
									}), function () {
										throw(new p5_error("last", ''))
									});
									(function () {
										var tmp2919 = v_p_946;
										v_p_946 = p5incr_(tmp2919);
										return tmp2919
									})();
								}, function () {
									return (p5num(v_p_946) < p5num(p5num(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'))))
								}, false, '', 0)
							})();
							v_spaces_952 = (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_p0_953, (p5num(v_p_946) - 1), 1, "tmp2920", 0)]), 1)])), ""));
						}
						})();
						(function () {
							if ( (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_p_946, ((p5num(v_p_946) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_950], "")) - 1), 1, "tmp2921", 0)]), 1)])), "") == p5str(v_delimiter_950)) ) {
							(function () {
								var v_c_954;
								v_c_954 = ((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_946) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_950], ""))));
								(function () {
									if ( ((p5str(v_c_954) == '') || ((p5str(v_c_954) == ' ') || ((p5str(v_c_954) == String.fromCharCode(9)) || ((p5str(v_c_954) == p5pkg['Perlito5::Grammar::String'].chr([10], "")) || (p5str(v_c_954) == p5pkg['Perlito5::Grammar::String'].chr([13], "")))))) ) {
									(function () {
										var List_here_string_955 = [];
										List_here_string_955 = p5list_to_a([CORE.split([String.fromCharCode(10), p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range(v_pos_945, (p5num(v_p_946) - 1), 1, "tmp2922", 0)]), 1)])), p5want), p5negative( 1)], 1)]);
										(function () {
											if ( p5bool(p5pkg['Perlito5::Grammar::String'].length([v_spaces_952], "")) ) {
											(function () {
												var v_l_956;
												v_l_956 = (p5pkg['Perlito5::Grammar::String'].length([v_spaces_952], ""));
												(function () {
													var v_i_957;
													(function(){ var v_i_957; p5for_lex(function (v) { v_i_957 = v }, function () {
															(function () {
																if ( (CORE.substr(p5list_to_a([List_here_string_955.p5aget(p5num(v_i_957)), 0, v_l_956]), "") == p5str(v_spaces_952)) ) {
																List_here_string_955.p5aset(p5num(v_i_957), (CORE.substr(p5list_to_a([List_here_string_955.p5aget(p5num(v_i_957)), v_l_956]), "")));
															}
															else {
																p5pkg['Perlito5::Compiler'].error([('Indentation on line ' + p5str(v_i_957) + ' of here-doc doesn' + String.fromCharCode(39) + 't match delimiter')], null);
															}
															})();
														}, p5list_to_a([p5range(0, (List_here_string_955.length - 1), 1, "tmp2923", 0)]), false, '') })()
												})();
											})();
										}
										})();
										(function () {
											if ( (p5str(v_type_948) == 'single_quote') ) {
											p5array_deref((v_result_949 || (v_result_949 = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].join([String.fromCharCode(10)].concat(p5list_to_a([List_here_string_955])), 1)], 1)]));
										}
										else {
											(function () {
												var v_m_958;
												var v_str_959;
												v_str_959 = ((new p5ArrayRef(p5list_to_a([CORE.split(['', p5pkg['Perlito5::Grammar::String'].join([String.fromCharCode(10)].concat(p5list_to_a([List_here_string_955, (p5str(v_delimiter_950) + String.fromCharCode(10))])), p5want)], 1)]))));
												v_m_958 = (p5pkg['Perlito5::Grammar::String'].string_interpolation_parse([v_str_959, 0, '', (String.fromCharCode(10) + p5str(v_delimiter_950) + String.fromCharCode(10)), 1], ""));
												(function () {
													if ( p5bool(v_m_958) ) {
													p5array_deref((v_result_949 || (v_result_949 = new p5ArrayRef([]))), 'Perlito5::Grammar::String').p5push(p5list_to_a([p5pkg['Perlito5::Match'].flat([v_m_958], 1)]));
												}
												else {
													p5pkg['Perlito5::Compiler'].error([('Can' + String.fromCharCode(39) + 't find string terminator "' + p5str(v_delimiter_950) + '" anywhere before EOF')], null);
												}
												})();
											})();
										}
										})();
										(v_p_946 = ((p5num(v_p_946) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_950], ""))));
										var v_m_960;
										v_m_960 = (p5pkg['Perlito5::Grammar::String'].newline([v_str_944, v_p_946], ""));
										(function () {
											if ( ((p5num(v_p_946) >= p5num(p5num(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String')))) || p5bool(v_m_960)) ) {
											p5and(v_m_960, function () {
												return v_p_946 = ((v_m_960 || (v_m_960 = new p5HashRef({})))._hash_.p5hget('to'))
											});
											throw((new p5HashRef({'str' : v_str_944, 'from' : v_pos_945, 'to' : (p5num(v_p_946) - 1)})));
										}
										})();
									})();
								}
								})();
							})();
						}
						})();
						(function () {
							p5while(function () {
								(function () {
									var tmp2924 = v_p_946;
									v_p_946 = p5incr_(tmp2924);
									return tmp2924
								})();
							}, function () {
								return p5and((p5num(v_p_946) < p5num(p5num(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String')))), function () {
									return p5context([p5and((p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) != p5pkg['Perlito5::Grammar::String'].chr([10], "")), function () {
										return (p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) != p5pkg['Perlito5::Grammar::String'].chr([13], ""))
									})], 0)
								})
							}, false, '', 0)
						})();
						(function () {
							p5while(function () {
								(function () {
									var tmp2925 = v_p_946;
									v_p_946 = p5incr_(tmp2925);
									return tmp2925
								})();
							}, function () {
								return p5and((p5num(v_p_946) < p5num(p5num(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String')))), function () {
									return p5context([p5or((p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) == p5pkg['Perlito5::Grammar::String'].chr([10], "")), function () {
										return (p5str((v_str_944 || (v_str_944 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_946))) == p5pkg['Perlito5::Grammar::String'].chr([13], ""))
									})], 0)
								})
							}, false, '', 0)
						})();
					}, function () {
						return (p5num(v_p_946) < p5num(p5num(p5array_deref((v_str_944 || (v_str_944 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'))))
					}, false, '', 0)
				})();
				return (p5pkg['Perlito5::Compiler'].error([('Can' + String.fromCharCode(39) + 't find string terminator "' + p5str(v_delimiter_950) + '" anywhere before EOF')], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2918._prototype_ = null;
		return tmp2918
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'double_quoted_unescape', (function () {
		var tmp2926;
		tmp2926 = function (List__, p5want) {
			var v_str_961;
			v_str_961 = (List__.p5aget(0));
			var v_pos_962;
			v_pos_962 = (List__.p5aget(1));
			var v_c2_963;
			v_c2_963 = ((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_962) + 1)));
			var v_m_964;
			(function () {
					if ( (Hash_escape_sequence_820).hasOwnProperty(v_c2_963) ) {
					v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', (p5num(v_pos_962) + 2), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].chr([Hash_escape_sequence_820.p5hget(p5str(v_c2_963))], 1)], 1)])))));
				}
				else (function () {
					if ( (p5str(v_c2_963) == 'c') ) {
					(function () {
						var v_c3_965;
						v_c3_965 = (((p5pkg['Perlito5::Grammar::String'].ord([p5pkg['Perlito5::Grammar::String'].uc([(v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_962) + 2))], "")], "") - p5pkg['Perlito5::Grammar::String'].ord(['A'], "")) + 1));
						p5and((p5num(v_c3_965) < 0), function () {
							return v_c3_965 = ((128 + p5num(v_c3_965)))
						});
						v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', (p5num(v_pos_962) + 3), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].chr([v_c3_965], 1)], 1)])))));
					})();
				}
				else (function () {
					if ( (p5str(v_c2_963) == 'x') ) {
					(function () {
						if ( (p5str((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_962) + 2))) == '{') ) {
						(function () {
							var v_p_966;
							v_p_966 = ((p5num(v_pos_962) + 3));
							(function () {
								p5while(function () {
									(function () {
										var tmp2927 = v_p_966;
										v_p_966 = p5incr_(tmp2927);
										return tmp2927
									})();
								}, function () {
									return p5and((p5num(v_p_966) < p5num(p5num(p5array_deref((v_str_961 || (v_str_961 = new p5ArrayRef([]))), 'Perlito5::Grammar::String')))), function () {
										return (p5str((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_966))) != '}')
									})
								}, false, '', 0)
							})();
							var v_hex_code_967;
							v_hex_code_967 = (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_961 || (v_str_961 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range((p5num(v_pos_962) + 3), (p5num(v_p_966) - 1), 1, "tmp2928", 0)]), 1)])), ""));
							p5or(v_hex_code_967, function () {
								return v_hex_code_967 = ('0')
							});
							var v_tmp_968;
							v_tmp_968 = (p5pkg['Perlito5::Grammar::String'].oct([('0x' + p5str(v_hex_code_967))], ""));
							v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', (p5num(v_p_966) + 1), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].chr([v_tmp_968], 1)], 1)])))));
						})();
					}
					else {
						(function () {
							var v_p_969;
							v_p_969 = ((p5num(v_pos_962) + 2));
							p5and(Hash_hex_821.p5hget(p5pkg['Perlito5::Grammar::String'].uc([(v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_969))], "")), function () {
								return (function () {
									var tmp2929 = v_p_969;
									v_p_969 = p5incr_(tmp2929);
									return tmp2929
								})()
							});
							p5and(Hash_hex_821.p5hget(p5pkg['Perlito5::Grammar::String'].uc([(v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_969))], "")), function () {
								return (function () {
									var tmp2930 = v_p_969;
									v_p_969 = p5incr_(tmp2930);
									return tmp2930
								})()
							});
							var v_hex_code_970;
							v_hex_code_970 = (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_961 || (v_str_961 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range((p5num(v_pos_962) + 2), (p5num(v_p_969) - 1), 1, "tmp2931", 0)]), 1)])), ""));
							p5or(v_hex_code_970, function () {
								return v_hex_code_970 = ('0')
							});
							var v_tmp_971;
							v_tmp_971 = (p5pkg['Perlito5::Grammar::String'].oct([('0x' + p5str(v_hex_code_970))], ""));
							v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', v_p_969, 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].chr([v_tmp_971], 1)], 1)])))));
						})();
					}
					})();
				}
				else (function () {
					if ( (Hash_octal_822).hasOwnProperty(v_c2_963) ) {
					(function () {
						var v_p_972;
						v_p_972 = ((p5num(v_pos_962) + 1));
						p5and(Hash_octal_822.p5hget(p5str((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_972)))), function () {
							return (function () {
								var tmp2932 = v_p_972;
								v_p_972 = p5incr_(tmp2932);
								return tmp2932
							})()
						});
						p5and(Hash_octal_822.p5hget(p5str((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_972)))), function () {
							return (function () {
								var tmp2933 = v_p_972;
								v_p_972 = p5incr_(tmp2933);
								return tmp2933
							})()
						});
						p5and(Hash_octal_822.p5hget(p5str((v_str_961 || (v_str_961 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_972)))), function () {
							return (function () {
								var tmp2934 = v_p_972;
								v_p_972 = p5incr_(tmp2934);
								return tmp2934
							})()
						});
						var v_oct_code_973;
						v_oct_code_973 = (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_961 || (v_str_961 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range((p5num(v_pos_962) + 1), (p5num(v_p_972) - 1), 1, "tmp2935", 0)]), 1)])), ""));
						var v_tmp_974;
						v_tmp_974 = (p5pkg['Perlito5::Grammar::String'].oct([v_oct_code_973], ""));
						v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', v_p_972, 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::String'].chr([v_tmp_974], 1)], 1)])))));
					})();
				}
				else (function () {
					if ( (p5str(v_c2_963) == 'N') ) {
					p5pkg['Perlito5::Compiler'].error(['TODO - ' + String.fromCharCode(92) + 'N{charname} not implemented; requires ' + String.fromCharCode(39) + 'use charnames' + String.fromCharCode(39)], null);
				}
				else {
					v_m_964 = ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_961, 'from', v_pos_962, 'to', (p5num(v_pos_962) + 2), 'capture', p5call('Perlito5::AST::Buf', 'new', ['buf', v_c2_963], 1)])))));
				}
				})()
				})()
				})()
				})()
				})();
			return (p5context([v_m_964], p5want));
		};
		tmp2926._prototype_ = null;
		return tmp2926
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'double_quoted_var_with_subscript', (function () {
		var tmp2936;
		tmp2936 = function (List__, p5want) {
			try {
				var v_m_var_975;
				v_m_var_975 = (List__.p5aget(0));
				var v_interpolate_976;
				v_interpolate_976 = (List__.p5aget(1));
				var v_str_977;
				v_str_977 = ((v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('str'));
				var v_pos_978;
				v_pos_978 = ((v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_p_979;
				v_p_979 = (v_pos_978);
				var v_m_index_980;
				(function () {
					if ( ((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_979))) == '-') && ((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_979) + 1))) == '>') && (p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_979) + 2))) == '['))) ) {
					(function () {
						(v_p_979 = ((p5num(v_p_979) + 3)));
						v_m_index_980 = (p5pkg['Perlito5::Grammar::Expression'].list_parse([v_str_977, v_p_979], ""));
						p5or(v_m_index_980, function () {
							return p5pkg['Perlito5::Compiler'].error(['syntax error'], null)
						});
						var v_exp_981;
						v_exp_981 = ((v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hget('capture'));
						v_p_979 = ((v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hget('to'));
						p5and(p5or((p5str(v_exp_981) == '*undef*'), function () {
							return (p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_979))) != ']')
						}), function () {
							return p5pkg['Perlito5::Compiler'].error(['syntax error'], null)
						});
						(function () {
							var tmp2937 = v_p_979;
							v_p_979 = p5incr_(tmp2937);
							return tmp2937
						})();
						(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['method', 'postcircumfix:<[ ]>', 'invocant', (v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('capture'), 'arguments', v_exp_981]), "")));
						(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('to', (v_p_979));
						throw(p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_index_980, v_interpolate_976], p5want));
					})();
				}
				})();
				(function () {
					if ( ((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_979))) == '-') && ((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_979) + 1))) == '>') && (p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_979) + 2))) == '{'))) ) {
					(v_pos_978 = ((p5num(v_pos_978) + 2)));
					v_m_index_980 = (p5pkg['Perlito5::Grammar::Expression'].term_curly([v_str_977, v_pos_978], ""));
					p5or(v_m_index_980, function () {
						return p5pkg['Perlito5::Compiler'].error(['syntax error'], null)
					});
					(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Call', 'new', p5list_to_a(['method', 'postcircumfix:<{ }>', 'invocant', (v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('capture'), 'arguments', p5pkg['Perlito5::Match'].flat([v_m_index_980], p5want)._array_.p5aget_array(2)._array_.p5aget(0)]), "")));
					throw(p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_index_980, v_interpolate_976], p5want));
				}
				})();
				(function () {
					if ( (p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_979))) == '[') ) {
					(function () {
						if ( (p5num(v_interpolate_976) == 2) ) {
						(function () {
							var v_m_982;
							v_m_982 = (p5or(p5pkg['Perlito5::Grammar::Number'].term_digit([v_str_977, (p5num(v_p_979) + 1)], ""), function () {
										return p5or(p5context([p5and((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_979) + 1))) == '-'), function () {
											return p5pkg['Perlito5::Grammar::Number'].term_digit([v_str_977, (p5num(v_p_979) + 2)], "")
										})], 0), function () {
											return p5pkg['Perlito5::Grammar::Sigil'].term_sigil([v_str_977, (p5num(v_p_979) + 1)], "")
										})
									}));
							p5or(v_m_982, function () {
								throw(p5context([v_m_var_975], p5want))
							});
							p5or((p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num((v_m_982 || (v_m_982 = new p5HashRef({})))._hash_.p5hget('to')))) == ']'), function () {
								throw(p5context([v_m_var_975], p5want))
							});
						})();
					}
					})();
					(function () {
						var tmp2938 = v_p_979;
						v_p_979 = p5incr_(tmp2938);
						return tmp2938
					})();
					v_m_index_980 = (p5pkg['Perlito5::Grammar::Expression'].list_parse([v_str_977, v_p_979], ""));
					(function () {
						if ( p5bool(v_m_index_980) ) {
						(function () {
							var v_exp_983;
							v_exp_983 = ((v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hget('capture'));
							v_p_979 = ((v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hget('to'));
							(function () {
								if ( ((p5str(v_exp_983) != '*undef*') && (p5str((v_str_977 || (v_str_977 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_979))) == ']')) ) {
								(function () {
									(function () {
										var tmp2939 = v_p_979;
										v_p_979 = p5incr_(tmp2939);
										return tmp2939
									})();
									var v_value_984;
									v_value_984 = ((v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('capture'));
									(function () {
										if ( (p5pkg['Perlito5::Grammar::String'].ref([v_value_984], "") == 'Perlito5::AST::Var') ) {
										(v_value_984 || (v_value_984 = new p5HashRef({})))._hash_.p5hset('_real_sigil', ('@'));
									}
									})();
									(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Index', 'new', ['obj', v_value_984, 'index_exp', v_exp_983], "")));
									(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('to', (v_p_979));
									throw(p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_index_980, v_interpolate_976], p5want));
								})();
							}
							})();
						})();
					}
					})();
				}
				})();
				v_m_index_980 = (p5pkg['Perlito5::Grammar::Expression'].term_curly([v_str_977, v_pos_978], ""));
				(function () {
					if ( p5bool(v_m_index_980) ) {
					(function () {
						var v_value_985;
						v_value_985 = ((v_m_var_975 || (v_m_var_975 = new p5HashRef({})))._hash_.p5hget('capture'));
						(function () {
							if ( (p5pkg['Perlito5::Grammar::String'].ref([v_value_985], "") == 'Perlito5::AST::Var') ) {
							(v_value_985 || (v_value_985 = new p5HashRef({})))._hash_.p5hset('_real_sigil', ('%'));
						}
						})();
						(v_m_index_980 || (v_m_index_980 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Lookup', 'new', p5list_to_a(['obj', v_value_985, 'index_exp', p5pkg['Perlito5::Match'].flat([v_m_index_980], p5want)._array_.p5aget_array(2)._array_.p5aget(0)]), "")));
						throw(p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_index_980, v_interpolate_976], p5want));
					})();
				}
				})();
				return (p5context([v_m_var_975], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2936._prototype_ = null;
		return tmp2936
	})());
	p5typeglob_set('Perlito5::Grammar::String', 'double_quoted_var', (function () {
		var tmp2940;
		tmp2940 = function (List__, p5want) {
			try {
				var v_str_986;
				v_str_986 = (List__.p5aget(0));
				var v_pos_987;
				v_pos_987 = (List__.p5aget(1));
				var v_delimiter_988;
				v_delimiter_988 = (List__.p5aget(2));
				var v_interpolate_989;
				v_interpolate_989 = (List__.p5aget(3));
				var v_c_990;
				v_c_990 = ((v_str_986 || (v_str_986 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_987)));
				var v_c2_991;
				v_c2_991 = ((v_str_986 || (v_str_986 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_987) + 1)));
				(function () {
					if ( ((p5str(v_c_990) == '$') && (p5str(v_c2_991) == ')')) ) {
					throw(p5context([0], p5want));
				}
				else (function () {
					if ( ((p5str(v_c_990) == '$') && (p5str(v_c2_991) == '{')) ) {
					(function () {
						var v_m_992;
						v_m_992 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil([v_str_986, v_pos_987], ""));
						p5or(v_m_992, function () {
							throw(p5context([v_m_992], p5want))
						});
						var v_var_993;
						v_var_993 = (p5pkg['Perlito5::Match'].flat([v_m_992], p5want)._array_.p5aget(1));
						(v_m_992 || (v_m_992 = new p5HashRef({})))._hash_.p5hset('capture', (v_var_993));
						throw(p5context([v_m_992], p5want));
					})();
				}
				else (function () {
					if ( ((p5str(v_c_990) == '$') && ((p5str(v_c2_991) == '$') && !( p5bool(p5pkg['Perlito5::Grammar'].word([v_str_986, (p5num(v_pos_987) + 2)], ""))))) ) {
					throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_986, 'capture', p5call('Perlito5::AST::Var', 'new', ['name', '$', 'sigil', '$', 'namespace', ''], 1), 'from', v_pos_987, 'to', (p5num(v_pos_987) + 2)])))));
				}
				else (function () {
					if ( ((p5str(v_c_990) == '$') && (p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_986 || (v_str_986 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range((p5num(v_pos_987) + 1), (p5num(v_pos_987) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_988], "")), 1, "tmp2941", 0)]), 1)])), "") != p5str(v_delimiter_988))) ) {
					(function () {
						var v_m_994;
						v_m_994 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil([v_str_986, v_pos_987], ""));
						p5or(v_m_994, function () {
							throw(p5context([v_m_994], p5want))
						});
						(v_m_994 || (v_m_994 = new p5HashRef({})))._hash_.p5hset('capture', ((v_m_994 || (v_m_994 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)));
						throw(p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_994, v_interpolate_989], p5want));
					})();
				}
				else (function () {
					if ( ((p5str(v_c_990) == '@') && ((p5pkg['Perlito5::Grammar::String'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_986 || (v_str_986 = new p5ArrayRef([]))), 'Perlito5::Grammar::String'), p5list_to_a([p5range((p5num(v_pos_987) + 1), (p5num(v_pos_987) + p5pkg['Perlito5::Grammar::String'].length([v_delimiter_988], "")), 1, "tmp2942", 0)]), 1)])), "") != p5str(v_delimiter_988)) && ((p5str(v_c2_991) < '0') || (p5str(v_c2_991) > '9')))) ) {
					(function () {
						var v_m_995;
						v_m_995 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil([v_str_986, v_pos_987], ""));
						p5or(v_m_995, function () {
							throw(p5context([v_m_995], p5want))
						});
						(v_m_995 || (v_m_995 = new p5HashRef({})))._hash_.p5hset('capture', ((v_m_995 || (v_m_995 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)));
						v_m_995 = (p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_995, v_interpolate_989], ""));
						(v_m_995 || (v_m_995 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'join', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['name', '"', 'sigil', '$', 'namespace', ''], 1), (v_m_995 || (v_m_995 = new p5HashRef({})))._hash_.p5hget('capture')]))), 'namespace', '']), "")));
						throw(p5context([v_m_995], p5want));
					})();
				}
				})()
				})()
				})()
				})()
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2940._prototype_ = null;
		return tmp2940
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([String.fromCharCode(39), p5pkg['Perlito5::Grammar::String'].term_q_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['"', p5pkg['Perlito5::Grammar::String'].term_qq_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['/', p5pkg['Perlito5::Grammar::String'].term_m_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['<', p5pkg['Perlito5::Grammar::String'].term_glob]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['<<>>', p5pkg['Perlito5::Grammar::String'].term_glob]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['<<', p5pkg['Perlito5::Grammar::String'].here_doc_wanted]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['`', p5pkg['Perlito5::Grammar::String'].term_qx]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['m', p5pkg['Perlito5::Grammar::String'].term_m_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['q', p5pkg['Perlito5::Grammar::String'].term_q_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['qq', p5pkg['Perlito5::Grammar::String'].term_qq_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['qw', p5pkg['Perlito5::Grammar::String'].term_qw_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['qx', p5pkg['Perlito5::Grammar::String'].term_qx]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['qr', p5pkg['Perlito5::Grammar::String'].term_qr_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['s', p5pkg['Perlito5::Grammar::String'].term_s_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['tr', p5pkg['Perlito5::Grammar::String'].term_tr_quote]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['y', p5pkg['Perlito5::Grammar::String'].term_tr_quote]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Sigil');
	var Hash_special_var_996 = {};
	Hash_special_var_996 = p5a_to_h(['$_', '', '$&', '', '$`', '', '$' + String.fromCharCode(39), '', '$+', '', '@+', '', '%+', '', '$.', '', '$/', '', '$|', '', '$,', '', '$' + String.fromCharCode(92), '', '$"', '', '$;', '', '$%', '', '$=', '', '$-', '', '@-', '', '%-', '', '$~', '', '$^', '', '$:', '', '$?', '', '$!', '', '%!', '', '$@', '', '$$', '', '$<', '', '$>', '', '$(', '', '$)', '', '$[', '', '$]', '', '$}', '', '@_', '', '*_', '', '*&', '', '*`', '', '*' + String.fromCharCode(39), '', '*+', '', '*.', '', '*/', '', '*|', '', '*,', '', '*' + String.fromCharCode(92), '', '*"', '', '*;', '', '*%', '', '*=', '', '*-', '', '*~', '', '*^', '', '*:', '', '*?', '', '*!', '', '*@', '', '*$', '', '*<', '', '*>', '', '*(', '', '*)', '', '*[', '', '*]', '', '*_', '', '**', '', '*#', '', '$#+', '', '$#-', '', '$#_', '']);
	p5typeglob_set('Perlito5::Grammar::Sigil', 'term_special_var', (function () {
		var tmp2943;
		tmp2943 = function (List__, p5want) {
			try {
				var v_str_997;
				v_str_997 = (List__.p5aget(0));
				var v_pos_998;
				v_pos_998 = (List__.p5aget(1));
				var v_len_999;
				v_len_999 = (0);
				var v_s_1000;
				v_s_1000 = ((p5str((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_998))) + p5str((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_998) + 1))) + p5str((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_998) + 2)))));
				(function () {
					if ( (p5str(v_s_1000) == '$#[') ) {
					v_len_999 = (2);
				}
				else (function () {
					if ( (Hash_special_var_996).hasOwnProperty(v_s_1000) ) {
					v_len_999 = (p5pkg['Perlito5::Grammar::Sigil'].length([v_s_1000], ""));
				}
				else {
					v_s_1000 = ((p5str((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_998))) + p5str((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_998) + 1)))));
					(function () {
						if ( (Hash_special_var_996).hasOwnProperty(v_s_1000) ) {
						v_len_999 = (2);
					}
					})();
				}
				})()
				})();
				(function () {
					if ( p5bool(v_len_999) ) {
					(function () {
						var v_c0_1001;
						v_c0_1001 = ((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget(((p5num(v_pos_998) + p5num(v_len_999)) - 1)));
						var v_c1_1002;
						v_c1_1002 = ((v_str_997 || (v_str_997 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_998) + p5num(v_len_999))));
						(function () {
							if ( (((p5str(v_c0_1001) == '$') || ((p5str(v_c0_1001) == '@') || ((p5str(v_c0_1001) == '%') || ((p5str(v_c0_1001) == '*') || (p5str(v_c0_1001) == '&'))))) && ((p5str(v_c1_1002) == '$') || ((p5str(v_c1_1002) == '@') || ((p5str(v_c1_1002) == '%') || ((p5str(v_c1_1002) == '*') || ((p5str(v_c1_1002) == '&') || (((p5str(v_c1_1002) >= 'a') && (p5str(v_c1_1002) <= 'z')) || (((p5str(v_c1_1002) >= 'A') && (p5str(v_c1_1002) <= 'Z')) || ((p5str(v_c1_1002) >= '0') && (p5str(v_c1_1002) <= '9')))))))))) ) {}
						else {
							throw((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_997, 'from', v_pos_998, 'to', (p5num(v_pos_998) + p5num(v_len_999)), 'capture', (new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', CORE.substr([v_s_1000, 0, (p5num(v_len_999) - 1)], 1), 'namespace', Hash_special_var_996.p5hget(p5str(v_s_1000)), 'name', p5str(v_s_1000).substr((p5num(v_len_999) - 1), 1), '_namespace', 'main']), 1)])))])))));
						}
						})();
					})();
				}
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2943._prototype_ = null;
		return tmp2943
	})());
	var Hash_sigil_1003 = {};
	Hash_sigil_1003 = {'$' : 1, '%' : 1, '@' : 1, '&' : 1, '*' : 1};
	p5typeglob_set('Perlito5::Grammar::Sigil', 'term_sigil', (function () {
		var tmp2944;
		tmp2944 = function (List__, p5want) {
			try {
				var v_str_1004;
				v_str_1004 = (List__.p5aget(0));
				var v_pos_1005;
				v_pos_1005 = (List__.p5aget(1));
				var v_c1_1006;
				v_c1_1006 = ((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1005)));
				p5or((Hash_sigil_1003).hasOwnProperty(v_c1_1006), function () {
					throw(p5context([], p5want))
				});
				var v_p_1007;
				v_p_1007 = ((p5num(v_pos_1005) + 1));
				var v_sigil_1008;
				v_sigil_1008 = (v_c1_1006);
				(function () {
					if ( ((p5str(v_c1_1006) == '$') && (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_1005) + 1))) == '#')) ) {
					v_sigil_1008 = ('$#');
					(function () {
						var tmp2945 = v_p_1007;
						v_p_1007 = p5incr_(tmp2945);
						return tmp2945
					})();
				}
				})();
				var v_m_1009;
				v_m_1009 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, v_p_1007], ""));
				v_p_1007 = ((v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_p0_1010;
				v_p0_1010 = (v_p_1007);
				v_c1_1006 = ((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1007)));
				var v_q_1011;
				v_q_1011 = ((p5num(v_p_1007) + 1));
				(function () {
					if ( (p5str(v_c1_1006) == '{') ) {
					(function () {
						var v_p_1012;
						v_p_1012 = (v_q_1011);
						v_m_1009 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, v_p_1012], ""));
						v_p_1012 = ((v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to'));
						v_m_1009 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident([v_str_1004, v_p_1012], ""));
						(function () {
							if ( p5bool(v_m_1009) ) {
							(function () {
								var v_namespace_1013;
								v_namespace_1013 = (p5pkg['Perlito5::Match'].flat([v_m_1009], ""));
								var v_pos_1014;
								v_pos_1014 = ((v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to'));
								var v_n_1015;
								v_n_1015 = (p5pkg['Perlito5::Grammar'].var_name(p5list_to_a([v_str_1004, (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								var v_name_1016;
								(function () {
									if ( p5bool(v_n_1015) ) {
									v_name_1016 = (p5pkg['Perlito5::Match'].flat([v_n_1015], ""));
									v_pos_1014 = ((v_n_1015 || (v_n_1015 = new p5HashRef({})))._hash_.p5hget('to'));
								}
								})();
								(function () {
									if ( (p5bool(v_namespace_1013) || p5bool(v_name_1016)) ) {
									(function () {
										var v_spc_1017;
										v_spc_1017 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, v_pos_1014], ""));
										var v_pos_1018;
										v_pos_1018 = ((v_spc_1017 || (v_spc_1017 = new p5HashRef({})))._hash_.p5hget('to'));
										(function () {
											if ( ((p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1018))) == '{') || ((p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1018))) == '[') || (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1018))) == '}'))) ) {
											(function () {
												(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', ['sigil', v_sigil_1008, 'namespace', v_namespace_1013, 'name', v_name_1016], "")));
												(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('to', ((v_spc_1017 || (v_spc_1017 = new p5HashRef({})))._hash_.p5hget('to')));
												v_m_1009 = (p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_1009], ""));
												(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('capture')])))));
												v_spc_1017 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1004, (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												var v_p_1019;
												v_p_1019 = ((v_spc_1017 || (v_spc_1017 = new p5HashRef({})))._hash_.p5hget('to'));
												(function () {
													if ( (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1019))) == '}') ) {
													(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p_1019) + 1)));
													throw(p5context([v_m_1009], p5want));
												}
												})();
											})();
										}
										else (function () {
											if ( ((p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1018))) == '-') && (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_1018) + 1))) == '>')) ) {
											(function () {
												var v_spc_1020;
												v_spc_1020 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, (p5num(v_pos_1018) + 2)], ""));
												var v_pos_1021;
												v_pos_1021 = ((v_spc_1020 || (v_spc_1020 = new p5HashRef({})))._hash_.p5hget('to'));
												(function () {
													if ( ((p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1021))) == '{') || (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1021))) == '[')) ) {
													(function () {
														(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', v_sigil_1008, 'namespace', p5or(v_namespace_1013, function () {
	return p5make_package('Perlito5')['v_PKG_NAME']
}), 'name', v_name_1016]), "")));
														(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('to', ((v_spc_1020 || (v_spc_1020 = new p5HashRef({})))._hash_.p5hget('to')));
														v_m_1009 = (p5pkg['Perlito5::Grammar::String'].double_quoted_var_with_subscript([v_m_1009], ""));
														(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('capture')])))));
														v_spc_1020 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1004, (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														var v_p_1022;
														v_p_1022 = ((v_spc_1020 || (v_spc_1020 = new p5HashRef({})))._hash_.p5hget('to'));
														(function () {
															if ( (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1022))) == '}') ) {
															(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p_1022) + 1)));
															throw(p5context([v_m_1009], p5want));
														}
														})();
													})();
												}
												})();
											})();
										}
										})()
										})();
									})();
								}
								})();
							})();
						}
						})();
						var v_caret_1023;
						v_caret_1023 = (p5pkg['Perlito5::Grammar'].caret_char([v_str_1004, v_p_1012], ""));
						(function () {
							if ( p5bool(v_caret_1023) ) {
							(function () {
								var v_p_1024;
								v_p_1024 = ((v_caret_1023 || (v_caret_1023 = new p5HashRef({})))._hash_.p5hget('to'));
								var v_name_1025;
								v_name_1025 = (p5pkg['Perlito5::Match'].flat([v_caret_1023], ""));
								v_m_1009 = (p5pkg['Perlito5::Grammar'].var_name([v_str_1004, v_p_1024], ""));
								(function () {
									if ( p5bool(v_m_1009) ) {
									v_name_1025 = ((p5str(v_name_1025) + p5str(p5pkg['Perlito5::Match'].flat([v_m_1009], ""))));
									v_p_1024 = ((v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to'));
								}
								})();
								(function () {
									if ( (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1024))) == '}') ) {
									(v_caret_1023 || (v_caret_1023 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', ['name', v_name_1025, 'namespace', '', 'sigil', v_sigil_1008], 1)])))));
									(v_caret_1023 || (v_caret_1023 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p_1024) + 1)));
									throw(p5context([v_caret_1023], p5want));
								}
								})();
							})();
						}
						})();
						var v_special_1026;
						v_special_1026 = ((p5str(v_sigil_1008) + p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1012)))));
						(function () {
							if ( (Hash_special_var_996).hasOwnProperty(v_special_1026) ) {
							(function () {
								var v_m_1027;
								v_m_1027 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, (p5num(v_p_1012) + 1)], ""));
								var v_p2_1028;
								v_p2_1028 = ((v_m_1027 || (v_m_1027 = new p5HashRef({})))._hash_.p5hget('to'));
								var v_c2_1029;
								v_c2_1029 = ((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p2_1028)));
								(function () {
									if ( (p5str(v_c2_1029) == '}') ) {
									(v_m_1027 || (v_m_1027 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p2_1028) + 1)));
									(v_m_1027 || (v_m_1027 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', v_sigil_1008, 'namespace', '', 'name', (v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1012)), ( (p5str(v_sigil_1008) == '$#') ? p5context(['_real_sigil', '@'], 1) : p5context([], 1)), '_namespace', 'main']), 1)])))));
									throw(p5context([v_m_1027], p5want));
								}
								})();
							})();
						}
						})();
						(function () {
							if ( (p5str((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1012))) == '}') ) {
							p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
						}
						})();
						v_m_1009 = (p5pkg['Perlito5::Grammar'].block([v_str_1004, v_p0_1010], ""));
						(function () {
							if ( p5bool(v_m_1009) ) {
							(function () {
								var v_ast_1030;
								v_ast_1030 = (p5pkg['Perlito5::Match'].flat([v_m_1009], ""));
								(function () {
									if ( ((p5num(p5num(p5array_deref((v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::Grammar::Sigil'))) == 1) && ((p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Apply') || ((p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Call') || ((p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Var') || ((p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Buf') || ((p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Index') || (p5pkg['Perlito5::Grammar::Sigil'].ref([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)], "") == 'Perlito5::AST::Lookup'))))))) ) {
									(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', ('prefix:<' + p5str(v_sigil_1008) + '>'), 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([(v_ast_1030 || (v_ast_1030 = new p5HashRef({})))._hash_.p5hget_array('stmts')._array_.p5aget(0)]))), '_strict_refs', (p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5make_package('Perlito5')['v_STRICT_REFS']))]), 1)])))));
									throw(p5context([v_m_1009], p5want));
								}
								})();
								(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', ('prefix:<' + p5str(v_sigil_1008) + '>'), 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'namespace', '', 'arguments', (new p5ArrayRef([v_ast_1030]))]), 1)]))), '_strict_refs', (p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5make_package('Perlito5')['v_STRICT_REFS']))]), 1)])))));
								throw(p5context([v_m_1009], p5want));
							})();
						}
						})();
					})();
				}
				})();
				var v_caret_1031;
				v_caret_1031 = (p5pkg['Perlito5::Grammar'].caret_char([v_str_1004, v_p_1007], ""));
				(function () {
					if ( p5bool(v_caret_1031) ) {
					(function () {
						var v_name_1032;
						v_name_1032 = (p5pkg['Perlito5::Match'].flat([v_caret_1031], ""));
						(v_caret_1031 || (v_caret_1031 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', ['name', v_name_1032, 'namespace', '', 'sigil', v_sigil_1008], 1)])))));
						throw(p5context([v_caret_1031], p5want));
					})();
				}
				})();
				(function () {
					if ( (p5str(v_c1_1006) == '$') ) {
					(function () {
						var v_m2_1033;
						v_m2_1033 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1004, (p5num(v_p_1007) + 1)], ""));
						var v_p2_1034;
						v_p2_1034 = ((v_m2_1033 || (v_m2_1033 = new p5HashRef({})))._hash_.p5hget('to'));
						var v_c2_1035;
						v_c2_1035 = ((v_str_1004 || (v_str_1004 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p2_1034)));
						(function () {
							if ( ((p5str(v_c2_1035) != ',') && (p5str(v_c2_1035) != ';')) ) {
							v_m_1009 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil([v_str_1004, v_p_1007], ""));
							(function () {
								if ( p5bool(v_m_1009) ) {
								(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget_array('capture')._array_.p5aget(1)]))), 'code', ('prefix:<' + p5str(v_sigil_1008) + '>'), 'namespace', '', '_strict_refs', (p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5make_package('Perlito5')['v_STRICT_REFS']))]), 1)])))));
								throw(p5context([v_m_1009], p5want));
							}
							})();
						}
						})();
					})();
				}
				})();
				v_m_1009 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident([v_str_1004, v_p_1007], ""));
				(function () {
					if ( p5bool(v_m_1009) ) {
					(function () {
						var v_namespace_1036;
						v_namespace_1036 = (p5pkg['Perlito5::Match'].flat([v_m_1009], ""));
						var v_n_1037;
						v_n_1037 = (p5pkg['Perlito5::Grammar'].var_name(p5list_to_a([v_str_1004, (v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
						(function () {
							if ( p5bool(v_n_1037) ) {
							(v_n_1037 || (v_n_1037 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', v_sigil_1008, 'namespace', v_namespace_1036, 'name', p5pkg['Perlito5::Match'].flat([v_n_1037], 1), ( (p5str(v_sigil_1008) == '$#') ? p5context(['_real_sigil', '@'], 1) : p5context([], 1))]), 1)])))));
							throw(p5context([v_n_1037], p5want));
						}
						})();
						(function () {
							if ( p5bool(v_namespace_1036) ) {
							(v_m_1009 || (v_m_1009 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', v_sigil_1008, 'namespace', v_namespace_1036, 'name', null, ( (p5str(v_sigil_1008) == '$#') ? p5context(['_real_sigil', '@'], 1) : p5context([], 1))]), 1)])))));
							throw(p5context([v_m_1009], p5want));
						}
						})();
					})();
				}
				})();
				return (p5pkg['Perlito5::Grammar::Sigil'].term_special_var([v_str_1004, v_pos_1005], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2944._prototype_ = null;
		return tmp2944
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['$', p5pkg['Perlito5::Grammar::Sigil'].term_sigil]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['@', p5pkg['Perlito5::Grammar::Sigil'].term_sigil]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['%', p5pkg['Perlito5::Grammar::Sigil'].term_sigil]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['&', p5pkg['Perlito5::Grammar::Sigil'].term_sigil]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['*', p5pkg['Perlito5::Grammar::Sigil'].term_sigil]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Use');
	var Hash_Perlito_internal_module_1038 = {};
	Hash_Perlito_internal_module_1038 = {'strict' : 'Perlito5X::strict', 'warnings' : 'Perlito5X::warnings', 'warnings::register' : 'Perlito5X::warnings::register', 'feature' : 'Perlito5X::feature', 'utf8' : 'Perlito5X::utf8', 'bytes' : 'Perlito5X::bytes', 're' : 'Perlito5X::re', 'encoding' : 'Perlito5X::encoding', 'Carp' : 'Perlito5X::Carp', 'Config' : 'Perlito5X::Config', 'Exporter' : 'Perlito5X::Exporter', 'Data::Dumper' : 'Perlito5X::Dumper', 'UNIVERSAL' : 'Perlito5X::UNIVERSAL', 'JSON' : 'Perlito5X::JSON', 'Tie::Hash' : 'Perlito5X::Tie::Hash', 'Tie::Array' : 'Perlito5X::Tie::Array', 'Tie::Scalar' : 'Perlito5X::Tie::Scalar'};
	p5typeglob_set('Perlito5::Grammar::Use', 'register_internal_module', (function () {
		var tmp2946;
		tmp2946 = function (List__, p5want) {
			var v_module_1039;
			var v_real_name_1040;
			(function () {
					var tmp2947 = p5list_to_a([List__]);
					var tmp2948 = tmp2947.slice(0);
					v_module_1039 = tmp2947.shift();
					v_real_name_1040 = tmp2947.shift();
					return tmp2948
				})();
			return (Hash_Perlito_internal_module_1038.p5hset(p5str(v_module_1039), (v_real_name_1040)));
		};
		tmp2946._prototype_ = null;
		return tmp2946
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'use_decl', (function () {
		var tmp2949;
		tmp2949 = function (List__, p5want) {
			var v_str_1041;
			v_str_1041 = (List__.p5aget(0));
			var v_pos_1042;
			v_pos_1042 = (List__.p5aget(1));
			var v_MATCH_1043;
			v_MATCH_1043 = ((new p5HashRef({'str' : v_str_1041, 'from' : v_pos_1042, 'to' : v_pos_1042})));
			var v_tmp_1044;
			v_tmp_1044 = (p5context([p5context([(function () {
							var v_pos1_1045;
							v_pos1_1045 = ((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('u' == p5str((v_str_1041 || (v_str_1041 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('s' == p5str((v_str_1041 || (v_str_1041 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5and(p5context([('e' == p5str((v_str_1041 || (v_str_1041 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
													return p5context([(v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1045));
										return ((p5context([p5and(p5context([('n' == p5str((v_str_1041 || (v_str_1041 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('o' == p5str((v_str_1041 || (v_str_1041 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5context([(v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1043 || (v_MATCH_1043 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1044) ? v_MATCH_1043 : null));
		};
		tmp2949._prototype_ = null;
		return tmp2949
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'version_string', (function () {
		var tmp2950;
		tmp2950 = function (List__, p5want) {
			var v_str_1046;
			v_str_1046 = (List__.p5aget(0));
			var v_pos_1047;
			v_pos_1047 = (List__.p5aget(1));
			var v_MATCH_1048;
			v_MATCH_1048 = ((new p5HashRef({'str' : v_str_1046, 'from' : v_pos_1047, 'to' : v_pos_1047})));
			var v_tmp_1049;
			v_tmp_1049 = (p5context([p5context([(function () {
							var v_pos1_1050;
							v_pos1_1050 = ((v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m2_1051;
											v_m2_1051 = (p5pkg['Perlito5::Grammar::Number'].val_version(p5list_to_a([v_str_1046, (v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1051) ) {
												(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1051 || (v_m2_1051 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::val_version', (v_m2_1051));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('capture', ((v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Number::val_version')._hash_.p5hget('capture')));
												return ((1));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1050));
										return ((p5context([p5and(p5context([(function () {
												var v_m2_1052;
												v_m2_1052 = (p5pkg['Perlito5::Grammar::Number'].term_digit(p5list_to_a([v_str_1046, (v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1052) ) {
													(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1052 || (v_m2_1052 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::term_digit', (v_m2_1052));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													var v_version_1053;
													v_version_1053 = (p5or((v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Number::term_digit')._hash_.p5hget_array('capture')._array_.p5aget_hash(1)._hash_.p5hget('buf'), function () {
																return p5or((v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Number::term_digit')._hash_.p5hget_array('capture')._array_.p5aget_hash(1)._hash_.p5hget('int'), function () {
																	return (v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Number::term_digit')._hash_.p5hget_array('capture')._array_.p5aget_hash(1)._hash_.p5hget('num')
																})
															}));
													(v_MATCH_1048 || (v_MATCH_1048 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Buf', 'new', ['buf', v_version_1053], "")));
													return ((1));
												})()], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1049) ? v_MATCH_1048 : null));
		};
		tmp2950._prototype_ = null;
		return tmp2950
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'term_require', (function () {
		var tmp2951;
		tmp2951 = function (List__, p5want) {
			var v_str_1054;
			v_str_1054 = (List__.p5aget(0));
			var v_pos_1055;
			v_pos_1055 = (List__.p5aget(1));
			var v_MATCH_1056;
			v_MATCH_1056 = ((new p5HashRef({'str' : v_str_1054, 'from' : v_pos_1055, 'to' : v_pos_1055})));
			var v_tmp_1057;
			v_tmp_1057 = (p5context([p5context([p5and(p5context([p5and(p5context([('r' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('e' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('q' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('u' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5and(p5context([('i' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
											return p5and(p5context([('r' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
												return p5and(p5context([('e' == p5str((v_str_1054 || (v_str_1054 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 6))))], 0), function () {
													return p5context([(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')) + 7)))], 0)
												})
											})
										})
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1058;
								v_m2_1058 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_1054, (v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1058) ) {
									(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1058 || (v_m2_1058 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_1059;
									v_pos1_1059 = ((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([(function () {
													var v_m2_1060;
													v_m2_1060 = (p5pkg['Perlito5::Grammar::Use'].version_string(p5list_to_a([v_str_1054, (v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1060) ) {
														(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1060 || (v_m2_1060 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('version_string', (v_m2_1060));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_version_1061;
														v_version_1061 = ((v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget_hash('version_string')._hash_.p5hget('capture'));
														(v_version_1061 || (v_version_1061 = new p5HashRef({})))._hash_.p5hset('is_version_string', (1));
														(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'require', 'namespace', '', 'arguments', (new p5ArrayRef([v_version_1061]))]), 1)])))));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1059));
												return ((p5context([p5and(p5context([(function () {
														var v_m2_1062;
														v_m2_1062 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_1054, (v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1062) ) {
															(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1062 || (v_m2_1062 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_1062));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5context([(function () {
															var v_module_name_1063;
															v_module_name_1063 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
															var v_filename_1064;
															v_filename_1064 = (p5pkg['Perlito5::Grammar::Use'].modulename_to_filename([v_module_name_1063], ""));
															(v_MATCH_1056 || (v_MATCH_1056 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'require', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_filename_1064], 1)])))]), 1)])))));
															return ((1));
														})()], 0)
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1057) ? v_MATCH_1056 : null));
		};
		tmp2951._prototype_ = null;
		return tmp2951
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'stmt_use', (function () {
		var tmp2952;
		tmp2952 = function (List__, p5want) {
			var v_str_1065;
			v_str_1065 = (List__.p5aget(0));
			var v_pos_1066;
			v_pos_1066 = (List__.p5aget(1));
			var v_MATCH_1067;
			v_MATCH_1067 = ((new p5HashRef({'str' : v_str_1065, 'from' : v_pos_1066, 'to' : v_pos_1066})));
			var v_tmp_1068;
			v_tmp_1068 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1069;
							v_m2_1069 = (p5pkg['Perlito5::Grammar::Use'].use_decl(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1069) ) {
								(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1069 || (v_m2_1069 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('use_decl', (v_m2_1069));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1070;
								v_m2_1070 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1070) ) {
									(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1070 || (v_m2_1070 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_1071;
									v_pos1_1071 = ((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([(function () {
													var v_m2_1072;
													v_m2_1072 = (p5pkg['Perlito5::Grammar::Use'].version_string(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1072) ) {
														(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1072 || (v_m2_1072 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('version_string', (v_m2_1072));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_version_1073;
														v_version_1073 = ((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget_hash('version_string')._hash_.p5hget_hash('capture')._hash_.p5hget('buf'));
														p5pkg['Perlito5'].test_perl_version([v_version_1073], null);
														(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1071));
												return ((p5context([p5and(p5context([(function () {
														var v_m2_1074;
														v_m2_1074 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1074) ) {
															(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1074 || (v_m2_1074 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_1074));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m_1075;
															v_m_1075 = (v_MATCH_1067);
															(function () {
																if ( !( ((('-' == p5str((v_str_1065 || (v_str_1065 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')) + 0)))) && p5bool((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))) && p5bool((function () {
																	var v_m2_1076;
																	v_m2_1076 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_1076) ) {
																		(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1076 || (v_m2_1076 = new p5HashRef({})))._hash_.p5hget('to')));
																		(function () {
																			if ( (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.hasOwnProperty('Perlito5::Grammar::ident') ) {
																			p5array_deref((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget_array('Perlito5::Grammar::ident'), 'Perlito5::Grammar::Use').p5push([v_m2_1076]);
																		}
																		else {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::ident', ((new p5ArrayRef([v_m2_1076]))));
																		}
																		})();
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()))) ) {
																v_MATCH_1067 = (v_m_1075);
															}
															})();
															return ((1));
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m_1077;
																v_m_1077 = (v_MATCH_1067);
																(function () {
																	if ( !( (p5bool((function () {
																		var v_m2_1078;
																		v_m2_1078 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1078) ) {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1078 || (v_m2_1078 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()) && (p5bool((function () {
																		var v_m2_1079;
																		v_m2_1079 = (p5pkg['Perlito5::Grammar::Use'].version_string(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1079) ) {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1079 || (v_m2_1079 = new p5HashRef({})))._hash_.p5hget('to')));
																			(function () {
																				if ( (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.hasOwnProperty('version_string') ) {
																				p5array_deref((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget_array('version_string'), 'Perlito5::Grammar::Use').p5push([v_m2_1079]);
																			}
																			else {
																				(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('version_string', ((new p5ArrayRef([v_m2_1079]))));
																			}
																			})();
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()) && (p5bool((function () {
																		var v_m2_1080;
																		v_m2_1080 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1080) ) {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1080 || (v_m2_1080 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()) && p5bool((function () {
																		var v_tmp_1081;
																		v_tmp_1081 = (v_MATCH_1067);
																		v_MATCH_1067 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1081 || (v_tmp_1081 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1081 || (v_tmp_1081 = new p5HashRef({})))._hash_.p5hget('to')])))));
																		var v_res_1082;
																		v_res_1082 = (p5context([p5and(p5context([(',' == p5str((v_str_1065 || (v_str_1065 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5context([(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																				})], 0));
																		v_MATCH_1067 = (v_tmp_1081);
																		return ((( p5bool(v_res_1082) ? 0 : 1)));
																	})()))))) ) {
																	v_MATCH_1067 = (v_m_1077);
																}
																})();
																return ((1));
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_pos1_1083;
																	v_pos1_1083 = ((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to'));
																	return ((p5or(p5context([(function () {
																			return ((p5context([(function () {
																					var v_m2_1084;
																					v_m2_1084 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1084) ) {
																						(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1084 || (v_m2_1084 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::exp_parse', (v_m2_1084));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0)));
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1083));
																				return ((p5context([(function () {
																						var v_m2_1085;
																						v_m2_1085 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1065, (v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																						return (function () {
																							if ( p5bool(v_m2_1085) ) {
																							(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1085 || (v_m2_1085 = new p5HashRef({})))._hash_.p5hget('to')));
																							return ((1));
																						}
																						else {
																							return ((0));
																						}
																						})()
																					})()], 0)));
																			})()], 0)
																		})));
																})()], 0), function () {
																	return p5context([(function () {
																		var v_version_1086;
																		v_version_1086 = ((v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget_array('version_string')._array_.p5aget_hash(0)._hash_.p5hget_hash('capture')._hash_.p5hget('buf'));
																		var v_list_1087;
																		v_list_1087 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::exp_parse')]), ""));
																		(function () {
																			if ( (p5pkg['Perlito5::Grammar::Use'].ref([v_list_1087], "") == 'Perlito5::AST::Buf') ) {
																			v_list_1087 = ((new p5ArrayRef(p5list_to_a([(v_list_1087 || (v_list_1087 = new p5HashRef({})))._hash_.p5hget('buf')]))));
																		}
																		else (function () {
																			if ( p5bool(v_list_1087) ) {
																			(function () {
																				p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
																				var v_ast_1088;
																				v_ast_1088 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<[ ]>', 'arguments', (new p5ArrayRef([v_list_1087]))]), 1)])))]), ""));
																				v_list_1087 = (p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_ast_1088], ""));
																			})();
																		}
																		else {
																			v_list_1087 = (null);
																		}
																		})()
																		})();
																		var v_full_ident_1089;
																		v_full_ident_1089 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
																		(p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_ident_1089), (1));
																		var v_use_decl_1090;
																		v_use_decl_1090 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hget('use_decl')]), ""));
																		(function () {
																			if ( ((p5str(v_use_decl_1090) == 'use') && ((p5str(v_full_ident_1089) == 'vars') && p5bool(v_list_1087))) ) {
																			(function () {
																				var v_code_1091;
																				v_code_1091 = (('our (' + p5pkg['Perlito5::Grammar::Use'].join([', '].concat(p5list_to_a([p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])), "") + ')'));
																				var v_m_1092;
																				v_m_1092 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse(p5list_to_a([(new p5ArrayRef(p5list_to_a([CORE.split(['', v_code_1091], 1)]))), 0]), ""));
																				p5and(!( p5bool(v_m_1092)), function () {
																					return p5pkg['Perlito5::Compiler'].error([('not a valid variable name: ' + p5pkg['Perlito5::Grammar::Use'].join([p5make_package('main')['v_"']].concat(p5list_to_a([p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])), ""))], null)
																				});
																				(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('capture', ((v_m_1092 || (v_m_1092 = new p5HashRef({})))._hash_.p5hget('capture')));
																			})();
																		}
																		else (function () {
																			if ( ((p5str(v_use_decl_1090) == 'use') && (p5str(v_full_ident_1089) == 'constant')) ) {
																			(function () {
																				var List_ast_1093 = [];
																				(function () {
																					if ( p5bool(v_list_1087) ) {
																					(function () {
																						var v_name_1094;
																						v_name_1094 = (p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use').shift());
																						(function () {
																							if ( (p5pkg['Perlito5::Grammar::Use'].ref([v_name_1094], "") == 'HASH') ) {
																							(function () {
																								var v_key_1095;
																								(function(){ var v_key_1095; p5for_lex(function (v) { v_key_1095 = v }, function () {
																										var v_code_1096;
																										v_code_1096 = (('sub ' + p5str(v_key_1095) + ' () { ' + p5str(p5pkg['Perlito5::Dumper']._dumper(p5list_to_a([(v_name_1094 || (v_name_1094 = new p5HashRef({})))._hash_.p5hget(p5str(v_key_1095))]), "")) + ' }'));
																										var v_m_1097;
																										v_m_1097 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse(p5list_to_a([(new p5ArrayRef(p5list_to_a([CORE.split(['', v_code_1096], 1)]))), 0]), ""));
																										p5and(!( p5bool(v_m_1097)), function () {
																											return p5pkg['Perlito5::Compiler'].error([('not a valid constant: ' + p5pkg['Perlito5::Grammar::Use'].join([p5make_package('main')['v_"']].concat(p5list_to_a([p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])), ""))], null)
																										});
																										List_ast_1093.p5push(p5list_to_a([(v_m_1097 || (v_m_1097 = new p5HashRef({})))._hash_.p5hget('capture')]));
																									}, p5list_to_a([p5sort(p5pkg['Perlito5::Grammar::Use'], function (p5want) {
																										return (p5cmp(p5str(p5make_package('Perlito5::Grammar::Use')['v_a']), p5str(p5make_package('Perlito5::Grammar::Use')['v_b'])));
																									}, p5list_to_a([p5pkg['Perlito5::Grammar::Use'].keys([p5hash_deref((v_name_1094 || (v_name_1094 = new p5HashRef({}))), 'Perlito5::Grammar::Use')], 1)]))]), false, '') })()
																							})();
																						}
																						else {
																							(function () {
																								var v_code_1098;
																								v_code_1098 = (('sub ' + p5str(v_name_1094) + ' () { (' + p5pkg['Perlito5::Grammar::Use'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Use'], function (p5want) {
		return (p5pkg['Perlito5::Dumper']._dumper([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]))])), "") + ') }'));
																								var v_m_1099;
																								v_m_1099 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse(p5list_to_a([(new p5ArrayRef(p5list_to_a([CORE.split(['', v_code_1098], 1)]))), 0]), ""));
																								p5and(!( p5bool(v_m_1099)), function () {
																									return p5pkg['Perlito5::Compiler'].error([('not a valid constant: ' + p5pkg['Perlito5::Grammar::Use'].join([p5make_package('main')['v_"']].concat(p5list_to_a([p5array_deref((v_list_1087 || (v_list_1087 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')])), ""))], null)
																								});
																								List_ast_1093.p5push(p5list_to_a([(v_m_1099 || (v_m_1099 = new p5HashRef({})))._hash_.p5hget('capture')]));
																							})();
																						}
																						})();
																					})();
																				}
																				})();
																				(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(List_ast_1093))]), "")));
																			})();
																		}
																		else (function () {
																			if ( p5bool(p5make_package('Perlito5')['v_EMIT_USE']) ) {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'use', 'special_arg', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_full_ident_1089, 'bareword', 1, 'arguments', (new p5ArrayRef([]))]), 1), 'arguments', v_list_1087]), "")));
																		}
																		else {
																			(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Use'].parse_time_eval(p5list_to_a([(new p5HashRef({'mod' : v_full_ident_1089, 'code' : v_use_decl_1090, 'arguments' : v_list_1087}))]), "")));
																		}
																		})()
																		})()
																		})();
																		return ((1));
																	})()], 0)
																})
															})
														})
													})], 0)));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1067 || (v_MATCH_1067 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1071));
													return ((p5context([(function () {
															p5pkg['Perlito5::Compiler'].error(['Syntax error'], null);
															return ((1));
														})()], 0)));
												})()], 0)
											})
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1068) ? v_MATCH_1067 : null));
		};
		tmp2952._prototype_ = null;
		return tmp2952
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'parse_time_eval', (function () {
		var tmp2953;
		tmp2953 = function (List__, p5want) {
			try {
				var v_ast_1100;
				v_ast_1100 = (List__.shift());
				var v_module_name_1101;
				v_module_name_1101 = ((v_ast_1100 || (v_ast_1100 = new p5HashRef({})))._hash_.p5hget('mod'));
				var v_use_or_not_1102;
				v_use_or_not_1102 = ((v_ast_1100 || (v_ast_1100 = new p5HashRef({})))._hash_.p5hget('code'));
				var v_arguments_1103;
				v_arguments_1103 = ((v_ast_1100 || (v_ast_1100 = new p5HashRef({})))._hash_.p5hget('arguments'));
				var v_skip_import_1104;
				v_skip_import_1104 = (p5and((v_arguments_1103 != null), function () {
							return (p5num(p5num(p5array_deref((v_arguments_1103 || (v_arguments_1103 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use'))) == 0)
						}));
				p5or((v_arguments_1103 != null), function () {
					return v_arguments_1103 = ((new p5ArrayRef([])))
				});
				(function () {
					if ( p5bool(p5make_package('Perlito5')['v_EXPAND_USE']) ) {
					(function () {
						var v_current_module_name_1105;
						v_current_module_name_1105 = (p5make_package('Perlito5')['v_PKG_NAME']);
						var v_filename_1106;
						v_filename_1106 = (p5pkg['Perlito5::Grammar::Use'].modulename_to_filename([v_module_name_1101], ""));
						p5pkg["Perlito5::Grammar::Use"]["require"]([p5str(v_filename_1106), 0], null);
						(function () {
							if ( !( p5bool(v_skip_import_1104)) ) {
							(function () {
								if ( (p5str(v_use_or_not_1102) == 'use') ) {
								(function () {
									var v_code_1107;
									v_code_1107 = (p5call(v_module_name_1101, 'can', ['import'], ""));
									(function () {
										if ( (v_code_1107 != null) ) {
										p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'].p5unshift(p5list_to_a([(new p5ArrayRef([v_current_module_name_1105]))]));
										p5or((function () {
											var p5want = "";
											var r;
											p5pkg["main"]["v_@"] = "";
											try {
												r = (function () {
												p5call(v_module_name_1101, 'import', p5list_to_a([p5array_deref((v_arguments_1103 || (v_arguments_1103 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]), null);
												return ((1));
											})()
											}
											catch(err) {
												if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
													throw(err)
												}
												else if ( err instanceof p5_error || err instanceof Error ) {
													p5pkg["main"]["v_@"] = err;
													if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
														try {
															p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
														}
														catch(err) { }
													}
												}
												else {
													return(err);
												}
											}
											return r;
										})(), function () {
											return p5call(p5make_package('main')['v_@'], 'Perlito5::Compiler::error', [], null)
										});
										p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'].shift();
									}
									})();
								})();
							}
							else (function () {
								if ( (p5str(v_use_or_not_1102) == 'no') ) {
								(function () {
									var v_code_1108;
									v_code_1108 = (p5call(v_module_name_1101, 'can', ['unimport'], ""));
									(function () {
										if ( (v_code_1108 != null) ) {
										p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'].p5unshift(p5list_to_a([(new p5ArrayRef([v_current_module_name_1105]))]));
										p5or((function () {
											var p5want = "";
											var r;
											p5pkg["main"]["v_@"] = "";
											try {
												r = (function () {
												p5call(v_module_name_1101, 'unimport', p5list_to_a([p5array_deref((v_arguments_1103 || (v_arguments_1103 = new p5ArrayRef([]))), 'Perlito5::Grammar::Use')]), null);
												return ((1));
											})()
											}
											catch(err) {
												if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
													throw(err)
												}
												else if ( err instanceof p5_error || err instanceof Error ) {
													p5pkg["main"]["v_@"] = err;
													if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
														try {
															p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
														}
														catch(err) { }
													}
												}
												else {
													return(err);
												}
											}
											return r;
										})(), function () {
											return p5call(p5make_package('main')['v_@'], 'Perlito5::Compiler::error', [], null)
										});
										p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'].shift();
									}
									})();
								})();
							}
							})()
							})();
						}
						})();
					})();
				}
				else {
					p5pkg['Perlito5::Grammar::Use'].bootstrapping_use([v_ast_1100], null);
				}
				})();
				return (p5pkg['Perlito5::Grammar::Block'].ast_nop([], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2953._prototype_ = null;
		return tmp2953
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'emit_time_eval', (function () {
		var tmp2954;
		tmp2954 = function (List__, p5want) {
			var v_ast_1109;
			v_ast_1109 = (List__.shift());
			return (function () {
					if ( (p5str((v_ast_1109 || (v_ast_1109 = new p5HashRef({})))._hash_.p5hget('mod')) == 'strict') ) {
					return (function () {
						if ( (p5str((v_ast_1109 || (v_ast_1109 = new p5HashRef({})))._hash_.p5hget('code')) == 'use') ) {
						return (p5call('strict', 'import', [], p5want));
					}
					else return (function () {
						if ( (p5str((v_ast_1109 || (v_ast_1109 = new p5HashRef({})))._hash_.p5hget('code')) == 'no') ) {
						return (p5call('strict', 'unimport', [], p5want));
					}
					})()
					})()
				}
				})()
		};
		tmp2954._prototype_ = null;
		return tmp2954
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'modulename_to_filename', (function () {
		var tmp2955;
		tmp2955 = function (List__, p5want) {
			var local_idx = p5LOCAL.length;
			var regex_tmp = p5_regex_capture;
			p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
			var v_s_1110;
			v_s_1110 = (List__.shift());
			p5and((Hash_Perlito_internal_module_1038).hasOwnProperty(v_s_1110), function () {
					return v_s_1110 = (Hash_Perlito_internal_module_1038.p5hget(p5str(v_s_1110)))
				});
			(function () {
						var tmp = p5s(v_s_1110, '::', function () {
							return '/'
						}, 'g', 0);
						v_s_1110 = tmp[0];
						return tmp[1];
					})();
			return p5cleanup_local(local_idx, (p5context([(p5str(v_s_1110) + '.pm')], p5want)));
			p5cleanup_local(local_idx, null);
		};
		tmp2955._prototype_ = null;
		return tmp2955
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'filename_lookup', (function () {
		var tmp2956;
		tmp2956 = function (List__, p5want) {
			try {
				var v_filename_1111;
				v_filename_1111 = (List__.shift());
				(function () {
					if ( (p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC']).hasOwnProperty(v_filename_1111) ) {
					p5and(p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hget(p5str(v_filename_1111)), function () {
						throw(p5context(['done'], p5want))
					});
					p5pkg['Perlito5::Compiler'].error(['Compilation failed in require'], null);
				}
				})();
				(function () {
					var v_prefix_1112;
					(function(){ var v_prefix_1112; p5for_lex(function (v) { v_prefix_1112 = v }, function () {
							var v_realfilename_1113;
							v_realfilename_1113 = ((p5str(v_prefix_1112) + '/' + p5str(v_filename_1111)));
							(function () {
								if ( p5bool(p5is_file(p5str(v_realfilename_1113))) ) {
								p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hset(p5str(v_filename_1111), (v_realfilename_1113));
								throw(p5context(['todo'], p5want));
							}
							})();
						}, p5list_to_a([p5pkg[p5make_package('main')['List_INC'] || (p5make_package('main')['List_INC'] = []), 'main']['List_INC'], '.']), false, '') })()
				})();
				return (p5pkg['Perlito5::Compiler'].error([('Can' + String.fromCharCode(39) + 't locate ' + p5str(v_filename_1111) + ' in @INC ' + '(@INC contains ' + p5pkg['Perlito5::Grammar::Use'].join([' '].concat(p5list_to_a([p5pkg[p5make_package('main')['List_INC'] || (p5make_package('main')['List_INC'] = []), 'main']['List_INC']])), "") + ').')], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2956._prototype_ = null;
		return tmp2956
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'bootstrapping_use', (function () {
		var tmp2957;
		tmp2957 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_stmt_1114;
				v_stmt_1114 = (List__.shift());
				var v_module_name_1115;
				v_module_name_1115 = ((v_stmt_1114 || (v_stmt_1114 = new p5HashRef({})))._hash_.p5hget('mod'));
				var v_filename_1116;
				v_filename_1116 = (p5pkg['Perlito5::Grammar::Use'].modulename_to_filename([v_module_name_1115], ""));
				p5and((p5str(p5pkg['Perlito5::Grammar::Use'].filename_lookup([v_filename_1116], "")) == 'done'), function () {
					throw(p5context([], p5want))
				});
				(function () {
					var v_tmp2958_2959 = p5make_package('Perlito5')['v_FILE_NAME'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_FILE_NAME'] = v_tmp2958_2959 });
					return (p5make_package('Perlito5')['v_FILE_NAME'] = (null));
				})();
				p5make_package('Perlito5')['v_FILE_NAME'] = (v_filename_1116);
				(function () {
					var v_tmp2960_2961 = p5make_package('Perlito5')['v_LINE_NUMBER'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_LINE_NUMBER'] = v_tmp2960_2961 });
					return (p5make_package('Perlito5')['v_LINE_NUMBER'] = (null));
				})();
				p5make_package('Perlito5')['v_LINE_NUMBER'] = (1);
				var v_realfilename_1119;
				v_realfilename_1119 = (p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hget(p5str(v_filename_1116)));
				p5or(CORE.open(p5list_to_a(['FILE', '<', v_realfilename_1119])), function () {
					return p5pkg['Perlito5::Compiler'].error([('Cannot read ' + p5str(v_realfilename_1119) + ': ' + p5str(p5make_package('main')['v_!']) + String.fromCharCode(10))], null)
				});
				(function () {
					var v_tmp2962_2963 = p5make_package('main')['v_/'];
					p5LOCAL.push(function(){ p5make_package('main')['v_/'] = v_tmp2962_2963 });
					return (p5make_package('main')['v_/'] = (null));
				})();
				p5make_package('main')['v_/'] = (null);
				var v_source_1121;
				v_source_1121 = (CORE.readline(['FILE'], ""));
				p5pkg["Perlito5::IO"].close('FILE', []);
				var v_m_1122;
				v_m_1122 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_source_1121, 0], ""));
				p5and((p5num((v_m_1122 || (v_m_1122 = new p5HashRef({})))._hash_.p5hget('to')) != p5pkg['Perlito5::Grammar::Use'].length([v_source_1121], "")), function () {
					return p5pkg['Perlito5::Compiler'].error(p5list_to_a(['Syntax Error near ', (v_m_1122 || (v_m_1122 = new p5HashRef({})))._hash_.p5hget('to')]), null)
				});
				(function () {
					if ( (p5num((v_m_1122 || (v_m_1122 = new p5HashRef({})))._hash_.p5hget('to')) != p5pkg['Perlito5::Grammar::Use'].length([v_source_1121], "")) ) {
					(function () {
						var v_pos_1123;
						v_pos_1123 = ((p5num((v_m_1122 || (v_m_1122 = new p5HashRef({})))._hash_.p5hget('to')) - 10));
						p5and((p5num(v_pos_1123) < 0), function () {
							return v_pos_1123 = (0)
						});
						p5pkg["Perlito5::IO"].print("STDOUT", ['* near: ', p5str(v_source_1121).substr(p5num(v_pos_1123), 20), String.fromCharCode(10)]);
						p5pkg["Perlito5::IO"].print("STDOUT", [('* filename: ' + p5str(v_realfilename_1119) + String.fromCharCode(10))]);
						p5pkg['Perlito5::Compiler'].error(['Syntax Error'], null);
					})();
				}
				})();
				p5pkg[p5make_package('Perlito5')['List_COMP_UNIT'] || (p5make_package('Perlito5')['List_COMP_UNIT'] = []), 'Perlito5']['List_COMP_UNIT'].p5push(p5list_to_a([p5call('Perlito5::AST::CompUnit', 'new', p5list_to_a(['name', 'main', 'body', p5pkg['Perlito5::Match'].flat([v_m_1122], 1)]), 1)]));
				(function () {
					throw(p5context([], p5want))
				})()
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp2957._prototype_ = null;
		return tmp2957
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'require', (function () {
		var tmp2964;
		tmp2964 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_filename_1124;
				v_filename_1124 = (List__.shift());
				var v_m2_1125;
				v_m2_1125 = (p5pkg['Perlito5::Grammar::Use'].version_string(p5list_to_a([(new p5ArrayRef(p5list_to_a([CORE.split(['', v_filename_1124], 1)]))), 0]), ""));
				(function () {
					if ( p5bool(v_m2_1125) ) {
					(function () {
						var v_version_1126;
						v_version_1126 = ((v_m2_1125 || (v_m2_1125 = new p5HashRef({})))._hash_.p5hget_hash('version_string')._hash_.p5hget_hash('capture')._hash_.p5hget('buf'));
						p5pkg['Perlito5'].test_perl_version([v_version_1126], null);
						throw(p5context([1], p5want));
					})();
				}
				})();
				p5and((p5str(p5pkg['Perlito5::Grammar::Use'].filename_lookup([v_filename_1124], "")) == 'done'), function () {
					throw(p5context([], p5want))
				});
				var v_source_1127;
				v_source_1127 = (p5pkg['Perlito5::Grammar::Use'].slurp_file([v_filename_1124], ""));
				(function () {
					var v_tmp2965_2966 = p5make_package('Perlito5')['v_FILE_NAME'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_FILE_NAME'] = v_tmp2965_2966 });
					return (p5make_package('Perlito5')['v_FILE_NAME'] = (null));
				})();
				p5make_package('Perlito5')['v_FILE_NAME'] = (v_filename_1124);
				p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
				p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
				(function () {
					var v_tmp2967_2968 = p5make_package('main')['v_' + String.fromCharCode(8)];
					p5LOCAL.push(function(){ p5make_package('main')['v_' + String.fromCharCode(8)] = v_tmp2967_2968 });
					return (p5make_package('main')['v_' + String.fromCharCode(8)] = (null));
				})();
				p5make_package('main')['v_' + String.fromCharCode(8)] = (0);
				(function () {
					var v_tmp2969_2970 = p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)];
					p5LOCAL.push(function(){ p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = v_tmp2969_2970 });
					return (p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = p5a_to_h(p5list_to_a([null])));
				})();
				p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = {};
				var v_m_1131;
				v_m_1131 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_source_1127, 0], ""));
				var v_ast_1132;
				v_ast_1132 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', p5pkg['Perlito5::Match'].flat([v_m_1131], 1)]), ""));
				var v_result_1133;
				v_result_1133 = (p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_ast_1132], ""));
				p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
				return (function () {
					if ( p5bool(p5make_package('main')['v_@']) ) {
					p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hset(p5str(v_filename_1124), (null));
					return (p5call(p5make_package('main')['v_@'], 'Perlito5::Compiler::error', [], p5want));
				}
				else return (function () {
					if ( !( p5bool(v_result_1133)) ) {
					((function (v,k) { var ret = v[k]; delete (v[k]); return ret;})(p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'],v_filename_1124));
					p5and(p5make_package('main')['v_@'], function () {
						return p5pkg['Perlito5::Grammar::Use'].warn([].concat([p5make_package('main')['v_@']]), null)
					});
					return (p5pkg['Perlito5::Compiler'].error([(p5str(v_filename_1124) + ' did not return true value')], p5want));
				}
				else {
					(function () {
						throw(p5context([v_result_1133], p5want))
					})()
				}
				})()
				})()
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp2964._prototype_ = null;
		return tmp2964
	})());
	p5typeglob_set('Perlito5::Grammar::Use', 'slurp_file', (function () {
		var tmp2971;
		tmp2971 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_filename_1134;
				v_filename_1134 = (List__.shift());
				p5or((function () {
					var p5want = "";
					var r;
					p5pkg["main"]["v_@"] = "";
					try {
						r = (function () {
						p5pkg['Perlito5::Grammar::Use'].filename_lookup([v_filename_1134], null);
						return ((1));
					})()
					}
					catch(err) {
						if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
							throw(err)
						}
						else if ( err instanceof p5_error || err instanceof Error ) {
							p5pkg["main"]["v_@"] = err;
							if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
								try {
									p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
								}
								catch(err) { }
							}
						}
						else {
							return(err);
						}
					}
					return r;
				})(), function () {
					return (function () {
						p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hset(p5str(v_filename_1134), (null));
						p5make_package('main')['v_@'] = ('');
						p5make_package('main')['v_!'] = ('No such file or directory');
						throw(p5context(['undef'], p5want));
					})()
				});
				var v_realfilename_1135;
				v_realfilename_1135 = (p5pkg[p5make_package('main')['Hash_INC'] || (p5make_package('main')['Hash_INC'] = {}), 'main']['Hash_INC'].p5hget(p5str(v_filename_1134)));
				p5or(CORE.open(p5list_to_a(['FILE', '<', v_realfilename_1135])), function () {
					return p5pkg['Perlito5::Compiler'].error([('Cannot read ' + p5str(v_realfilename_1135) + ': ' + p5str(p5make_package('main')['v_!']) + String.fromCharCode(10))], null)
				});
				(function () {
					var v_tmp2972_2973 = p5make_package('main')['v_/'];
					p5LOCAL.push(function(){ p5make_package('main')['v_/'] = v_tmp2972_2973 });
					return (p5make_package('main')['v_/'] = (null));
				})();
				p5make_package('main')['v_/'] = (null);
				var v_source_1137;
				v_source_1137 = (CORE.readline(['FILE'], ""));
				p5pkg["Perlito5::IO"].close('FILE', []);
				return p5cleanup_local(local_idx, (p5context([v_source_1137], p5want)));
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp2971._prototype_ = null;
		return tmp2971
	})());
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['no', p5pkg['Perlito5::Grammar::Use'].stmt_use]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['use', p5pkg['Perlito5::Grammar::Use'].stmt_use]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['require', p5pkg['Perlito5::Grammar::Use'].term_require]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::AST::CompUnit');
	p5typeglob_set('Perlito5::AST::CompUnit', 'new', (function () {
		var tmp2974;
		tmp2974 = function (List__, p5want) {
			try {
				var v_class_1138;
				v_class_1138 = (List__.shift());
				var Hash_args_1139 = {};
				Hash_args_1139 = p5a_to_h(p5list_to_a([List__]));
				(function () {
					if ( p5bool(Hash_args_1139.p5hget('body')) ) {
					(function () {
						var List_body_1140 = [];
						(function () {
							var v_stmt_1141;
							(function(){ var v_stmt_1141; p5for_lex(function (v) { v_stmt_1141 = v }, function () {
									p5and(!( (v_stmt_1141 != null)), function () {
										throw(new p5_error("next", ''))
									});
									p5and(p5and((p5pkg['Perlito5::AST::CompUnit'].ref([v_stmt_1141], "") == 'Perlito5::AST::Apply'), function () {
										return p5and((p5str((v_stmt_1141 || (v_stmt_1141 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'Perlito5'), function () {
											return (p5str((v_stmt_1141 || (v_stmt_1141 = new p5HashRef({})))._hash_.p5hget('code')) == 'nop')
										})
									}), function () {
										throw(new p5_error("next", ''))
									});
									List_body_1140.p5push([v_stmt_1141]);
								}, p5list_to_a([p5array_deref(Hash_args_1139.p5hget_array('body'), 'Perlito5::AST::CompUnit')]), false, '') })()
						})();
						p5and(p5make_package('Perlito5')['v_CODE_TOO_LARGE'], function () {
							return List_body_1140 = p5list_to_a([p5pkg['Perlito5::Macro'].split_code_too_large(p5list_to_a([List_body_1140]), 1)])
						});
						Hash_args_1139.p5hset('body', ((new p5ArrayRef(List_body_1140))));
					})();
				}
				})();
				return (CORE.bless(p5list_to_a([(new p5HashRef(Hash_args_1139)), p5str(v_class_1138)])));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2974._prototype_ = null;
		return tmp2974
	})());
	p5typeglob_set('Perlito5::AST::CompUnit', 'name', (function () {
		var tmp2975;
		tmp2975 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('name'));
		};
		tmp2975._prototype_ = null;
		return tmp2975
	})());
	p5typeglob_set('Perlito5::AST::CompUnit', 'body', (function () {
		var tmp2976;
		tmp2976 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp2976._prototype_ = null;
		return tmp2976
	})());
	p5make_package('Perlito5::AST::Block');
	p5typeglob_set('Perlito5::AST::Block', 'new', (function () {
		var tmp2977;
		tmp2977 = function (List__, p5want) {
			try {
				var v_class_1142;
				v_class_1142 = (List__.shift());
				var Hash_args_1143 = {};
				Hash_args_1143 = p5a_to_h(p5list_to_a([List__]));
				(function () {
					if ( p5bool(Hash_args_1143.p5hget('stmts')) ) {
					(function () {
						var List_stmts_1144 = [];
						(function () {
							var v_stmt_1145;
							(function(){ var v_stmt_1145; p5for_lex(function (v) { v_stmt_1145 = v }, function () {
									p5and(!( (v_stmt_1145 != null)), function () {
										throw(new p5_error("next", ''))
									});
									p5and(p5and((p5pkg['Perlito5::AST::Block'].ref([v_stmt_1145], "") == 'Perlito5::AST::Apply'), function () {
										return p5and((p5str((v_stmt_1145 || (v_stmt_1145 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'Perlito5'), function () {
											return (p5str((v_stmt_1145 || (v_stmt_1145 = new p5HashRef({})))._hash_.p5hget('code')) == 'nop')
										})
									}), function () {
										throw(new p5_error("next", ''))
									});
									List_stmts_1144.p5push([v_stmt_1145]);
								}, p5list_to_a([p5array_deref(Hash_args_1143.p5hget_array('stmts'), 'Perlito5::AST::Block')]), false, '') })()
						})();
						p5and(p5make_package('Perlito5')['v_CODE_TOO_LARGE'], function () {
							return List_stmts_1144 = p5list_to_a([p5pkg['Perlito5::Macro'].split_code_too_large(p5list_to_a([List_stmts_1144]), 1)])
						});
						Hash_args_1143.p5hset('stmts', ((new p5ArrayRef(List_stmts_1144))));
					})();
				}
				})();
				return (CORE.bless(p5list_to_a([(new p5HashRef(Hash_args_1143)), p5str(v_class_1142)])));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2977._prototype_ = null;
		return tmp2977
	})());
	p5typeglob_set('Perlito5::AST::Block', 'sig', (function () {
		var tmp2978;
		tmp2978 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('sig'));
		};
		tmp2978._prototype_ = null;
		return tmp2978
	})());
	p5typeglob_set('Perlito5::AST::Block', 'stmts', (function () {
		var tmp2979;
		tmp2979 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('stmts'));
		};
		tmp2979._prototype_ = null;
		return tmp2979
	})());
	p5make_package('Perlito5::AST::Int');
	p5typeglob_set('Perlito5::AST::Int', 'new', (function () {
		var tmp2980;
		tmp2980 = function (List__, p5want) {
			var v_class_1146;
			v_class_1146 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1146)])));
		};
		tmp2980._prototype_ = null;
		return tmp2980
	})());
	p5typeglob_set('Perlito5::AST::Int', 'int', (function () {
		var tmp2981;
		tmp2981 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('int'));
		};
		tmp2981._prototype_ = null;
		return tmp2981
	})());
	p5make_package('Perlito5::AST::Num');
	p5typeglob_set('Perlito5::AST::Num', 'new', (function () {
		var tmp2982;
		tmp2982 = function (List__, p5want) {
			var v_class_1147;
			v_class_1147 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1147)])));
		};
		tmp2982._prototype_ = null;
		return tmp2982
	})());
	p5typeglob_set('Perlito5::AST::Num', 'num', (function () {
		var tmp2983;
		tmp2983 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('num'));
		};
		tmp2983._prototype_ = null;
		return tmp2983
	})());
	p5make_package('Perlito5::AST::Buf');
	p5typeglob_set('Perlito5::AST::Buf', 'new', (function () {
		var tmp2984;
		tmp2984 = function (List__, p5want) {
			var v_class_1148;
			v_class_1148 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1148)])));
		};
		tmp2984._prototype_ = null;
		return tmp2984
	})());
	p5typeglob_set('Perlito5::AST::Buf', 'buf', (function () {
		var tmp2985;
		tmp2985 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('buf'));
		};
		tmp2985._prototype_ = null;
		return tmp2985
	})());
	p5make_package('Perlito5::AST::Index');
	p5typeglob_set('Perlito5::AST::Index', 'new', (function () {
		var tmp2986;
		tmp2986 = function (List__, p5want) {
			var v_class_1149;
			v_class_1149 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1149)])));
		};
		tmp2986._prototype_ = null;
		return tmp2986
	})());
	p5typeglob_set('Perlito5::AST::Index', 'obj', (function () {
		var tmp2987;
		tmp2987 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('obj'));
		};
		tmp2987._prototype_ = null;
		return tmp2987
	})());
	p5typeglob_set('Perlito5::AST::Index', 'index_exp', (function () {
		var tmp2988;
		tmp2988 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('index_exp'));
		};
		tmp2988._prototype_ = null;
		return tmp2988
	})());
	p5typeglob_set('Perlito5::AST::Index', 'INDEX', (function () {
		var tmp2989;
		tmp2989 = function (List__, p5want) {
			try {
				var v_term_1150;
				var v_index_1151;
				(function () {
					var tmp2990 = p5list_to_a([List__]);
					var tmp2991 = tmp2990.slice(0);
					v_term_1150 = tmp2990.shift();
					v_index_1151 = tmp2990.shift();
					return tmp2991
				})();
				(function () {
					if ( ((p5pkg['Perlito5::AST::Index'].ref([v_term_1150], "") == 'Perlito5::AST::Var') && (p5str((v_term_1150 || (v_term_1150 = new p5HashRef({})))._hash_.p5hget('sigil')) == '@')) ) {
					throw(p5call('Perlito5::AST::Index', 'new', p5list_to_a(['obj', p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_term_1150 || (v_term_1150 = new p5HashRef({}))), 'Perlito5::AST::Index'), '_real_sigil', (v_term_1150 || (v_term_1150 = new p5HashRef({})))._hash_.p5hget('sigil'), 'sigil', '$']), 1), 'index_exp', v_index_1151]), p5want));
				}
				})();
				return (p5call('Perlito5::AST::Call', 'new', ['method', 'postcircumfix:<[ ]>', 'invocant', v_term_1150, 'arguments', v_index_1151], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2989._prototype_ = null;
		return tmp2989
	})());
	p5make_package('Perlito5::AST::Lookup');
	p5typeglob_set('Perlito5::AST::Lookup', 'new', (function () {
		var tmp2992;
		tmp2992 = function (List__, p5want) {
			var v_class_1152;
			v_class_1152 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1152)])));
		};
		tmp2992._prototype_ = null;
		return tmp2992
	})());
	p5typeglob_set('Perlito5::AST::Lookup', 'obj', (function () {
		var tmp2993;
		tmp2993 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('obj'));
		};
		tmp2993._prototype_ = null;
		return tmp2993
	})());
	p5typeglob_set('Perlito5::AST::Lookup', 'index_exp', (function () {
		var tmp2994;
		tmp2994 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('index_exp'));
		};
		tmp2994._prototype_ = null;
		return tmp2994
	})());
	p5typeglob_set('Perlito5::AST::Lookup', 'autoquote', (function () {
		var tmp2995;
		tmp2995 = function (List__, p5want) {
			try {
				var v_self_1153;
				v_self_1153 = (List__.shift());
				var v_index_1154;
				v_index_1154 = (List__.shift());
				(function () {
					if ( (p5bool(p5call(v_index_1154, 'isa', ['Perlito5::AST::Apply'], "")) && p5bool((v_index_1154 || (v_index_1154 = new p5HashRef({})))._hash_.p5hget('bareword'))) ) {
					(function () {
						var v_full_name_1155;
						v_full_name_1155 = ((p5str(( p5bool((v_index_1154 || (v_index_1154 = new p5HashRef({})))._hash_.p5hget('namespace')) ? (p5str((v_index_1154 || (v_index_1154 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::') : '')) + p5str((v_index_1154 || (v_index_1154 = new p5HashRef({})))._hash_.p5hget('code'))));
						(function () {
							if ( !( (p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_full_name_1155)) ) {
							throw(p5call('Perlito5::AST::Buf', 'new', ['buf', v_full_name_1155], p5want));
						}
						})();
					})();
				}
				else (function () {
					if ( (p5bool(p5call(v_index_1154, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_index_1154, 'code', [], "")) == 'prefix:<->') || (p5str(p5call(v_index_1154, 'code', [], "")) == 'prefix:<+>'))) ) {
					(function () {
						var v_arg_1156;
						v_arg_1156 = (p5call(v_index_1154, 'arguments', [], p5want)._array_.p5aget(0));
						p5and(v_arg_1156, function () {
							throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', p5call(v_index_1154, 'code', [], 1), 'namespace', p5call(v_index_1154, 'namespace', [], 1), 'arguments', (new p5ArrayRef(p5list_to_a([p5call(v_self_1153, 'autoquote', [v_arg_1156], 1)])))]), p5want))
						});
					})();
				}
				else (function () {
					if ( (p5bool(p5call(v_index_1154, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_index_1154, 'code', [], "")) == 'list:<,>')) ) {
					(function () {
						var v_obj_1157;
						v_obj_1157 = (p5call(v_self_1153, 'obj', [], ""));
						(function () {
							if ( (p5str(p5call(v_obj_1157, 'sigil', [], "")) == '@') ) {
							throw(p5context([v_index_1154], p5want));
						}
						})();
						var v_args_1158;
						v_args_1158 = (p5call(v_index_1154, 'arguments', [], ""));
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'join', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['name', ';', 'namespace', '', 'sigil', '$'], 1), p5map(p5pkg['Perlito5::AST::Lookup'], function (p5want) {
	return (( (p5make_package('main')['v__'] != null) ? p5make_package('main')['v__'] : p5call('Perlito5::AST::Buf', 'new', ['buf', ''], 1)));
}, p5list_to_a([p5array_deref((v_args_1158 || (v_args_1158 = new p5ArrayRef([]))), 'Perlito5::AST::Lookup')]))])))]), p5want));
					})();
				}
				})()
				})()
				})();
				return (p5context([v_index_1154], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2995._prototype_ = null;
		return tmp2995
	})());
	p5typeglob_set('Perlito5::AST::Lookup', 'LOOKUP', (function () {
		var tmp2996;
		tmp2996 = function (List__, p5want) {
			try {
				var v_term_1159;
				var v_index_1160;
				(function () {
					var tmp2997 = p5list_to_a([List__]);
					var tmp2998 = tmp2997.slice(0);
					v_term_1159 = tmp2997.shift();
					v_index_1160 = tmp2997.shift();
					return tmp2998
				})();
				(function () {
					if ( ((p5pkg['Perlito5::AST::Lookup'].ref([v_term_1159], "") == 'Perlito5::AST::Var') && (p5str((v_term_1159 || (v_term_1159 = new p5HashRef({})))._hash_.p5hget('sigil')) == '%')) ) {
					throw(p5call('Perlito5::AST::Lookup', 'new', p5list_to_a(['obj', p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_term_1159 || (v_term_1159 = new p5HashRef({}))), 'Perlito5::AST::Lookup'), '_real_sigil', (v_term_1159 || (v_term_1159 = new p5HashRef({})))._hash_.p5hget('sigil'), 'sigil', '$']), 1), 'index_exp', v_index_1160]), p5want));
				}
				})();
				return (p5call('Perlito5::AST::Call', 'new', ['method', 'postcircumfix:<{ }>', 'invocant', v_term_1159, 'arguments', v_index_1160], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp2996._prototype_ = null;
		return tmp2996
	})());
	p5make_package('Perlito5::AST::Var');
	p5typeglob_set('Perlito5::AST::Var', 'new', (function () {
		var tmp2999;
		tmp2999 = function (List__, p5want) {
			var v_class_1161;
			var Hash_args_1162 = {};
			(function () {
					var tmp3000 = p5list_to_a([List__]);
					var tmp3001 = tmp3000.slice(0);
					v_class_1161 = tmp3000.shift();
					Hash_args_1162 = p5a_to_h(tmp3000);
					tmp3000 = [];
					return tmp3001
				})();
			var v_var_1163;
			v_var_1163 = (CORE.bless(p5list_to_a([(new p5HashRef(Hash_args_1162)), p5str(v_class_1161)])));
			p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].p5push([v_var_1163]);
			return (p5context([v_var_1163], p5want));
		};
		tmp2999._prototype_ = null;
		return tmp2999
	})());
	p5typeglob_set('Perlito5::AST::Var', 'sigil', (function () {
		var tmp3002;
		tmp3002 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('sigil'));
		};
		tmp3002._prototype_ = null;
		return tmp3002
	})());
	p5typeglob_set('Perlito5::AST::Var', 'namespace', (function () {
		var tmp3003;
		tmp3003 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('namespace'));
		};
		tmp3003._prototype_ = null;
		return tmp3003
	})());
	p5typeglob_set('Perlito5::AST::Var', 'name', (function () {
		var tmp3004;
		tmp3004 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('name'));
		};
		tmp3004._prototype_ = null;
		return tmp3004
	})());
	p5typeglob_set('Perlito5::AST::Var', 'plain_name', (function () {
		var tmp3005;
		tmp3005 = function (List__, p5want) {
			try {
				var v_self_1164;
				v_self_1164 = (List__.shift());
				(function () {
					if ( p5bool(p5call(v_self_1164, 'namespace', [], "")) ) {
					throw(p5context([(p5str(p5call(v_self_1164, 'namespace', [], "")) + '::' + p5str(p5call(v_self_1164, 'name', [], "")))], p5want));
				}
				})();
				return (p5call(v_self_1164, 'name', [], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3005._prototype_ = null;
		return tmp3005
	})());
	if (typeof p5pkg[p5make_package('Perlito5::AST::Var')['Hash_Special_var'] || (p5make_package('Perlito5::AST::Var')['Hash_Special_var'] = {}), 'Perlito5::AST::Var']['Hash_Special_var'] == "undefined" ) { p5pkg[p5make_package('Perlito5::AST::Var')['Hash_Special_var'] || (p5make_package('Perlito5::AST::Var')['Hash_Special_var'] = {}), 'Perlito5::AST::Var']['Hash_Special_var'] = {};}
	p5pkg[p5make_package('Perlito5::AST::Var')['Hash_Special_var'] || (p5make_package('Perlito5::AST::Var')['Hash_Special_var'] = {}), 'Perlito5::AST::Var']['Hash_Special_var'] = {'ARGV' : 1, 'INC' : 1, 'ENV' : 1, 'SIG' : 1, '_' : 1};
	if (typeof p5pkg[p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] || (p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] = {}), 'Perlito5::AST::Var']['Hash_NonSpecial_var'] == "undefined" ) { p5pkg[p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] || (p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] = {}), 'Perlito5::AST::Var']['Hash_NonSpecial_var'] = {};}
	p5pkg[p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] || (p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] = {}), 'Perlito5::AST::Var']['Hash_NonSpecial_var'] = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::AST::Var'], function (p5want) {
				return (p5list_to_a([p5make_package('main')['v__'], 1]));
			}, p5list_to_a([p5range('A', 'Z', 1, "tmp3006", 0), '_', p5range('a', 'z', 1, "tmp3007", 0)]))]));
	p5typeglob_set('Perlito5::AST::Var', 'is_special_var', (function () {
		var tmp3008;
		tmp3008 = function (List__, p5want) {
			try {
				var v_self_1167;
				v_self_1167 = (List__.shift());
				var v_c_1168;
				v_c_1168 = (p5str((v_self_1167 || (v_self_1167 = new p5HashRef({})))._hash_.p5hget('name')).substr(0, 1));
				(function () {
					if ( (p5bool(p5pkg[p5make_package('Perlito5::AST::Var')['Hash_Special_var'] || (p5make_package('Perlito5::AST::Var')['Hash_Special_var'] = {}), 'Perlito5::AST::Var']['Hash_Special_var'].p5hget(p5str((v_self_1167 || (v_self_1167 = new p5HashRef({})))._hash_.p5hget('name')))) || !( p5bool(p5pkg[p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] || (p5make_package('Perlito5::AST::Var')['Hash_NonSpecial_var'] = {}), 'Perlito5::AST::Var']['Hash_NonSpecial_var'].p5hget(p5str(v_c_1168))))) ) {
					throw(p5context([1], p5want));
				}
				})();
				return (p5context([0], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3008._prototype_ = null;
		return tmp3008
	})());
	p5typeglob_set('Perlito5::AST::Var', 'SCALAR_ARG', (function () {
		var tmp3009;
		tmp3009 = function (List__, p5want) {
			return (p5call('Perlito5::AST::Var', 'new', ['sigil', '$', 'namespace', '', 'name', '_', '_decl', 'global', '_namespace', 'main'], p5want));
		};
		tmp3009._prototype_ = null;
		return tmp3009
	})());
	p5typeglob_set('Perlito5::AST::Var', 'LIST_ARG', (function () {
		var tmp3010;
		tmp3010 = function (List__, p5want) {
			return (p5call('Perlito5::AST::Var', 'new', ['sigil', '@', 'namespace', '', 'name', '_', '_decl', 'global', '_namespace', 'main'], p5want));
		};
		tmp3010._prototype_ = null;
		return tmp3010
	})());
	p5typeglob_set('Perlito5::AST::Var', 'LIST_ARG_INDEX', (function () {
		var tmp3011;
		tmp3011 = function (List__, p5want) {
			var v_index_1169;
			v_index_1169 = (List__.shift());
			return (p5pkg['Perlito5::AST::Index'].INDEX(p5list_to_a([p5pkg['Perlito5::AST::Var'].LIST_ARG([], 1), p5call('Perlito5::AST::Int', 'new', ['int', v_index_1169], 1)]), p5want));
		};
		tmp3011._prototype_ = null;
		return tmp3011
	})());
	p5make_package('Perlito5::AST::Call');
	p5typeglob_set('Perlito5::AST::Call', 'new', (function () {
		var tmp3012;
		tmp3012 = function (List__, p5want) {
			var v_class_1170;
			v_class_1170 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1170)])));
		};
		tmp3012._prototype_ = null;
		return tmp3012
	})());
	p5typeglob_set('Perlito5::AST::Call', 'invocant', (function () {
		var tmp3013;
		tmp3013 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('invocant'));
		};
		tmp3013._prototype_ = null;
		return tmp3013
	})());
	p5typeglob_set('Perlito5::AST::Call', 'method', (function () {
		var tmp3014;
		tmp3014 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('method'));
		};
		tmp3014._prototype_ = null;
		return tmp3014
	})());
	p5typeglob_set('Perlito5::AST::Call', 'arguments', (function () {
		var tmp3015;
		tmp3015 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('arguments'));
		};
		tmp3015._prototype_ = null;
		return tmp3015
	})());
	p5make_package('Perlito5::AST::Apply');
	p5typeglob_set('Perlito5::AST::Apply', 'new', (function () {
		var tmp3016;
		tmp3016 = function (List__, p5want) {
			var v_class_1171;
			v_class_1171 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1171)])));
		};
		tmp3016._prototype_ = null;
		return tmp3016
	})());
	p5typeglob_set('Perlito5::AST::Apply', 'code', (function () {
		var tmp3017;
		tmp3017 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('code'));
		};
		tmp3017._prototype_ = null;
		return tmp3017
	})());
	p5typeglob_set('Perlito5::AST::Apply', 'special_arg', (function () {
		var tmp3018;
		tmp3018 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('special_arg'));
		};
		tmp3018._prototype_ = null;
		return tmp3018
	})());
	p5typeglob_set('Perlito5::AST::Apply', 'arguments', (function () {
		var tmp3019;
		tmp3019 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('arguments'));
		};
		tmp3019._prototype_ = null;
		return tmp3019
	})());
	p5typeglob_set('Perlito5::AST::Apply', 'namespace', (function () {
		var tmp3020;
		tmp3020 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('namespace'));
		};
		tmp3020._prototype_ = null;
		return tmp3020
	})());
	p5typeglob_set('Perlito5::AST::Apply', 'PUSH', (function () {
		var tmp3021;
		tmp3021 = function (List__, p5want) {
			try {
				var v_var_1172;
				var v_value_1173;
				(function () {
					var tmp3022 = p5list_to_a([List__]);
					var tmp3023 = tmp3022.slice(0);
					v_var_1172 = tmp3022.shift();
					v_value_1173 = tmp3022.shift();
					return tmp3023
				})();
				(function () {
					if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_var_1172], "") == 'Perlito5::AST::Var') && (p5str((v_var_1172 || (v_var_1172 = new p5HashRef({})))._hash_.p5hget('sigil')) == '@')) ) {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'push', 'arguments', (new p5ArrayRef([v_var_1172, v_value_1173]))]), p5want));
				}
				})();
				return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'push', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<@>', 'arguments', (new p5ArrayRef([v_var_1172]))]), 1), v_value_1173])))]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3021._prototype_ = null;
		return tmp3021
	})());
	p5make_package('Perlito5::AST::If');
	p5typeglob_set('Perlito5::AST::If', 'new', (function () {
		var tmp3024;
		tmp3024 = function (List__, p5want) {
			var v_class_1174;
			v_class_1174 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1174)])));
		};
		tmp3024._prototype_ = null;
		return tmp3024
	})());
	p5typeglob_set('Perlito5::AST::If', 'cond', (function () {
		var tmp3025;
		tmp3025 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
		};
		tmp3025._prototype_ = null;
		return tmp3025
	})());
	p5typeglob_set('Perlito5::AST::If', 'body', (function () {
		var tmp3026;
		tmp3026 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp3026._prototype_ = null;
		return tmp3026
	})());
	p5typeglob_set('Perlito5::AST::If', 'otherwise', (function () {
		var tmp3027;
		tmp3027 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('otherwise'));
		};
		tmp3027._prototype_ = null;
		return tmp3027
	})());
	p5make_package('Perlito5::AST::When');
	p5typeglob_set('Perlito5::AST::When', 'new', (function () {
		var tmp3028;
		tmp3028 = function (List__, p5want) {
			var v_class_1175;
			v_class_1175 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1175)])));
		};
		tmp3028._prototype_ = null;
		return tmp3028
	})());
	p5typeglob_set('Perlito5::AST::When', 'cond', (function () {
		var tmp3029;
		tmp3029 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
		};
		tmp3029._prototype_ = null;
		return tmp3029
	})());
	p5typeglob_set('Perlito5::AST::When', 'body', (function () {
		var tmp3030;
		tmp3030 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp3030._prototype_ = null;
		return tmp3030
	})());
	p5make_package('Perlito5::AST::While');
	p5typeglob_set('Perlito5::AST::While', 'new', (function () {
		var tmp3031;
		tmp3031 = function (List__, p5want) {
			var v_class_1176;
			v_class_1176 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1176)])));
		};
		tmp3031._prototype_ = null;
		return tmp3031
	})());
	p5typeglob_set('Perlito5::AST::While', 'init', (function () {
		var tmp3032;
		tmp3032 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('init'));
		};
		tmp3032._prototype_ = null;
		return tmp3032
	})());
	p5typeglob_set('Perlito5::AST::While', 'cond', (function () {
		var tmp3033;
		tmp3033 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
		};
		tmp3033._prototype_ = null;
		return tmp3033
	})());
	p5typeglob_set('Perlito5::AST::While', 'continue', (function () {
		var tmp3034;
		tmp3034 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('continue'));
		};
		tmp3034._prototype_ = null;
		return tmp3034
	})());
	p5typeglob_set('Perlito5::AST::While', 'body', (function () {
		var tmp3035;
		tmp3035 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp3035._prototype_ = null;
		return tmp3035
	})());
	p5make_package('Perlito5::AST::For');
	p5typeglob_set('Perlito5::AST::For', 'new', (function () {
		var tmp3036;
		tmp3036 = function (List__, p5want) {
			var v_class_1177;
			v_class_1177 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1177)])));
		};
		tmp3036._prototype_ = null;
		return tmp3036
	})());
	p5typeglob_set('Perlito5::AST::For', 'cond', (function () {
		var tmp3037;
		tmp3037 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
		};
		tmp3037._prototype_ = null;
		return tmp3037
	})());
	p5typeglob_set('Perlito5::AST::For', 'continue', (function () {
		var tmp3038;
		tmp3038 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('continue'));
		};
		tmp3038._prototype_ = null;
		return tmp3038
	})());
	p5typeglob_set('Perlito5::AST::For', 'body', (function () {
		var tmp3039;
		tmp3039 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp3039._prototype_ = null;
		return tmp3039
	})());
	p5typeglob_set('Perlito5::AST::For', 'topic', (function () {
		var tmp3040;
		tmp3040 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('topic'));
		};
		tmp3040._prototype_ = null;
		return tmp3040
	})());
	p5make_package('Perlito5::AST::Given');
	p5typeglob_set('Perlito5::AST::Given', 'new', (function () {
		var tmp3041;
		tmp3041 = function (List__, p5want) {
			var v_class_1178;
			v_class_1178 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1178)])));
		};
		tmp3041._prototype_ = null;
		return tmp3041
	})());
	p5typeglob_set('Perlito5::AST::Given', 'cond', (function () {
		var tmp3042;
		tmp3042 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('cond'));
		};
		tmp3042._prototype_ = null;
		return tmp3042
	})());
	p5typeglob_set('Perlito5::AST::Given', 'body', (function () {
		var tmp3043;
		tmp3043 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('body'));
		};
		tmp3043._prototype_ = null;
		return tmp3043
	})());
	p5make_package('Perlito5::AST::Decl');
	p5typeglob_set('Perlito5::AST::Decl', 'new', (function () {
		var tmp3044;
		tmp3044 = function (List__, p5want) {
			var v_class_1179;
			v_class_1179 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1179)])));
		};
		tmp3044._prototype_ = null;
		return tmp3044
	})());
	p5typeglob_set('Perlito5::AST::Decl', 'decl', (function () {
		var tmp3045;
		tmp3045 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('decl'));
		};
		tmp3045._prototype_ = null;
		return tmp3045
	})());
	p5typeglob_set('Perlito5::AST::Decl', 'type', (function () {
		var tmp3046;
		tmp3046 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('type'));
		};
		tmp3046._prototype_ = null;
		return tmp3046
	})());
	p5typeglob_set('Perlito5::AST::Decl', 'var', (function () {
		var tmp3047;
		tmp3047 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('var'));
		};
		tmp3047._prototype_ = null;
		return tmp3047
	})());
	p5typeglob_set('Perlito5::AST::Decl', 'attributes', (function () {
		var tmp3048;
		tmp3048 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('attributes'));
		};
		tmp3048._prototype_ = null;
		return tmp3048
	})());
	p5make_package('Perlito5::AST::Sub');
	p5typeglob_set('Perlito5::AST::Sub', 'new', (function () {
		var tmp3049;
		tmp3049 = function (List__, p5want) {
			var v_class_1180;
			v_class_1180 = (List__.shift());
			return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_1180)])));
		};
		tmp3049._prototype_ = null;
		return tmp3049
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'name', (function () {
		var tmp3050;
		tmp3050 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('name'));
		};
		tmp3050._prototype_ = null;
		return tmp3050
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'sig', (function () {
		var tmp3051;
		tmp3051 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('sig'));
		};
		tmp3051._prototype_ = null;
		return tmp3051
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'block', (function () {
		var tmp3052;
		tmp3052 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('block'));
		};
		tmp3052._prototype_ = null;
		return tmp3052
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'attributes', (function () {
		var tmp3053;
		tmp3053 = function (List__, p5want) {
			return (List__.p5aget_hash(0)._hash_.p5hget('attributes'));
		};
		tmp3053._prototype_ = null;
		return tmp3053
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'is_named_sub', (function () {
		var tmp3054;
		tmp3054 = function (List__, p5want) {
			var v_self_1181;
			v_self_1181 = (List__.shift());
			return (p5and(p5call(v_self_1181, 'isa', ['Perlito5::AST::Sub'], ""), function () {
						return (v_self_1181 || (v_self_1181 = new p5HashRef({})))._hash_.p5hget('name')
					}));
		};
		tmp3054._prototype_ = null;
		return tmp3054
	})());
	p5typeglob_set('Perlito5::AST::Sub', 'is_anon_sub', (function () {
		var tmp3055;
		tmp3055 = function (List__, p5want) {
			var v_self_1182;
			v_self_1182 = (List__.shift());
			return (p5and(p5call(v_self_1182, 'isa', ['Perlito5::AST::Sub'], ""), function () {
						return !( p5bool((v_self_1182 || (v_self_1182 = new p5HashRef({})))._hash_.p5hget('name')))
					}));
		};
		tmp3055._prototype_ = null;
		return tmp3055
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Scope');
	p5typeglob_set('Perlito5::Grammar::Scope', 'new', (function () {
		var tmp3056;
		tmp3056 = function (List__, p5want) {
			return ((new p5HashRef(p5a_to_h(p5list_to_a(['block', (new p5ArrayRef([]))])))));
		};
		tmp3056._prototype_ = null;
		return tmp3056
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'new_base_scope', (function () {
		var tmp3057;
		tmp3057 = function (List__, p5want) {
			return ((new p5HashRef(p5a_to_h(p5list_to_a(['block', (new p5ArrayRef([]))])))));
		};
		tmp3057._prototype_ = null;
		return tmp3057
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'create_new_compile_time_scope', (function () {
		var tmp3058;
		tmp3058 = function (List__, p5want) {
			var v_new_scope_1183;
			v_new_scope_1183 = ((new p5HashRef(p5a_to_h(p5list_to_a(['block', (new p5ArrayRef([]))])))));
			p5array_deref((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::Grammar::Scope').p5push([v_new_scope_1183]);
			(function () {
					var tmp3059 = p5make_package('Perlito5')['v_SCOPE_DEPTH'];
					p5make_package('Perlito5')['v_SCOPE_DEPTH'] = p5incr_(tmp3059);
					return tmp3059
				})();
			p5make_package('Perlito5')['v_SCOPE'] = (v_new_scope_1183);
			(p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hset('hint_scalar', (p5make_package('main')['v_' + String.fromCharCode(8)]));
			return ((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hset('hint_hash', ((new p5HashRef(p5a_to_h(p5list_to_a([p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)]])))))));
		};
		tmp3058._prototype_ = null;
		return tmp3058
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'end_compile_time_scope', (function () {
		var tmp3060;
		tmp3060 = function (List__, p5want) {
			p5make_package('main')['v_' + String.fromCharCode(8)] = ((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget('hint_scalar'));
			p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = p5a_to_h(p5list_to_a([p5hash_deref(p5or((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget('hint_hash'), function () {
							return (new p5HashRef({}))
						}), 'Perlito5::Grammar::Scope')]));
			var v_pos_1184;
			v_pos_1184 = (0);
			(function () {
					var tmp3061 = p5make_package('Perlito5')['v_SCOPE_DEPTH'];
					p5make_package('Perlito5')['v_SCOPE_DEPTH'] = p5decr_(tmp3061);
					return tmp3061
				})();
			p5make_package('Perlito5')['v_SCOPE'] = (p5make_package('Perlito5')['v_BASE_SCOPE']);
			(function () {
					p5while(function () {
						(function () {
							var tmp3062 = v_pos_1184;
							v_pos_1184 = p5incr_(tmp3062);
							return tmp3062
						})();
						return ((p5make_package('Perlito5')['v_SCOPE'] = ((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget_array('block')._array_.p5aget(p5num(p5negative( 1))))));
					}, function () {
						return (p5num(p5make_package('Perlito5')['v_SCOPE_DEPTH']) > p5num(v_pos_1184))
					}, false, '', 0)
				})()
		};
		tmp3060._prototype_ = null;
		return tmp3060
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'compile_time_glob_set', (function () {
		var tmp3063;
		tmp3063 = function (List__, p5want) {
			var v_glob_1185;
			var v_value_1186;
			var v_namespace_1187;
			(function () {
					var tmp3064 = p5list_to_a([List__]);
					var tmp3065 = tmp3064.slice(0);
					v_glob_1185 = tmp3064.shift();
					v_value_1186 = tmp3064.shift();
					v_namespace_1187 = tmp3064.shift();
					return tmp3065
				})();
			(function () {
					if ( !( p5bool(p5pkg['Perlito5::Grammar::Scope'].ref([v_glob_1185], ""))) ) {
					(function () {
						(function () {
							if ( p5bool(!(p5m(v_glob_1185, '::', '', 0))) ) {
							v_glob_1185 = ((p5str(v_namespace_1187) + '::' + p5str(v_glob_1185)));
						}
						})();
						var List_parts_1188 = [];
						List_parts_1188 = p5list_to_a([CORE.split(['::', v_glob_1185], 1)]);
						var v_name_1189;
						v_name_1189 = (List_parts_1188.pop());
						p5call('Perlito5::AST::Var', 'new', ['name', v_name_1189, 'namespace', p5pkg['Perlito5::Grammar::Scope'].join(['::'].concat(p5list_to_a([List_parts_1188])), 1), 'sigil', '*', '_decl', 'global'], null);
					})();
				}
				})();
			return (p5typeglob_deref_set((v_glob_1185), (v_value_1186), 'Perlito5::Grammar::Scope'));
		};
		tmp3063._prototype_ = null;
		return tmp3063
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'lookup_variable', (function () {
		var tmp3066;
		tmp3066 = function (List__, p5want) {
			try {
				var v_var_1190;
				v_var_1190 = (List__.shift());
				var v_scope_1191;
				v_scope_1191 = (p5defined_or(List__.shift(), function () {
							return p5make_package('Perlito5')['v_BASE_SCOPE']
						}));
				p5and((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
					throw(p5context([v_var_1190], p5want))
				});
				p5and((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('_decl'), function () {
					throw(p5context([v_var_1190], p5want))
				});
				var v_look_1192;
				v_look_1192 = (p5pkg['Perlito5::Grammar::Scope'].lookup_variable_inner([v_var_1190, v_scope_1191, 0], ""));
				p5and(v_look_1192, function () {
					throw(p5context([v_look_1192], p5want))
				});
				p5and((p5pkg['Perlito5::Grammar::Scope'].ref([v_var_1190], "") != 'Perlito5::AST::Var'), function () {
					throw(p5context([], p5want))
				});
				var v_c_1193;
				v_c_1193 = (p5str((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('name')).substr(0, 1));
				(function () {
					if ( p5bool(p5call(v_var_1190, 'is_special_var', [], "")) ) {
					(v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hset('_decl', ('global'));
					(v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hset('_namespace', ('main'));
					throw(p5context([v_var_1190], p5want));
				}
				})();
				(function () {
					if ( ((p5str((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$') && ((p5str((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('name')) == 'a') || (p5str((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('name')) == 'b'))) ) {
					(function () {
						if ( !( p5bool((v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hget('_real_sigil'))) ) {
						(v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hset('_decl', ('global'));
						(v_var_1190 || (v_var_1190 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']));
						throw(p5context([v_var_1190], p5want));
					}
					})();
				}
				})();
				(function () {
					throw(p5context([], p5want))
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3066._prototype_ = null;
		return tmp3066
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'lookup_variable_inner', (function () {
		var tmp3067;
		tmp3067 = function (List__, p5want) {
			try {
				var v_var_1194;
				var v_scope_1195;
				var v_depth_1196;
				(function () {
					var tmp3068 = p5list_to_a([List__]);
					var tmp3069 = tmp3068.slice(0);
					v_var_1194 = tmp3068.shift();
					v_scope_1195 = tmp3068.shift();
					v_depth_1196 = tmp3068.shift();
					return tmp3069
				})();
				p5and((p5num(v_depth_1196) > p5num(p5make_package('Perlito5')['v_SCOPE_DEPTH'])), function () {
					throw(p5context([], p5want))
				});
				var v_block_1197;
				v_block_1197 = ((v_scope_1195 || (v_scope_1195 = new p5HashRef({})))._hash_.p5hget('block'));
				(function () {
					if ( (p5bool(p5num(p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope'))) && ((p5pkg['Perlito5::Grammar::Scope'].ref([(v_block_1197 || (v_block_1197 = new p5ArrayRef([])))._array_.p5aget(p5num(p5negative( 1)))], "") == 'HASH') && p5bool((v_block_1197 || (v_block_1197 = new p5ArrayRef([])))._array_.p5aget_hash(p5num(p5negative( 1)))._hash_.p5hget('block')))) ) {
					(function () {
						var v_look_1198;
						v_look_1198 = (p5pkg['Perlito5::Grammar::Scope'].lookup_variable_inner(p5list_to_a([v_var_1194, (v_block_1197 || (v_block_1197 = new p5ArrayRef([])))._array_.p5aget(p5num(p5negative( 1))), (p5num(v_depth_1196) + 1)]), ""));
						p5and(v_look_1198, function () {
							throw(p5context([v_look_1198], p5want))
						});
					})();
				}
				})();
				(function () {
					if ( (p5num(p5context([(p5num((v_scope_1195 || (v_scope_1195 = new p5HashRef({})))._hash_.p5hget('compacted')) + 100)], 0)) < p5num(p5num(p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope')))) ) {
					(function () {
						var Hash_seen_1199 = {};
						var List_out_1200 = [];
						var v_start_1201;
						v_start_1201 = ((p5num((p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope').length - 1)) - 500));
						p5and((p5num(v_start_1201) < 1), function () {
							return v_start_1201 = (1)
						});
						(function () {
							var v_i_1202;
							(function(){ var v_i_1202; p5for_lex(function (v) { v_i_1202 = v }, function () {
									var v_item_1203;
									v_item_1203 = ((v_block_1197 || (v_block_1197 = new p5ArrayRef([])))._array_.p5aget(p5num(v_i_1202)));
									var v_s_1204;
									v_s_1204 = (p5pkg['Perlito5::Grammar::Scope'].join([':'].concat(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Scope'], function (p5want) {
													return ((p5str(p5make_package('main')['v__']) + '=' + p5str((v_item_1203 || (v_item_1203 = new p5HashRef({})))._hash_.p5hget(p5str(p5make_package('main')['v__'])))));
												}, p5list_to_a([p5sort(p5pkg['Perlito5::Grammar::Scope'], function (p5want) {
													return (p5cmp(p5str(p5make_package('Perlito5::Grammar::Scope')['v_a']), p5str(p5make_package('Perlito5::Grammar::Scope')['v_b'])));
												}, p5list_to_a([p5pkg['Perlito5::Grammar::Scope'].keys([p5hash_deref((v_item_1203 || (v_item_1203 = new p5HashRef({}))), 'Perlito5::Grammar::Scope')], 1)]))]))])), ""));
									p5or(Hash_seen_1199.p5postincr(p5str(v_s_1204)), function () {
										return List_out_1200.p5push([v_item_1203])
									});
								}, p5list_to_a([p5range(v_start_1201, (p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope').length - 1), 1, "tmp3070", 0)]), false, '') })()
						})();
						(v_scope_1195 || (v_scope_1195 = new p5HashRef({})))._hash_.p5hset('block', ((new p5ArrayRef(p5list_to_a([p5list_slice(p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope'), p5list_to_a([p5range(0, (p5num(v_start_1201) - 1), 1, "tmp3071", 0)]), 1), List_out_1200])))));
						(v_scope_1195 || (v_scope_1195 = new p5HashRef({})))._hash_.p5hset('compacted', ((p5num((v_scope_1195 || (v_scope_1195 = new p5HashRef({})))._hash_.p5hget('compacted')) + 100)));
					})();
				}
				})();
				(function () {
					var v_item_1205;
					(function(){ var v_item_1205; p5for_lex(function (v) { v_item_1205 = v }, function () {
							(function () {
								if ( ((p5pkg['Perlito5::Grammar::Scope'].ref([v_item_1205], "") == 'Perlito5::AST::Var') && (p5bool((v_item_1205 || (v_item_1205 = new p5HashRef({})))._hash_.p5hget('_decl')) && ((p5str((v_item_1205 || (v_item_1205 = new p5HashRef({})))._hash_.p5hget('_decl')) != 'global') && (p5str((v_item_1205 || (v_item_1205 = new p5HashRef({})))._hash_.p5hget('name')) == p5str((v_var_1194 || (v_var_1194 = new p5HashRef({})))._hash_.p5hget('name')))))) ) {
								(function () {
									var v_sigil_1206;
									v_sigil_1206 = (p5or((v_var_1194 || (v_var_1194 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
												return (v_var_1194 || (v_var_1194 = new p5HashRef({})))._hash_.p5hget('sigil')
											}));
									var v_item_sigil_1207;
									v_item_sigil_1207 = (p5or((v_item_1205 || (v_item_1205 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
												return (v_item_1205 || (v_item_1205 = new p5HashRef({})))._hash_.p5hget('sigil')
											}));
									(function () {
										if ( (p5str(v_sigil_1206) == p5str(v_item_sigil_1207)) ) {
										throw(p5context([v_item_1205], p5want));
									}
									})();
								})();
							}
							})();
						}, p5list_to_a([p5pkg['Perlito5::Grammar::Scope'].reverse([].concat(p5list_to_a([p5array_deref((v_block_1197 || (v_block_1197 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope')])), 1)]), false, '') })()
				})();
				(function () {
					throw(p5context([], p5want))
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3067._prototype_ = null;
		return tmp3067
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'check_variable_declarations', (function () {
		var tmp3072;
		tmp3072 = function (List__, p5want) {
			(function () {
					var v_item_1208;
					(function(){ var v_item_1208; p5for_lex(function (v) { v_item_1208 = v }, function () {
							(function () {
								if ( (p5pkg['Perlito5::Grammar::Scope'].ref([v_item_1208], "") == 'Perlito5::AST::Var') ) {
								(function () {
									var v_var_1209;
									v_var_1209 = (v_item_1208);
									var v_look_1210;
									v_look_1210 = (p5pkg['Perlito5::Grammar::Scope'].lookup_variable([v_var_1209], ""));
									(function () {
										if ( p5bool(v_look_1210) ) {
										p5and((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_id'), function () {
											return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hset('_id', ((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_id')))
										});
										p5and((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_decl'), function () {
											return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hset('_decl', ((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_decl')))
										});
										p5and((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_namespace'), function () {
											return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hset('_namespace', ((v_look_1210 || (v_look_1210 = new p5HashRef({})))._hash_.p5hget('_namespace')))
										});
									}
									else {
										(function () {
											if ( p5bool((p5num(p5make_package('main')['v_' + String.fromCharCode(8)]) & p5num(p5make_package('Perlito5')['v_STRICT_VARS']))) ) {
											(function () {
												var v_sigil_1211;
												v_sigil_1211 = (p5or((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
															return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('sigil')
														}));
												(function () {
													if ( ((p5str(v_sigil_1211) != '*') && (p5str(v_sigil_1211) != '&')) ) {
													p5pkg['Perlito5::Compiler'].error([('Global symbol "' + p5str(v_sigil_1211) + p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name')) + '"' + ' requires explicit package name')], null);
												}
												})();
											})();
										}
										})();
										(v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hset('_decl', ('global'));
										(v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hset('_namespace', (p5make_package('Perlito5')['v_PKG_NAME']));
									}
									})();
									(function () {
										if ( (p5bool((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name')) && (p5bool((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('namespace')) || p5bool((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_namespace')))) ) {
										(function () {
											var v_compiletime_name_1212;
											(function () {
												if ( ((p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name')) < 'A') || (p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name')) == String.fromCharCode(92))) ) {
												v_compiletime_name_1212 = ((p5str(p5or((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
	return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('sigil')
})) + p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name'))));
											}
											else {
												v_compiletime_name_1212 = ((p5str(p5or((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
	return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('sigil')
})) + p5str(p5or((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
	return (v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_namespace')
})) + '::' + p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('name')) + p5str(( (p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_decl')) == 'global') ? '' : ( p5bool((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_id')) ? ('_' + p5str((v_var_1209 || (v_var_1209 = new p5HashRef({})))._hash_.p5hget('_id'))) : '')))));
											}
											})();
											(p5make_package('Perlito5')['v_GLOBAL'] || (p5make_package('Perlito5')['v_GLOBAL'] = new p5HashRef({})))._hash_.p5hset(p5str(v_compiletime_name_1212), ((new p5HashRef(p5a_to_h(p5list_to_a(['value', null, 'ast', v_var_1209]))))));
										})();
									}
									})();
								})();
							}
							})();
						}, p5list_to_a([p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT']]), false, '') })()
				})();
			p5array_deref((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::Grammar::Scope').p5push(p5list_to_a([p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT']]));
			return ((p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = []));
		};
		tmp3072._prototype_ = null;
		return tmp3072
	})());
	p5typeglob_set('Perlito5::Grammar::Scope', 'get_snapshot', (function () {
		var tmp3073;
		tmp3073 = function (List__, p5want) {
			var List_result_1213 = [];
			var v_scope_1214;
			v_scope_1214 = (p5defined_or(List__.shift(), function () {
							return p5make_package('Perlito5')['v_BASE_SCOPE']
						}));
			var v_block_1215;
			v_block_1215 = ((v_scope_1214 || (v_scope_1214 = new p5HashRef({})))._hash_.p5hget('block'));
			(function () {
					if ( (p5bool(p5num(p5array_deref((v_block_1215 || (v_block_1215 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope'))) && ((p5pkg['Perlito5::Grammar::Scope'].ref([(v_block_1215 || (v_block_1215 = new p5ArrayRef([])))._array_.p5aget(p5num(p5negative( 1)))], "") == 'HASH') && p5bool((v_block_1215 || (v_block_1215 = new p5ArrayRef([])))._array_.p5aget_hash(p5num(p5negative( 1)))._hash_.p5hget('block')))) ) {
					(function () {
						var v_look_1216;
						v_look_1216 = (p5pkg['Perlito5::Grammar::Scope'].get_snapshot(p5list_to_a([(v_block_1215 || (v_block_1215 = new p5ArrayRef([])))._array_.p5aget(p5num(p5negative( 1)))]), ""));
						List_result_1213.p5unshift(p5list_to_a([p5array_deref((v_look_1216 || (v_look_1216 = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::Grammar::Scope')]));
					})();
				}
				})();
			(function () {
					var v_item_1217;
					(function(){ var v_item_1217; p5for_lex(function (v) { v_item_1217 = v }, function () {
							(function () {
								if ( ((p5pkg['Perlito5::Grammar::Scope'].ref([v_item_1217], "") == 'Perlito5::AST::Var') && (p5bool((v_item_1217 || (v_item_1217 = new p5HashRef({})))._hash_.p5hget('_decl')) && ((p5str((v_item_1217 || (v_item_1217 = new p5HashRef({})))._hash_.p5hget('_decl')) != 'global') && (p5str((v_item_1217 || (v_item_1217 = new p5HashRef({})))._hash_.p5hget('_decl')) != 'local')))) ) {
								List_result_1213.p5unshift([v_item_1217]);
							}
							})();
						}, p5list_to_a([p5array_deref((v_block_1215 || (v_block_1215 = new p5ArrayRef([]))), 'Perlito5::Grammar::Scope')]), false, '') })()
				})();
			return ((new p5HashRef(p5a_to_h(p5list_to_a(['block', (new p5ArrayRef(List_result_1213))])))));
		};
		tmp3073._prototype_ = null;
		return tmp3073
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::AST::CompUnit');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_begin_scratchpad', (function () {
				var tmp3074;
				tmp3074 = function (List__, p5want) {
					var v_self_1218;
					v_self_1218 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::CompUnit', 'new', p5list_to_a([p5hash_deref((v_self_1218 || (v_self_1218 = new p5HashRef({}))), 'Perlito5::AST::CompUnit'), 'body', (new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::CompUnit'], function (p5want) {
	return (p5and((p5make_package('main')['v__'] != null), function () {
		return p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1)
	}));
}, p5list_to_a([p5array_deref((v_self_1218 || (v_self_1218 = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))]), p5want));
				};
				tmp3074._prototype_ = null;
				return tmp3074
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Int');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Int', 'emit_begin_scratchpad', (function () {
				var tmp3075;
				tmp3075 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3075._prototype_ = null;
				return tmp3075
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Num');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Num', 'emit_begin_scratchpad', (function () {
				var tmp3076;
				tmp3076 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3076._prototype_ = null;
				return tmp3076
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Buf');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Buf', 'emit_begin_scratchpad', (function () {
				var tmp3077;
				tmp3077 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3077._prototype_ = null;
				return tmp3077
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Block');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Block', 'emit_begin_scratchpad', (function () {
				var tmp3078;
				tmp3078 = function (List__, p5want) {
					var v_self_1219;
					v_self_1219 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Block', 'new', p5list_to_a([p5hash_deref((v_self_1219 || (v_self_1219 = new p5HashRef({}))), 'Perlito5::AST::Block'), 'stmts', (new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Block'], function (p5want) {
	return (p5and((p5make_package('main')['v__'] != null), function () {
		return p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1)
	}));
}, p5list_to_a([p5array_deref((v_self_1219 || (v_self_1219 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::AST::Block')]))]))), ( p5bool((v_self_1219 || (v_self_1219 = new p5HashRef({})))._hash_.p5hget('continue')) ? p5context(['continue', p5call((v_self_1219 || (v_self_1219 = new p5HashRef({})))._hash_.p5hget('continue'), 'emit_begin_scratchpad', [], 1)], 1) : p5context([], 1))]), p5want));
				};
				tmp3078._prototype_ = null;
				return tmp3078
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Index');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Index', 'emit_begin_scratchpad', (function () {
				var tmp3079;
				tmp3079 = function (List__, p5want) {
					var v_self_1220;
					v_self_1220 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Index', 'new', p5list_to_a([p5hash_deref((v_self_1220 || (v_self_1220 = new p5HashRef({}))), 'Perlito5::AST::Index'), 'obj', p5call((v_self_1220 || (v_self_1220 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_begin_scratchpad', [], 1), 'index_exp', p5call((v_self_1220 || (v_self_1220 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_begin_scratchpad', [], 1)]), p5want));
				};
				tmp3079._prototype_ = null;
				return tmp3079
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Lookup');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_begin_scratchpad', (function () {
				var tmp3080;
				tmp3080 = function (List__, p5want) {
					var v_self_1221;
					v_self_1221 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Lookup', 'new', p5list_to_a([p5hash_deref((v_self_1221 || (v_self_1221 = new p5HashRef({}))), 'Perlito5::AST::Lookup'), 'obj', p5call((v_self_1221 || (v_self_1221 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_begin_scratchpad', [], 1), 'index_exp', p5call((v_self_1221 || (v_self_1221 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_begin_scratchpad', [], 1)]), p5want));
				};
				tmp3080._prototype_ = null;
				return tmp3080
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Var');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Var', 'emit_begin_scratchpad', (function () {
				var tmp3081;
				tmp3081 = function (List__, p5want) {
					try {
						var v_self_1222;
						v_self_1222 = (List__.p5aget(0));
						(function () {
							if ( (!( p5bool((v_self_1222 || (v_self_1222 = new p5HashRef({})))._hash_.p5hget('namespace'))) && p5bool(p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'].p5hget(p5str(p5or((v_self_1222 || (v_self_1222 = new p5HashRef({})))._hash_.p5hget('_id'), function () {
								return ''
							}))))) ) {
							throw(p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_self_1222 || (v_self_1222 = new p5HashRef({}))), 'Perlito5::AST::Var'), '_decl', 'global', 'namespace', 'Perlito5::BEGIN', 'name', ('_' + p5str((v_self_1222 || (v_self_1222 = new p5HashRef({})))._hash_.p5hget('_id')) + '_' + p5str((v_self_1222 || (v_self_1222 = new p5HashRef({})))._hash_.p5hget('name')))]), p5want));
						}
						})();
						return (p5context([v_self_1222], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3081._prototype_ = null;
				return tmp3081
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Call');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Call', 'emit_begin_scratchpad', (function () {
				var tmp3082;
				tmp3082 = function (List__, p5want) {
					var v_self_1223;
					v_self_1223 = (List__.p5aget(0));
					var v_invocant_1224;
					v_invocant_1224 = (p5call((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('invocant'), 'emit_begin_scratchpad', [], ""));
					var v_arguments_1225;
					(function () {
							if ( (p5str((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<[ ]>') ) {
							v_arguments_1225 = (p5call((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_begin_scratchpad', [], ""));
						}
						else (function () {
							if ( (p5str((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<{ }>') ) {
							v_arguments_1225 = (p5call((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_begin_scratchpad', [], ""));
						}
						else {
							v_arguments_1225 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Call'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1));
}, p5list_to_a([p5array_deref((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Call')]))]))));
						}
						})()
						})();
					var v_meth_1226;
					v_meth_1226 = ((v_self_1223 || (v_self_1223 = new p5HashRef({})))._hash_.p5hget('method'));
					(function () {
							if ( (p5pkg['Perlito5::AST::Call'].ref([v_meth_1226], "") == 'Perlito5::AST::Var') ) {
							v_meth_1226 = (p5call(v_meth_1226, 'emit_begin_scratchpad', [], ""));
						}
						})();
					return (p5call('Perlito5::AST::Call', 'new', p5list_to_a([p5hash_deref((v_self_1223 || (v_self_1223 = new p5HashRef({}))), 'Perlito5::AST::Call'), 'method', v_meth_1226, 'invocant', v_invocant_1224, 'arguments', v_arguments_1225]), p5want));
				};
				tmp3082._prototype_ = null;
				return tmp3082
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Apply');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Apply', 'emit_begin_scratchpad_args', (function () {
				var tmp3083;
				tmp3083 = function (List__, p5want) {
					try {
						var v_self_1227;
						v_self_1227 = (List__.p5aget(0));
						p5and(!( p5bool((v_self_1227 || (v_self_1227 = new p5HashRef({})))._hash_.p5hget('arguments'))), function () {
							throw(p5context([], p5want))
						});
						return (p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
								return (p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], p5want));
							}, p5list_to_a([p5array_deref((v_self_1227 || (v_self_1227 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')])));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3083._prototype_ = null;
				return tmp3083
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_begin_scratchpad', (function () {
				var tmp3084;
				tmp3084 = function (List__, p5want) {
					try {
						var v_self_1228;
						v_self_1228 = (List__.p5aget(0));
						var v_code_1229;
						(function () {
							if ( p5bool(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('code')], "")) ) {
							v_code_1229 = (p5call((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('code'), 'emit_begin_scratchpad', [], ""));
						}
						else {
							v_code_1229 = ((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('code'));
						}
						})();
						var v_arguments_1230;
						(function () {
							if ( p5bool(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('arguments')], "")) ) {
							v_arguments_1230 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1));
}, p5list_to_a([p5array_deref((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))]))));
						}
						else {
							v_arguments_1230 = ((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('arguments'));
						}
						})();
						(function () {
							if ( ((p5str(v_code_1229) == 'eval') && p5bool((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget('_scope'))) ) {
							(v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget_hash('_scope')._hash_.p5hset('block', ((new p5ArrayRef(p5list_to_a([p5grep(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) != 'global'));
}, p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1));
}, p5list_to_a([p5array_deref((v_self_1228 || (v_self_1228 = new p5HashRef({})))._hash_.p5hget_hash('_scope')._hash_.p5hget_array('block'), 'Perlito5::AST::Apply')]))]))])))));
						}
						})();
						(function () {
							if ( (p5str(v_code_1229) == 'my') ) {
							(function () {
								var List_arg_1231 = [];
								(function () {
									var v_var_1232;
									(function(){ var v_var_1232; p5for_lex(function (v) { v_var_1232 = v }, function () {
											(function () {
												if ( (p5bool((v_var_1232 || (v_var_1232 = new p5HashRef({})))._hash_.p5hget('namespace')) && (p5str((v_var_1232 || (v_var_1232 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'Perlito5::BEGIN')) ) {
												List_arg_1231.p5push([v_var_1232]);
											}
											else {
												List_arg_1231.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', v_code_1229, 'arguments', (new p5ArrayRef([v_var_1232]))]), 1)]));
											}
											})();
										}, p5list_to_a([p5array_deref((v_arguments_1230 || (v_arguments_1230 = new p5ArrayRef([]))), 'Perlito5::AST::Apply')]), false, '') })()
								})();
								throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<( )>', 'arguments', (new p5ArrayRef(List_arg_1231))]), p5want));
							})();
						}
						})();
						return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a([p5hash_deref((v_self_1228 || (v_self_1228 = new p5HashRef({}))), 'Perlito5::AST::Apply'), 'code', v_code_1229, 'arguments', v_arguments_1230]), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3084._prototype_ = null;
				return tmp3084
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::If');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::If', 'emit_begin_scratchpad', (function () {
				var tmp3085;
				tmp3085 = function (List__, p5want) {
					var v_self_1233;
					v_self_1233 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::If', 'new', p5list_to_a([p5hash_deref((v_self_1233 || (v_self_1233 = new p5HashRef({}))), 'Perlito5::AST::If'), 'cond', p5call((v_self_1233 || (v_self_1233 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_begin_scratchpad', [], 1), 'body', p5call((v_self_1233 || (v_self_1233 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_begin_scratchpad', [], 1), 'otherwise', p5call((v_self_1233 || (v_self_1233 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'emit_begin_scratchpad', [], 1)]), p5want));
				};
				tmp3085._prototype_ = null;
				return tmp3085
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::When');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::When', 'emit_begin_scratchpad', (function () {
				var tmp3086;
				tmp3086 = function (List__, p5want) {
					var v_self_1234;
					v_self_1234 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::When', 'new', p5list_to_a([p5hash_deref((v_self_1234 || (v_self_1234 = new p5HashRef({}))), 'Perlito5::AST::When'), 'cond', p5call((v_self_1234 || (v_self_1234 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_begin_scratchpad', [], 1), 'body', p5call((v_self_1234 || (v_self_1234 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_begin_scratchpad', [], 1)]), p5want));
				};
				tmp3086._prototype_ = null;
				return tmp3086
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::While');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::While', 'emit_begin_scratchpad', (function () {
				var tmp3087;
				tmp3087 = function (List__, p5want) {
					var v_self_1235;
					v_self_1235 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::While', 'new', p5list_to_a([p5hash_deref((v_self_1235 || (v_self_1235 = new p5HashRef({}))), 'Perlito5::AST::While'), 'cond', p5call((v_self_1235 || (v_self_1235 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_begin_scratchpad', [], 1), 'body', p5call((v_self_1235 || (v_self_1235 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_begin_scratchpad', [], 1)]), p5want));
				};
				tmp3087._prototype_ = null;
				return tmp3087
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::For');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::For', 'emit_begin_scratchpad', (function () {
				var tmp3088;
				tmp3088 = function (List__, p5want) {
					var v_self_1236;
					v_self_1236 = (List__.p5aget(0));
					var v_cond_1237;
					(function () {
							if ( (p5pkg['Perlito5::AST::For'].ref([(v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget('cond')], "") == 'ARRAY') ) {
							v_cond_1237 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::For'], function (p5want) {
	return (( (p5make_package('main')['v__'] != null) ? p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1) : p5make_package('main')['v__']));
}, p5list_to_a([p5array_deref((v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget_array('cond'), 'Perlito5::AST::For')]))]))));
						}
						else {
							p5list_to_a([(v_cond_1237 = (p5call((v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_begin_scratchpad', [], "")))]);
						}
						})();
					return (p5call('Perlito5::AST::For', 'new', p5list_to_a([p5hash_deref((v_self_1236 || (v_self_1236 = new p5HashRef({}))), 'Perlito5::AST::For'), 'cond', v_cond_1237, 'body', p5call((v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_begin_scratchpad', [], 1), ( p5bool((v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget('continue')) ? p5context(['continue', p5call((v_self_1236 || (v_self_1236 = new p5HashRef({})))._hash_.p5hget('continue'), 'emit_begin_scratchpad', [], 1)], 1) : p5context([], 1))]), p5want));
				};
				tmp3088._prototype_ = null;
				return tmp3088
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Decl');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Decl', 'emit_begin_scratchpad', (function () {
				var tmp3089;
				tmp3089 = function (List__, p5want) {
					try {
						var v_self_1238;
						v_self_1238 = (List__.p5aget(0));
						var v_var_1239;
						v_var_1239 = (p5call((v_self_1238 || (v_self_1238 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_begin_scratchpad', [], ""));
						(function () {
							if ( (p5bool((v_var_1239 || (v_var_1239 = new p5HashRef({})))._hash_.p5hget('namespace')) && (p5str((v_var_1239 || (v_var_1239 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'Perlito5::BEGIN')) ) {
							throw(p5context([v_var_1239], p5want));
						}
						})();
						return (p5call('Perlito5::AST::Decl', 'new', p5list_to_a([p5hash_deref((v_self_1238 || (v_self_1238 = new p5HashRef({}))), 'Perlito5::AST::Decl'), 'var', v_var_1239]), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3089._prototype_ = null;
				return tmp3089
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Sub');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Sub', 'emit_begin_scratchpad', (function () {
				var tmp3090;
				tmp3090 = function (List__, p5want) {
					var v_self_1240;
					v_self_1240 = (List__.p5aget(0));
					var List_stmts_1241 = [];
					(function () {
							if ( ((v_self_1240 || (v_self_1240 = new p5HashRef({})))._hash_.p5hget('block') != null) ) {
							List_stmts_1241 = p5list_to_a([p5array_deref((v_self_1240 || (v_self_1240 = new p5HashRef({})))._hash_.p5hget_hash('block')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Sub')]);
							List_stmts_1241 = p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
										return (p5call(p5make_package('main')['v__'], 'emit_begin_scratchpad', [], 1));
									}, p5list_to_a([List_stmts_1241]))]);
							v_self_1240 = (p5call('Perlito5::AST::Sub', 'new', p5list_to_a([p5hash_deref((v_self_1240 || (v_self_1240 = new p5HashRef({}))), 'Perlito5::AST::Sub'), ( p5bool((v_self_1240 || (v_self_1240 = new p5HashRef({})))._hash_.p5hget('block')) ? p5context(['block', p5call('Perlito5::AST::Block', 'new', p5list_to_a([p5hash_deref((v_self_1240 || (v_self_1240 = new p5HashRef({})))._hash_.p5hget_hash('block'), 'Perlito5::AST::Sub'), 'stmts', (new p5ArrayRef(p5list_to_a([List_stmts_1241])))]), 1)], 1) : p5context([], 1))]), ""));
						}
						})();
					return (p5context([v_self_1240], p5want));
				};
				tmp3090._prototype_ = null;
				return tmp3090
			})());
		}, [0], false, ''
	);
	1;
})();;
(function () {
	p5make_package('Perlito5::AST::CompUnit');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::CompUnit', 'get_captures', (function () {
				var tmp3091;
				tmp3091 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3091._prototype_ = null;
				return tmp3091
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Int');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Int', 'get_captures', (function () {
				var tmp3092;
				tmp3092 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3092._prototype_ = null;
				return tmp3092
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Num');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Num', 'get_captures', (function () {
				var tmp3093;
				tmp3093 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3093._prototype_ = null;
				return tmp3093
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Buf');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Buf', 'get_captures', (function () {
				var tmp3094;
				tmp3094 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3094._prototype_ = null;
				return tmp3094
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Block');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Block', 'get_captures', (function () {
				var tmp3095;
				tmp3095 = function (List__, p5want) {
					var v_self_1242;
					(function () {
							var tmp3096 = p5list_to_a([List__]);
							var tmp3097 = tmp3096.slice(0);
							v_self_1242 = tmp3096.shift();
							return tmp3097
						})();
					var List_var_1243 = [];
					(function () {
							var v_stmt_1244;
							(function(){ var v_stmt_1244; p5for_lex(function (v) { v_stmt_1244 = v }, function () {
									List_var_1243.p5push(p5list_to_a([p5call(v_stmt_1244, 'get_captures', [], 1)]));
								}, p5list_to_a([p5array_deref((v_self_1242 || (v_self_1242 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::AST::Block')]), false, '') })()
						})();
					return ((p5want ? List_var_1243 : List_var_1243.length));
				};
				tmp3095._prototype_ = null;
				return tmp3095
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Index');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Index', 'get_captures', (function () {
				var tmp3098;
				tmp3098 = function (List__, p5want) {
					var v_self_1245;
					v_self_1245 = (List__.shift());
					var List_var_1246 = [];
					List_var_1246.p5push(p5list_to_a([p5call((v_self_1245 || (v_self_1245 = new p5HashRef({})))._hash_.p5hget('obj'), 'get_captures', [], 1)]));
					List_var_1246.p5push(p5list_to_a([p5call((v_self_1245 || (v_self_1245 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'get_captures', [], 1)]));
					return ((p5want ? List_var_1246 : List_var_1246.length));
				};
				tmp3098._prototype_ = null;
				return tmp3098
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Lookup');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Lookup', 'get_captures', (function () {
				var tmp3099;
				tmp3099 = function (List__, p5want) {
					var v_self_1247;
					v_self_1247 = (List__.shift());
					var List_var_1248 = [];
					List_var_1248.p5push(p5list_to_a([p5call((v_self_1247 || (v_self_1247 = new p5HashRef({})))._hash_.p5hget('obj'), 'get_captures', [], 1)]));
					List_var_1248.p5push(p5list_to_a([p5call((v_self_1247 || (v_self_1247 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'get_captures', [], 1)]));
					return ((p5want ? List_var_1248 : List_var_1248.length));
				};
				tmp3099._prototype_ = null;
				return tmp3099
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Var');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Var', 'get_captures', (function () {
				var tmp3100;
				tmp3100 = function (List__, p5want) {
					var v_self_1249;
					v_self_1249 = (List__.shift());
					return (p5context([v_self_1249], p5want));
				};
				tmp3100._prototype_ = null;
				return tmp3100
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Decl');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Decl', 'get_captures', (function () {
				var tmp3101;
				tmp3101 = function (List__, p5want) {
					return ((new p5HashRef(p5a_to_h(p5list_to_a(['dont', List__.p5aget_hash(0)._hash_.p5hget_hash('var')._hash_.p5hget('_id')])))));
				};
				tmp3101._prototype_ = null;
				return tmp3101
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Call');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Call', 'get_captures', (function () {
				var tmp3102;
				tmp3102 = function (List__, p5want) {
					var v_self_1250;
					v_self_1250 = (List__.shift());
					var List_var_1251 = [];
					p5and(p5pkg['Perlito5::AST::Call'].ref([(v_self_1250 || (v_self_1250 = new p5HashRef({})))._hash_.p5hget('method')], ""), function () {
							return List_var_1251.p5push(p5list_to_a([p5call((v_self_1250 || (v_self_1250 = new p5HashRef({})))._hash_.p5hget('method'), 'get_captures', [], 1)]))
						});
					List_var_1251.p5push(p5list_to_a([p5call((v_self_1250 || (v_self_1250 = new p5HashRef({})))._hash_.p5hget('invocant'), 'get_captures', [], 1)]));
					var v_args_1252;
					v_args_1252 = ((v_self_1250 || (v_self_1250 = new p5HashRef({})))._hash_.p5hget('arguments'));
					(function () {
							if ( p5bool(v_args_1252) ) {
							(function () {
								if ( (p5pkg['Perlito5::AST::Call'].ref([v_args_1252], "") == 'ARRAY') ) {
								List_var_1251.p5push(p5list_to_a([p5map(p5pkg['Perlito5::AST::Call'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'get_captures', [], 1));
}, p5list_to_a([p5array_deref((v_args_1252 || (v_args_1252 = new p5ArrayRef([]))), 'Perlito5::AST::Call')]))]));
							}
							else {
								List_var_1251.p5push(p5list_to_a([p5call(v_args_1252, 'get_captures', [], 1)]));
							}
							})();
						}
						})();
					return ((p5want ? List_var_1251 : List_var_1251.length));
				};
				tmp3102._prototype_ = null;
				return tmp3102
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Apply');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Apply', 'get_captures', (function () {
				var tmp3103;
				tmp3103 = function (List__, p5want) {
					var v_self_1253;
					v_self_1253 = (List__.shift());
					var v_code_1254;
					v_code_1254 = ((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget('code'));
					var List_var_1255 = [];
					p5and(p5pkg['Perlito5::AST::Apply'].ref([v_code_1254], ""), function () {
							return List_var_1255.p5push(p5list_to_a([p5call(v_code_1254, 'get_captures', [], 1)]))
						});
					p5and((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget('arguments'), function () {
							return List_var_1255.p5push(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'get_captures', [], 1));
}, p5list_to_a([p5array_deref((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))]))
						});
					p5and(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget('special_arg')], ""), function () {
							return List_var_1255.p5push(p5list_to_a([p5call((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget('special_arg'), 'get_captures', [], 1)]))
						});
					(function () {
							if ( ((p5str(v_code_1254) == 'eval') && p5bool((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget('_scope'))) ) {
							List_var_1255.p5push(p5list_to_a([p5array_deref((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget_hash('_scope')._hash_.p5hget_array('block'), 'Perlito5::AST::Apply')]));
						}
						})();
					(function () {
							if ( ((p5str(v_code_1254) == 'my') || ((p5str(v_code_1254) == 'our') || (p5str(v_code_1254) == 'state'))) ) {
							List_var_1255.p5push(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return (( (p5pkg['Perlito5::AST::Apply'].ref([p5make_package('main')['v__']], "") == 'Perlito5::AST::Var') ? p5context([(new p5HashRef(p5a_to_h(p5list_to_a(['dont', (p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id')]))))], 1) : p5context([], 1)));
}, p5list_to_a([p5array_deref((v_self_1253 || (v_self_1253 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))]));
						}
						})();
					return ((p5want ? List_var_1255 : List_var_1255.length));
				};
				tmp3103._prototype_ = null;
				return tmp3103
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::If');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::If', 'get_captures', (function () {
				var tmp3104;
				tmp3104 = function (List__, p5want) {
					var v_self_1256;
					v_self_1256 = (List__.shift());
					var List_var_1257 = [];
					List_var_1257.p5push(p5list_to_a([p5call((v_self_1256 || (v_self_1256 = new p5HashRef({})))._hash_.p5hget('cond'), 'get_captures', [], 1)]));
					List_var_1257.p5push(p5list_to_a([p5call((v_self_1256 || (v_self_1256 = new p5HashRef({})))._hash_.p5hget('body'), 'get_captures', [], 1)]));
					List_var_1257.p5push(p5list_to_a([p5call((v_self_1256 || (v_self_1256 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'get_captures', [], 1)]));
					return ((p5want ? List_var_1257 : List_var_1257.length));
				};
				tmp3104._prototype_ = null;
				return tmp3104
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::When');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::When', 'get_captures', (function () {
				var tmp3105;
				tmp3105 = function (List__, p5want) {
					var v_self_1258;
					v_self_1258 = (List__.shift());
					var List_var_1259 = [];
					List_var_1259.p5push(p5list_to_a([p5call((v_self_1258 || (v_self_1258 = new p5HashRef({})))._hash_.p5hget('cond'), 'get_captures', [], 1)]));
					List_var_1259.p5push(p5list_to_a([p5call((v_self_1258 || (v_self_1258 = new p5HashRef({})))._hash_.p5hget('body'), 'get_captures', [], 1)]));
					return ((p5want ? List_var_1259 : List_var_1259.length));
				};
				tmp3105._prototype_ = null;
				return tmp3105
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::While');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::While', 'get_captures', (function () {
				var tmp3106;
				tmp3106 = function (List__, p5want) {
					var v_self_1260;
					v_self_1260 = (List__.shift());
					var List_var_1261 = [];
					List_var_1261.p5push(p5list_to_a([p5call((v_self_1260 || (v_self_1260 = new p5HashRef({})))._hash_.p5hget('cond'), 'get_captures', [], 1)]));
					List_var_1261.p5push(p5list_to_a([p5call((v_self_1260 || (v_self_1260 = new p5HashRef({})))._hash_.p5hget('body'), 'get_captures', [], 1)]));
					return ((p5want ? List_var_1261 : List_var_1261.length));
				};
				tmp3106._prototype_ = null;
				return tmp3106
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::For');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::For', 'get_captures', (function () {
				var tmp3107;
				tmp3107 = function (List__, p5want) {
					var v_self_1262;
					v_self_1262 = (List__.shift());
					var List_var_1263 = [];
					var v_body_1264;
					v_body_1264 = (( (p5pkg['Perlito5::AST::For'].ref([(v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget('body')], "") != 'Perlito5::AST::Block') ? (new p5ArrayRef(p5list_to_a([(v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget('body')]))) : (v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget_hash('body')._hash_.p5hget('stmts')));
					List_var_1263.p5push(p5list_to_a([p5map(p5pkg['Perlito5::AST::For'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'get_captures', [], 1));
}, p5list_to_a([p5grep(p5pkg['Perlito5::AST::For'], function (p5want) {
	return ((p5make_package('main')['v__'] != null));
}, p5list_to_a([p5array_deref((v_body_1264 || (v_body_1264 = new p5ArrayRef([]))), 'Perlito5::AST::For'), (v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget('topic'), ( (p5pkg['Perlito5::AST::For'].ref([(v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget('cond')], "") == 'ARRAY') ? p5array_deref((v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget_array('cond'), 'Perlito5::AST::For') : (v_self_1262 || (v_self_1262 = new p5HashRef({})))._hash_.p5hget('cond'))]))]))]));
					return ((p5want ? List_var_1263 : List_var_1263.length));
				};
				tmp3107._prototype_ = null;
				return tmp3107
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Sub');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Sub', 'get_captures', (function () {
				var tmp3108;
				tmp3108 = function (List__, p5want) {
					try {
						var v_self_1265;
						v_self_1265 = (List__.shift());
						p5and(!( p5bool((v_self_1265 || (v_self_1265 = new p5HashRef({})))._hash_.p5hget('block'))), function () {
							throw(p5context([], p5want))
						});
						return (p5call((v_self_1265 || (v_self_1265 = new p5HashRef({})))._hash_.p5hget('block'), 'get_captures', [], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3108._prototype_ = null;
				return tmp3108
			})());
		}, [0], false, ''
	);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Block');
	if (typeof p5pkg[p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] || (p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] = {}), 'Perlito5::Grammar::Block']['Hash_Named_block'] == "undefined" ) { p5pkg[p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] || (p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] = {}), 'Perlito5::Grammar::Block']['Hash_Named_block'] = {};}
	p5pkg[p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] || (p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] = {}), 'Perlito5::Grammar::Block']['Hash_Named_block'] = {'BEGIN' : 1, 'UNITCHECK' : 1, 'CHECK' : 1, 'INIT' : 1, 'END' : 1, 'AUTOLOAD' : 1, 'DESTROY' : 1};
	p5typeglob_set('Perlito5::Grammar::Block', 'block', (function () {
		var tmp3109;
		tmp3109 = function (List__, p5want) {
			try {
				var v_str_1267;
				v_str_1267 = (List__.p5aget(0));
				var v_pos_1268;
				v_pos_1268 = (List__.p5aget(1));
				var v_m_1269;
				v_m_1269 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1267, v_pos_1268], ""));
				v_pos_1268 = ((v_m_1269 || (v_m_1269 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (p5str((v_str_1267 || (v_str_1267 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1268))) != '{') ) {
					throw(p5context([], p5want));
				}
				})();
				(function () {
					var tmp3110 = v_pos_1268;
					v_pos_1268 = p5incr_(tmp3110);
					return tmp3110
				})();
				p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
				p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
				v_m_1269 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_str_1267, v_pos_1268], ""));
				(function () {
					if ( !( p5bool(v_m_1269)) ) {
					p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
				}
				})();
				v_pos_1268 = ((v_m_1269 || (v_m_1269 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_capture_1270;
				v_capture_1270 = (p5pkg['Perlito5::Match'].flat([v_m_1269], ""));
				v_m_1269 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1267, v_pos_1268], ""));
				v_pos_1268 = ((v_m_1269 || (v_m_1269 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (p5str((v_str_1267 || (v_str_1267 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1268))) != '}') ) {
					p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
				}
				})();
				(v_m_1269 || (v_m_1269 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_pos_1268) + 1)));
				(v_m_1269 || (v_m_1269 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', v_capture_1270, 'sig', null]), "")));
				p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
				return (p5context([v_m_1269], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3109._prototype_ = null;
		return tmp3109
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'closure_block', (function () {
		var tmp3111;
		tmp3111 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_str_1271;
				v_str_1271 = (List__.p5aget(0));
				var v_pos_1272;
				v_pos_1272 = (List__.p5aget(1));
				var v_m_1273;
				v_m_1273 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1271, v_pos_1272], ""));
				v_pos_1272 = ((v_m_1273 || (v_m_1273 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (p5str((v_str_1271 || (v_str_1271 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1272))) != '{') ) {
					throw(p5context([], p5want));
				}
				})();
				(function () {
					var tmp3112 = v_pos_1272;
					v_pos_1272 = p5incr_(tmp3112);
					return tmp3112
				})();
				p5pkg['Perlito5::Grammar::Scope'].check_variable_declarations([], null);
				p5pkg['Perlito5::Grammar::Scope'].create_new_compile_time_scope([], null);
				(function () {
					var v_tmp3113_3114 = p5make_package('Perlito5')['v_CLOSURE_SCOPE'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = v_tmp3113_3114 });
					return (p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = (null));
				})();
				p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = (p5make_package('Perlito5')['v_SCOPE']);
				v_m_1273 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_str_1271, v_pos_1272], ""));
				(function () {
					if ( !( p5bool(v_m_1273)) ) {
					p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
				}
				})();
				v_pos_1272 = ((v_m_1273 || (v_m_1273 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_capture_1275;
				v_capture_1275 = (p5pkg['Perlito5::Match'].flat([v_m_1273], ""));
				v_m_1273 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1271, v_pos_1272], ""));
				v_pos_1272 = ((v_m_1273 || (v_m_1273 = new p5HashRef({})))._hash_.p5hget('to'));
				(function () {
					if ( (p5str((v_str_1271 || (v_str_1271 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1272))) != '}') ) {
					p5pkg['Perlito5::Compiler'].error(['syntax error'], null);
				}
				})();
				(v_m_1273 || (v_m_1273 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_pos_1272) + 1)));
				(v_m_1273 || (v_m_1273 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', v_capture_1275, 'sig', null]), "")));
				p5pkg['Perlito5::Grammar::Scope'].end_compile_time_scope([], null);
				return p5cleanup_local(local_idx, (p5context([v_m_1273], p5want)));
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp3111._prototype_ = null;
		return tmp3111
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'eval_end_block', (function () {
		var tmp3115;
		tmp3115 = function (List__, p5want) {
			var v_block_1276;
			var v_phase_1277;
			(function () {
					var tmp3116 = p5list_to_a([List__]);
					var tmp3117 = tmp3116.slice(0);
					v_block_1276 = tmp3116.shift();
					v_phase_1277 = tmp3116.shift();
					return tmp3117
				})();
			v_block_1276 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['attributes', (new p5ArrayRef([])), 'block', v_block_1276, 'name', null, 'namespace', p5make_package('Perlito5')['v_PKG_NAME'], 'sig', null]), 1)])))]), ""));
			return (p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_block_1276, 'BEGIN'], p5want));
		};
		tmp3115._prototype_ = null;
		return tmp3115
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'eval_begin_block', (function () {
		var tmp3118;
		tmp3118 = function (List__, p5want) {
			var local_idx = p5LOCAL.length;
			var v_block_1278;
			v_block_1278 = (List__.shift());
			(function () {
					var v_tmp3119_3120 = p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'];
					p5LOCAL.push(function(){ p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'] = v_tmp3119_3120 });
					return (p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'] = (null));
				})();
			p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'];
			p5pkg['Perlito5'].set_global_phase(['BEGIN'], null);
			var List_captured_1280 = [];
			List_captured_1280 = p5list_to_a([p5call(v_block_1278, 'get_captures', [], 1)]);
			var Hash_dont_capture_1281 = {};
			Hash_dont_capture_1281 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
							return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont'), 1], 1) : p5context([], 1)));
						}, p5list_to_a([List_captured_1280]))]));
			var Hash_capture_1282 = {};
			Hash_capture_1282 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
							return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([], 1) : ( p5bool(Hash_dont_capture_1281.p5hget(p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id')))) ? p5context([], 1) : ( ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'local') || ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'global') || ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'our') || (p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == '')))) ? p5context([], 1) : p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id'), p5make_package('main')['v__']], 1)))));
						}, p5list_to_a([List_captured_1280]))]));
			p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'] = p5a_to_h(p5list_to_a([p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'], Hash_capture_1282]));
			v_block_1278 = (p5call(v_block_1278, 'emit_begin_scratchpad', [], ""));
			v_block_1278 = (p5call(v_block_1278, 'emit_compile_time', [], ""));
			(function () {
					var v_tmp3121_3122 = p5make_package('main')['v_@'];
					p5LOCAL.push(function(){ p5make_package('main')['v_@'] = v_tmp3121_3122 });
					return (p5make_package('main')['v_@'] = (null));
				})();
			p5make_package('main')['v_@'];
			var v_result_1284;
			v_result_1284 = (p5pkg['Perlito5::JavaScript2::Runtime'].eval_ast([v_block_1278], ""));
			(function () {
					if ( p5bool(p5make_package('main')['v_@']) ) {
					p5pkg['Perlito5::Compiler'].error([('Error in BEGIN block: ' + p5str(p5make_package('main')['v_@']))], null);
				}
				})();
			return p5cleanup_local(local_idx, (p5context([v_result_1284], p5want)));
			p5cleanup_local(local_idx, null);
		};
		tmp3118._prototype_ = null;
		return tmp3118
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'opt_continue_block', (function () {
		var tmp3123;
		tmp3123 = function (List__, p5want) {
			var v_str_1285;
			v_str_1285 = (List__.p5aget(0));
			var v_pos_1286;
			v_pos_1286 = (List__.p5aget(1));
			var v_MATCH_1287;
			v_MATCH_1287 = ((new p5HashRef({'str' : v_str_1285, 'from' : v_pos_1286, 'to' : v_pos_1286})));
			var v_tmp_1288;
			v_tmp_1288 = (p5context([p5context([(function () {
							var v_pos1_1289;
							v_pos1_1289 = ((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m2_1290;
											v_m2_1290 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1285, (v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1290) ) {
												(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1290 || (v_m2_1290 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([('c' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('o' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('n' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('t' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5and(p5context([('i' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																return p5and(p5context([('n' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
																	return p5and(p5context([('u' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 6))))], 0), function () {
																		return p5and(p5context([('e' == p5str((v_str_1285 || (v_str_1285 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 7))))], 0), function () {
																			return p5context([(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')) + 8)))], 0)
																		})
																	})
																})
															})
														})
													})
												})
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1291;
													v_m2_1291 = (p5pkg['Perlito5::Grammar::Block'].block(p5list_to_a([v_str_1285, (v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1291) ) {
														(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1291 || (v_m2_1291 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('block', (v_m2_1291));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget('block')]), "")));
														(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('is_continue', (1));
														return ((1));
													})()], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1289));
										return ((p5context([(function () {
												(v_MATCH_1287 || (v_MATCH_1287 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([])), 'sig', null]), "")));
												return ((1));
											})()], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1288) ? v_MATCH_1287 : null));
		};
		tmp3123._prototype_ = null;
		return tmp3123
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'anon_block', (function () {
		var tmp3124;
		tmp3124 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_str_1292;
				v_str_1292 = (List__.p5aget(0));
				var v_pos_1293;
				v_pos_1293 = (List__.p5aget(1));
				var v_p_1294;
				v_p_1294 = (v_pos_1293);
				(function () {
					var v_tmp3125_3126 = p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'] = v_tmp3125_3126 });
					return (p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'] = (null));
				})();
				p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'];
				var v_m_1296;
				v_m_1296 = (p5pkg['Perlito5::Grammar'].block([v_str_1292, v_p_1294], ""));
				p5and(!( p5bool(v_m_1296)), function () {
					throw(p5context([], p5want))
				});
				v_p_1294 = ((v_m_1296 || (v_m_1296 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_block_1297;
				v_block_1297 = (p5pkg['Perlito5::Match'].flat([v_m_1296], ""));
				v_m_1296 = (p5pkg['Perlito5::Grammar'].opt_continue_block([v_str_1292, v_p_1294], ""));
				v_p_1294 = ((v_m_1296 || (v_m_1296 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_continue_1298;
				v_continue_1298 = (p5pkg['Perlito5::Match'].flat([v_m_1296], ""));
				var v_v_1299;
				v_v_1299 = (v_block_1297);
				p5and(p5and(!( p5bool((v_continue_1298 || (v_continue_1298 = new p5HashRef({})))._hash_.p5hget('is_continue'))), function () {
					return !( p5bool(p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON']))
				}), function () {
					return v_v_1299 = (p5pkg['Perlito5::Grammar::Expression'].block_or_hash([v_v_1299], ""))
				});
				(v_m_1296 || (v_m_1296 = new p5HashRef({})))._hash_.p5hset('capture', (v_v_1299));
				(function () {
					if ( p5bool((v_continue_1298 || (v_continue_1298 = new p5HashRef({})))._hash_.p5hget('is_continue')) ) {
					(v_m_1296 || (v_m_1296 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('continue', (v_continue_1298));
				}
				})();
				return p5cleanup_local(local_idx, (p5context([v_m_1296], p5want)));
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp3124._prototype_ = null;
		return tmp3124
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'ast_nop', (function () {
		var tmp3127;
		tmp3127 = function (List__, p5want) {
			return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'nop', 'namespace', 'Perlito5', 'arguments', (new p5ArrayRef([]))]), p5want));
		};
		tmp3127._prototype_ = null;
		return tmp3127
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'special_named_block', (function () {
		var tmp3128;
		tmp3128 = function (List__, p5want) {
			try {
				var v_str_1300;
				v_str_1300 = (List__.p5aget(0));
				var v_pos_1301;
				v_pos_1301 = (List__.p5aget(1));
				var v_p_1302;
				v_p_1302 = (v_pos_1301);
				var v_block_name_1303;
				var v_m_name_1304;
				v_m_name_1304 = (p5pkg['Perlito5::Grammar'].ident([v_str_1300, v_p_1302], ""));
				p5and(!( p5bool(v_m_name_1304)), function () {
					throw(p5context([], p5want))
				});
				v_p_1302 = ((v_m_name_1304 || (v_m_name_1304 = new p5HashRef({})))._hash_.p5hget('to'));
				v_block_name_1303 = (p5pkg['Perlito5::Match'].flat([v_m_name_1304], ""));
				var v_ws_1305;
				v_ws_1305 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1300, v_p_1302], ""));
				v_p_1302 = ((v_ws_1305 || (v_ws_1305 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_block_start_1306;
				v_block_start_1306 = (v_p_1302);
				var v_m_1307;
				v_m_1307 = (p5pkg['Perlito5::Grammar::Block'].closure_block([v_str_1300, v_p_1302], ""));
				p5and(!( p5bool(v_m_1307)), function () {
					throw(p5context([], p5want))
				});
				v_p_1302 = ((v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_block_1308;
				v_block_1308 = (p5pkg['Perlito5::Match'].flat([v_m_1307], ""));
				var v_compile_block_1309;
				v_compile_block_1309 = ((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget_array('block')._array_.p5aget(p5num(p5negative( 1))));
				(v_compile_block_1309 || (v_compile_block_1309 = new p5HashRef({})))._hash_.p5hset('type', ('sub'));
				(v_compile_block_1309 || (v_compile_block_1309 = new p5HashRef({})))._hash_.p5hset('name', (v_block_name_1303));
				(function () {
					if ( (p5str(v_block_name_1303) == 'INIT') ) {
					p5pkg[p5make_package('Perlito5')['List_INIT_BLOCK'] || (p5make_package('Perlito5')['List_INIT_BLOCK'] = []), 'Perlito5']['List_INIT_BLOCK'].p5push(p5list_to_a([p5pkg['Perlito5::Grammar::Block'].eval_end_block([v_block_1308, 'INIT'], 1)]));
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
				}
				else (function () {
					if ( (p5str(v_block_name_1303) == 'END') ) {
					p5pkg[p5make_package('Perlito5')['List_END_BLOCK'] || (p5make_package('Perlito5')['List_END_BLOCK'] = []), 'Perlito5']['List_END_BLOCK'].p5unshift(p5list_to_a([p5pkg['Perlito5::Grammar::Block'].eval_end_block([v_block_1308, 'END'], 1)]));
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
				}
				else (function () {
					if ( (p5str(v_block_name_1303) == 'CHECK') ) {
					p5pkg[p5make_package('Perlito5')['List_CHECK_BLOCK'] || (p5make_package('Perlito5')['List_CHECK_BLOCK'] = []), 'Perlito5']['List_CHECK_BLOCK'].p5unshift(p5list_to_a([p5pkg['Perlito5::Grammar::Block'].eval_end_block([v_block_1308, 'CHECK'], 1)]));
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
				}
				else (function () {
					if ( (p5str(v_block_name_1303) == 'UNITCHECK') ) {
					p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'].p5unshift(p5list_to_a([p5pkg['Perlito5::Grammar::Block'].eval_end_block([v_block_1308, 'UNITCHECK'], 1)]));
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
				}
				else (function () {
					if ( (p5str(v_block_name_1303) == 'BEGIN') ) {
					var local_idx = p5LOCAL.length;
					(function () {
						var v_tmp3129_3130 = p5make_package('Perlito5')['v_PHASE'];
						p5LOCAL.push(function(){ p5make_package('Perlito5')['v_PHASE'] = v_tmp3129_3130 });
						return (p5make_package('Perlito5')['v_PHASE'] = (null));
					})();
					p5make_package('Perlito5')['v_PHASE'] = ('BEGIN');
					p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_block_1308], null);
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
					p5cleanup_local(local_idx, null);
				}
				else (function () {
					if ( ((p5str(v_block_name_1303) == 'AUTOLOAD') || (p5str(v_block_name_1303) == 'DESTROY')) ) {
					(function () {
						var v_sub_1311;
						v_sub_1311 = (p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['attributes', (new p5ArrayRef([])), 'block', v_block_1308, 'name', v_block_name_1303, 'namespace', p5make_package('Perlito5')['v_PKG_NAME'], 'sig', null]), ""));
						var v_full_name_1312;
						v_full_name_1312 = ((p5str((v_sub_1311 || (v_sub_1311 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::' + p5str((v_sub_1311 || (v_sub_1311 = new p5HashRef({})))._hash_.p5hget('name'))));
						(p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_name_1312), (null));
						(p5make_package('Perlito5')['v_GLOBAL'] || (p5make_package('Perlito5')['v_GLOBAL'] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_name_1312), (v_sub_1311));
						v_block_1308 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([v_sub_1311]))]), ""));
						p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_block_1308, 'BEGIN'], null);
						(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Grammar::Block'].ast_nop([], "")));
					})();
				}
				else {
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hset('capture', (v_block_1308));
					(v_m_1307 || (v_m_1307 = new p5HashRef({})))._hash_.p5hget_hash('capture')._hash_.p5hset('name', (v_block_name_1303));
				}
				})()
				})()
				})()
				})()
				})()
				})();
				return (p5context([v_m_1307], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3128._prototype_ = null;
		return tmp3128
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'named_sub_def', (function () {
		var tmp3131;
		tmp3131 = function (List__, p5want) {
			var v_str_1313;
			v_str_1313 = (List__.p5aget(0));
			var v_pos_1314;
			v_pos_1314 = (List__.p5aget(1));
			var v_MATCH_1315;
			v_MATCH_1315 = ((new p5HashRef({'str' : v_str_1313, 'from' : v_pos_1314, 'to' : v_pos_1314})));
			var v_tmp_1316;
			v_tmp_1316 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1317;
							v_m2_1317 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1317) ) {
								(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1317 || (v_m2_1317 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::optional_namespace_before_ident', (v_m2_1317));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1318;
								v_m2_1318 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1318) ) {
									(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1318 || (v_m2_1318 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::ident', (v_m2_1318));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_1319;
									v_m2_1319 = (p5pkg['Perlito5::Grammar::Block'].prototype_(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_1319) ) {
										(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1319 || (v_m2_1319 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::prototype_', (v_m2_1319));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_1320;
										v_m2_1320 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_1320) ) {
											(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1320 || (v_m2_1320 = new p5HashRef({})))._hash_.p5hget('to')));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5and(p5context([(function () {
											var v_m2_1321;
											v_m2_1321 = (p5pkg['Perlito5::Grammar::Attribute'].opt_attribute(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1321) ) {
												(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1321 || (v_m2_1321 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute::opt_attribute', (v_m2_1321));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_1322;
												v_m2_1322 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1322) ) {
													(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1322 || (v_m2_1322 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_pos1_1323;
													v_pos1_1323 = ((v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([(function () {
																	var v_m2_1324;
																	v_m2_1324 = (p5pkg['Perlito5::Grammar::Block'].closure_block(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_1324) ) {
																		(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1324 || (v_m2_1324 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::closure_block', (v_m2_1324));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('_tmp', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::closure_block')]), "")));
																		return ((1));
																	})()], 0)
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1323));
																return ((p5context([p5and(p5context([(function () {
																		var v_m2_1325;
																		v_m2_1325 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse(p5list_to_a([v_str_1313, (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1325) ) {
																			(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1325 || (v_m2_1325 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5context([(function () {
																			p5pkg['Perlito5::Compiler'].error(p5list_to_a(['Illegal declaration of subroutine ' + String.fromCharCode(39), p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), 1), String.fromCharCode(39)]), null);
																			return ((1));
																		})()], 0)
																	})], 0)));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1323));
																	return ((p5context([(function () {
																			(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('_tmp', (null));
																			return ((1));
																		})()], 0)));
																})()], 0)
															})
														})));
												})()], 0), function () {
													return p5context([(function () {
														var v_name_1326;
														v_name_1326 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::ident')]), ""));
														var v_sig_1327;
														v_sig_1327 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::prototype_')]), ""));
														p5and((p5str(v_sig_1327) == '*undef*'), function () {
															return v_sig_1327 = (null)
														});
														var v_attributes_1328;
														v_attributes_1328 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute::opt_attribute')]), ""));
														var v_proto_1329;
														(function () {
															var tmp3132 = p5list_to_a([p5grep(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
																return ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5ArrayRef([])))._array_.p5aget(0)) == 'prototype'));
															}, p5list_to_a([p5array_deref((v_attributes_1328 || (v_attributes_1328 = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]);
															var tmp3133 = tmp3132.slice(0);
															v_proto_1329 = tmp3132.shift();
															return tmp3133
														})();
														(function () {
															if ( p5bool(v_proto_1329) ) {
															v_attributes_1328 = ((new p5ArrayRef(p5list_to_a([p5grep(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
	return ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5ArrayRef([])))._array_.p5aget(0)) != 'prototype'));
}, p5list_to_a([p5array_deref((v_attributes_1328 || (v_attributes_1328 = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]))));
															v_sig_1327 = ((v_proto_1329 || (v_proto_1329 = new p5ArrayRef([])))._array_.p5aget(1));
														}
														})();
														var v_namespace_1330;
														v_namespace_1330 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::optional_namespace_before_ident')]), ""));
														(function () {
															if ( p5bool(v_name_1326) ) {
															(function () {
																(function () {
																	if ( !( p5bool(v_namespace_1330)) ) {
																	v_namespace_1330 = (( (p5str(v_name_1326) == '_') ? 'main' : p5make_package('Perlito5')['v_PKG_NAME']));
																}
																})();
																var v_full_name_1331;
																v_full_name_1331 = ((p5str(v_namespace_1330) + '::' + p5str(v_name_1326)));
																(p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_name_1331), (v_sig_1327));
																(function () {
																	if ( p5bool((v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('_tmp')) ) {
																	(function () {
																		var v_block_1332;
																		v_block_1332 = ((p5make_package('Perlito5')['v_SCOPE'] || (p5make_package('Perlito5')['v_SCOPE'] = new p5HashRef({})))._hash_.p5hget_array('block')._array_.p5aget(p5num(p5negative( 1))));
																		(v_block_1332 || (v_block_1332 = new p5HashRef({})))._hash_.p5hset('type', ('sub'));
																		(v_block_1332 || (v_block_1332 = new p5HashRef({})))._hash_.p5hset('name', (v_full_name_1331));
																	})();
																}
																})();
															})();
														}
														})();
														var v_sub_1333;
														v_sub_1333 = (p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['name', v_name_1326, 'namespace', v_namespace_1330, 'sig', v_sig_1327, 'block', (v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hget('_tmp'), 'attributes', v_attributes_1328]), ""));
														(function () {
															if ( p5bool(p5make_package('Perlito5')['v_EXPAND_USE']) ) {
															(function () {
																var v_block_1334;
																v_block_1334 = (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef([v_sub_1333]))]), ""));
																p5pkg['Perlito5::Grammar::Block'].eval_begin_block([v_block_1334, 'BEGIN'], null);
																(function () {
																	if ( p5bool(v_name_1326) ) {
																	(function () {
																		var v_full_name_1335;
																		v_full_name_1335 = ((p5str(v_namespace_1330) + '::' + p5str(v_name_1326)));
																		(p5make_package('Perlito5')['v_GLOBAL'] || (p5make_package('Perlito5')['v_GLOBAL'] = new p5HashRef({})))._hash_.p5hset(p5str(v_full_name_1335), (v_sub_1333));
																		v_sub_1333 = (p5pkg['Perlito5::Grammar::Block'].ast_nop([], ""));
																	})();
																}
																})();
																(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('capture', (v_sub_1333));
															})();
														}
														else {
															(v_MATCH_1315 || (v_MATCH_1315 = new p5HashRef({})))._hash_.p5hset('capture', (v_sub_1333));
														}
														})();
														return ((1));
													})()], 0)
												})
											})
										})
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1316) ? v_MATCH_1315 : null));
		};
		tmp3131._prototype_ = null;
		return tmp3131
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'named_sub', (function () {
		var tmp3134;
		tmp3134 = function (List__, p5want) {
			try {
				var v_str_1336;
				v_str_1336 = (List__.p5aget(0));
				var v_pos_1337;
				v_pos_1337 = (List__.p5aget(1));
				p5or(p5and((p5str((v_str_1336 || (v_str_1336 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1337))) == 's'), function () {
					return p5and((p5str((v_str_1336 || (v_str_1336 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_1337) + 1))) == 'u'), function () {
						return (p5str((v_str_1336 || (v_str_1336 = new p5ArrayRef([])))._array_.p5aget((p5num(v_pos_1337) + 2))) == 'b')
					})
				}), function () {
					throw(p5context([], p5want))
				});
				var v_ws_1338;
				v_ws_1338 = (p5pkg['Perlito5::Grammar::Space'].ws([v_str_1336, (p5num(v_pos_1337) + 3)], ""));
				p5or(v_ws_1338, function () {
					throw(p5context([], p5want))
				});
				var v_p_1339;
				v_p_1339 = ((v_ws_1338 || (v_ws_1338 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_m_name_1340;
				v_m_name_1340 = (p5pkg['Perlito5::Grammar'].ident([v_str_1336, v_p_1339], ""));
				p5or(v_m_name_1340, function () {
					throw(p5context([], p5want))
				});
				var v_block_name_1341;
				v_block_name_1341 = (p5pkg['Perlito5::Match'].flat([v_m_name_1340], ""));
				(function () {
					if ( (p5pkg[p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] || (p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] = {}), 'Perlito5::Grammar::Block']['Hash_Named_block']).hasOwnProperty(v_block_name_1341) ) {
					throw(p5pkg['Perlito5::Grammar::Block'].special_named_block([v_str_1336, v_p_1339], p5want));
				}
				})();
				return (p5pkg['Perlito5::Grammar::Block'].named_sub_def([v_str_1336, v_p_1339], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3134._prototype_ = null;
		return tmp3134
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'term_anon_sub', (function () {
		var tmp3135;
		tmp3135 = function (List__, p5want) {
			var v_str_1342;
			v_str_1342 = (List__.p5aget(0));
			var v_pos_1343;
			v_pos_1343 = (List__.p5aget(1));
			var v_MATCH_1344;
			v_MATCH_1344 = ((new p5HashRef({'str' : v_str_1342, 'from' : v_pos_1343, 'to' : v_pos_1343})));
			var v_tmp_1345;
			v_tmp_1345 = (p5context([p5context([p5and(p5context([p5and(p5context([('s' == p5str((v_str_1342 || (v_str_1342 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('u' == p5str((v_str_1342 || (v_str_1342 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('b' == p5str((v_str_1342 || (v_str_1342 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5context([(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1346;
								v_m2_1346 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1342, (v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1346) ) {
									(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1346 || (v_m2_1346 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_1347;
									v_m2_1347 = (p5pkg['Perlito5::Grammar::Block'].anon_sub_def(p5list_to_a([v_str_1342, (v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_1347) ) {
										(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1347 || (v_m2_1347 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::anon_sub_def', (v_m2_1347));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1344 || (v_MATCH_1344 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::anon_sub_def')]), 1)])))));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1345) ? v_MATCH_1344 : null));
		};
		tmp3135._prototype_ = null;
		return tmp3135
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'term_do', (function () {
		var tmp3136;
		tmp3136 = function (List__, p5want) {
			var v_str_1348;
			v_str_1348 = (List__.p5aget(0));
			var v_pos_1349;
			v_pos_1349 = (List__.p5aget(1));
			var v_MATCH_1350;
			v_MATCH_1350 = ((new p5HashRef({'str' : v_str_1348, 'from' : v_pos_1349, 'to' : v_pos_1349})));
			var v_tmp_1351;
			v_tmp_1351 = (p5context([p5context([p5and(p5context([p5and(p5context([('d' == p5str((v_str_1348 || (v_str_1348 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_1348 || (v_str_1348 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5context([(v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1352;
								v_m2_1352 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_1348, (v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1352) ) {
									(v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1352 || (v_m2_1352 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_1352));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1350 || (v_MATCH_1350 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::block')]), 1)])))]), 1)])))));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1351) ? v_MATCH_1350 : null));
		};
		tmp3136._prototype_ = null;
		return tmp3136
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'args_sig', (function () {
		var tmp3137;
		tmp3137 = function (List__, p5want) {
			var v_str_1353;
			v_str_1353 = (List__.p5aget(0));
			var v_pos_1354;
			v_pos_1354 = (List__.p5aget(1));
			var v_MATCH_1355;
			v_MATCH_1355 = ((new p5HashRef({'str' : v_str_1353, 'from' : v_pos_1354, 'to' : v_pos_1354})));
			var v_tmp_1356;
			v_tmp_1356 = (p5context([p5context([(function () {
							var v_last_match_null_1357;
							v_last_match_null_1357 = (0);
							var v_m_1358;
							v_m_1358 = (v_MATCH_1355);
							var v_to_1359;
							v_to_1359 = ((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to'));
							(function () {
								p5while(function () {
									(function () {
										if ( (p5num(v_to_1359) == p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
										v_last_match_null_1357 = ((p5num(v_last_match_null_1357) + 1));
									}
									else {
										v_last_match_null_1357 = (0);
									}
									})();
									v_m_1358 = (v_MATCH_1355);
									v_to_1359 = ((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to'));
								}, function () {
									return p5and(p5context([(function () {
										var v_pos1_1360;
										v_pos1_1360 = ((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to'));
										return ((p5or(p5context([(function () {
												return ((p5context([p5and(p5context([(';' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0)));
											})()], 0), function () {
												return p5or(p5context([(function () {
													(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
													return ((p5context([p5and(p5context([(String.fromCharCode(92) == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0)));
												})()], 0), function () {
													return p5or(p5context([(function () {
														(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
														return ((p5context([p5and(p5context([('[' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5or(p5context([(function () {
															(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
															return ((p5context([p5and(p5context([(']' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																return ((p5context([p5and(p5context([('*' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0)));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																	return ((p5context([p5and(p5context([('+' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																		})], 0)));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																		return ((p5context([p5and(p5context([('@' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																				return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5or(p5context([(function () {
																			(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																			return ((p5context([p5and(p5context([('%' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																				return ((p5context([p5and(p5context([('$' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																					})], 0)));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1360));
																					return ((p5context([p5and(p5context([('&' == p5str((v_str_1353 || (v_str_1353 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0)));
																				})()], 0)
																			})
																		})
																	})
																})
															})
														})
													})
												})
											})));
									})()], 0), function () {
										return p5context([(p5num(v_last_match_null_1357) < 2)], 0)
									})
								}, false, '', 0)
							})();
							v_MATCH_1355 = (v_m_1358);
							(v_MATCH_1355 || (v_MATCH_1355 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1359));
							return ((1));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1356) ? v_MATCH_1355 : null));
		};
		tmp3137._prototype_ = null;
		return tmp3137
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'prototype_', (function () {
		var tmp3138;
		tmp3138 = function (List__, p5want) {
			var v_str_1361;
			v_str_1361 = (List__.p5aget(0));
			var v_pos_1362;
			v_pos_1362 = (List__.p5aget(1));
			var v_MATCH_1363;
			v_MATCH_1363 = ((new p5HashRef({'str' : v_str_1361, 'from' : v_pos_1362, 'to' : v_pos_1362})));
			var v_tmp_1364;
			v_tmp_1364 = (p5context([p5context([(function () {
							var v_pos1_1365;
							v_pos1_1365 = ((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m2_1366;
											v_m2_1366 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1366) ) {
												(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1366 || (v_m2_1366 = new p5HashRef({})))._hash_.p5hget('to')));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([('(' == p5str((v_str_1361 || (v_str_1361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1367;
													v_m2_1367 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1367) ) {
														(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1367 || (v_m2_1367 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([p5and(p5context([('_' == p5str((v_str_1361 || (v_str_1361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_1368;
															v_m2_1368 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_1368) ) {
																(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1368 || (v_m2_1368 = new p5HashRef({})))._hash_.p5hget('to')));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([p5and(p5context([(')' == p5str((v_str_1361 || (v_str_1361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0), function () {
																return p5context([(function () {
																	(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('capture', ('_'));
																	return ((1));
																})()], 0)
															})
														})
													})
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1365));
										return ((p5context([p5and(p5context([(function () {
												var v_m2_1369;
												v_m2_1369 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1369) ) {
													(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1369 || (v_m2_1369 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([p5and(p5context([('(' == p5str((v_str_1361 || (v_str_1361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_1370;
														v_m2_1370 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1370) ) {
															(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1370 || (v_m2_1370 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_1371;
															v_m2_1371 = (p5pkg['Perlito5::Grammar::Block'].args_sig(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_1371) ) {
																(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1371 || (v_m2_1371 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('args_sig', (v_m2_1371));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2_1372;
																v_m2_1372 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1361, (v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1372) ) {
																	(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1372 || (v_m2_1372 = new p5HashRef({})))._hash_.p5hget('to')));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0), function () {
																return p5and(p5context([p5and(p5context([(')' == p5str((v_str_1361 || (v_str_1361 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0), function () {
																	return p5context([(function () {
																		(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('capture', (('' + p5str(p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hget('args_sig')]), "")))));
																		return ((1));
																	})()], 0)
																})
															})
														})
													})
												})
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1365));
											return ((p5context([(function () {
													(v_MATCH_1363 || (v_MATCH_1363 = new p5HashRef({})))._hash_.p5hset('capture', ('*undef*'));
													return ((1));
												})()], 0)));
										})()], 0)
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1364) ? v_MATCH_1363 : null));
		};
		tmp3138._prototype_ = null;
		return tmp3138
	})());
	p5typeglob_set('Perlito5::Grammar::Block', 'anon_sub_def', (function () {
		var tmp3139;
		tmp3139 = function (List__, p5want) {
			var v_str_1373;
			v_str_1373 = (List__.p5aget(0));
			var v_pos_1374;
			v_pos_1374 = (List__.p5aget(1));
			var v_MATCH_1375;
			v_MATCH_1375 = ((new p5HashRef({'str' : v_str_1373, 'from' : v_pos_1374, 'to' : v_pos_1374})));
			var v_tmp_1376;
			v_tmp_1376 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1377;
							v_m2_1377 = (p5pkg['Perlito5::Grammar::Block'].prototype_(p5list_to_a([v_str_1373, (v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1377) ) {
								(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1377 || (v_m2_1377 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('prototype_', (v_m2_1377));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1378;
								v_m2_1378 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1373, (v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1378) ) {
									(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1378 || (v_m2_1378 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_1379;
									v_m2_1379 = (p5pkg['Perlito5::Grammar::Attribute'].opt_attribute(p5list_to_a([v_str_1373, (v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_1379) ) {
										(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1379 || (v_m2_1379 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Attribute::opt_attribute', (v_m2_1379));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_m2_1380;
										v_m2_1380 = (p5pkg['Perlito5::Grammar::Block'].closure_block(p5list_to_a([v_str_1373, (v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_1380) ) {
											(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1380 || (v_m2_1380 = new p5HashRef({})))._hash_.p5hget('to')));
											(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::closure_block', (v_m2_1380));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5context([(function () {
											var v_sig_1381;
											v_sig_1381 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('prototype_')]), ""));
											p5and((p5str(v_sig_1381) == '*undef*'), function () {
												return v_sig_1381 = (null)
											});
											var v_attributes_1382;
											v_attributes_1382 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Attribute::opt_attribute')]), ""));
											var v_proto_1383;
											(function () {
												var tmp3140 = p5list_to_a([p5grep(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
													return ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5ArrayRef([])))._array_.p5aget(0)) == 'prototype'));
												}, p5list_to_a([p5array_deref((v_attributes_1382 || (v_attributes_1382 = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]);
												var tmp3141 = tmp3140.slice(0);
												v_proto_1383 = tmp3140.shift();
												return tmp3141
											})();
											(function () {
												if ( p5bool(v_proto_1383) ) {
												v_attributes_1382 = ((new p5ArrayRef(p5list_to_a([p5grep(p5pkg['Perlito5::Grammar::Block'], function (p5want) {
	return ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5ArrayRef([])))._array_.p5aget(0)) != 'prototype'));
}, p5list_to_a([p5array_deref((v_attributes_1382 || (v_attributes_1382 = new p5ArrayRef([]))), 'Perlito5::Grammar::Block')]))]))));
												v_sig_1381 = ((v_proto_1383 || (v_proto_1383 = new p5ArrayRef([])))._array_.p5aget(1));
											}
											})();
											(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['name', null, 'namespace', null, 'sig', v_sig_1381, 'block', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1375 || (v_MATCH_1375 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::closure_block')]), 1), 'attributes', v_attributes_1382]), "")));
											return ((1));
										})()], 0)
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1376) ? v_MATCH_1375 : null));
		};
		tmp3139._prototype_ = null;
		return tmp3139
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['do', p5pkg['Perlito5::Grammar::Block'].term_do]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['sub', p5pkg['Perlito5::Grammar::Block'].term_anon_sub]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['{', p5pkg['Perlito5::Grammar::Block'].anon_block]), null);
	p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a(['sub', p5pkg['Perlito5::Grammar::Block'].named_sub]), null);
	p5for(p5make_package('main'), "v__", function () {
			p5pkg['Perlito5::Grammar::Statement'].add_statement(p5list_to_a([p5make_package('main')['v__'], p5pkg['Perlito5::Grammar::Block'].special_named_block]), null);
		}, p5list_to_a([p5pkg['Perlito5::Grammar::Block'].keys([p5pkg[p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] || (p5make_package('Perlito5::Grammar::Block')['Hash_Named_block'] = {}), 'Perlito5::Grammar::Block']['Hash_Named_block']], 1)]), false, '');
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Space');
	var Hash_line_index_1384 = {};
	p5typeglob_set('Perlito5::Grammar::Space', 'count_line', (function () {
		var tmp3142;
		tmp3142 = function (List__, p5want) {
			try {
				var v_pos_1385;
				v_pos_1385 = (List__.p5aget(0));
				p5and((p5num(v_pos_1385) < p5num(Hash_line_index_1384.p5hget(p5str(p5make_package('Perlito5')['v_FILE_NAME'])))), function () {
					throw(p5context([], p5want))
				});
				Hash_line_index_1384.p5hset(p5str(p5make_package('Perlito5')['v_FILE_NAME']), ((p5num(v_pos_1385) + 1)));
				return ((function () {
						var tmp3143 = p5make_package('Perlito5')['v_LINE_NUMBER'];
						p5make_package('Perlito5')['v_LINE_NUMBER'] = p5incr_(tmp3143);
						return tmp3143
					})());
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3142._prototype_ = null;
		return tmp3142
	})());
	var Hash_space_1386 = {};
	Hash_space_1386 = p5a_to_h(['#', (function () {
				var tmp3152;
				tmp3152 = function (List__, p5want) {
					var v_m_1387;
					v_m_1387 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([p5list_slice(List__, [0], 1), p5list_slice(List__, [1], 1)]), ""));
					return ((v_m_1387 || (v_m_1387 = new p5HashRef({})))._hash_.p5hget('to'));
				};
				tmp3152._prototype_ = null;
				return tmp3152
			})(), p5pkg['Perlito5::Grammar::Space'].chr([9], 1), (function () {
				var tmp3153;
				tmp3153 = function (List__, p5want) {
					return (p5list_slice(List__, [1], p5want));
				};
				tmp3153._prototype_ = null;
				return tmp3153
			})(), p5pkg['Perlito5::Grammar::Space'].chr([10], 1), (function () {
				var tmp3154;
				tmp3154 = function (List__, p5want) {
					var v_str_1388;
					v_str_1388 = (p5list_slice(List__, [0], ""));
					var v_pos_1389;
					v_pos_1389 = (p5list_slice(List__, [1], ""));
					p5pkg['Perlito5::Grammar::Space'].count_line([v_pos_1389], null);
					p5and((p5str((v_str_1388 || (v_str_1388 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1389))) == p5pkg['Perlito5::Grammar::Space'].chr([13], "")), function () {
							return (function () {
								var tmp3155 = v_pos_1389;
								v_pos_1389 = p5incr_(tmp3155);
								return tmp3155
							})()
						});
					var v_m_1390;
					v_m_1390 = (p5pkg['Perlito5::Grammar::Space'].start_of_line(p5list_to_a([p5list_slice(List__, [0], 1), v_pos_1389]), ""));
					return ((v_m_1390 || (v_m_1390 = new p5HashRef({})))._hash_.p5hget('to'));
				};
				tmp3154._prototype_ = null;
				return tmp3154
			})(), p5pkg['Perlito5::Grammar::Space'].chr([12], 1), (function () {
				var tmp3156;
				tmp3156 = function (List__, p5want) {
					return (p5list_slice(List__, [1], p5want));
				};
				tmp3156._prototype_ = null;
				return tmp3156
			})(), p5pkg['Perlito5::Grammar::Space'].chr([13], 1), (function () {
				var tmp3157;
				tmp3157 = function (List__, p5want) {
					var v_str_1391;
					v_str_1391 = (p5list_slice(List__, [0], ""));
					var v_pos_1392;
					v_pos_1392 = (p5list_slice(List__, [1], ""));
					(function () {
							if ( (p5str((v_str_1391 || (v_str_1391 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1392))) == p5pkg['Perlito5::Grammar::Space'].chr([10], "")) ) {
							p5pkg['Perlito5::Grammar::Space'].count_line([v_pos_1392], null);
							(function () {
								var tmp3158 = v_pos_1392;
								v_pos_1392 = p5incr_(tmp3158);
								return tmp3158
							})();
						}
						})();
					var v_m_1393;
					v_m_1393 = (p5pkg['Perlito5::Grammar::Space'].start_of_line(p5list_to_a([p5list_slice(List__, [0], 1), v_pos_1392]), ""));
					return ((v_m_1393 || (v_m_1393 = new p5HashRef({})))._hash_.p5hget('to'));
				};
				tmp3157._prototype_ = null;
				return tmp3157
			})(), p5pkg['Perlito5::Grammar::Space'].chr([32], 1), (function () {
				var tmp3159;
				tmp3159 = function (List__, p5want) {
					return (p5list_slice(List__, [1], p5want));
				};
				tmp3159._prototype_ = null;
				return tmp3159
			})()]);
	p5typeglob_set('Perlito5::Grammar::Space', 'term_space', (function () {
		var tmp3160;
		tmp3160 = function (List__, p5want) {
			try {
				var v_str_1394;
				v_str_1394 = (List__.p5aget(0));
				var v_pos_1395;
				v_pos_1395 = (List__.p5aget(1));
				var v_p_1396;
				v_p_1396 = (v_pos_1395);
				(function () {
					p5while(function () {
						v_p_1396 = ((Hash_space_1386.p5hget(p5str((v_str_1394 || (v_str_1394 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1396)))))([v_str_1394, (p5num(v_p_1396) + 1)], ""));
					}, function () {
						return p5and((p5num(v_p_1396) <= p5num(p5num(p5array_deref((v_str_1394 || (v_str_1394 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space')))), function () {
							return Hash_space_1386.p5hget(p5str((v_str_1394 || (v_str_1394 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1396))))
						})
					}, false, '', 0)
				})();
				(function () {
					if ( (p5str((v_str_1394 || (v_str_1394 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1396))) == '_') ) {
					(function () {
						var v_s_1397;
						v_s_1397 = (p5pkg['Perlito5::Grammar::Space'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_1394 || (v_str_1394 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space'), p5list_to_a([p5range(v_p_1396, (p5num(v_p_1396) + 6), 1, "tmp3161", 0)]), 1)])), ""));
						p5and(p5or((p5str(v_s_1397) == '__END__'), function () {
							return ((p5str(v_s_1397) + p5str((v_str_1394 || (v_str_1394 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_1396) + 7)))) == '__DATA__')
						}), function () {
							throw(p5pkg['Perlito5::Grammar::Space'].term_end([v_str_1394, v_p_1396], p5want))
						});
					})();
				}
				})();
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_1394, 'from', v_pos_1395, 'to', v_p_1396, 'capture', (new p5ArrayRef(['space', ' ']))])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3160._prototype_ = null;
		return tmp3160
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'term_end', (function () {
		var tmp3162;
		tmp3162 = function (List__, p5want) {
			var v_str_1398;
			v_str_1398 = (List__.p5aget(0));
			var v_p_1399;
			v_p_1399 = (List__.p5aget(1));
			var v_is_data_1400;
			v_is_data_1400 = (0);
			var v_s_1401;
			v_s_1401 = (p5pkg['Perlito5::Grammar::Space'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_1398 || (v_str_1398 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space'), p5list_to_a([p5range(v_p_1399, (p5num(v_p_1399) + 6), 1, "tmp3163", 0)]), 1)])), ""));
			(function () {
					if ( ((p5str(v_s_1401) == '__END__') && (p5str(p5make_package('Perlito5')['v_PKG_NAME']) == 'main')) ) {
					v_p_1399 = ((p5num(v_p_1399) + 7));
					v_is_data_1400 = (1);
				}
				else (function () {
					if ( ((p5str(v_s_1401) + p5str((v_str_1398 || (v_str_1398 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_1399) + 7)))) == '__DATA__') ) {
					v_p_1399 = ((p5num(v_p_1399) + 8));
					v_is_data_1400 = (1);
				}
				})()
				})();
			var v_m_1402;
			v_m_1402 = (p5pkg['Perlito5::Grammar::Space'].to_eol([v_str_1398, v_p_1399], ""));
			v_p_1399 = ((v_m_1402 || (v_m_1402 = new p5HashRef({})))._hash_.p5hget('to'));
			(function () {
					if ( (p5str((v_str_1398 || (v_str_1398 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1399))) == p5pkg['Perlito5::Grammar::Space'].chr([10], "")) ) {
					p5pkg['Perlito5::Grammar::Space'].count_line([v_p_1399], null);
					(function () {
						var tmp3164 = v_p_1399;
						v_p_1399 = p5incr_(tmp3164);
						return tmp3164
					})();
					p5and((p5str((v_str_1398 || (v_str_1398 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1399))) == p5pkg['Perlito5::Grammar::Space'].chr([13], "")), function () {
						return (function () {
							var tmp3165 = v_p_1399;
							v_p_1399 = p5incr_(tmp3165);
							return tmp3165
						})()
					});
				}
				else (function () {
					if ( (p5str((v_str_1398 || (v_str_1398 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1399))) == p5pkg['Perlito5::Grammar::Space'].chr([13], "")) ) {
					(function () {
						var tmp3166 = v_p_1399;
						v_p_1399 = p5incr_(tmp3166);
						return tmp3166
					})();
					(function () {
						if ( (p5str((v_str_1398 || (v_str_1398 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1399))) == p5pkg['Perlito5::Grammar::Space'].chr([10], "")) ) {
						p5pkg['Perlito5::Grammar::Space'].count_line([v_p_1399], null);
						(function () {
							var tmp3167 = v_p_1399;
							v_p_1399 = p5incr_(tmp3167);
							return tmp3167
						})();
					}
					})();
				}
				})()
				})();
			(function () {
					if ( p5bool(v_is_data_1400) ) {
					(function () {
						var local_idx = p5LOCAL.length;
						var regex_tmp = p5_regex_capture;
						p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
						var v_source_1403;
						v_source_1403 = (p5pkg['Perlito5::Grammar::Space'].join([''].concat(p5list_to_a([p5array_deref((v_str_1398 || (v_str_1398 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space')])), ""));
						var v_len_1404;
						v_len_1404 = (p5pkg['Perlito5::Grammar::Space'].length([v_source_1403], ""));
						(function () {
								var tmp = p5s(v_source_1403, '^.*' + String.fromCharCode(92) + 'n#--START--' + String.fromCharCode(92) + 'n# line 1', function () {
									return ''
								}, 's', 0);
								v_source_1403 = tmp[0];
								return tmp[1];
							})();
						var v_pos_1405;
						v_pos_1405 = (((p5num(v_p_1399) - p5num(v_len_1404)) + p5pkg['Perlito5::Grammar::Space'].length([v_source_1403], "")));
						p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'].p5hset(p5str(p5make_package('Perlito5')['v_PKG_NAME']), ((new p5HashRef({'pos' : v_pos_1405, 'data' : v_source_1403}))));
						var v_pkg_1406;
						v_pkg_1406 = (p5make_package('Perlito5')['v_PKG_NAME']);
						CORE.open(p5list_to_a([p5cget('Perlito5::Grammar::Space', 'prefix:<*>')([(p5str(v_pkg_1406) + '::DATA')], 1), '<', (new p5ScalarRef(p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'].p5hget_hash(p5str(v_pkg_1406))._hash_.p5hget('data')))]));
						p5pkg['Perlito5::Grammar::Space'].seek([p5cget('Perlito5::Grammar::Space', 'prefix:<*>')([(p5str(v_pkg_1406) + '::DATA')], ""), p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'].p5hget_hash(p5str(v_pkg_1406))._hash_.p5hget('pos'), 0], null);
						p5cleanup_local(local_idx, null);
					})();
				}
				})();
			return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_1398, 'from', List__.p5aget(1), 'to', (p5num(p5array_deref((v_str_1398 || (v_str_1398 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space'))), 'capture', (new p5ArrayRef(['space', ' ']))])))));
		};
		tmp3162._prototype_ = null;
		return tmp3162
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['#', p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5pkg['Perlito5::Grammar::Space'].chr([9], 1), p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5pkg['Perlito5::Grammar::Space'].chr([10], 1), p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5pkg['Perlito5::Grammar::Space'].chr([12], 1), p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5pkg['Perlito5::Grammar::Space'].chr([13], 1), p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5pkg['Perlito5::Grammar::Space'].chr([32], 1), p5pkg['Perlito5::Grammar::Space'].term_space]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['__END__', p5pkg['Perlito5::Grammar::Space'].term_end]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['__DATA__', p5pkg['Perlito5::Grammar::Space'].term_end]), null);
	p5typeglob_set('Perlito5::Grammar::Space', 'to_eol', (function () {
		var tmp3168;
		tmp3168 = function (List__, p5want) {
			var v_str_1407;
			v_str_1407 = (List__.p5aget(0));
			var v_pos_1408;
			v_pos_1408 = (List__.p5aget(1));
			var v_MATCH_1409;
			v_MATCH_1409 = ((new p5HashRef({'str' : v_str_1407, 'from' : v_pos_1408, 'to' : v_pos_1408})));
			var v_tmp_1410;
			v_tmp_1410 = (p5context([p5context([(function () {
							var v_last_match_null_1411;
							v_last_match_null_1411 = (0);
							var v_m_1412;
							v_m_1412 = (v_MATCH_1409);
							var v_to_1413;
							v_to_1413 = ((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to'));
							(function () {
								p5while(function () {
									(function () {
										if ( (p5num(v_to_1413) == p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
										v_last_match_null_1411 = ((p5num(v_last_match_null_1411) + 1));
									}
									else {
										v_last_match_null_1411 = (0);
									}
									})();
									v_m_1412 = (v_MATCH_1409);
									v_to_1413 = ((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to'));
								}, function () {
									return p5and(p5context([p5and(p5context([(function () {
										var v_tmp_1414;
										v_tmp_1414 = (v_MATCH_1409);
										v_MATCH_1409 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1414 || (v_tmp_1414 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1414 || (v_tmp_1414 = new p5HashRef({})))._hash_.p5hget('to')])))));
										var v_res_1415;
										v_res_1415 = (p5context([(function () {
													var v_pos1_1416;
													v_pos1_1416 = ((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([(String.fromCharCode(10) == p5str((v_str_1407 || (v_str_1407 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0)));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1416));
																return ((p5context([p5and(p5context([(String.fromCharCode(13) == p5str((v_str_1407 || (v_str_1407 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0)));
															})()], 0)
														})));
												})()], 0));
										v_MATCH_1409 = (v_tmp_1414);
										return ((( p5bool(v_res_1415) ? 0 : 1)));
									})()], 0), function () {
										return p5context([p5and(('' != p5str((v_str_1407 || (v_str_1407 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
											return (v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5incr('to')
										})], 0)
									})], 0), function () {
										return p5context([(p5num(v_last_match_null_1411) < 2)], 0)
									})
								}, false, '', 0)
							})();
							v_MATCH_1409 = (v_m_1412);
							(v_MATCH_1409 || (v_MATCH_1409 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1413));
							return ((1));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1410) ? v_MATCH_1409 : null));
		};
		tmp3168._prototype_ = null;
		return tmp3168
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'pod_pod_begin', (function () {
		var tmp3169;
		tmp3169 = function (List__, p5want) {
			var v_str_1417;
			v_str_1417 = (List__.p5aget(0));
			var v_pos_1418;
			v_pos_1418 = (List__.p5aget(1));
			var v_MATCH_1419;
			v_MATCH_1419 = ((new p5HashRef({'str' : v_str_1417, 'from' : v_pos_1418, 'to' : v_pos_1418})));
			var v_tmp_1420;
			v_tmp_1420 = (p5context([p5context([(function () {
							var v_pos1_1421;
							v_pos1_1421 = ((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_pos1_1422;
											v_pos1_1422 = ((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to'));
											return ((p5or(p5context([(function () {
													return ((p5context([p5and(p5context([(String.fromCharCode(10) == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0)));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1422));
														return ((p5context([p5and(p5context([(String.fromCharCode(13) == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0)
												})));
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([('=' == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('c' == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('u' == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('t' == p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5context([(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
														})
													})
												})
											})], 0), function () {
												return p5context([(function () {
													var v_m2_1423;
													v_m2_1423 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1417, (v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1423) ) {
														(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1423 || (v_m2_1423 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1421));
										return ((p5context([p5and(p5context([p5and(('' != p5str((v_str_1417 || (v_str_1417 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
												return (v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5incr('to')
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1424;
													v_m2_1424 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1417, (v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1424) ) {
														(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1424 || (v_m2_1424 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_m2_1425;
														v_m2_1425 = (p5pkg['Perlito5::Grammar::Space'].pod_pod_begin(p5list_to_a([v_str_1417, (v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1425) ) {
															(v_MATCH_1419 || (v_MATCH_1419 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1425 || (v_m2_1425 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0)
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1420) ? v_MATCH_1419 : null));
		};
		tmp3169._prototype_ = null;
		return tmp3169
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'pod_begin', (function () {
		var tmp3170;
		tmp3170 = function (List__, p5want) {
			var v_str_1426;
			v_str_1426 = (List__.p5aget(0));
			var v_pos_1427;
			v_pos_1427 = (List__.p5aget(1));
			var v_MATCH_1428;
			v_MATCH_1428 = ((new p5HashRef({'str' : v_str_1426, 'from' : v_pos_1427, 'to' : v_pos_1427})));
			var v_tmp_1429;
			v_tmp_1429 = (p5context([p5context([(function () {
							var v_pos1_1430;
							v_pos1_1430 = ((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_pos1_1431;
											v_pos1_1431 = ((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to'));
											return ((p5or(p5context([(function () {
													return ((p5context([p5and(p5context([(String.fromCharCode(10) == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0)));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1431));
														return ((p5context([p5and(p5context([(String.fromCharCode(13) == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0)
												})));
										})()], 0), function () {
											return p5and(p5context([p5and(p5context([('=' == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('e' == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('n' == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('d' == p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5context([(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
														})
													})
												})
											})], 0), function () {
												return p5context([(function () {
													var v_m2_1432;
													v_m2_1432 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1426, (v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1432) ) {
														(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1432 || (v_m2_1432 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1430));
										return ((p5context([p5and(p5context([p5and(('' != p5str((v_str_1426 || (v_str_1426 = new p5ArrayRef([])))._array_.p5aget(p5num((v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to'))))), function () {
												return (v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5incr('to')
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1433;
													v_m2_1433 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1426, (v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1433) ) {
														(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1433 || (v_m2_1433 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_m2_1434;
														v_m2_1434 = (p5pkg['Perlito5::Grammar::Space'].pod_begin(p5list_to_a([v_str_1426, (v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1434) ) {
															(v_MATCH_1428 || (v_MATCH_1428 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1434 || (v_m2_1434 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0)
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1429) ? v_MATCH_1428 : null));
		};
		tmp3170._prototype_ = null;
		return tmp3170
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'start_of_line', (function () {
		var tmp3171;
		tmp3171 = function (List__, p5want) {
			var v_str_1435;
			v_str_1435 = (List__.p5aget(0));
			var v_pos_1436;
			v_pos_1436 = (List__.p5aget(1));
			var v_MATCH_1437;
			v_MATCH_1437 = ((new p5HashRef({'str' : v_str_1435, 'from' : v_pos_1436, 'to' : v_pos_1436})));
			var v_tmp_1438;
			v_tmp_1438 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1439;
							v_m2_1439 = (p5pkg['Perlito5::Grammar::String'].here_doc(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1439) ) {
								(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1439 || (v_m2_1439 = new p5HashRef({})))._hash_.p5hget('to')));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								var v_pos1_1440;
								v_pos1_1440 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([p5and(p5context([('=' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0), function () {
												return p5context([(function () {
													var v_pos1_1441;
													v_pos1_1441 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([p5and(p5context([('p' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([('o' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5and(p5context([('d' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																			return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
																		})
																	})
																})], 0), function () {
																	return p5context([(function () {
																		var v_m2_1442;
																		v_m2_1442 = (p5pkg['Perlito5::Grammar::Space'].pod_pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1442) ) {
																			(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1442 || (v_m2_1442 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0)
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																return ((p5context([p5and(p5context([p5and(p5context([('h' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																			return p5and(p5context([('a' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																				return p5and(p5context([('d' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																					return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																				})
																			})
																		})
																	})], 0), function () {
																		return p5context([(function () {
																			var v_m2_1443;
																			v_m2_1443 = (p5pkg['Perlito5::Grammar::Space'].pod_pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_1443) ) {
																				(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1443 || (v_m2_1443 = new p5HashRef({})))._hash_.p5hget('to')));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0)
																	})], 0)));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																	return ((p5context([p5and(p5context([p5and(p5context([('i' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5and(p5context([('t' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																				return p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																					return p5and(p5context([('m' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																						return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																					})
																				})
																			})
																		})], 0), function () {
																			return p5context([(function () {
																				var v_m2_1444;
																				v_m2_1444 = (p5pkg['Perlito5::Grammar::Space'].pod_pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_1444) ) {
																					(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1444 || (v_m2_1444 = new p5HashRef({})))._hash_.p5hget('to')));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0)
																		})], 0)));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																		return ((p5context([p5and(p5context([p5and(p5context([('o' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																				return p5and(p5context([('v' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																					return p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																						return p5and(p5context([('r' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																							return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																						})
																					})
																				})
																			})], 0), function () {
																				return p5context([(function () {
																					var v_m2_1445;
																					v_m2_1445 = (p5pkg['Perlito5::Grammar::Space'].pod_pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1445) ) {
																						(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1445 || (v_m2_1445 = new p5HashRef({})))._hash_.p5hget('to')));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5or(p5context([(function () {
																			(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																			return ((p5context([p5and(p5context([p5and(p5context([('b' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																						return p5and(p5context([('g' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																							return p5and(p5context([('i' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																								return p5and(p5context([('n' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																									return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
																								})
																							})
																						})
																					})
																				})], 0), function () {
																					return p5context([(function () {
																						var v_m2_1446;
																						v_m2_1446 = (p5pkg['Perlito5::Grammar::Space'].pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																						return (function () {
																							if ( p5bool(v_m2_1446) ) {
																							(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1446 || (v_m2_1446 = new p5HashRef({})))._hash_.p5hget('to')));
																							return ((1));
																						}
																						else {
																							return ((0));
																						}
																						})()
																					})()], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																				return ((p5context([p5and(p5context([p5and(p5context([('f' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5and(p5context([('o' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																							return p5and(p5context([('r' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																								return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
																							})
																						})
																					})], 0), function () {
																						return p5context([(function () {
																							var v_m2_1447;
																							v_m2_1447 = (p5pkg['Perlito5::Grammar::Space'].pod_begin(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																							return (function () {
																								if ( p5bool(v_m2_1447) ) {
																								(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1447 || (v_m2_1447 = new p5HashRef({})))._hash_.p5hget('to')));
																								return ((1));
																							}
																							else {
																								return ((0));
																							}
																							})()
																						})()], 0)
																					})], 0)));
																			})()], 0), function () {
																				return p5or(p5context([(function () {
																					(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																					return ((p5context([p5and(p5context([p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5and(p5context([('n' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																								return p5and(p5context([('c' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																									return p5and(p5context([('o' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																										return p5and(p5context([('d' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																											return p5and(p5context([('i' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
																												return p5and(p5context([('n' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 6))))], 0), function () {
																													return p5and(p5context([('g' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 7))))], 0), function () {
																														return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 8)))], 0)
																													})
																												})
																											})
																										})
																									})
																								})
																							})
																						})], 0), function () {
																							return p5context([(function () {
																								var v_m2_1448;
																								v_m2_1448 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																								return (function () {
																									if ( p5bool(v_m2_1448) ) {
																									(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1448 || (v_m2_1448 = new p5HashRef({})))._hash_.p5hget('to')));
																									return ((1));
																								}
																								else {
																									return ((0));
																								}
																								})()
																							})()], 0)
																						})], 0)));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1441));
																						return ((p5context([p5and(p5context([p5and(p5context([('c' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																								return p5and(p5context([('u' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																									return p5and(p5context([('t' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																										return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
																									})
																								})
																							})], 0), function () {
																								return p5context([(function () {
																									var v_m2_1449;
																									v_m2_1449 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																									return (function () {
																										if ( p5bool(v_m2_1449) ) {
																										(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1449 || (v_m2_1449 = new p5HashRef({})))._hash_.p5hget('to')));
																										return ((1));
																									}
																									else {
																										return ((0));
																									}
																									})()
																								})()], 0)
																							})], 0)));
																					})()], 0)
																				})
																			})
																		})
																	})
																})
															})
														})));
												})()], 0)
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1440));
											return ((p5context([p5and(p5context([p5and(p5context([('#' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_last_match_null_1450;
														v_last_match_null_1450 = (0);
														var v_m_1451;
														v_m_1451 = (v_MATCH_1437);
														var v_to_1452;
														v_to_1452 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
														(function () {
															p5while(function () {
																(function () {
																	if ( (p5num(v_to_1452) == p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null_1450 = ((p5num(v_last_match_null_1450) + 1));
																}
																else {
																	v_last_match_null_1450 = (0);
																}
																})();
																v_m_1451 = (v_MATCH_1437);
																v_to_1452 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
															}, function () {
																return p5and(p5context([(function () {
																	var v_pos1_1453;
																	v_pos1_1453 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																	return ((p5or(p5context([(function () {
																			return ((p5context([p5and(p5context([(' ' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1453));
																				return ((p5context([p5and(p5context([(String.fromCharCode(9) == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																					})], 0)));
																			})()], 0)
																		})));
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null_1450) < 2)], 0)
																})
															}, false, '', 0)
														})();
														v_MATCH_1437 = (v_m_1451);
														(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1452));
														return ((1));
													})()], 0), function () {
														return p5and(p5context([p5and(p5context([('l' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5and(p5context([('i' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																return p5and(p5context([('n' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																	return p5and(p5context([('e' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																		return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																	})
																})
															})
														})], 0), function () {
															return p5and(p5context([(function () {
																var v_last_match_null_1454;
																v_last_match_null_1454 = (0);
																var v_m_1455;
																v_m_1455 = (v_MATCH_1437);
																var v_to_1456;
																v_to_1456 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																var v_count_1457;
																v_count_1457 = (0);
																(function () {
																	p5while(function () {
																		(function () {
																			if ( (p5num(v_to_1456) == p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																			v_last_match_null_1454 = ((p5num(v_last_match_null_1454) + 1));
																		}
																		else {
																			v_last_match_null_1454 = (0);
																		}
																		})();
																		v_m_1455 = (v_MATCH_1437);
																		v_to_1456 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																		v_count_1457 = ((p5num(v_count_1457) + 1));
																	}, function () {
																		return p5and(p5context([(function () {
																			var v_pos1_1458;
																			v_pos1_1458 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																			return ((p5or(p5context([(function () {
																					return ((p5context([p5and(p5context([(' ' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0)));
																				})()], 0), function () {
																					return p5context([(function () {
																						(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1458));
																						return ((p5context([p5and(p5context([(String.fromCharCode(9) == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																								return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																							})], 0)));
																					})()], 0)
																				})));
																		})()], 0), function () {
																			return p5context([(p5num(v_last_match_null_1454) < 2)], 0)
																		})
																	}, false, '', 0)
																})();
																v_MATCH_1437 = (v_m_1455);
																(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1456));
																return (((p5num(v_count_1457) > 0)));
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2_1459;
																	v_m2_1459 = (p5pkg['Perlito5::Grammar::Number'].digits(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_1459) ) {
																		(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1459 || (v_m2_1459 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::digits', (v_m2_1459));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([(function () {
																		var v_last_match_null_1460;
																		v_last_match_null_1460 = (0);
																		var v_m_1461;
																		v_m_1461 = (v_MATCH_1437);
																		var v_to_1462;
																		v_to_1462 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																		(function () {
																			p5while(function () {
																				(function () {
																					if ( (p5num(v_to_1462) == p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																					v_last_match_null_1460 = ((p5num(v_last_match_null_1460) + 1));
																				}
																				else {
																					v_last_match_null_1460 = (0);
																				}
																				})();
																				v_m_1461 = (v_MATCH_1437);
																				v_to_1462 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																			}, function () {
																				return p5and(p5context([(function () {
																					var v_pos1_1463;
																					v_pos1_1463 = ((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to'));
																					return ((p5or(p5context([(function () {
																							return ((p5context([p5and(p5context([(' ' == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																									return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																								})], 0)));
																						})()], 0), function () {
																							return p5context([(function () {
																								(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1463));
																								return ((p5context([p5and(p5context([(String.fromCharCode(9) == p5str((v_str_1435 || (v_str_1435 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																										return p5context([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																									})], 0)));
																							})()], 0)
																						})));
																				})()], 0), function () {
																					return p5context([(p5num(v_last_match_null_1460) < 2)], 0)
																				})
																			}, false, '', 0)
																		})();
																		v_MATCH_1437 = (v_m_1461);
																		(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1462));
																		return ((1));
																	})()], 0), function () {
																		return p5and(p5context([(function () {
																			var v_m2_1464;
																			v_m2_1464 = (p5pkg['Perlito5::Grammar::Space'].to_eol(p5list_to_a([v_str_1435, (v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_1464) ) {
																				(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1464 || (v_m2_1464 = new p5HashRef({})))._hash_.p5hget('to')));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				p5make_package('Perlito5')['v_LINE_NUMBER'] = ((0 + p5num(p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number::digits')]), ""))));
																				return ((1));
																			})()], 0)
																		})
																	})
																})
															})
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1437 || (v_MATCH_1437 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1440));
												return ((1));
											})()], 0)
										})
									})));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1438) ? v_MATCH_1437 : null));
		};
		tmp3171._prototype_ = null;
		return tmp3171
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'ws', (function () {
		var tmp3172;
		tmp3172 = function (List__, p5want) {
			try {
				var v_str_1465;
				v_str_1465 = (List__.p5aget(0));
				var v_pos_1466;
				v_pos_1466 = (List__.p5aget(1));
				var v_p_1467;
				v_p_1467 = (v_pos_1466);
				(function () {
					p5while(function () {
						v_p_1467 = ((Hash_space_1386.p5hget(p5str((v_str_1465 || (v_str_1465 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1467)))))([v_str_1465, (p5num(v_p_1467) + 1)], ""));
					}, function () {
						return p5and((p5num(v_p_1467) <= p5num(p5num(p5array_deref((v_str_1465 || (v_str_1465 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space')))), function () {
							return Hash_space_1386.p5hget(p5str((v_str_1465 || (v_str_1465 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1467))))
						})
					}, false, '', 0)
				})();
				(function () {
					if ( (p5str((v_str_1465 || (v_str_1465 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1467))) == '_') ) {
					(function () {
						var v_s_1468;
						v_s_1468 = (p5pkg['Perlito5::Grammar::Space'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_1465 || (v_str_1465 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space'), p5list_to_a([p5range(v_p_1467, (p5num(v_p_1467) + 6), 1, "tmp3173", 0)]), 1)])), ""));
						p5and(p5or((p5str(v_s_1468) == '__END__'), function () {
							return ((p5str(v_s_1468) + p5str((v_str_1465 || (v_str_1465 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_1467) + 7)))) == '__DATA__')
						}), function () {
							throw(p5pkg['Perlito5::Grammar::Space'].term_end([v_str_1465, v_p_1467], p5want))
						});
					})();
				}
				})();
				(function () {
					if ( (p5num(v_p_1467) == p5num(v_pos_1466)) ) {
					throw(p5context([], p5want));
				}
				})();
				return ((new p5HashRef({'str' : v_str_1465, 'from' : v_pos_1466, 'to' : v_p_1467})));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3172._prototype_ = null;
		return tmp3172
	})());
	p5typeglob_set('Perlito5::Grammar::Space', 'opt_ws', (function () {
		var tmp3174;
		tmp3174 = function (List__, p5want) {
			try {
				var v_str_1469;
				v_str_1469 = (List__.p5aget(0));
				var v_pos_1470;
				v_pos_1470 = (List__.p5aget(1));
				var v_p_1471;
				v_p_1471 = (v_pos_1470);
				(function () {
					p5while(function () {
						v_p_1471 = ((Hash_space_1386.p5hget(p5str((v_str_1469 || (v_str_1469 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1471)))))([v_str_1469, (p5num(v_p_1471) + 1)], ""));
					}, function () {
						return p5and((p5num(v_p_1471) <= p5num(p5num(p5array_deref((v_str_1469 || (v_str_1469 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space')))), function () {
							return Hash_space_1386.p5hget(p5str((v_str_1469 || (v_str_1469 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1471))))
						})
					}, false, '', 0)
				})();
				(function () {
					if ( (p5str((v_str_1469 || (v_str_1469 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1471))) == '_') ) {
					(function () {
						var v_s_1472;
						v_s_1472 = (p5pkg['Perlito5::Grammar::Space'].join([''].concat(p5list_to_a([p5list_slice(p5array_deref((v_str_1469 || (v_str_1469 = new p5ArrayRef([]))), 'Perlito5::Grammar::Space'), p5list_to_a([p5range(v_p_1471, (p5num(v_p_1471) + 6), 1, "tmp3175", 0)]), 1)])), ""));
						p5and(p5or((p5str(v_s_1472) == '__END__'), function () {
							return ((p5str(v_s_1472) + p5str((v_str_1469 || (v_str_1469 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_1471) + 7)))) == '__DATA__')
						}), function () {
							throw(p5pkg['Perlito5::Grammar::Space'].term_end(p5list_to_a([List__.p5aget(0), v_p_1471]), p5want))
						});
					})();
				}
				})();
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(0), 'from', v_pos_1470, 'to', v_p_1471])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3174._prototype_ = null;
		return tmp3174
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Print');
	if (typeof p5pkg[p5make_package('Perlito5::Grammar::Print')['Hash_Print'] || (p5make_package('Perlito5::Grammar::Print')['Hash_Print'] = {}), 'Perlito5::Grammar::Print']['Hash_Print'] == "undefined" ) { p5pkg[p5make_package('Perlito5::Grammar::Print')['Hash_Print'] || (p5make_package('Perlito5::Grammar::Print')['Hash_Print'] = {}), 'Perlito5::Grammar::Print']['Hash_Print'] = {};}
	p5pkg[p5make_package('Perlito5::Grammar::Print')['Hash_Print'] || (p5make_package('Perlito5::Grammar::Print')['Hash_Print'] = {}), 'Perlito5::Grammar::Print']['Hash_Print'] = {'print' : 1, 'printf' : 1, 'say' : 1, 'exec' : 1, 'system' : 1};
	p5typeglob_set('Perlito5::Grammar::Print', 'print_decl', (function () {
		var tmp3176;
		tmp3176 = function (List__, p5want) {
			var v_str_1474;
			v_str_1474 = (List__.p5aget(0));
			var v_pos_1475;
			v_pos_1475 = (List__.p5aget(1));
			var v_MATCH_1476;
			v_MATCH_1476 = ((new p5HashRef({'str' : v_str_1474, 'from' : v_pos_1475, 'to' : v_pos_1475})));
			var v_tmp_1477;
			v_tmp_1477 = (p5context([p5context([(function () {
							var v_pos1_1478;
							v_pos1_1478 = ((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('p' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('r' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5and(p5context([('i' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
													return p5and(p5context([('n' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
														return p5and(p5context([('t' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
															return p5and(p5context([('f' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
																return p5context([(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 6)))], 0)
															})
														})
													})
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1478));
										return ((p5context([p5and(p5context([('p' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('r' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('i' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('n' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5and(p5context([('t' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																return p5context([(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 5)))], 0)
															})
														})
													})
												})
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1478));
											return ((p5context([p5and(p5context([('s' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5and(p5context([('a' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
														return p5and(p5context([('y' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
															return p5context([(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1478));
												return ((p5context([p5and(p5context([('e' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5and(p5context([('x' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
															return p5and(p5context([('e' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																return p5and(p5context([('c' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																	return p5context([(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
																})
															})
														})
													})], 0)));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1478));
													return ((p5context([p5and(p5context([('s' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5and(p5context([('y' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																return p5and(p5context([('s' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
																	return p5and(p5context([('t' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
																		return p5and(p5context([('e' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 4))))], 0), function () {
																			return p5and(p5context([('m' == p5str((v_str_1474 || (v_str_1474 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 5))))], 0), function () {
																				return p5context([(v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1476 || (v_MATCH_1476 = new p5HashRef({})))._hash_.p5hget('to')) + 6)))], 0)
																			})
																		})
																	})
																})
															})
														})], 0)));
												})()], 0)
											})
										})
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1477) ? v_MATCH_1476 : null));
		};
		tmp3176._prototype_ = null;
		return tmp3176
	})());
	p5typeglob_set('Perlito5::Grammar::Print', 'the_object', (function () {
		var tmp3177;
		tmp3177 = function (List__, p5want) {
			try {
				var v_str_1479;
				v_str_1479 = (List__.p5aget(0));
				var v_pos_1480;
				v_pos_1480 = (List__.p5aget(1));
				var v_MATCH_1481;
				v_MATCH_1481 = ((new p5HashRef({'str' : v_str_1479, 'from' : v_pos_1480, 'to' : v_pos_1480})));
				var v_tmp_1482;
				v_tmp_1482 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_1483;
							v_pos1_1483 = ((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_tmp_1484;
											v_tmp_1484 = (v_MATCH_1481);
											v_MATCH_1481 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1484 || (v_tmp_1484 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1484 || (v_tmp_1484 = new p5HashRef({})))._hash_.p5hget('to')])))));
											var v_res_1485;
											v_res_1485 = (p5context([p5and(p5context([('$' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0));
											v_MATCH_1481 = (v_tmp_1484);
											return ((( p5bool(v_res_1485) ? 1 : 0)));
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_1486;
												v_m2_1486 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_1479, (v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1486) ) {
													(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1486 || (v_m2_1486 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_1486));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_tmp_1487;
													v_tmp_1487 = (v_MATCH_1481);
													v_MATCH_1481 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1487 || (v_tmp_1487 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1487 || (v_tmp_1487 = new p5HashRef({})))._hash_.p5hget('to')])))));
													var v_res_1488;
													v_res_1488 = (p5context([p5and(p5context([('+' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0));
													v_MATCH_1481 = (v_tmp_1487);
													return ((( p5bool(v_res_1488) ? 0 : 1)));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1)));
														return ((1));
													})()], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1483));
										return ((p5context([p5and(p5context([(function () {
												var v_tmp_1489;
												v_tmp_1489 = (v_MATCH_1481);
												v_MATCH_1481 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1489 || (v_tmp_1489 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1489 || (v_tmp_1489 = new p5HashRef({})))._hash_.p5hget('to')])))));
												var v_res_1490;
												v_res_1490 = (p5context([p5and(p5context([('{' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0));
												v_MATCH_1481 = (v_tmp_1489);
												return ((( p5bool(v_res_1490) ? 1 : 0)));
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1491;
													v_m2_1491 = (p5pkg['Perlito5::Grammar::Block'].block(p5list_to_a([v_str_1479, (v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1491) ) {
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1491 || (v_m2_1491 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Block::block', (v_m2_1491));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Block::block')]), "")));
														return ((1));
													})()], 0)
												})
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1483));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_1492;
													v_m2_1492 = (p5pkg['Perlito5::Grammar::Print'].typeglob(p5list_to_a([v_str_1479, (v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1492) ) {
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1492 || (v_m2_1492 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('typeglob', (v_m2_1492));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('typeglob')]), "")));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0)
									})
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1493;
								v_m2_1493 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1479, (v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1493) ) {
									(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1493 || (v_m2_1493 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_tmp_1494;
									v_tmp_1494 = (v_MATCH_1481);
									v_MATCH_1481 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1494 || (v_tmp_1494 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1494 || (v_tmp_1494 = new p5HashRef({})))._hash_.p5hget('to')])))));
									var v_res_1495;
									v_res_1495 = (p5context([(function () {
												var v_pos1_1496;
												v_pos1_1496 = ((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([(',' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5or(p5context([(function () {
															(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1496));
															return ((p5context([p5and(p5context([('?' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0)));
														})()], 0), function () {
															return p5or(p5context([(function () {
																(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1496));
																return ((p5context([p5and(p5context([('-' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5and(p5context([('>' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																			return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																		})
																	})], 0)));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1496));
																	return ((p5context([p5and(p5context([('[' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																		})], 0)));
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1496));
																		return ((p5context([p5and(p5context([('{' == p5str((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																				return p5context([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																			})], 0)));
																	})()], 0)
																})
															})
														})
													})));
											})()], 0));
									v_MATCH_1481 = (v_tmp_1494);
									return ((( p5bool(v_res_1495) ? 0 : 1)));
								})()], 0), function () {
									return p5context([(function () {
										var v_pos_1497;
										v_pos_1497 = ((v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('to'));
										var v_s_1498;
										v_s_1498 = ((v_str_1479 || (v_str_1479 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1497)));
										(function () {
											if ( (p5str(v_s_1498) == '+') ) {
											(function () {
												var v_m_1499;
												v_m_1499 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('str'), (p5num(v_pos_1497) + 1)]), ""));
												(function () {
													if ( p5bool(v_m_1499) ) {
													throw(p5context([], p5want));
												}
												})();
											})();
										}
										else {
											(function () {
												var v_m_1500;
												v_m_1500 = (p5pkg['Perlito5::Grammar::Precedence'].op_parse(p5list_to_a([(v_MATCH_1481 || (v_MATCH_1481 = new p5HashRef({})))._hash_.p5hget('str'), v_pos_1497, 1]), ""));
												var v_next_op_1501;
												v_next_op_1501 = (( p5bool(v_m_1500) ? p5pkg['Perlito5::Match'].flat([v_m_1500], p5want)._array_.p5aget(1) : ''));
												var v_is_infix_1502;
												v_is_infix_1502 = (p5pkg['Perlito5::Grammar::Precedence'].is_fixity_type(['infix', v_next_op_1501], ""));
												p5and(p5and(v_is_infix_1502, function () {
													return (p5str(v_next_op_1501) != '<<')
												}), function () {
													throw(p5context([], p5want))
												});
											})();
										}
										})();
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
				return (( p5bool(v_tmp_1482) ? v_MATCH_1481 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3177._prototype_ = null;
		return tmp3177
	})());
	p5typeglob_set('Perlito5::Grammar::Print', 'typeglob', (function () {
		var tmp3178;
		tmp3178 = function (List__, p5want) {
			var v_str_1503;
			v_str_1503 = (List__.p5aget(0));
			var v_pos_1504;
			v_pos_1504 = (List__.p5aget(1));
			var v_MATCH_1505;
			v_MATCH_1505 = ((new p5HashRef({'str' : v_str_1503, 'from' : v_pos_1504, 'to' : v_pos_1504})));
			var v_tmp_1506;
			v_tmp_1506 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1507;
							v_m2_1507 = (p5pkg['Perlito5::Grammar::Print'].typeglob_bareword(p5list_to_a([v_str_1503, (v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1507) ) {
								(v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1507 || (v_m2_1507 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hset('typeglob_bareword', (v_m2_1507));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_tmp_1508;
								v_tmp_1508 = (v_MATCH_1505);
								v_MATCH_1505 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1508 || (v_tmp_1508 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1508 || (v_tmp_1508 = new p5HashRef({})))._hash_.p5hget('to')])))));
								var v_res_1509;
								v_res_1509 = (p5context([p5and(p5context([('(' == p5str((v_str_1503 || (v_str_1503 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0));
								v_MATCH_1505 = (v_tmp_1508);
								return ((( p5bool(v_res_1509) ? 0 : 1)));
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1505 || (v_MATCH_1505 = new p5HashRef({})))._hash_.p5hget('typeglob_bareword')]), "")));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1506) ? v_MATCH_1505 : null));
		};
		tmp3178._prototype_ = null;
		return tmp3178
	})());
	p5typeglob_set('Perlito5::Grammar::Print', 'typeglob_bareword', (function () {
		var tmp3179;
		tmp3179 = function (List__, p5want) {
			try {
				var v_str_1510;
				v_str_1510 = (List__.p5aget(0));
				var v_pos_1511;
				v_pos_1511 = (List__.p5aget(1));
				var v_p_1512;
				v_p_1512 = (v_pos_1511);
				var v_m_namespace_1513;
				v_m_namespace_1513 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident([v_str_1510, v_p_1512], ""));
				var v_namespace_1514;
				v_namespace_1514 = (p5pkg['Perlito5::Match'].flat([v_m_namespace_1513], ""));
				v_p_1512 = ((v_m_namespace_1513 || (v_m_namespace_1513 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_m_name_1515;
				v_m_name_1515 = (p5pkg['Perlito5::Grammar'].ident([v_str_1510, v_p_1512], ""));
				(function () {
					if ( !( p5bool(v_m_name_1515)) ) {
					(function () {
						if ( p5bool(v_namespace_1514) ) {
						(v_m_namespace_1513 || (v_m_namespace_1513 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', v_namespace_1514], "")));
						throw(p5context([v_m_namespace_1513], p5want));
					}
					})();
					throw(p5context([], p5want));
				}
				})();
				var v_name_1516;
				v_name_1516 = (p5pkg['Perlito5::Match'].flat([v_m_name_1515], ""));
				v_p_1512 = ((v_m_name_1515 || (v_m_name_1515 = new p5HashRef({})))._hash_.p5hget('to'));
				var v_s_1517;
				v_s_1517 = ((v_str_1510 || (v_str_1510 = new p5ArrayRef([])))._array_.p5aget(p5num(v_p_1512)));
				var v_s2_1518;
				v_s2_1518 = ((p5str(v_s_1517) + p5str((v_str_1510 || (v_str_1510 = new p5ArrayRef([])))._array_.p5aget((p5num(v_p_1512) + 1)))));
				(function () {
					if ( (p5str(v_s2_1518) == '::') ) {
					(v_m_name_1515 || (v_m_name_1515 = new p5HashRef({})))._hash_.p5hset('to', ((p5num(v_p_1512) + 2)));
					(v_m_name_1515 || (v_m_name_1515 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', (p5str(v_namespace_1514) + '::' + p5str(v_name_1516))], "")));
					throw(p5context([v_m_name_1515], p5want));
				}
				})();
				var v_effective_name_1519;
				v_effective_name_1519 = ((p5str(p5or(v_namespace_1514, function () {
	return p5make_package('Perlito5')['v_PKG_NAME']
})) + '::' + p5str(v_name_1516)));
				(function () {
					if ( ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_effective_name_1519) || p5sub_exists(p5str(v_effective_name_1519), 'Perlito5::Grammar::Print')) ) {
					throw(p5context([], p5want));
				}
				})();
				(function () {
					if ( ((!( p5bool(v_namespace_1514)) || (p5str(v_namespace_1514) == 'CORE')) && (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_1516)))) ) {
					throw(p5context([], p5want));
				}
				})();
				var v_full_name_1520;
				v_full_name_1520 = (v_name_1516);
				p5and(v_namespace_1514, function () {
					return v_full_name_1520 = ((p5str(v_namespace_1514) + '::' + p5str(v_name_1516)))
				});
				(v_m_name_1515 || (v_m_name_1515 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', ['sigil', '::', 'name', '', 'namespace', v_full_name_1520], "")));
				return (p5context([v_m_name_1515], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3179._prototype_ = null;
		return tmp3179
	})());
	p5typeglob_set('Perlito5::Grammar::Print', 'print_ast', (function () {
		var tmp3180;
		tmp3180 = function (List__, p5want) {
			var v_decl_1521;
			var v_the_object_1522;
			var v_expr_1523;
			(function () {
					var tmp3181 = p5list_to_a([List__]);
					var tmp3182 = tmp3181.slice(0);
					v_decl_1521 = tmp3181.shift();
					v_the_object_1522 = tmp3181.shift();
					v_expr_1523 = tmp3181.shift();
					return tmp3182
				})();
			return (p5call('Perlito5::AST::Apply', 'new', ['namespace', '', 'code', v_decl_1521, 'special_arg', v_the_object_1522, 'arguments', v_expr_1523], p5want));
		};
		tmp3180._prototype_ = null;
		return tmp3180
	})());
	p5typeglob_set('Perlito5::Grammar::Print', 'term_print', (function () {
		var tmp3183;
		tmp3183 = function (List__, p5want) {
			try {
				var v_str_1524;
				v_str_1524 = (List__.p5aget(0));
				var v_pos_1525;
				v_pos_1525 = (List__.p5aget(1));
				var v_MATCH_1526;
				v_MATCH_1526 = ((new p5HashRef({'str' : v_str_1524, 'from' : v_pos_1525, 'to' : v_pos_1525})));
				var v_tmp_1527;
				v_tmp_1527 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1528;
							v_m2_1528 = (p5pkg['Perlito5::Grammar::Print'].print_decl(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1528) ) {
								(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1528 || (v_m2_1528 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('print_decl', (v_m2_1528));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1529;
								v_m2_1529 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1529) ) {
									(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1529 || (v_m2_1529 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_1530;
									v_pos1_1530 = ((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_1524 || (v_str_1524 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_1531;
														v_m2_1531 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1531) ) {
															(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1531 || (v_m2_1531 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('_scope', ((p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].length - 1)));
															return ((1));
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_pos1_1532;
																v_pos1_1532 = ((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to'));
																return ((p5or(p5context([(function () {
																		return ((p5context([p5and(p5context([(function () {
																				var v_m2_1533;
																				v_m2_1533 = (p5pkg['Perlito5::Grammar::Print'].the_object(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_1533) ) {
																					(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1533 || (v_m2_1533 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('the_object', (v_m2_1533));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					var v_m2_1534;
																					v_m2_1534 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1534) ) {
																						(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1534 || (v_m2_1534 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1534));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1532));
																			return ((p5context([(function () {
																					p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].length = 1 + ((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('_scope'));
																					throw(p5context([], p5want));
																					return ((1));
																				})()], 0)));
																		})()], 0)
																	})));
															})()], 0), function () {
																return p5and(p5context([p5and(p5context([(')' == p5str((v_str_1524 || (v_str_1524 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0), function () {
																	return p5context([(function () {
																		var v_list_1535;
																		v_list_1535 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::list_parse')]), ""));
																		p5and(!( p5bool(p5pkg['Perlito5::Grammar::Print'].ref([v_list_1535], ""))), function () {
																			throw(p5context([], p5want))
																		});
																		(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Grammar::Print'].print_ast(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('print_decl')]), 1), p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('the_object')]), 1), p5pkg['Perlito5::Grammar::Expression'].expand_list([v_list_1535], 1)]), 1)])))));
																		return ((1));
																	})()], 0)
																})
															})
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1530));
												return ((p5context([p5and(p5context([(function () {
														(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('_scope', ((p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].length - 1)));
														return ((1));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_pos1_1536;
															v_pos1_1536 = ((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to'));
															return ((p5or(p5context([(function () {
																	return ((p5context([p5and(p5context([(function () {
																			var v_m2_1537;
																			v_m2_1537 = (p5pkg['Perlito5::Grammar::Print'].the_object(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_1537) ) {
																				(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1537 || (v_m2_1537 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('the_object', (v_m2_1537));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				var v_m2_1538;
																				v_m2_1538 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1524, (v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_1538) ) {
																					(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1538 || (v_m2_1538 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1538));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0)
																		})], 0)));
																})()], 0), function () {
																	return p5context([(function () {
																		(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1536));
																		return ((p5context([(function () {
																				p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'].length = 1 + ((v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('_scope'));
																				throw(p5context([], p5want));
																				return ((1));
																			})()], 0)));
																	})()], 0)
																})));
														})()], 0), function () {
															return p5context([(function () {
																var v_list_1539;
																v_list_1539 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::list_parse')]), ""));
																p5and(!( p5bool(p5pkg['Perlito5::Grammar::Print'].ref([v_list_1539], ""))), function () {
																	throw(p5context([], p5want))
																});
																(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Grammar::Print'].print_ast(p5list_to_a([p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('print_decl')]), 1), p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1526 || (v_MATCH_1526 = new p5HashRef({})))._hash_.p5hget('the_object')]), 1), p5pkg['Perlito5::Grammar::Expression'].expand_list([v_list_1539], 1)]), 1)])))));
																return ((1));
															})()], 0)
														})
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
				return (( p5bool(v_tmp_1527) ? v_MATCH_1526 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3183._prototype_ = null;
		return tmp3183
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['print', p5pkg['Perlito5::Grammar::Print'].term_print]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['printf', p5pkg['Perlito5::Grammar::Print'].term_print]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['say', p5pkg['Perlito5::Grammar::Print'].term_print]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['exec', p5pkg['Perlito5::Grammar::Print'].term_print]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['system', p5pkg['Perlito5::Grammar::Print'].term_print]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Map');
	p5typeglob_set('Perlito5::Grammar::Map', 'map_or_grep', (function () {
		var tmp3184;
		tmp3184 = function (List__, p5want) {
			var v_str_1540;
			v_str_1540 = (List__.p5aget(0));
			var v_pos_1541;
			v_pos_1541 = (List__.p5aget(1));
			var v_MATCH_1542;
			v_MATCH_1542 = ((new p5HashRef({'str' : v_str_1540, 'from' : v_pos_1541, 'to' : v_pos_1541})));
			var v_tmp_1543;
			v_tmp_1543 = (p5context([p5context([(function () {
							var v_pos1_1544;
							v_pos1_1544 = ((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('m' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([('a' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5and(p5context([('p' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
													return p5context([(v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 3)))], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1544));
										return ((p5context([p5and(p5context([('g' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([('r' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5and(p5context([('e' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
														return p5and(p5context([('p' == p5str((v_str_1540 || (v_str_1540 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
															return p5context([(v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1542 || (v_MATCH_1542 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
														})
													})
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1543) ? v_MATCH_1542 : null));
		};
		tmp3184._prototype_ = null;
		return tmp3184
	})());
	p5typeglob_set('Perlito5::Grammar::Map', 'term_map_or_grep', (function () {
		var tmp3185;
		tmp3185 = function (List__, p5want) {
			var v_str_1545;
			v_str_1545 = (List__.p5aget(0));
			var v_pos_1546;
			v_pos_1546 = (List__.p5aget(1));
			var v_MATCH_1547;
			v_MATCH_1547 = ((new p5HashRef({'str' : v_str_1545, 'from' : v_pos_1546, 'to' : v_pos_1546})));
			var v_tmp_1548;
			v_tmp_1548 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1549;
							v_m2_1549 = (p5pkg['Perlito5::Grammar::Map'].map_or_grep(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1549) ) {
								(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1549 || (v_m2_1549 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('map_or_grep', (v_m2_1549));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1550;
								v_m2_1550 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1550) ) {
									(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1550 || (v_m2_1550 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_1551;
									v_pos1_1551 = ((v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([(function () {
													var v_m2_1552;
													v_m2_1552 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1552) ) {
														(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1552 || (v_m2_1552 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_1552));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_1553;
														v_m2_1553 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1553) ) {
															(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1553 || (v_m2_1553 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1553));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('map_or_grep')]), 1), 'special_arg', (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::block')._hash_.p5hget('capture'), 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
															return ((1));
														})()], 0)
													})
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1551));
												return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_1545 || (v_str_1545 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_1554;
															v_m2_1554 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_1554) ) {
																(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1554 || (v_m2_1554 = new p5HashRef({})))._hash_.p5hget('to')));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2_1555;
																v_m2_1555 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1555) ) {
																	(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1555 || (v_m2_1555 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_1555));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0), function () {
																return p5and(p5context([(function () {
																	var v_m2_1556;
																	v_m2_1556 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1545, (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_1556) ) {
																		(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1556 || (v_m2_1556 = new p5HashRef({})))._hash_.p5hget('to')));
																		(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1556));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0), function () {
																	return p5and(p5context([p5and(p5context([(')' == p5str((v_str_1545 || (v_str_1545 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget('map_or_grep')]), 1), 'special_arg', (v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::block')._hash_.p5hget('capture'), 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_MATCH_1547 || (v_MATCH_1547 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																			return ((1));
																		})()], 0)
																	})
																})
															})
														})
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1548) ? v_MATCH_1547 : null));
		};
		tmp3185._prototype_ = null;
		return tmp3185
	})());
	p5typeglob_set('Perlito5::Grammar::Map', 'non_core_ident', (function () {
		var tmp3186;
		tmp3186 = function (List__, p5want) {
			try {
				var v_str_1557;
				v_str_1557 = (List__.p5aget(0));
				var v_pos_1558;
				v_pos_1558 = (List__.p5aget(1));
				var v_MATCH_1559;
				v_MATCH_1559 = ((new p5HashRef({'str' : v_str_1557, 'from' : v_pos_1558, 'to' : v_pos_1558})));
				var v_tmp_1560;
				v_tmp_1560 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1561;
							v_m2_1561 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_1557, (v_MATCH_1559 || (v_MATCH_1559 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1561) ) {
								(v_MATCH_1559 || (v_MATCH_1559 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1561 || (v_m2_1561 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1559 || (v_MATCH_1559 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::full_ident', (v_m2_1561));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								var v_name_1562;
								v_name_1562 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1559 || (v_MATCH_1559 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::full_ident')]), ""));
								p5and(p5or((p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_name_1562), function () {
									return (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_1562)))
								}), function () {
									throw(p5context([], p5want))
								});
								return ((1));
							})()], 0)
						})], 0)], 0));
				return (( p5bool(v_tmp_1560) ? v_MATCH_1559 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3186._prototype_ = null;
		return tmp3186
	})());
	p5typeglob_set('Perlito5::Grammar::Map', 'term_sort', (function () {
		var tmp3187;
		tmp3187 = function (List__, p5want) {
			try {
				var v_str_1563;
				v_str_1563 = (List__.p5aget(0));
				var v_pos_1564;
				v_pos_1564 = (List__.p5aget(1));
				var v_MATCH_1565;
				v_MATCH_1565 = ((new p5HashRef({'str' : v_str_1563, 'from' : v_pos_1564, 'to' : v_pos_1564})));
				var v_tmp_1566;
				v_tmp_1566 = (p5context([p5context([p5and(p5context([p5and(p5context([('s' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5and(p5context([('o' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
								return p5and(p5context([('r' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))], 0), function () {
									return p5and(p5context([('t' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 3))))], 0), function () {
										return p5context([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 4)))], 0)
									})
								})
							})
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1567;
								v_m2_1567 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1567) ) {
									(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1567 || (v_m2_1567 = new p5HashRef({})))._hash_.p5hget('to')));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5context([(function () {
									var v_pos1_1568;
									v_pos1_1568 = ((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to'));
									return ((p5or(p5context([(function () {
											return ((p5context([p5and(p5context([p5and(p5context([('(' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5and(p5context([(function () {
														var v_m2_1569;
														v_m2_1569 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1569) ) {
															(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1569 || (v_m2_1569 = new p5HashRef({})))._hash_.p5hget('to')));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_pos1_1570;
															v_pos1_1570 = ((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to'));
															return ((p5or(p5context([(function () {
																	return ((p5context([p5and(p5context([(function () {
																			var v_m2_1571;
																			v_m2_1571 = (p5pkg['Perlito5::Grammar::Map'].non_core_ident(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_1571) ) {
																				(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1571 || (v_m2_1571 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Map::non_core_ident', (v_m2_1571));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5and(p5context([(function () {
																				var v_m2_1572;
																				v_m2_1572 = (p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_1572) ) {
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1572 || (v_m2_1572 = new p5HashRef({})))._hash_.p5hget('to')));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					var v_name_1573;
																					v_name_1573 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Map::non_core_ident')]), ""));
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', (v_name_1573));
																					return ((1));
																				})()], 0)
																			})
																		})], 0)));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1570));
																		return ((p5context([p5and(p5context([(function () {
																				var v_m2_1574;
																				v_m2_1574 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																				return (function () {
																					if ( p5bool(v_m2_1574) ) {
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1574 || (v_m2_1574 = new p5HashRef({})))._hash_.p5hget('to')));
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_1574));
																					return ((1));
																				}
																				else {
																					return ((0));
																				}
																				})()
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', ((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::block')._hash_.p5hget('capture')));
																					return ((1));
																				})()], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1570));
																			return ((p5context([p5and(p5context([(function () {
																					var v_tmp_1575;
																					v_tmp_1575 = (v_MATCH_1565);
																					v_MATCH_1565 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1575 || (v_tmp_1575 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1575 || (v_tmp_1575 = new p5HashRef({})))._hash_.p5hget('to')])))));
																					var v_res_1576;
																					v_res_1576 = (p5context([p5and(p5context([('$' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																								return p5context([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																							})], 0));
																					v_MATCH_1565 = (v_tmp_1575);
																					return ((( p5bool(v_res_1576) ? 1 : 0)));
																				})()], 0), function () {
																					return p5and(p5context([(function () {
																						var v_m2_1577;
																						v_m2_1577 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																						return (function () {
																							if ( p5bool(v_m2_1577) ) {
																							(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1577 || (v_m2_1577 = new p5HashRef({})))._hash_.p5hget('to')));
																							(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_1577));
																							return ((1));
																						}
																						else {
																							return ((0));
																						}
																						})()
																					})()], 0), function () {
																						return p5context([(function () {
																							var v_var_1578;
																							v_var_1578 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1));
																							p5and((p5pkg['Perlito5::Grammar::Map'].ref([v_var_1578], "") != 'Perlito5::AST::Var'), function () {
																								throw(p5context([], p5want))
																							});
																							(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', (v_var_1578));
																							return ((1));
																						})()], 0)
																					})
																				})], 0)));
																		})()], 0)
																	})
																})));
														})()], 0), function () {
															return p5and(p5context([(function () {
																var v_m2_1579;
																v_m2_1579 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1579) ) {
																	(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1579 || (v_m2_1579 = new p5HashRef({})))._hash_.p5hget('to')));
																	(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1579));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0), function () {
																return p5and(p5context([p5and(p5context([(')' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0), function () {
																	return p5context([(function () {
																		(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'sort', 'special_arg', (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('_tmp'), 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																		return ((1));
																	})()], 0)
																})
															})
														})
													})
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1568));
												return ((p5context([p5and(p5context([(function () {
														var v_pos1_1580;
														v_pos1_1580 = ((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to'));
														return ((p5or(p5context([(function () {
																return ((p5context([p5and(p5context([(function () {
																		var v_m2_1581;
																		v_m2_1581 = (p5pkg['Perlito5::Grammar'].block(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1581) ) {
																			(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1581 || (v_m2_1581 = new p5HashRef({})))._hash_.p5hget('to')));
																			(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::block', (v_m2_1581));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', ((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::block')._hash_.p5hget('capture')));
																			return ((1));
																		})()], 0)
																	})], 0)));
															})()], 0), function () {
																return p5or(p5context([(function () {
																	(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1580));
																	return ((p5context([p5and(p5context([(function () {
																			var v_m2_1582;
																			v_m2_1582 = (p5pkg['Perlito5::Grammar::Map'].non_core_ident(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																			return (function () {
																				if ( p5bool(v_m2_1582) ) {
																				(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1582 || (v_m2_1582 = new p5HashRef({})))._hash_.p5hget('to')));
																				(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Map::non_core_ident', (v_m2_1582));
																				return ((1));
																			}
																			else {
																				return ((0));
																			}
																			})()
																		})()], 0), function () {
																			return p5context([(function () {
																				var v_name_1583;
																				v_name_1583 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Map::non_core_ident')]), ""));
																				(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', (v_name_1583));
																				return ((1));
																			})()], 0)
																		})], 0)));
																})()], 0), function () {
																	return p5or(p5context([(function () {
																		(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1580));
																		return ((p5context([p5and(p5context([(function () {
																				var v_tmp_1584;
																				v_tmp_1584 = (v_MATCH_1565);
																				v_MATCH_1565 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1584 || (v_tmp_1584 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1584 || (v_tmp_1584 = new p5HashRef({})))._hash_.p5hget('to')])))));
																				var v_res_1585;
																				v_res_1585 = (p5context([p5and(p5context([('$' == p5str((v_str_1563 || (v_str_1563 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0));
																				v_MATCH_1565 = (v_tmp_1584);
																				return ((( p5bool(v_res_1585) ? 1 : 0)));
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_m2_1586;
																					v_m2_1586 = (p5pkg['Perlito5::Grammar::Sigil'].term_sigil(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1586) ) {
																						(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1586 || (v_m2_1586 = new p5HashRef({})))._hash_.p5hget('to')));
																						(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Sigil::term_sigil', (v_m2_1586));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0), function () {
																					return p5context([(function () {
																						var v_var_1587;
																						v_var_1587 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Sigil::term_sigil')]), p5want)._array_.p5aget(1));
																						p5and((p5pkg['Perlito5::Grammar::Map'].ref([v_var_1587], "") != 'Perlito5::AST::Var'), function () {
																							throw(p5context([], p5want))
																						});
																						(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', (v_var_1587));
																						return ((1));
																					})()], 0)
																				})
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1580));
																			return ((p5context([(function () {
																					(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('_tmp', (p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<cmp>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', ['name', 'a', 'namespace', p5make_package('Perlito5')['v_PKG'], 'sigil', '$'], 1), p5call('Perlito5::AST::Var', 'new', ['name', 'b', 'namespace', p5make_package('Perlito5')['v_PKG'], 'sigil', '$'], 1)])))]), 1)])))]), "")));
																					return ((1));
																				})()], 0)));
																		})()], 0)
																	})
																})
															})));
													})()], 0), function () {
														return p5and(p5context([(function () {
															var v_m2_1588;
															v_m2_1588 = (p5pkg['Perlito5::Grammar::Expression'].list_parse(p5list_to_a([v_str_1563, (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
															return (function () {
																if ( p5bool(v_m2_1588) ) {
																(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1588 || (v_m2_1588 = new p5HashRef({})))._hash_.p5hget('to')));
																(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::list_parse', (v_m2_1588));
																return ((1));
															}
															else {
																return ((0));
															}
															})()
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'sort', 'special_arg', (v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget('_tmp'), 'arguments', p5pkg['Perlito5::Grammar::Expression'].expand_list(p5list_to_a([(v_MATCH_1565 || (v_MATCH_1565 = new p5HashRef({})))._hash_.p5hget_hash('Perlito5::Grammar::Expression::list_parse')._hash_.p5hget('capture')]), 1), 'namespace', '']), 1)])))));
																return ((1));
															})()], 0)
														})
													})], 0)));
											})()], 0)
										})));
								})()], 0)
							})
						})], 0)], 0));
				return (( p5bool(v_tmp_1566) ? v_MATCH_1565 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3187._prototype_ = null;
		return tmp3187
	})());
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['map', p5pkg['Perlito5::Grammar::Map'].term_map_or_grep]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['grep', p5pkg['Perlito5::Grammar::Map'].term_map_or_grep]), null);
	p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a(['sort', p5pkg['Perlito5::Grammar::Map'].term_sort]), null);
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar::Number');
	p5typeglob_set('Perlito5::Grammar::Number', 'term_digit', (function () {
		var tmp3188;
		tmp3188 = function (List__, p5want) {
			var v_str_1589;
			v_str_1589 = (List__.p5aget(0));
			var v_pos_1590;
			v_pos_1590 = (List__.p5aget(1));
			var v_MATCH_1591;
			v_MATCH_1591 = ((new p5HashRef({'str' : v_str_1589, 'from' : v_pos_1590, 'to' : v_pos_1590})));
			var v_tmp_1592;
			v_tmp_1592 = (p5context([p5context([(function () {
							var v_pos1_1593;
							v_pos1_1593 = ((v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m2_1594;
											v_m2_1594 = (p5pkg['Perlito5::Grammar::Number'].val_octal(p5list_to_a([v_str_1589, (v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1594) ) {
												(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1594 || (v_m2_1594 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::val_octal', (v_m2_1594));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number::val_octal')]), 1)])))));
												return ((1));
											})()], 0)
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1593));
										return ((p5context([p5and(p5context([(function () {
												var v_m2_1595;
												v_m2_1595 = (p5pkg['Perlito5::Grammar::Number'].val_vstring(p5list_to_a([v_str_1589, (v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1595) ) {
													(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1595 || (v_m2_1595 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::val_vstring', (v_m2_1595));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number::val_vstring')]), 1)])))));
													return ((1));
												})()], 0)
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1593));
											return ((p5context([p5and(p5context([(function () {
													var v_m2_1596;
													v_m2_1596 = (p5pkg['Perlito5::Grammar::Number'].val_num(p5list_to_a([v_str_1589, (v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1596) ) {
														(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1596 || (v_m2_1596 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::val_num', (v_m2_1596));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number::val_num')]), 1)])))));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1593));
												return ((p5context([p5and(p5context([(function () {
														var v_m2_1597;
														v_m2_1597 = (p5pkg['Perlito5::Grammar::Number'].val_int(p5list_to_a([v_str_1589, (v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1597) ) {
															(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1597 || (v_m2_1597 = new p5HashRef({})))._hash_.p5hget('to')));
															(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::val_int', (v_m2_1597));
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hset('capture', ((new p5ArrayRef(p5list_to_a(['term', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1591 || (v_MATCH_1591 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Number::val_int')]), 1)])))));
															return ((1));
														})()], 0)
													})], 0)));
											})()], 0)
										})
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1592) ? v_MATCH_1591 : null));
		};
		tmp3188._prototype_ = null;
		return tmp3188
	})());
	p5for(p5make_package('main'), "v__", function () {
			p5pkg['Perlito5::Grammar::Precedence'].add_term(p5list_to_a([p5make_package('main')['v__'], p5pkg['Perlito5::Grammar::Number'].term_digit]), null);
		}, p5list_to_a(['.', p5range('0', '9', 1, "tmp3189", 0)]), false, '');
	p5typeglob_set('Perlito5::Grammar::Number', 'digit', (function () {
		var tmp3190;
		tmp3190 = function (List__, p5want) {
			var v_str_1598;
			v_str_1598 = (List__.p5aget(0));
			var v_pos_1599;
			v_pos_1599 = (List__.p5aget(1));
			return (( ((p5str((v_str_1598 || (v_str_1598 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1599))) >= '0') && (p5str((v_str_1598 || (v_str_1598 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1599))) <= '9')) ? (new p5HashRef({'str' : v_str_1598, 'from' : v_pos_1599, 'to' : (p5num(v_pos_1599) + 1)})) : 0));
		};
		tmp3190._prototype_ = null;
		return tmp3190
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'exponent', (function () {
		var tmp3191;
		tmp3191 = function (List__, p5want) {
			var v_str_1600;
			v_str_1600 = (List__.p5aget(0));
			var v_pos_1601;
			v_pos_1601 = (List__.p5aget(1));
			var v_MATCH_1602;
			v_MATCH_1602 = ((new p5HashRef({'str' : v_str_1600, 'from' : v_pos_1601, 'to' : v_pos_1601})));
			var v_tmp_1603;
			v_tmp_1603 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_1604;
							v_pos1_1604 = ((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('e' == p5str((v_str_1600 || (v_str_1600 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1604));
										return ((p5context([p5and(p5context([('E' == p5str((v_str_1600 || (v_str_1600 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_1605;
								v_pos1_1605 = ((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([('+' == p5str((v_str_1600 || (v_str_1600 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1605));
											return ((p5context([p5and(p5context([('-' == p5str((v_str_1600 || (v_str_1600 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1605));
												return ((1));
											})()], 0)
										})
									})));
							})()], 0), function () {
								return p5context([(function () {
									var v_last_match_null_1606;
									v_last_match_null_1606 = (0);
									var v_m_1607;
									v_m_1607 = (v_MATCH_1602);
									var v_to_1608;
									v_to_1608 = ((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'));
									var v_count_1609;
									v_count_1609 = (0);
									(function () {
										p5while(function () {
											(function () {
												if ( (p5num(v_to_1608) == p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
												v_last_match_null_1606 = ((p5num(v_last_match_null_1606) + 1));
											}
											else {
												v_last_match_null_1606 = (0);
											}
											})();
											v_m_1607 = (v_MATCH_1602);
											v_to_1608 = ((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'));
											v_count_1609 = ((p5num(v_count_1609) + 1));
										}, function () {
											return p5and(p5context([(function () {
												var v_pos1_1610;
												v_pos1_1610 = ((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('_' == p5str((v_str_1600 || (v_str_1600 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1610));
															return ((p5context([(function () {
																	var v_m2_1611;
																	v_m2_1611 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1600, (v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																	return (function () {
																		if ( p5bool(v_m2_1611) ) {
																		(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1611 || (v_m2_1611 = new p5HashRef({})))._hash_.p5hget('to')));
																		return ((1));
																	}
																	else {
																		return ((0));
																	}
																	})()
																})()], 0)));
														})()], 0)
													})));
											})()], 0), function () {
												return p5context([(p5num(v_last_match_null_1606) < 2)], 0)
											})
										}, false, '', 0)
									})();
									v_MATCH_1602 = (v_m_1607);
									(v_MATCH_1602 || (v_MATCH_1602 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1608));
									return (((p5num(v_count_1609) > 0)));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1603) ? v_MATCH_1602 : null));
		};
		tmp3191._prototype_ = null;
		return tmp3191
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'val_num', (function () {
		var tmp3192;
		tmp3192 = function (List__, p5want) {
			var v_str_1612;
			v_str_1612 = (List__.p5aget(0));
			var v_pos_1613;
			v_pos_1613 = (List__.p5aget(1));
			var v_MATCH_1614;
			v_MATCH_1614 = ((new p5HashRef({'str' : v_str_1612, 'from' : v_pos_1613, 'to' : v_pos_1613})));
			var v_tmp_1615;
			v_tmp_1615 = (p5context([p5context([p5and(p5context([(function () {
							var v_pos1_1616;
							v_pos1_1616 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([p5and(p5context([('.' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_1617;
												v_m2_1617 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1617) ) {
													(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1617 || (v_m2_1617 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_last_match_null_1618;
													v_last_match_null_1618 = (0);
													var v_m_1619;
													v_m_1619 = (v_MATCH_1614);
													var v_to_1620;
													v_to_1620 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
													(function () {
														p5while(function () {
															(function () {
																if ( (p5num(v_to_1620) == p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																v_last_match_null_1618 = ((p5num(v_last_match_null_1618) + 1));
															}
															else {
																v_last_match_null_1618 = (0);
															}
															})();
															v_m_1619 = (v_MATCH_1614);
															v_to_1620 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
														}, function () {
															return p5and(p5context([(function () {
																var v_pos1_1621;
																v_pos1_1621 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
																return ((p5or(p5context([(function () {
																		return ((p5context([p5and(p5context([('_' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																				return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1621));
																			return ((p5context([(function () {
																					var v_m2_1622;
																					v_m2_1622 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1622) ) {
																						(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1622 || (v_m2_1622 = new p5HashRef({})))._hash_.p5hget('to')));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0)));
																		})()], 0)
																	})));
															})()], 0), function () {
																return p5context([(p5num(v_last_match_null_1618) < 2)], 0)
															})
														}, false, '', 0)
													})();
													v_MATCH_1614 = (v_m_1619);
													(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1620));
													return ((1));
												})()], 0), function () {
													return p5context([(function () {
														var v_m_1623;
														v_m_1623 = (v_MATCH_1614);
														(function () {
															if ( !( p5bool((function () {
																var v_m2_1624;
																v_m2_1624 = (p5pkg['Perlito5::Grammar::Number'].exponent(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1624) ) {
																	(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1624 || (v_m2_1624 = new p5HashRef({})))._hash_.p5hget('to')));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})())) ) {
															v_MATCH_1614 = (v_m_1623);
														}
														})();
														return ((1));
													})()], 0)
												})
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1616));
										return ((p5context([p5and(p5context([(function () {
												var v_m2_1625;
												v_m2_1625 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1625) ) {
													(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1625 || (v_m2_1625 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5and(p5context([(function () {
													var v_last_match_null_1626;
													v_last_match_null_1626 = (0);
													var v_m_1627;
													v_m_1627 = (v_MATCH_1614);
													var v_to_1628;
													v_to_1628 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
													(function () {
														p5while(function () {
															(function () {
																if ( (p5num(v_to_1628) == p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																v_last_match_null_1626 = ((p5num(v_last_match_null_1626) + 1));
															}
															else {
																v_last_match_null_1626 = (0);
															}
															})();
															v_m_1627 = (v_MATCH_1614);
															v_to_1628 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
														}, function () {
															return p5and(p5context([(function () {
																var v_pos1_1629;
																v_pos1_1629 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
																return ((p5or(p5context([(function () {
																		return ((p5context([p5and(p5context([('_' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																				return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																			})], 0)));
																	})()], 0), function () {
																		return p5context([(function () {
																			(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1629));
																			return ((p5context([(function () {
																					var v_m2_1630;
																					v_m2_1630 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																					return (function () {
																						if ( p5bool(v_m2_1630) ) {
																						(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1630 || (v_m2_1630 = new p5HashRef({})))._hash_.p5hget('to')));
																						return ((1));
																					}
																					else {
																						return ((0));
																					}
																					})()
																				})()], 0)));
																		})()], 0)
																	})));
															})()], 0), function () {
																return p5context([(p5num(v_last_match_null_1626) < 2)], 0)
															})
														}, false, '', 0)
													})();
													v_MATCH_1614 = (v_m_1627);
													(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1628));
													return ((1));
												})()], 0), function () {
													return p5context([(function () {
														var v_pos1_1631;
														v_pos1_1631 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
														return ((p5or(p5context([(function () {
																return ((p5context([(function () {
																		var v_m2_1632;
																		v_m2_1632 = (p5pkg['Perlito5::Grammar::Number'].exponent(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																		return (function () {
																			if ( p5bool(v_m2_1632) ) {
																			(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1632 || (v_m2_1632 = new p5HashRef({})))._hash_.p5hget('to')));
																			return ((1));
																		}
																		else {
																			return ((0));
																		}
																		})()
																	})()], 0)));
															})()], 0), function () {
																return p5context([(function () {
																	(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1631));
																	return ((p5context([p5and(p5context([p5and(p5context([('.' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																			return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																		})], 0), function () {
																			return p5and(p5context([(function () {
																				var v_tmp_1633;
																				v_tmp_1633 = (v_MATCH_1614);
																				v_MATCH_1614 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1633 || (v_tmp_1633 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1633 || (v_tmp_1633 = new p5HashRef({})))._hash_.p5hget('to')])))));
																				var v_res_1634;
																				v_res_1634 = (p5context([p5and(p5context([('.' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0));
																				v_MATCH_1614 = (v_tmp_1633);
																				return ((( p5bool(v_res_1634) ? 0 : 1)));
																			})()], 0), function () {
																				return p5and(p5context([(function () {
																					var v_last_match_null_1635;
																					v_last_match_null_1635 = (0);
																					var v_m_1636;
																					v_m_1636 = (v_MATCH_1614);
																					var v_to_1637;
																					v_to_1637 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
																					(function () {
																						p5while(function () {
																							(function () {
																								if ( (p5num(v_to_1637) == p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																								v_last_match_null_1635 = ((p5num(v_last_match_null_1635) + 1));
																							}
																							else {
																								v_last_match_null_1635 = (0);
																							}
																							})();
																							v_m_1636 = (v_MATCH_1614);
																							v_to_1637 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
																						}, function () {
																							return p5and(p5context([(function () {
																								var v_pos1_1638;
																								v_pos1_1638 = ((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to'));
																								return ((p5or(p5context([(function () {
																										return ((p5context([p5and(p5context([('_' == p5str((v_str_1612 || (v_str_1612 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																												return p5context([(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																											})], 0)));
																									})()], 0), function () {
																										return p5context([(function () {
																											(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1638));
																											return ((p5context([(function () {
																													var v_m2_1639;
																													v_m2_1639 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																													return (function () {
																														if ( p5bool(v_m2_1639) ) {
																														(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1639 || (v_m2_1639 = new p5HashRef({})))._hash_.p5hget('to')));
																														return ((1));
																													}
																													else {
																														return ((0));
																													}
																													})()
																												})()], 0)));
																										})()], 0)
																									})));
																							})()], 0), function () {
																								return p5context([(p5num(v_last_match_null_1635) < 2)], 0)
																							})
																						}, false, '', 0)
																					})();
																					v_MATCH_1614 = (v_m_1636);
																					(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1637));
																					return ((1));
																				})()], 0), function () {
																					return p5context([(function () {
																						var v_m_1640;
																						v_m_1640 = (v_MATCH_1614);
																						(function () {
																							if ( !( p5bool((function () {
																								var v_m2_1641;
																								v_m2_1641 = (p5pkg['Perlito5::Grammar::Number'].exponent(p5list_to_a([v_str_1612, (v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																								return (function () {
																									if ( p5bool(v_m2_1641) ) {
																									(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1641 || (v_m2_1641 = new p5HashRef({})))._hash_.p5hget('to')));
																									return ((1));
																								}
																								else {
																									return ((0));
																								}
																								})()
																							})())) ) {
																							v_MATCH_1614 = (v_m_1640);
																						}
																						})();
																						return ((1));
																					})()], 0)
																				})
																			})
																		})], 0)));
																})()], 0)
															})));
													})()], 0)
												})
											})], 0)));
									})()], 0)
								})));
						})()], 0), function () {
							return p5context([(function () {
								var local_idx = p5LOCAL.length;
								var regex_tmp = p5_regex_capture;
								p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
								var v_s_1642;
								v_s_1642 = (p5pkg['Perlito5::Match'].flat([v_MATCH_1614], ""));
								(function () {
										var tmp = p5s(v_s_1642, '_', function () {
											return ''
										}, 'g', 0);
										v_s_1642 = tmp[0];
										return tmp[1];
									})();
								(v_MATCH_1614 || (v_MATCH_1614 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Num', 'new', ['num', v_s_1642], "")));
								return p5cleanup_local(local_idx, ((1)));
								p5cleanup_local(local_idx, null);
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1615) ? v_MATCH_1614 : null));
		};
		tmp3192._prototype_ = null;
		return tmp3192
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'digits', (function () {
		var tmp3193;
		tmp3193 = function (List__, p5want) {
			var v_str_1643;
			v_str_1643 = (List__.p5aget(0));
			var v_pos_1644;
			v_pos_1644 = (List__.p5aget(1));
			var v_MATCH_1645;
			v_MATCH_1645 = ((new p5HashRef({'str' : v_str_1643, 'from' : v_pos_1644, 'to' : v_pos_1644})));
			var v_tmp_1646;
			v_tmp_1646 = (p5context([p5context([(function () {
							var v_last_match_null_1647;
							v_last_match_null_1647 = (0);
							var v_m_1648;
							v_m_1648 = (v_MATCH_1645);
							var v_to_1649;
							v_to_1649 = ((v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hget('to'));
							var v_count_1650;
							v_count_1650 = (0);
							(function () {
								p5while(function () {
									(function () {
										if ( (p5num(v_to_1649) == p5num((v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
										v_last_match_null_1647 = ((p5num(v_last_match_null_1647) + 1));
									}
									else {
										v_last_match_null_1647 = (0);
									}
									})();
									v_m_1648 = (v_MATCH_1645);
									v_to_1649 = ((v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hget('to'));
									v_count_1650 = ((p5num(v_count_1650) + 1));
								}, function () {
									return p5and(p5context([(function () {
										var v_m2_1651;
										v_m2_1651 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1643, (v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
										return (function () {
											if ( p5bool(v_m2_1651) ) {
											(v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1651 || (v_m2_1651 = new p5HashRef({})))._hash_.p5hget('to')));
											return ((1));
										}
										else {
											return ((0));
										}
										})()
									})()], 0), function () {
										return p5context([(p5num(v_last_match_null_1647) < 2)], 0)
									})
								}, false, '', 0)
							})();
							v_MATCH_1645 = (v_m_1648);
							(v_MATCH_1645 || (v_MATCH_1645 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1649));
							return (((p5num(v_count_1650) > 0)));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1646) ? v_MATCH_1645 : null));
		};
		tmp3193._prototype_ = null;
		return tmp3193
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'digits_underscore', (function () {
		var tmp3194;
		tmp3194 = function (List__, p5want) {
			var v_str_1652;
			v_str_1652 = (List__.p5aget(0));
			var v_pos_1653;
			v_pos_1653 = (List__.p5aget(1));
			var v_MATCH_1654;
			v_MATCH_1654 = ((new p5HashRef({'str' : v_str_1652, 'from' : v_pos_1653, 'to' : v_pos_1653})));
			var v_tmp_1655;
			v_tmp_1655 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1656;
							v_m2_1656 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1652, (v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1656) ) {
								(v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1656 || (v_m2_1656 = new p5HashRef({})))._hash_.p5hget('to')));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								var v_last_match_null_1657;
								v_last_match_null_1657 = (0);
								var v_m_1658;
								v_m_1658 = (v_MATCH_1654);
								var v_to_1659;
								v_to_1659 = ((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to'));
								(function () {
									p5while(function () {
										(function () {
											if ( (p5num(v_to_1659) == p5num((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null_1657 = ((p5num(v_last_match_null_1657) + 1));
										}
										else {
											v_last_match_null_1657 = (0);
										}
										})();
										v_m_1658 = (v_MATCH_1654);
										v_to_1659 = ((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to'));
									}, function () {
										return p5and(p5context([(function () {
											var v_pos1_1660;
											v_pos1_1660 = ((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to'));
											return ((p5or(p5context([(function () {
													return ((p5context([p5and(p5context([('_' == p5str((v_str_1652 || (v_str_1652 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0)));
												})()], 0), function () {
													return p5context([(function () {
														(v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1660));
														return ((p5context([(function () {
																var v_m2_1661;
																v_m2_1661 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1652, (v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1661) ) {
																	(v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1661 || (v_m2_1661 = new p5HashRef({})))._hash_.p5hget('to')));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0)));
													})()], 0)
												})));
										})()], 0), function () {
											return p5context([(p5num(v_last_match_null_1657) < 2)], 0)
										})
									}, false, '', 0)
								})();
								v_MATCH_1654 = (v_m_1658);
								(v_MATCH_1654 || (v_MATCH_1654 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1659));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1655) ? v_MATCH_1654 : null));
		};
		tmp3194._prototype_ = null;
		return tmp3194
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'val_octal', (function () {
		var tmp3195;
		tmp3195 = function (List__, p5want) {
			var v_str_1662;
			v_str_1662 = (List__.p5aget(0));
			var v_pos_1663;
			v_pos_1663 = (List__.p5aget(1));
			var v_MATCH_1664;
			v_MATCH_1664 = ((new p5HashRef({'str' : v_str_1662, 'from' : v_pos_1663, 'to' : v_pos_1663})));
			var v_tmp_1665;
			v_tmp_1665 = (p5context([p5context([p5and(p5context([p5and(p5context([('0' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_pos1_1666;
								v_pos1_1666 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
								return ((p5or(p5context([(function () {
										return ((p5context([p5and(p5context([(function () {
												var v_pos1_1667;
												v_pos1_1667 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
												return ((p5or(p5context([(function () {
														return ((p5context([p5and(p5context([('x' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
															})], 0)));
													})()], 0), function () {
														return p5context([(function () {
															(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1667));
															return ((p5context([p5and(p5context([('X' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0)));
														})()], 0)
													})));
											})()], 0), function () {
												return p5context([(function () {
													var v_last_match_null_1668;
													v_last_match_null_1668 = (0);
													var v_m_1669;
													v_m_1669 = (v_MATCH_1664);
													var v_to_1670;
													v_to_1670 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
													var v_count_1671;
													v_count_1671 = (0);
													(function () {
														p5while(function () {
															(function () {
																if ( (p5num(v_to_1670) == p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																v_last_match_null_1668 = ((p5num(v_last_match_null_1668) + 1));
															}
															else {
																v_last_match_null_1668 = (0);
															}
															})();
															v_m_1669 = (v_MATCH_1664);
															v_to_1670 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
															v_count_1671 = ((p5num(v_count_1671) + 1));
														}, function () {
															return p5and(p5context([(function () {
																var v_m2_1672;
																v_m2_1672 = (p5pkg['Perlito5::Grammar'].word(p5list_to_a([v_str_1662, (v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																return (function () {
																	if ( p5bool(v_m2_1672) ) {
																	(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1672 || (v_m2_1672 = new p5HashRef({})))._hash_.p5hget('to')));
																	return ((1));
																}
																else {
																	return ((0));
																}
																})()
															})()], 0), function () {
																return p5context([(p5num(v_last_match_null_1668) < 2)], 0)
															})
														}, false, '', 0)
													})();
													v_MATCH_1664 = (v_m_1669);
													(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1670));
													return (((p5num(v_count_1671) > 0)));
												})()], 0)
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1666));
											return ((p5context([p5and(p5context([(function () {
													var v_pos1_1673;
													v_pos1_1673 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
													return ((p5or(p5context([(function () {
															return ((p5context([p5and(p5context([('b' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																})], 0)));
														})()], 0), function () {
															return p5context([(function () {
																(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1673));
																return ((p5context([p5and(p5context([('B' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																		return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																	})], 0)));
															})()], 0)
														})));
												})()], 0), function () {
													return p5context([(function () {
														var v_last_match_null_1674;
														v_last_match_null_1674 = (0);
														var v_m_1675;
														v_m_1675 = (v_MATCH_1664);
														var v_to_1676;
														v_to_1676 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
														var v_count_1677;
														v_count_1677 = (0);
														(function () {
															p5while(function () {
																(function () {
																	if ( (p5num(v_to_1676) == p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null_1674 = ((p5num(v_last_match_null_1674) + 1));
																}
																else {
																	v_last_match_null_1674 = (0);
																}
																})();
																v_m_1675 = (v_MATCH_1664);
																v_to_1676 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
																v_count_1677 = ((p5num(v_count_1677) + 1));
															}, function () {
																return p5and(p5context([(function () {
																	var v_pos1_1678;
																	v_pos1_1678 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
																	return ((p5or(p5context([(function () {
																			return ((p5context([p5and(p5context([('_' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5or(p5context([(function () {
																				(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1678));
																				return ((p5context([p5and(p5context([('0' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																						return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																					})], 0)));
																			})()], 0), function () {
																				return p5context([(function () {
																					(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1678));
																					return ((p5context([p5and(p5context([('1' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																							return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																						})], 0)));
																				})()], 0)
																			})
																		})));
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null_1674) < 2)], 0)
																})
															}, false, '', 0)
														})();
														v_MATCH_1664 = (v_m_1675);
														(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1676));
														return (((p5num(v_count_1677) > 0)));
													})()], 0)
												})], 0)));
										})()], 0), function () {
											return p5context([(function () {
												(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1666));
												return ((p5context([(function () {
														var v_last_match_null_1679;
														v_last_match_null_1679 = (0);
														var v_m_1680;
														v_m_1680 = (v_MATCH_1664);
														var v_to_1681;
														v_to_1681 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
														var v_count_1682;
														v_count_1682 = (0);
														(function () {
															p5while(function () {
																(function () {
																	if ( (p5num(v_to_1681) == p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
																	v_last_match_null_1679 = ((p5num(v_last_match_null_1679) + 1));
																}
																else {
																	v_last_match_null_1679 = (0);
																}
																})();
																v_m_1680 = (v_MATCH_1664);
																v_to_1681 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
																v_count_1682 = ((p5num(v_count_1682) + 1));
															}, function () {
																return p5and(p5context([(function () {
																	var v_pos1_1683;
																	v_pos1_1683 = ((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to'));
																	return ((p5or(p5context([(function () {
																			return ((p5context([p5and(p5context([('_' == p5str((v_str_1662 || (v_str_1662 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																					return p5context([(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
																				})], 0)));
																		})()], 0), function () {
																			return p5context([(function () {
																				(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1683));
																				return ((p5context([(function () {
																						var v_m2_1684;
																						v_m2_1684 = (p5pkg['Perlito5::Grammar::Number'].digit(p5list_to_a([v_str_1662, (v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
																						return (function () {
																							if ( p5bool(v_m2_1684) ) {
																							(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1684 || (v_m2_1684 = new p5HashRef({})))._hash_.p5hget('to')));
																							return ((1));
																						}
																						else {
																							return ((0));
																						}
																						})()
																					})()], 0)));
																			})()], 0)
																		})));
																})()], 0), function () {
																	return p5context([(p5num(v_last_match_null_1679) < 2)], 0)
																})
															}, false, '', 0)
														})();
														v_MATCH_1664 = (v_m_1680);
														(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1681));
														return (((p5num(v_count_1682) > 0)));
													})()], 0)));
											})()], 0)
										})
									})));
							})()], 0), function () {
								return p5context([(function () {
									(v_MATCH_1664 || (v_MATCH_1664 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Int', 'new', ['int', p5pkg['Perlito5::Grammar::Number'].oct([p5pkg['Perlito5::Grammar::Number'].lc([p5pkg['Perlito5::Match'].flat([v_MATCH_1664], "")], "")], 1)], "")));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1665) ? v_MATCH_1664 : null));
		};
		tmp3195._prototype_ = null;
		return tmp3195
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'val_int', (function () {
		var tmp3196;
		tmp3196 = function (List__, p5want) {
			var v_str_1685;
			v_str_1685 = (List__.p5aget(0));
			var v_pos_1686;
			v_pos_1686 = (List__.p5aget(1));
			var v_MATCH_1687;
			v_MATCH_1687 = ((new p5HashRef({'str' : v_str_1685, 'from' : v_pos_1686, 'to' : v_pos_1686})));
			var v_tmp_1688;
			v_tmp_1688 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1689;
							v_m2_1689 = (p5pkg['Perlito5::Grammar::Number'].digits_underscore(p5list_to_a([v_str_1685, (v_MATCH_1687 || (v_MATCH_1687 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1689) ) {
								(v_MATCH_1687 || (v_MATCH_1687 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1689 || (v_m2_1689 = new p5HashRef({})))._hash_.p5hget('to')));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								var local_idx = p5LOCAL.length;
								var regex_tmp = p5_regex_capture;
								p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
								var v_s_1690;
								v_s_1690 = (p5pkg['Perlito5::Match'].flat([v_MATCH_1687], ""));
								(function () {
										var tmp = p5s(v_s_1690, '_', function () {
											return ''
										}, 'g', 0);
										v_s_1690 = tmp[0];
										return tmp[1];
									})();
								(v_MATCH_1687 || (v_MATCH_1687 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Int', 'new', ['int', v_s_1690], "")));
								return p5cleanup_local(local_idx, ((1)));
								p5cleanup_local(local_idx, null);
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1688) ? v_MATCH_1687 : null));
		};
		tmp3196._prototype_ = null;
		return tmp3196
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'val_vstring', (function () {
		var tmp3197;
		tmp3197 = function (List__, p5want) {
			try {
				var v_str_1691;
				v_str_1691 = (List__.p5aget(0));
				var v_pos_1692;
				v_pos_1692 = (List__.p5aget(1));
				var v_MATCH_1693;
				v_MATCH_1693 = ((new p5HashRef({'str' : v_str_1691, 'from' : v_pos_1692, 'to' : v_pos_1692})));
				var v_tmp_1694;
				v_tmp_1694 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1695;
							v_m2_1695 = (p5pkg['Perlito5::Grammar::Number'].val_int(p5list_to_a([v_str_1691, (v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1695) ) {
								(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1695 || (v_m2_1695 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('val_int', (v_m2_1695));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_last_match_null_1696;
								v_last_match_null_1696 = (0);
								var v_m_1697;
								v_m_1697 = (v_MATCH_1693);
								var v_to_1698;
								v_to_1698 = ((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to'));
								var v_count_1699;
								v_count_1699 = (0);
								(function () {
									p5while(function () {
										(function () {
											if ( (p5num(v_to_1698) == p5num((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null_1696 = ((p5num(v_last_match_null_1696) + 1));
										}
										else {
											v_last_match_null_1696 = (0);
										}
										})();
										v_m_1697 = (v_MATCH_1693);
										v_to_1698 = ((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to'));
										v_count_1699 = ((p5num(v_count_1699) + 1));
									}, function () {
										return p5and(p5context([p5and(p5context([p5and(p5context([('.' == p5str((v_str_1691 || (v_str_1691 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0), function () {
											return p5context([(function () {
												var v_m2_1700;
												v_m2_1700 = (p5pkg['Perlito5::Grammar::Number'].digits_underscore(p5list_to_a([v_str_1691, (v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1700) ) {
													(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1700 || (v_m2_1700 = new p5HashRef({})))._hash_.p5hget('to')));
													(function () {
														if ( (v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.hasOwnProperty('digits_underscore') ) {
														p5array_deref((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number').p5push([v_m2_1700]);
													}
													else {
														(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('digits_underscore', ((new p5ArrayRef([v_m2_1700]))));
													}
													})();
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0)
										})], 0), function () {
											return p5context([(p5num(v_last_match_null_1696) < 2)], 0)
										})
									}, false, '', 0)
								})();
								v_MATCH_1693 = (v_m_1697);
								(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1698));
								return (((p5num(v_count_1699) > 0)));
							})()], 0), function () {
								return p5context([(function () {
									var List_parts_1701 = [];
									List_parts_1701 = p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Number'], function (p5want) {
												return (p5pkg['Perlito5::Match'].flat([p5make_package('main')['v__']], 1));
											}, p5list_to_a([p5array_deref((v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number')]))]);
									p5and((p5num(List_parts_1701.length) < 2), function () {
										throw(p5context([], p5want))
									});
									(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Buf', 'new', ['is_vstring', 1, 'buf', p5pkg['Perlito5::Grammar::Number'].join([''].concat(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Number'], function (p5want) {
		return (p5pkg['Perlito5::Grammar::Number'].chr([p5make_package('main')['v__']], 1));
	}, p5list_to_a([(v_MATCH_1693 || (v_MATCH_1693 = new p5HashRef({})))._hash_.p5hget_hash('val_int')._hash_.p5hget_hash('capture')._hash_.p5hget('int'), List_parts_1701]))])), 1)], "")));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
				return (( p5bool(v_tmp_1694) ? v_MATCH_1693 : null));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3197._prototype_ = null;
		return tmp3197
	})());
	p5typeglob_set('Perlito5::Grammar::Number', 'val_version', (function () {
		var tmp3198;
		tmp3198 = function (List__, p5want) {
			var v_str_1702;
			v_str_1702 = (List__.p5aget(0));
			var v_pos_1703;
			v_pos_1703 = (List__.p5aget(1));
			var v_MATCH_1704;
			v_MATCH_1704 = ((new p5HashRef({'str' : v_str_1702, 'from' : v_pos_1703, 'to' : v_pos_1703})));
			var v_tmp_1705;
			v_tmp_1705 = (p5context([p5context([p5and(p5context([p5and(p5context([('v' == p5str((v_str_1702 || (v_str_1702 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
							return p5context([(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
						})], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1706;
								v_m2_1706 = (p5pkg['Perlito5::Grammar::Number'].val_int(p5list_to_a([v_str_1702, (v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1706) ) {
									(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1706 || (v_m2_1706 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('val_int', (v_m2_1706));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_tmp_1707;
									v_tmp_1707 = (v_MATCH_1704);
									v_MATCH_1704 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1707 || (v_tmp_1707 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1707 || (v_tmp_1707 = new p5HashRef({})))._hash_.p5hget('to')])))));
									var v_res_1708;
									v_res_1708 = (p5context([p5and(p5context([(function () {
												var v_m2_1709;
												v_m2_1709 = (p5pkg['Perlito5::Grammar::Space'].opt_ws(p5list_to_a([v_str_1702, (v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1709) ) {
													(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1709 || (v_m2_1709 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([p5and(p5context([('(' == p5str((v_str_1702 || (v_str_1702 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0)
											})], 0));
									v_MATCH_1704 = (v_tmp_1707);
									return ((( p5bool(v_res_1708) ? 0 : 1)));
								})()], 0), function () {
									return p5and(p5context([(function () {
										var v_last_match_null_1710;
										v_last_match_null_1710 = (0);
										var v_m_1711;
										v_m_1711 = (v_MATCH_1704);
										var v_to_1712;
										v_to_1712 = ((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to'));
										(function () {
											p5while(function () {
												(function () {
													if ( (p5num(v_to_1712) == p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
													v_last_match_null_1710 = ((p5num(v_last_match_null_1710) + 1));
												}
												else {
													v_last_match_null_1710 = (0);
												}
												})();
												v_m_1711 = (v_MATCH_1704);
												v_to_1712 = ((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to'));
											}, function () {
												return p5and(p5context([p5and(p5context([p5and(p5context([('.' == p5str((v_str_1702 || (v_str_1702 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0), function () {
													return p5context([(function () {
														var v_m2_1713;
														v_m2_1713 = (p5pkg['Perlito5::Grammar::Number'].digits_underscore(p5list_to_a([v_str_1702, (v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
														return (function () {
															if ( p5bool(v_m2_1713) ) {
															(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1713 || (v_m2_1713 = new p5HashRef({})))._hash_.p5hget('to')));
															(function () {
																if ( (v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.hasOwnProperty('digits_underscore') ) {
																p5array_deref((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number').p5push([v_m2_1713]);
															}
															else {
																(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('digits_underscore', ((new p5ArrayRef([v_m2_1713]))));
															}
															})();
															return ((1));
														}
														else {
															return ((0));
														}
														})()
													})()], 0)
												})], 0), function () {
													return p5context([(p5num(v_last_match_null_1710) < 2)], 0)
												})
											}, false, '', 0)
										})();
										v_MATCH_1704 = (v_m_1711);
										(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1712));
										return ((1));
									})()], 0), function () {
										return p5context([(function () {
											var List_parts_1714 = [];
											List_parts_1714 = p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Number'], function (p5want) {
														return (p5pkg['Perlito5::Match'].flat([p5make_package('main')['v__']], 1));
													}, p5list_to_a([p5array_deref((v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget_array('digits_underscore'), 'Perlito5::Grammar::Number')]))]);
											(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Buf', 'new', ['buf', p5pkg['Perlito5::Grammar::Number'].join([''].concat(p5list_to_a([p5map(p5pkg['Perlito5::Grammar::Number'], function (p5want) {
		return (p5pkg['Perlito5::Grammar::Number'].chr([p5make_package('main')['v__']], 1));
	}, p5list_to_a([(v_MATCH_1704 || (v_MATCH_1704 = new p5HashRef({})))._hash_.p5hget_hash('val_int')._hash_.p5hget_hash('capture')._hash_.p5hget('int'), List_parts_1714]))])), 1)], "")));
											return ((1));
										})()], 0)
									})
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1705) ? v_MATCH_1704 : null));
		};
		tmp3198._prototype_ = null;
		return tmp3198
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Grammar');
	p5typeglob_set('Perlito5::Grammar', 'word', (function () {
		var tmp3199;
		tmp3199 = function (List__, p5want) {
			try {
				var v_str_1715;
				v_str_1715 = (List__.p5aget(0));
				var v_pos_1716;
				v_pos_1716 = (List__.p5aget(1));
				p5or(p5or(p5context([p5and((p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) >= 'a'), function () {
					return (p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) <= 'z')
				})], 0), function () {
					return p5or(p5context([p5and((p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) >= 'A'), function () {
						return (p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) <= 'Z')
					})], 0), function () {
						return p5or(p5context([p5and((p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) >= '0'), function () {
							return (p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) <= '9')
						})], 0), function () {
							return p5context([(p5str((v_str_1715 || (v_str_1715 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1716))) == '_')], 0)
						})
					})
				}), function () {
					throw(p5context([], p5want))
				});
				(function () {
					var tmp3200 = v_pos_1716;
					v_pos_1716 = p5incr_(tmp3200);
					return tmp3200
				})();
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(0), 'from', List__.p5aget(1), 'to', v_pos_1716])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3199._prototype_ = null;
		return tmp3199
	})());
	p5typeglob_set('Perlito5::Grammar', 'ident', (function () {
		var tmp3201;
		tmp3201 = function (List__, p5want) {
			try {
				var v_str_1717;
				v_str_1717 = (List__.p5aget(0));
				var v_pos_1718;
				v_pos_1718 = (List__.p5aget(1));
				p5or(p5or(p5context([p5and((p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) >= 'a'), function () {
					return (p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) <= 'z')
				})], 0), function () {
					return p5or(p5context([p5and((p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) >= 'A'), function () {
						return (p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) <= 'Z')
					})], 0), function () {
						return p5context([(p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) == '_')], 0)
					})
				}), function () {
					throw(p5context([], p5want))
				});
				(function () {
					var tmp3202 = v_pos_1718;
					v_pos_1718 = p5incr_(tmp3202);
					return tmp3202
				})();
				(function () {
					p5while(function () {
						(function () {
							var tmp3203 = v_pos_1718;
							v_pos_1718 = p5incr_(tmp3203);
							return tmp3203
						})();
					}, function () {
						return p5or(p5context([p5and((p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) >= 'a'), function () {
							return (p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) <= 'z')
						})], 0), function () {
							return p5or(p5context([p5and((p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) >= 'A'), function () {
								return (p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) <= 'Z')
							})], 0), function () {
								return p5or(p5context([p5and((p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) >= '0'), function () {
									return (p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) <= '9')
								})], 0), function () {
									return p5context([(p5str((v_str_1717 || (v_str_1717 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1718))) == '_')], 0)
								})
							})
						})
					}, false, '', 0)
				})();
				p5and((p5num(p5context([(p5num(v_pos_1718) - p5num(List__.p5aget(1)))], 0)) > 251), function () {
					return p5pkg['Perlito5::Grammar'].die([].concat(['Identifier too long']), null)
				});
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(0), 'from', List__.p5aget(1), 'to', v_pos_1718])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3201._prototype_ = null;
		return tmp3201
	})());
	p5typeglob_set('Perlito5::Grammar', 'caret_char', (function () {
		var tmp3204;
		tmp3204 = function (List__, p5want) {
			try {
				var v_str_1719;
				v_str_1719 = (List__.p5aget(0));
				var v_pos_1720;
				v_pos_1720 = (List__.p5aget(1));
				var v_c_1721;
				v_c_1721 = ((v_str_1719 || (v_str_1719 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1720)));
				(function () {
					if ( (p5str(v_c_1721) == '^') ) {
					(function () {
						var tmp3205 = v_pos_1720;
						v_pos_1720 = p5incr_(tmp3205);
						return tmp3205
					})();
					v_c_1721 = ((v_str_1719 || (v_str_1719 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1720)));
					p5and(p5or((p5str(v_c_1721) < 'A'), function () {
						return (p5str(v_c_1721) > 'Z')
					}), function () {
						throw(p5context([0], p5want))
					});
					v_c_1721 = (p5pkg['Perlito5::Grammar'].chr([((p5pkg['Perlito5::Grammar'].ord([v_c_1721], "") - p5pkg['Perlito5::Grammar'].ord(['A'], "")) + 1)], ""));
				}
				else (function () {
					if ( p5bool(p5pkg['Perlito5::Grammar::Space'].ws(p5list_to_a([List__.p5aget(0), v_pos_1720]), "")) ) {
					throw(p5context([], p5want));
				}
				})()
				})();
				p5and(p5or((p5str(v_c_1721) < String.fromCharCode(1)), function () {
					return (p5str(v_c_1721) > String.fromCharCode(26))
				}), function () {
					throw(p5context([], p5want))
				});
				return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', List__.p5aget(0), 'from', List__.p5aget(1), 'to', (p5num(v_pos_1720) + 1), 'capture', v_c_1721])))));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3204._prototype_ = null;
		return tmp3204
	})());
	p5typeglob_set('Perlito5::Grammar', 'full_ident', (function () {
		var tmp3206;
		tmp3206 = function (List__, p5want) {
			var v_str_1722;
			v_str_1722 = (List__.p5aget(0));
			var v_pos_1723;
			v_pos_1723 = (List__.p5aget(1));
			var v_MATCH_1724;
			v_MATCH_1724 = ((new p5HashRef({'str' : v_str_1722, 'from' : v_pos_1723, 'to' : v_pos_1723})));
			var v_tmp_1725;
			v_tmp_1725 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1726;
							v_m2_1726 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1722, (v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1726) ) {
								(v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1726 || (v_m2_1726 = new p5HashRef({})))._hash_.p5hget('to')));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								var v_last_match_null_1727;
								v_last_match_null_1727 = (0);
								var v_m_1728;
								v_m_1728 = (v_MATCH_1724);
								var v_to_1729;
								v_to_1729 = ((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to'));
								(function () {
									p5while(function () {
										(function () {
											if ( (p5num(v_to_1729) == p5num((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
											v_last_match_null_1727 = ((p5num(v_last_match_null_1727) + 1));
										}
										else {
											v_last_match_null_1727 = (0);
										}
										})();
										v_m_1728 = (v_MATCH_1724);
										v_to_1729 = ((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to'));
									}, function () {
										return p5and(p5context([p5and(p5context([p5and(p5context([(':' == p5str((v_str_1722 || (v_str_1722 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([(':' == p5str((v_str_1722 || (v_str_1722 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0), function () {
											return p5context([(function () {
												var v_m2_1730;
												v_m2_1730 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1722, (v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1730) ) {
													(v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1730 || (v_m2_1730 = new p5HashRef({})))._hash_.p5hget('to')));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0)
										})], 0), function () {
											return p5context([(p5num(v_last_match_null_1727) < 2)], 0)
										})
									}, false, '', 0)
								})();
								v_MATCH_1724 = (v_m_1728);
								(v_MATCH_1724 || (v_MATCH_1724 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1729));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1725) ? v_MATCH_1724 : null));
		};
		tmp3206._prototype_ = null;
		return tmp3206
	})());
	p5typeglob_set('Perlito5::Grammar', 'namespace_before_ident', (function () {
		var tmp3207;
		tmp3207 = function (List__, p5want) {
			var v_str_1731;
			v_str_1731 = (List__.p5aget(0));
			var v_pos_1732;
			v_pos_1732 = (List__.p5aget(1));
			var v_MATCH_1733;
			v_MATCH_1733 = ((new p5HashRef({'str' : v_str_1731, 'from' : v_pos_1732, 'to' : v_pos_1732})));
			var v_tmp_1734;
			v_tmp_1734 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1735;
							v_m2_1735 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1731, (v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1735) ) {
								(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1735 || (v_m2_1735 = new p5HashRef({})))._hash_.p5hget('to')));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_tmp_1736;
								v_tmp_1736 = (v_MATCH_1733);
								v_MATCH_1733 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1736 || (v_tmp_1736 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1736 || (v_tmp_1736 = new p5HashRef({})))._hash_.p5hget('to')])))));
								var v_res_1737;
								v_res_1737 = (p5context([p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
												return p5context([(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
											})
										})], 0));
								v_MATCH_1733 = (v_tmp_1736);
								return ((( p5bool(v_res_1737) ? 1 : 0)));
							})()], 0), function () {
								return p5context([(function () {
									var v_last_match_null_1738;
									v_last_match_null_1738 = (0);
									var v_m_1739;
									v_m_1739 = (v_MATCH_1733);
									var v_to_1740;
									v_to_1740 = ((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to'));
									(function () {
										p5while(function () {
											(function () {
												if ( (p5num(v_to_1740) == p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
												v_last_match_null_1738 = ((p5num(v_last_match_null_1738) + 1));
											}
											else {
												v_last_match_null_1738 = (0);
											}
											})();
											v_m_1739 = (v_MATCH_1733);
											v_to_1740 = ((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to'));
										}, function () {
											return p5and(p5context([p5and(p5context([p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5context([(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
												})
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1741;
													v_m2_1741 = (p5pkg['Perlito5::Grammar'].ident(p5list_to_a([v_str_1731, (v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1741) ) {
														(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1741 || (v_m2_1741 = new p5HashRef({})))._hash_.p5hget('to')));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_tmp_1742;
														v_tmp_1742 = (v_MATCH_1733);
														v_MATCH_1733 = ((new p5HashRef(p5a_to_h(p5list_to_a(['from', (v_tmp_1742 || (v_tmp_1742 = new p5HashRef({})))._hash_.p5hget('to'), 'to', (v_tmp_1742 || (v_tmp_1742 = new p5HashRef({})))._hash_.p5hget('to')])))));
														var v_res_1743;
														v_res_1743 = (p5context([p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
																	return p5and(p5context([(':' == p5str((v_str_1731 || (v_str_1731 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																		return p5context([(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
																	})
																})], 0));
														v_MATCH_1733 = (v_tmp_1742);
														return ((( p5bool(v_res_1743) ? 1 : 0)));
													})()], 0)
												})
											})], 0), function () {
												return p5context([(p5num(v_last_match_null_1738) < 2)], 0)
											})
										}, false, '', 0)
									})();
									v_MATCH_1733 = (v_m_1739);
									(v_MATCH_1733 || (v_MATCH_1733 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1740));
									return ((1));
								})()], 0)
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1734) ? v_MATCH_1733 : null));
		};
		tmp3207._prototype_ = null;
		return tmp3207
	})());
	p5typeglob_set('Perlito5::Grammar', 'optional_namespace_before_ident', (function () {
		var tmp3208;
		tmp3208 = function (List__, p5want) {
			var v_str_1744;
			v_str_1744 = (List__.p5aget(0));
			var v_pos_1745;
			v_pos_1745 = (List__.p5aget(1));
			var v_MATCH_1746;
			v_MATCH_1746 = ((new p5HashRef({'str' : v_str_1744, 'from' : v_pos_1745, 'to' : v_pos_1745})));
			var v_tmp_1747;
			v_tmp_1747 = (p5context([p5context([(function () {
							var v_pos1_1748;
							v_pos1_1748 = ((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m2_1749;
											v_m2_1749 = (p5pkg['Perlito5::Grammar'].namespace_before_ident(p5list_to_a([v_str_1744, (v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1749) ) {
												(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1749 || (v_m2_1749 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('namespace_before_ident', (v_m2_1749));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_last_match_null_1750;
												v_last_match_null_1750 = (0);
												var v_m_1751;
												v_m_1751 = (v_MATCH_1746);
												var v_to_1752;
												v_to_1752 = ((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to'));
												(function () {
													p5while(function () {
														(function () {
															if ( (p5num(v_to_1752) == p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to'))) ) {
															v_last_match_null_1750 = ((p5num(v_last_match_null_1750) + 1));
														}
														else {
															v_last_match_null_1750 = (0);
														}
														})();
														v_m_1751 = (v_MATCH_1746);
														v_to_1752 = ((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to'));
													}, function () {
														return p5and(p5context([p5and(p5context([(':' == p5str((v_str_1744 || (v_str_1744 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5and(p5context([(':' == p5str((v_str_1744 || (v_str_1744 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
																return p5context([(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
															})
														})], 0), function () {
															return p5context([(p5num(v_last_match_null_1750) < 2)], 0)
														})
													}, false, '', 0)
												})();
												v_MATCH_1746 = (v_m_1751);
												(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', (v_to_1752));
												return ((1));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('namespace_before_ident')]), "")));
													return ((1));
												})()], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1748));
										return ((p5context([p5and(p5context([p5and(p5context([(':' == p5str((v_str_1744 || (v_str_1744 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5and(p5context([(':' == p5str((v_str_1744 || (v_str_1744 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 1))))], 0), function () {
													return p5context([(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')) + 2)))], 0)
												})
											})], 0), function () {
												return p5and(p5context([(function () {
													var v_m2_1753;
													v_m2_1753 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident(p5list_to_a([v_str_1744, (v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
													return (function () {
														if ( p5bool(v_m2_1753) ) {
														(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1753 || (v_m2_1753 = new p5HashRef({})))._hash_.p5hget('to')));
														(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('optional_namespace_before_ident', (v_m2_1753));
														return ((1));
													}
													else {
														return ((0));
													}
													})()
												})()], 0), function () {
													return p5context([(function () {
														var v_name_1754;
														v_name_1754 = (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('optional_namespace_before_ident')]), ""));
														(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('capture', ('main'));
														p5and((p5str(v_name_1754) != ''), function () {
															return (v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('capture', ((p5str((v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hget('capture')) + ('::' + p5str(v_name_1754)))))
														});
														return ((1));
													})()], 0)
												})
											})], 0)));
									})()], 0), function () {
										return p5context([(function () {
											(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1748));
											return ((p5context([p5and(1, function () {
													return p5context([(function () {
														(v_MATCH_1746 || (v_MATCH_1746 = new p5HashRef({})))._hash_.p5hset('capture', (''));
														return ((1));
													})()], 0)
												})], 0)));
										})()], 0)
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1747) ? v_MATCH_1746 : null));
		};
		tmp3208._prototype_ = null;
		return tmp3208
	})());
	p5typeglob_set('Perlito5::Grammar', 'exp_stmts2', (function () {
		var tmp3209;
		tmp3209 = function (List__, p5want) {
			var v_str_1755;
			v_str_1755 = (List__.p5aget(0));
			var v_pos_1756;
			v_pos_1756 = (List__.p5aget(1));
			var v_MATCH_1757;
			v_MATCH_1757 = ((new p5HashRef({'str' : v_str_1755, 'from' : v_pos_1756, 'to' : v_pos_1756})));
			var v_tmp_1758;
			v_tmp_1758 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1759;
							v_m2_1759 = (p5pkg['Perlito5::Grammar'].exp_stmts(p5list_to_a([v_str_1755, (v_MATCH_1757 || (v_MATCH_1757 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1759) ) {
								(v_MATCH_1757 || (v_MATCH_1757 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1759 || (v_m2_1759 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1757 || (v_MATCH_1757 = new p5HashRef({})))._hash_.p5hset('exp_stmts', (v_m2_1759));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								(v_MATCH_1757 || (v_MATCH_1757 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1757 || (v_MATCH_1757 = new p5HashRef({})))._hash_.p5hget('exp_stmts')]), "")));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1758) ? v_MATCH_1757 : null));
		};
		tmp3209._prototype_ = null;
		return tmp3209
	})());
	p5typeglob_set('Perlito5::Grammar', 'exp', (function () {
		var tmp3210;
		tmp3210 = function (List__, p5want) {
			var v_str_1760;
			v_str_1760 = (List__.p5aget(0));
			var v_pos_1761;
			v_pos_1761 = (List__.p5aget(1));
			var v_MATCH_1762;
			v_MATCH_1762 = ((new p5HashRef({'str' : v_str_1760, 'from' : v_pos_1761, 'to' : v_pos_1761})));
			var v_tmp_1763;
			v_tmp_1763 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1764;
							v_m2_1764 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse(p5list_to_a([v_str_1760, (v_MATCH_1762 || (v_MATCH_1762 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1764) ) {
								(v_MATCH_1762 || (v_MATCH_1762 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1764 || (v_m2_1764 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1762 || (v_MATCH_1762 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::exp_parse', (v_m2_1764));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								(v_MATCH_1762 || (v_MATCH_1762 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1762 || (v_MATCH_1762 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::exp_parse')]), "")));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1763) ? v_MATCH_1762 : null));
		};
		tmp3210._prototype_ = null;
		return tmp3210
	})());
	p5typeglob_set('Perlito5::Grammar', 'exp2', (function () {
		var tmp3211;
		tmp3211 = function (List__, p5want) {
			var v_str_1765;
			v_str_1765 = (List__.p5aget(0));
			var v_pos_1766;
			v_pos_1766 = (List__.p5aget(1));
			var v_MATCH_1767;
			v_MATCH_1767 = ((new p5HashRef({'str' : v_str_1765, 'from' : v_pos_1766, 'to' : v_pos_1766})));
			var v_tmp_1768;
			v_tmp_1768 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1769;
							v_m2_1769 = (p5pkg['Perlito5::Grammar::Expression'].exp_parse(p5list_to_a([v_str_1765, (v_MATCH_1767 || (v_MATCH_1767 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1769) ) {
								(v_MATCH_1767 || (v_MATCH_1767 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1769 || (v_m2_1769 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1767 || (v_MATCH_1767 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Expression::exp_parse', (v_m2_1769));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5context([(function () {
								(v_MATCH_1767 || (v_MATCH_1767 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1767 || (v_MATCH_1767 = new p5HashRef({})))._hash_.p5hget('Perlito5::Grammar::Expression::exp_parse')]), "")));
								return ((1));
							})()], 0)
						})], 0)], 0));
			return (( p5bool(v_tmp_1768) ? v_MATCH_1767 : null));
		};
		tmp3211._prototype_ = null;
		return tmp3211
	})());
	p5typeglob_set('Perlito5::Grammar', 'opt_type', (function () {
		var tmp3212;
		tmp3212 = function (List__, p5want) {
			var v_str_1770;
			v_str_1770 = (List__.p5aget(0));
			var v_pos_1771;
			v_pos_1771 = (List__.p5aget(1));
			var v_MATCH_1772;
			v_MATCH_1772 = ((new p5HashRef({'str' : v_str_1770, 'from' : v_pos_1771, 'to' : v_pos_1771})));
			var v_tmp_1773;
			v_tmp_1773 = (p5context([p5context([(function () {
							var v_pos1_1774;
							v_pos1_1774 = ((v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([(function () {
											var v_m_1775;
											v_m_1775 = (v_MATCH_1772);
											(function () {
												if ( !( ((':' == p5str((v_str_1770 || (v_str_1770 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('to')) + 0)))) && ((':' == p5str((v_str_1770 || (v_str_1770 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))) && p5bool((v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('to')) + 2))))))) ) {
												v_MATCH_1772 = (v_m_1775);
											}
											})();
											return ((1));
										})()], 0), function () {
											return p5and(p5context([(function () {
												var v_m2_1776;
												v_m2_1776 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_1770, (v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1776) ) {
													(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1776 || (v_m2_1776 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('full_ident', (v_m2_1776));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('capture', (p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hget('full_ident')]), "")));
													return ((1));
												})()], 0)
											})
										})], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1774));
										return ((p5context([p5and(1, function () {
												return p5context([(function () {
													(v_MATCH_1772 || (v_MATCH_1772 = new p5HashRef({})))._hash_.p5hset('capture', (''));
													return ((1));
												})()], 0)
											})], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1773) ? v_MATCH_1772 : null));
		};
		tmp3212._prototype_ = null;
		return tmp3212
	})());
	p5typeglob_set('Perlito5::Grammar', 'var_sigil', (function () {
		var tmp3213;
		tmp3213 = function (List__, p5want) {
			var v_str_1777;
			v_str_1777 = (List__.p5aget(0));
			var v_pos_1778;
			v_pos_1778 = (List__.p5aget(1));
			var v_MATCH_1779;
			v_MATCH_1779 = ((new p5HashRef({'str' : v_str_1777, 'from' : v_pos_1778, 'to' : v_pos_1778})));
			var v_tmp_1780;
			v_tmp_1780 = (p5context([p5context([(function () {
							var v_pos1_1781;
							v_pos1_1781 = ((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([p5and(p5context([('$' == p5str((v_str_1777 || (v_str_1777 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
											return p5context([(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
										})], 0)));
								})()], 0), function () {
									return p5or(p5context([(function () {
										(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1781));
										return ((p5context([p5and(p5context([('%' == p5str((v_str_1777 || (v_str_1777 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
												return p5context([(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
											})], 0)));
									})()], 0), function () {
										return p5or(p5context([(function () {
											(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1781));
											return ((p5context([p5and(p5context([('@' == p5str((v_str_1777 || (v_str_1777 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
													return p5context([(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
												})], 0)));
										})()], 0), function () {
											return p5or(p5context([(function () {
												(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1781));
												return ((p5context([p5and(p5context([('&' == p5str((v_str_1777 || (v_str_1777 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
														return p5context([(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
													})], 0)));
											})()], 0), function () {
												return p5context([(function () {
													(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1781));
													return ((p5context([p5and(p5context([('*' == p5str((v_str_1777 || (v_str_1777 = new p5ArrayRef([])))._array_.p5aget((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 0))))], 0), function () {
															return p5context([(v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hset('to', ((p5num((v_MATCH_1779 || (v_MATCH_1779 = new p5HashRef({})))._hash_.p5hget('to')) + 1)))], 0)
														})], 0)));
												})()], 0)
											})
										})
									})
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1780) ? v_MATCH_1779 : null));
		};
		tmp3213._prototype_ = null;
		return tmp3213
	})());
	p5typeglob_set('Perlito5::Grammar', 'var_name', (function () {
		var tmp3214;
		tmp3214 = function (List__, p5want) {
			var v_str_1782;
			v_str_1782 = (List__.p5aget(0));
			var v_pos_1783;
			v_pos_1783 = (List__.p5aget(1));
			var v_MATCH_1784;
			v_MATCH_1784 = ((new p5HashRef({'str' : v_str_1782, 'from' : v_pos_1783, 'to' : v_pos_1783})));
			var v_tmp_1785;
			v_tmp_1785 = (p5context([p5context([(function () {
							var v_pos1_1786;
							v_pos1_1786 = ((v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hget('to'));
							return ((p5or(p5context([(function () {
									return ((p5context([(function () {
											var v_m2_1787;
											v_m2_1787 = (p5pkg['Perlito5::Grammar'].full_ident(p5list_to_a([v_str_1782, (v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
											return (function () {
												if ( p5bool(v_m2_1787) ) {
												(v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1787 || (v_m2_1787 = new p5HashRef({})))._hash_.p5hget('to')));
												(v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hset('full_ident', (v_m2_1787));
												return ((1));
											}
											else {
												return ((0));
											}
											})()
										})()], 0)));
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hset('to', (v_pos1_1786));
										return ((p5context([(function () {
												var v_m2_1788;
												v_m2_1788 = (p5pkg['Perlito5::Grammar::Number'].digits(p5list_to_a([v_str_1782, (v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
												return (function () {
													if ( p5bool(v_m2_1788) ) {
													(v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1788 || (v_m2_1788 = new p5HashRef({})))._hash_.p5hget('to')));
													(v_MATCH_1784 || (v_MATCH_1784 = new p5HashRef({})))._hash_.p5hset('Perlito5::Grammar::Number::digits', (v_m2_1788));
													return ((1));
												}
												else {
													return ((0));
												}
												})()
											})()], 0)));
									})()], 0)
								})));
						})()], 0)], 0));
			return (( p5bool(v_tmp_1785) ? v_MATCH_1784 : null));
		};
		tmp3214._prototype_ = null;
		return tmp3214
	})());
	p5typeglob_set('Perlito5::Grammar', 'var_ident', (function () {
		var tmp3215;
		tmp3215 = function (List__, p5want) {
			var v_str_1789;
			v_str_1789 = (List__.p5aget(0));
			var v_pos_1790;
			v_pos_1790 = (List__.p5aget(1));
			var v_MATCH_1791;
			v_MATCH_1791 = ((new p5HashRef({'str' : v_str_1789, 'from' : v_pos_1790, 'to' : v_pos_1790})));
			var v_tmp_1792;
			v_tmp_1792 = (p5context([p5context([p5and(p5context([(function () {
							var v_m2_1793;
							v_m2_1793 = (p5pkg['Perlito5::Grammar'].var_sigil(p5list_to_a([v_str_1789, (v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
							return (function () {
								if ( p5bool(v_m2_1793) ) {
								(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1793 || (v_m2_1793 = new p5HashRef({})))._hash_.p5hget('to')));
								(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('var_sigil', (v_m2_1793));
								return ((1));
							}
							else {
								return ((0));
							}
							})()
						})()], 0), function () {
							return p5and(p5context([(function () {
								var v_m2_1794;
								v_m2_1794 = (p5pkg['Perlito5::Grammar'].optional_namespace_before_ident(p5list_to_a([v_str_1789, (v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
								return (function () {
									if ( p5bool(v_m2_1794) ) {
									(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1794 || (v_m2_1794 = new p5HashRef({})))._hash_.p5hget('to')));
									(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('optional_namespace_before_ident', (v_m2_1794));
									return ((1));
								}
								else {
									return ((0));
								}
								})()
							})()], 0), function () {
								return p5and(p5context([(function () {
									var v_m2_1795;
									v_m2_1795 = (p5pkg['Perlito5::Grammar'].var_name(p5list_to_a([v_str_1789, (v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('to')]), ""));
									return (function () {
										if ( p5bool(v_m2_1795) ) {
										(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('to', ((v_m2_1795 || (v_m2_1795 = new p5HashRef({})))._hash_.p5hget('to')));
										(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('var_name', (v_m2_1795));
										return ((1));
									}
									else {
										return ((0));
									}
									})()
								})()], 0), function () {
									return p5context([(function () {
										(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hset('capture', (p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('var_sigil')]), 1), 'namespace', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('optional_namespace_before_ident')]), 1), 'name', p5pkg['Perlito5::Match'].flat(p5list_to_a([(v_MATCH_1791 || (v_MATCH_1791 = new p5HashRef({})))._hash_.p5hget('var_name')]), 1)]), "")));
										return ((1));
									})()], 0)
								})
							})
						})], 0)], 0));
			return (( p5bool(v_tmp_1792) ? v_MATCH_1791 : null));
		};
		tmp3215._prototype_ = null;
		return tmp3215
	})());
	p5typeglob_set('Perlito5::Grammar', 'block', (function () {
		var tmp3216;
		tmp3216 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Block'].block(p5list_to_a([List__]), p5want));
		};
		tmp3216._prototype_ = null;
		return tmp3216
	})());
	p5typeglob_set('Perlito5::Grammar', 'block2', (function () {
		var tmp3217;
		tmp3217 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Block'].block(p5list_to_a([List__]), p5want));
		};
		tmp3217._prototype_ = null;
		return tmp3217
	})());
	p5typeglob_set('Perlito5::Grammar', 'opt_continue_block', (function () {
		var tmp3218;
		tmp3218 = function (List__, p5want) {
			return (p5pkg['Perlito5::Grammar::Block'].opt_continue_block(p5list_to_a([List__]), p5want));
		};
		tmp3218._prototype_ = null;
		return tmp3218
	})());
	var List_PKG_1796 = [];
	p5typeglob_set('Perlito5::Grammar', 'exp_stmts', (function () {
		var tmp3219;
		tmp3219 = function (List__, p5want) {
			var v_str_1797;
			v_str_1797 = (List__.p5aget(0));
			var v_pos_1798;
			v_pos_1798 = (p5defined_or(List__.p5aget(1), function () {
							return 0
						}));
			(function () {
					if ( !( p5bool(p5pkg['Perlito5::Grammar'].ref([v_str_1797], ""))) ) {
					v_str_1797 = ((new p5ArrayRef(p5list_to_a([CORE.split(['', v_str_1797], 1)]))));
				}
				})();
			List_PKG_1796.p5push([p5make_package('Perlito5')['v_PKG_NAME']]);
			(function () {
					if ( (p5num(v_pos_1798) == 0) ) {
					(function () {
						var v_m_1799;
						v_m_1799 = (p5pkg['Perlito5::Grammar::Space'].start_of_line([v_str_1797, v_pos_1798], ""));
						v_pos_1798 = ((v_m_1799 || (v_m_1799 = new p5HashRef({})))._hash_.p5hget('to'));
					})();
				}
				})();
			var v_has_semicolon_1800;
			var List_stmts_1801 = [];
			var v_m_1802;
			v_m_1802 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1797, v_pos_1798], ""));
			v_pos_1798 = ((v_m_1802 || (v_m_1802 = new p5HashRef({})))._hash_.p5hget('to'));
			(function () {
					p5while(function () {
						(function () {
							if ( (p5str((v_str_1797 || (v_str_1797 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1798))) == ';') ) {
							v_has_semicolon_1800 = (1);
							v_m_1802 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1797, (p5num(v_pos_1798) + 1)], ""));
							v_pos_1798 = ((v_m_1802 || (v_m_1802 = new p5HashRef({})))._hash_.p5hget('to'));
						}
						else {
							v_m_1802 = (p5pkg['Perlito5::Grammar::Statement'].statement_parse([v_str_1797, v_pos_1798], ""));
							(function () {
								if ( p5bool(v_m_1802) ) {
								List_stmts_1801.p5push(p5list_to_a([(v_m_1802 || (v_m_1802 = new p5HashRef({})))._hash_.p5hget('capture')]));
								v_pos_1798 = ((v_m_1802 || (v_m_1802 = new p5HashRef({})))._hash_.p5hget('to'));
								(function () {
									if ( (p5str((v_str_1797 || (v_str_1797 = new p5ArrayRef([])))._array_.p5aget(p5num(v_pos_1798))) == ';') ) {
									v_has_semicolon_1800 = (1);
									v_pos_1798 = ((p5num(v_pos_1798) + 1));
								}
								})();
								v_m_1802 = (p5pkg['Perlito5::Grammar::Space'].opt_ws([v_str_1797, v_pos_1798], ""));
								v_pos_1798 = ((v_m_1802 || (v_m_1802 = new p5HashRef({})))._hash_.p5hget('to'));
							}
							})();
						}
						})();
					}, function () {
						return v_m_1802
					}, false, '', 0)
				})();
			p5make_package('Perlito5')['v_PKG_NAME'] = (List_PKG_1796.pop());
			(p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'] = (p5or(p5make_package('Perlito5')['v_BLOCK_HAS_SEMICOLON'], function () {
							return v_has_semicolon_1800
						})));
			return ((new p5HashRef(p5a_to_h(p5list_to_a(['str', v_str_1797, 'to', v_pos_1798, 'capture', (new p5ArrayRef(List_stmts_1801))])))));
		};
		tmp3219._prototype_ = null;
		return tmp3219
	})());
})();;
(function () {
	p5make_package('Perlito5');
	p5or((p5make_package('main')['v_' + String.fromCharCode(15)] != null), function () {
		return p5make_package('main')['v_' + String.fromCharCode(15)] = ('perlito5')
	});
	p5or((p5make_package('main')['v_/'] != null), function () {
		return p5make_package('main')['v_/'] = (p5pkg['Perlito5'].chr([10], ""))
	});
	p5or((p5make_package('main')['v_"'] != null), function () {
		return p5make_package('main')['v_"'] = (' ')
	});
	p5or((p5make_package('main')['v_,'] != null), function () {
		return p5make_package('main')['v_,'] = (null)
	});
	p5or((p5make_package('main')['v_!'] != null), function () {
		return p5make_package('main')['v_!'] = ('')
	});
	p5or((p5make_package('main')['v_;'] != null), function () {
		return p5make_package('main')['v_;'] = (p5pkg['Perlito5'].chr([28], ""))
	});
	p5or((p5make_package('main')['v_?'] != null), function () {
		return p5make_package('main')['v_?'] = (0)
	});
	p5or(p5make_package('main')['v_]'], function () {
		return p5make_package('main')['v_]'] = ('5.026000')
	});
	p5or((p5make_package('main')['v_' + String.fromCharCode(22)] != null), function () {
		return p5make_package('main')['v_' + String.fromCharCode(22)] = (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['original', 'v5.26.0', 'qv', 1, 'version', (new p5ArrayRef([5, 26, 0]))])))), 'version'])))
	});
	p5make_package('main')['v_' + String.fromCharCode(8)] = (0);
	p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = {};
	// our p5make_package('Perlito5')['v_EXPAND_USE']
	p5make_package('Perlito5')['v_EXPAND_USE'] = (1);
	// our p5make_package('Perlito5')['v_EMIT_USE']
	p5make_package('Perlito5')['v_EMIT_USE'] = (0);
	// our p5make_package('Perlito5')['v_WARNINGS']
	p5make_package('Perlito5')['v_WARNINGS'] = (0);
	// our p5make_package('Perlito5')['v_UTF8']
	p5make_package('Perlito5')['v_UTF8'] = (0);
	// our p5make_package('Perlito5')['v_BYTES']
	p5make_package('Perlito5')['v_BYTES'] = (0);
	if (typeof p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'] = [];}
	p5pkg[p5make_package('Perlito5')['List_CALLER'] || (p5make_package('Perlito5')['List_CALLER'] = []), 'Perlito5']['List_CALLER'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'] = {};}
	p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION'] = {};
	// our p5make_package('Perlito5')['v_PKG_NAME']
	p5make_package('Perlito5')['v_PKG_NAME'] = ('');
	// our p5make_package('Perlito5')['v_LINE_NUMBER']
	p5make_package('Perlito5')['v_LINE_NUMBER'] = (0);
	// our p5make_package('Perlito5')['v_FILE_NAME']
	p5make_package('Perlito5')['v_FILE_NAME'] = ('');
	// our p5make_package('Perlito5')['v_GLOBAL']
	p5make_package('Perlito5')['v_GLOBAL'] = ((new p5HashRef({})));
	// our p5make_package('Perlito5')['v_BASE_SCOPE']
	p5make_package('Perlito5')['v_BASE_SCOPE'] = (p5call('Perlito5::Grammar::Scope', 'new_base_scope', [], ""));
	// our p5make_package('Perlito5')['v_CLOSURE_SCOPE']
	p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = (p5make_package('Perlito5')['v_BASE_SCOPE']);
	// our p5make_package('Perlito5')['v_SCOPE']
	p5make_package('Perlito5')['v_SCOPE'] = (p5make_package('Perlito5')['v_BASE_SCOPE']);
	// our p5make_package('Perlito5')['v_SCOPE_DEPTH']
	p5make_package('Perlito5')['v_SCOPE_DEPTH'] = (0);
	if (typeof p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = [];}
	p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['List_END_BLOCK'] || (p5make_package('Perlito5')['List_END_BLOCK'] = []), 'Perlito5']['List_END_BLOCK'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_END_BLOCK'] || (p5make_package('Perlito5')['List_END_BLOCK'] = []), 'Perlito5']['List_END_BLOCK'] = [];}
	p5pkg[p5make_package('Perlito5')['List_END_BLOCK'] || (p5make_package('Perlito5')['List_END_BLOCK'] = []), 'Perlito5']['List_END_BLOCK'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['List_INIT_BLOCK'] || (p5make_package('Perlito5')['List_INIT_BLOCK'] = []), 'Perlito5']['List_INIT_BLOCK'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_INIT_BLOCK'] || (p5make_package('Perlito5')['List_INIT_BLOCK'] = []), 'Perlito5']['List_INIT_BLOCK'] = [];}
	p5pkg[p5make_package('Perlito5')['List_INIT_BLOCK'] || (p5make_package('Perlito5')['List_INIT_BLOCK'] = []), 'Perlito5']['List_INIT_BLOCK'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['List_CHECK_BLOCK'] || (p5make_package('Perlito5')['List_CHECK_BLOCK'] = []), 'Perlito5']['List_CHECK_BLOCK'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_CHECK_BLOCK'] || (p5make_package('Perlito5')['List_CHECK_BLOCK'] = []), 'Perlito5']['List_CHECK_BLOCK'] = [];}
	p5pkg[p5make_package('Perlito5')['List_CHECK_BLOCK'] || (p5make_package('Perlito5')['List_CHECK_BLOCK'] = []), 'Perlito5']['List_CHECK_BLOCK'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'] = [];}
	p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'] = [];
	if (typeof p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'] = {};}
	p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'] = {};
	// our p5make_package('Perlito5')['v_PROTO']
	p5make_package('Perlito5')['v_PROTO'] = ((new p5HashRef({})));
	if (typeof p5pkg[p5make_package('Perlito5')['List_ANNOTATION'] || (p5make_package('Perlito5')['List_ANNOTATION'] = []), 'Perlito5']['List_ANNOTATION'] == "undefined" ) { p5pkg[p5make_package('Perlito5')['List_ANNOTATION'] || (p5make_package('Perlito5')['List_ANNOTATION'] = []), 'Perlito5']['List_ANNOTATION'] = [];}
	p5pkg[p5make_package('Perlito5')['List_ANNOTATION'] || (p5make_package('Perlito5')['List_ANNOTATION'] = []), 'Perlito5']['List_ANNOTATION'];
	p5typeglob_set('Perlito5', 'set_global_phase', (function () {
		var tmp3220;
		tmp3220 = function (List__, p5want) {
			try {
				var local_idx = p5LOCAL.length;
				var v_phase_1826;
				v_phase_1826 = (List__.shift());
				(function () {
					var v_tmp3221_3222 = p5make_package('main')['v_@'];
					p5LOCAL.push(function(){ p5make_package('main')['v_@'] = v_tmp3221_3222 });
					return (p5make_package('main')['v_@'] = (null));
				})();
				p5make_package('main')['v_@'];
				return p5cleanup_local(local_idx, ((function () {
						var r;
						p5pkg["main"]["v_@"] = "";
						try {
							r = (function () {
							return ((p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'] = (v_phase_1826)));
						})()
						}
						catch(err) {
							if (err instanceof p5_error && (err.type == 'last' || err.type == 'redo' || err.type == 'next')) {
								throw(err)
							}
							else if ( err instanceof p5_error || err instanceof Error ) {
								p5pkg["main"]["v_@"] = err;
								if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "\n") {
									try {
										p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "\n" + err.stack + "\n";
									}
									catch(err) { }
								}
							}
							else {
								return(err);
							}
						}
						return r;
					})()));
				p5cleanup_local(local_idx, null);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return p5cleanup_local(local_idx, err);
				}
			}
		};
		tmp3220._prototype_ = null;
		return tmp3220
	})());
	// our p5make_package('Perlito5')['v_ID']
	p5make_package('Perlito5')['v_ID'] = (100);
	// our p5make_package('Perlito5')['v_PACKAGES']
	p5make_package('Perlito5')['v_PACKAGES'] = ((new p5HashRef({'STDERR' : 1, 'STDOUT' : 1, 'STDIN' : 1, 'main' : 1, 'strict' : 1, 'warnings' : 1, 'utf8' : 1, 'bytes' : 1, 'encoding' : 1, 'UNIVERSAL' : 1, 'CORE' : 1, 'CORE::GLOBAL' : 1, 'Perlito5::IO' : 1})));
	p5for(p5make_package('main'), "v__", function () {
			p5pkg[p5make_package('main')['List_INC'] || (p5make_package('main')['List_INC'] = []), 'main']['List_INC'].p5push([p5make_package('main')['v__']]);
		}, p5list_to_a([CORE.split([':', p5context([p5or(p5pkg[p5make_package('main')['Hash_ENV'] || (p5make_package('main')['Hash_ENV'] = {}), 'main']['Hash_ENV'].p5hget('PERL5LIB'), function () {
	return ''
})], 0)], 1)]), false, '');
	// our p5make_package('Perlito5')['v_SPECIAL_VAR']
	p5make_package('Perlito5')['v_SPECIAL_VAR'] = ((new p5HashRef(p5a_to_h(p5list_to_a(['$_', 'ARG', '$&', '$MATCH', '$`', '$PREMATCH', '$' + String.fromCharCode(39), '$POSTMATCH', '$+', '$LAST_PAREN_MATCH', '@+', '@LAST_MATCH_END', '%+', '%LAST_PAREN_MATCH', '@-', '@LAST_MATCH_START', '$|', 'autoflush', '$/', '$RS', '@_', '@ARG', '< $', '$EUID', '$.', '$NR', '< $< ', '$UID', '$(', '$GID', '$#', null, '$@', '$EVAL_ERROR', '$=', '$FORMAT_LINES_PER_PAGE', '$,', '$OFS', '$?', '$CHILD_ERROR', '$*', null, '$[', null, '$$', '$PID', '%-', null, '$~', '$FORMAT_NAME', '$-', '$FORMAT_LINES_LEFT', '$&', '$MATCH', '$%', '$FORMAT_PAGE_NUMBER', '$)', '$EGID', '$]', null, '$!', '$ERRNO', '$;', '$SUBSEP', '$' + String.fromCharCode(92), '$ORS', '%!', null, '$"', '$LIST_SEPARATOR', '$_', '$ARG', '$:', 'FORMAT_LINE_BREAK_CHARACTERS'])))));
	// our p5make_package('Perlito5')['v_CORE_OVERRIDABLE']
	p5make_package('Perlito5')['v_CORE_OVERRIDABLE'] = ((new p5HashRef({'say' : 1, 'break' : 1, 'given' : 1, 'when' : 1, 'default' : 1, 'state' : 1, 'lock' : 1})));
	// our p5make_package('Perlito5')['v_CORE_PROTO']
	p5make_package('Perlito5')['v_CORE_PROTO'] = ((new p5HashRef(p5a_to_h(p5list_to_a(['CORE::shutdown', '*$', 'CORE::chop', '_', 'CORE::lstat', '*', 'CORE::rename', '$$', 'CORE::lock', String.fromCharCode(92) + '$', 'CORE::rand', ';$', 'CORE::gmtime', ';$', 'CORE::gethostbyname', '$', 'CORE::each', '+', 'CORE::ref', '_', 'CORE::syswrite', '*$;$$', 'CORE::msgctl', '$$$', 'CORE::getnetbyname', '$', 'CORE::write', ';*', 'CORE::alarm', '_', 'CORE::print', null, 'CORE::getnetent', '', 'CORE::semget', '$$$', 'CORE::use', null, 'CORE::abs', '_', 'CORE::break', '', 'CORE::undef', ';$', 'CORE::no', null, 'CORE::eval', '_', 'CORE::split', null, 'CORE::localtime', ';$', 'CORE::sort', null, 'CORE::chown', '@', 'CORE::endpwent', '', 'CORE::getpwent', '', 'CORE::pos', null, 'CORE::lcfirst', '_', 'CORE::kill', '@', 'CORE::send', '*$$;$', 'CORE::endprotoent', '', 'CORE::semctl', '$$$$', 'CORE::waitpid', '$$', 'CORE::utime', '@', 'CORE::dbmclose', String.fromCharCode(92) + '%', 'CORE::getpwnam', '$', 'CORE::substr', '$$;$$', 'CORE::listen', '*$', 'CORE::getprotoent', '', 'CORE::shmget', '$$$', 'CORE::our', null, 'CORE::readlink', '_', 'CORE::shmwrite', '$$$$', 'CORE::times', '', 'CORE::package', null, 'CORE::map', null, 'CORE::join', '$@', 'CORE::rmdir', '_', 'CORE::shmread', '$$$$', 'CORE::uc', '_', 'CORE::bless', '$;$', 'CORE::closedir', '*', 'CORE::getppid', '', 'CORE::tie', String.fromCharCode(92) + '[$@%]$;@', 'CORE::readdir', '*', 'CORE::gethostent', '', 'CORE::getlogin', '', 'CORE::last', null, 'CORE::gethostbyaddr', '$$', 'CORE::accept', '**', 'CORE::log', '_', 'CORE::tell', ';*', 'CORE::readline', ';*', 'CORE::tied', null, 'CORE::socket', '*$$$', 'CORE::umask', ';$', 'CORE::sysread', '*' + String.fromCharCode(92) + '$$;$', 'CORE::syscall', '$@', 'CORE::quotemeta', '_', 'CORE::dump', '', 'CORE::opendir', '*$', 'CORE::untie', null, 'CORE::truncate', '$$', 'CORE::select', ';*', 'CORE::sleep', ';$', 'CORE::seek', '*$$', 'CORE::read', '*' + String.fromCharCode(92) + '$$;$', 'CORE::rewinddir', '*', 'CORE::scalar', null, 'CORE::wantarray', '', 'CORE::oct', '_', 'CORE::bind', '*$', 'CORE::stat', '*', 'CORE::sqrt', '_', 'CORE::getc', ';*', 'CORE::fileno', '*', 'CORE::getpeername', '*', 'CORE::sin', '_', 'CORE::getnetbyaddr', '$$', 'CORE::grep', null, 'CORE::setservent', '$', 'CORE::sub', null, 'CORE::shmctl', '$$$', 'CORE::study', null, 'CORE::msgrcv', '$$$$$', 'CORE::setsockopt', '*$$$', 'CORE::int', '_', 'CORE::pop', ';+', 'CORE::link', '$$', 'CORE::exec', null, 'CORE::setpwent', '', 'CORE::mkdir', '_;$', 'CORE::sysseek', '*$$', 'CORE::endservent', '', 'CORE::chr', '_', 'CORE::when', null, 'CORE::getpwuid', '$', 'CORE::setprotoent', '$', 'CORE::reverse', '@', 'CORE::say', null, 'CORE::goto', null, 'CORE::getgrent', '', 'CORE::endnetent', '', 'CORE::hex', '_', 'CORE::binmode', '*;$', 'CORE::formline', '$@', 'CORE::getgrnam', '$', 'CORE::ucfirst', '_', 'CORE::chdir', ';$', 'CORE::setnetent', '$', 'CORE::splice', '+;$$@', 'CORE::unlink', '@', 'CORE::time', '', 'CORE::push', '+@', 'CORE::exit', ';$', 'CORE::endgrent', '', 'CORE::unshift', '+@', 'CORE::local', null, 'CORE::my', null, 'CORE::cos', '_', 'CORE::redo', null, 'CORE::warn', '@', 'CORE::getsockname', '*', 'CORE::pipe', '**', 'CORE::sprintf', '$@', 'CORE::open', '*;$@', 'CORE::setpgrp', ';$$', 'CORE::exp', '_', 'CORE::seekdir', '*$', 'CORE::getservbyport', '$$', 'CORE::given', null, 'CORE::pack', '$@', 'CORE::msgget', '$$', 'CORE::rindex', '$$;$', 'CORE::srand', ';$', 'CORE::telldir', '*', 'CORE::connect', '*$', 'CORE::getprotobyname', '$', 'CORE::msgsnd', '$$$', 'CORE::length', '_', 'CORE::state', null, 'CORE::die', '@', 'CORE::delete', '$', 'CORE::getservent', '', 'CORE::getservbyname', '$$', 'CORE::setpriority', '$$$', 'CORE::lc', '_', 'CORE::fc', '_', 'CORE::pack', '$@', 'CORE::fcntl', '*$$', 'CORE::chroot', '_', 'CORE::recv', '*' + String.fromCharCode(92) + '$$$', 'CORE::dbmopen', String.fromCharCode(92) + '%$$', 'CORE::socketpair', '**$$$', 'CORE::vec', '$$$', 'CORE::system', null, 'CORE::defined', '_', 'CORE::index', '$$;$', 'CORE::caller', ';$', 'CORE::close', ';*', 'CORE::atan2', '$$', 'CORE::semop', '$$', 'CORE::unpack', '$;$', 'CORE::ord', '_', 'CORE::chmod', '@', 'CORE::prototype', null, 'CORE::getprotobynumber', '$', 'CORE::values', '+', 'CORE::chomp', '_', 'CORE::ioctl', '*$$', 'CORE::eof', ';*', 'CORE::crypt', '$$', 'CORE::do', null, 'CORE::flock', '*$', 'CORE::wait', '', 'CORE::sethostent', '$', 'CORE::return', null, 'CORE::getsockopt', '*$$', 'CORE::fork', '', 'CORE::require', null, 'CORE::format', null, 'CORE::readpipe', '_', 'CORE::endhostent', '', 'CORE::getpgrp', ';$', 'CORE::setgrent', '', 'CORE::keys', '+', 'CORE::glob', null, 'CORE::getpriority', '$$', 'CORE::reset', ';$', 'CORE::sysopen', '*$$;$', 'CORE::continue', '', 'CORE::next', null, 'CORE::getgrgid', '$', 'CORE::default', null, 'CORE::shift', ';+', 'CORE::symlink', '$$', 'CORE::exists', '$', 'CORE::printf', '$@', 'CORE::m', null, 'CORE::q', null, 'CORE::qq', null, 'CORE::qw', null, 'CORE::qx', null, 'CORE::qr', null, 'CORE::s', null, 'CORE::tr', null, 'CORE::y', null, 'CORE::if', null, 'CORE::unless', null, 'CORE::when', null, 'CORE::for', null, 'CORE::foreach', null, 'CORE::while', null, 'CORE::given', null, 'CORE::and', null, 'CORE::or', null, 'CORE::xor', null, 'CORE::not', null, 'CORE::cmp', null, 'CORE::__FILE__', '', 'CORE::__LINE__', ''])))));
	p5typeglob_set('Perlito5', 'test_perl_version', (function () {
		var tmp3223;
		tmp3223 = function (List__, p5want) {
			var local_idx = p5LOCAL.length;
			var regex_tmp = p5_regex_capture;
			p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
			var v_version_1833;
			v_version_1833 = (List__.shift());
			(function () {
						var tmp = p5s(v_version_1833, '^v', function () {
							return ''
						}, '', 0);
						v_version_1833 = tmp[0];
						return tmp[1];
					})();
			(function () {
					if ( (p5bool(v_version_1833) && (p5pkg['Perlito5'].ord([p5str(v_version_1833).substr(0, 1)], "") < 10)) ) {
					(function () {
						var List_v_1834 = [];
						List_v_1834 = p5list_to_a([CORE.split([new RegExp('', ''), v_version_1833], 1)]);
						(function () {
							p5while(function () {
								List_v_1834.p5push([p5pkg['Perlito5'].chr([0], 1)]);
							}, function () {
								return (p5num(List_v_1834.length) < 3)
							}, false, '', 0)
						})();
						v_version_1833 = (p5pkg['Perlito5'].sprintf(['%d.%03d%03d'].concat(p5list_to_a([p5map(p5pkg['Perlito5'], function (p5want) {
										return (p5pkg['Perlito5'].ord([p5make_package('main')['v__']], 1));
									}, p5list_to_a([List_v_1834]))])), ""));
					})();
				}
				else {
					(function () {
						var List_v_1835 = [];
						List_v_1835 = p5list_to_a([CORE.split([new RegExp(String.fromCharCode(92) + '.', ''), v_version_1833], 1)]);
						(function () {
							p5while(function () {
								List_v_1835.p5aset(1, ((p5str(List_v_1835.p5aget(1)) + '0')));
							}, function () {
								return (p5pkg['Perlito5'].length([List_v_1835.p5aget(1)], "") < 3)
							}, false, '', 0)
						})();
						v_version_1833 = (p5pkg['Perlito5'].join(['.'].concat(p5list_to_a([List_v_1835])), ""));
					})();
				}
				})();
			return (function () {
					if ( (p5str(v_version_1833) > p5str(p5make_package('main')['v_]'])) ) {
					return (p5pkg['Perlito5'].die([].concat([('Perl v' + p5str(v_version_1833) + ' required--this is only v' + p5str(p5make_package('main')['v_]']))]), p5want));
				}
				})()
			p5cleanup_local(local_idx, null);
		};
		tmp3223._prototype_ = null;
		return tmp3223
	})());
	p5typeglob_set('Perlito5', 'get_label', (function () {
		var tmp3224;
		tmp3224 = function (List__, p5want) {
			return (p5context([('tmp' + p5str((function () {
	var tmp3225 = p5make_package('Perlito5')['v_ID'];
	p5make_package('Perlito5')['v_ID'] = p5incr_(tmp3225);
	return tmp3225
})()))], p5want));
		};
		tmp3224._prototype_ = null;
		return tmp3224
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::AST::CompUnit');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_compile_time', (function () {
				var tmp3226;
				tmp3226 = function (List__, p5want) {
					var v_self_1836;
					v_self_1836 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::CompUnit', 'new', p5list_to_a([p5hash_deref((v_self_1836 || (v_self_1836 = new p5HashRef({}))), 'Perlito5::AST::CompUnit'), 'body', (new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::CompUnit'], function (p5want) {
	return (p5and((p5make_package('main')['v__'] != null), function () {
		return p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1)
	}));
}, p5list_to_a([p5array_deref((v_self_1836 || (v_self_1836 = new p5HashRef({})))._hash_.p5hget_array('body'), 'Perlito5::AST::CompUnit')]))])))]), p5want));
				};
				tmp3226._prototype_ = null;
				return tmp3226
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Int');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Int', 'emit_compile_time', (function () {
				var tmp3227;
				tmp3227 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3227._prototype_ = null;
				return tmp3227
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Num');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Num', 'emit_compile_time', (function () {
				var tmp3228;
				tmp3228 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3228._prototype_ = null;
				return tmp3228
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Buf');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Buf', 'emit_compile_time', (function () {
				var tmp3229;
				tmp3229 = function (List__, p5want) {
					return (List__.p5aget(0));
				};
				tmp3229._prototype_ = null;
				return tmp3229
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Block');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Block', 'emit_compile_time', (function () {
				var tmp3230;
				tmp3230 = function (List__, p5want) {
					var v_self_1837;
					v_self_1837 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Block', 'new', p5list_to_a([p5hash_deref((v_self_1837 || (v_self_1837 = new p5HashRef({}))), 'Perlito5::AST::Block'), 'stmts', (new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Block'], function (p5want) {
	return (p5and((p5make_package('main')['v__'] != null), function () {
		return p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1)
	}));
}, p5list_to_a([p5array_deref((v_self_1837 || (v_self_1837 = new p5HashRef({})))._hash_.p5hget_array('stmts'), 'Perlito5::AST::Block')]))]))), ( p5bool((v_self_1837 || (v_self_1837 = new p5HashRef({})))._hash_.p5hget('continue')) ? p5context(['continue', p5call((v_self_1837 || (v_self_1837 = new p5HashRef({})))._hash_.p5hget('continue'), 'emit_compile_time', [], 1)], 1) : p5context([], 1))]), p5want));
				};
				tmp3230._prototype_ = null;
				return tmp3230
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Index');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Index', 'emit_compile_time', (function () {
				var tmp3231;
				tmp3231 = function (List__, p5want) {
					var v_self_1838;
					v_self_1838 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Index', 'new', p5list_to_a([p5hash_deref((v_self_1838 || (v_self_1838 = new p5HashRef({}))), 'Perlito5::AST::Index'), 'obj', p5call((v_self_1838 || (v_self_1838 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_compile_time', [], 1), 'index_exp', p5call((v_self_1838 || (v_self_1838 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3231._prototype_ = null;
				return tmp3231
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Lookup');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_compile_time', (function () {
				var tmp3232;
				tmp3232 = function (List__, p5want) {
					var v_self_1839;
					v_self_1839 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Lookup', 'new', p5list_to_a([p5hash_deref((v_self_1839 || (v_self_1839 = new p5HashRef({}))), 'Perlito5::AST::Lookup'), 'obj', p5call((v_self_1839 || (v_self_1839 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_compile_time', [], 1), 'index_exp', p5call((v_self_1839 || (v_self_1839 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3232._prototype_ = null;
				return tmp3232
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Var');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Var', 'emit_compile_time', (function () {
				var tmp3233;
				tmp3233 = function (List__, p5want) {
					var v_self_1840;
					v_self_1840 = (List__.p5aget(0));
					return (p5context([v_self_1840], p5want));
				};
				tmp3233._prototype_ = null;
				return tmp3233
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Call');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Call', 'emit_compile_time', (function () {
				var tmp3234;
				tmp3234 = function (List__, p5want) {
					var v_self_1841;
					v_self_1841 = (List__.p5aget(0));
					var v_invocant_1842;
					v_invocant_1842 = (p5call((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('invocant'), 'emit_compile_time', [], ""));
					var v_arguments_1843;
					(function () {
							if ( (p5str((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<[ ]>') ) {
							v_arguments_1843 = (p5call((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_compile_time', [], ""));
						}
						else (function () {
							if ( (p5str((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<{ }>') ) {
							v_arguments_1843 = (p5call((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_compile_time', [], ""));
						}
						else {
							v_arguments_1843 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Call'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1));
}, p5list_to_a([p5array_deref((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Call')]))]))));
						}
						})()
						})();
					var v_meth_1844;
					v_meth_1844 = ((v_self_1841 || (v_self_1841 = new p5HashRef({})))._hash_.p5hget('method'));
					(function () {
							if ( (p5pkg['Perlito5::AST::Call'].ref([v_meth_1844], "") == 'Perlito5::AST::Var') ) {
							v_meth_1844 = (p5call(v_meth_1844, 'emit_compile_time', [], ""));
						}
						})();
					return (p5call('Perlito5::AST::Call', 'new', p5list_to_a([p5hash_deref((v_self_1841 || (v_self_1841 = new p5HashRef({}))), 'Perlito5::AST::Call'), 'method', v_meth_1844, 'invocant', v_invocant_1842, 'arguments', v_arguments_1843]), p5want));
				};
				tmp3234._prototype_ = null;
				return tmp3234
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Apply');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Apply', 'emit_compile_time_args', (function () {
				var tmp3235;
				tmp3235 = function (List__, p5want) {
					try {
						var v_self_1845;
						v_self_1845 = (List__.p5aget(0));
						p5and(!( p5bool((v_self_1845 || (v_self_1845 = new p5HashRef({})))._hash_.p5hget('arguments'))), function () {
							throw(p5context([], p5want))
						});
						return (p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
								return (p5call(p5make_package('main')['v__'], 'emit_compile_time', [], p5want));
							}, p5list_to_a([p5array_deref((v_self_1845 || (v_self_1845 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')])));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3235._prototype_ = null;
				return tmp3235
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_compile_time', (function () {
				var tmp3236;
				tmp3236 = function (List__, p5want) {
					try {
						var v_self_1846;
						v_self_1846 = (List__.p5aget(0));
						var v_code_1847;
						(function () {
							if ( p5bool(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code')], "")) ) {
							v_code_1847 = (p5call((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code'), 'emit_compile_time', [], ""));
						}
						else {
							v_code_1847 = ((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code'));
						}
						})();
						var v_arguments_1848;
						(function () {
							if ( p5bool(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('arguments')], "")) ) {
							v_arguments_1848 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
	return (p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1));
}, p5list_to_a([p5array_deref((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))]))));
						}
						else {
							v_arguments_1848 = ((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('arguments'));
						}
						})();
						var v_special_arg_1849;
						(function () {
							if ( p5bool(p5pkg['Perlito5::AST::Apply'].ref([(v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('special_arg')], "")) ) {
							v_special_arg_1849 = (p5call((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('special_arg'), 'emit_compile_time', [], ""));
						}
						else {
							v_special_arg_1849 = ((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('special_arg'));
						}
						})();
						(function () {
							if ( (p5str((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code')) == 'infix:<=>') ) {
							(function () {
								var v_arg_1850;
								v_arg_1850 = ((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_1850], "") == 'Perlito5::AST::Apply') && (p5str((v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<*>')) ) {
									throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'compile_time_glob_set', 'namespace', 'Perlito5::Grammar::Scope', 'arguments', (new p5ArrayRef(p5list_to_a([p5call((v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_compile_time', [], 1), p5call((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), 'emit_compile_time', [], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('Perlito5')['v_PKG_NAME']], 1)])))]), p5want));
								}
								else (function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_1850], "") == 'Perlito5::AST::Var') && (p5str((v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget('sigil')) == '*')) ) {
									throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'compile_time_glob_set', 'namespace', 'Perlito5::Grammar::Scope', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', (p5str(p5or((v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
	return (v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget('_namespace')
})) + '::' + p5str((v_arg_1850 || (v_arg_1850 = new p5HashRef({})))._hash_.p5hget('name')))], 1), p5call((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), 'emit_compile_time', [], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('Perlito5')['v_PKG_NAME']], 1)])))]), p5want));
								}
								})()
								})();
							})();
						}
						})();
						(function () {
							if ( (p5str((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code')) == 'eval') ) {
							(function () {
								var v_args_1851;
								v_args_1851 = ((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('arguments'));
								(function () {
									if ( (p5bool(p5num(p5array_deref((v_args_1851 || (v_args_1851 = new p5ArrayRef([]))), 'Perlito5::AST::Apply'))) && !( p5bool(p5call((v_args_1851 || (v_args_1851 = new p5ArrayRef([])))._array_.p5aget(0), 'isa', ['Perlito5::AST::Block'], "")))) ) {
									throw(p5context([v_self_1846], p5want));
								}
								})();
							})();
						}
						})();
						(function () {
							if ( ((p5str((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('code')) == 'require') && !( p5bool((v_self_1846 || (v_self_1846 = new p5HashRef({})))._hash_.p5hget('namespace')))) ) {
							throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a([p5hash_deref((v_self_1846 || (v_self_1846 = new p5HashRef({}))), 'Perlito5::AST::Apply'), 'namespace', 'Perlito5::Grammar::Use']), p5want));
						}
						})();
						return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a([p5hash_deref((v_self_1846 || (v_self_1846 = new p5HashRef({}))), 'Perlito5::AST::Apply'), 'code', v_code_1847, 'arguments', v_arguments_1848, ( p5bool(v_special_arg_1849) ? p5context(['special_arg', v_special_arg_1849], 1) : p5context([], 1))]), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3236._prototype_ = null;
				return tmp3236
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::If');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::If', 'emit_compile_time', (function () {
				var tmp3237;
				tmp3237 = function (List__, p5want) {
					var v_self_1852;
					v_self_1852 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::If', 'new', p5list_to_a([p5hash_deref((v_self_1852 || (v_self_1852 = new p5HashRef({}))), 'Perlito5::AST::If'), 'cond', p5call((v_self_1852 || (v_self_1852 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_compile_time', [], 1), 'body', p5call((v_self_1852 || (v_self_1852 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_compile_time', [], 1), 'otherwise', p5call((v_self_1852 || (v_self_1852 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3237._prototype_ = null;
				return tmp3237
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::When');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::When', 'emit_compile_time', (function () {
				var tmp3238;
				tmp3238 = function (List__, p5want) {
					var v_self_1853;
					v_self_1853 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::When', 'new', p5list_to_a([p5hash_deref((v_self_1853 || (v_self_1853 = new p5HashRef({}))), 'Perlito5::AST::When'), 'cond', p5call((v_self_1853 || (v_self_1853 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_compile_time', [], 1), 'body', p5call((v_self_1853 || (v_self_1853 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3238._prototype_ = null;
				return tmp3238
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::While');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::While', 'emit_compile_time', (function () {
				var tmp3239;
				tmp3239 = function (List__, p5want) {
					var v_self_1854;
					v_self_1854 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::While', 'new', p5list_to_a([p5hash_deref((v_self_1854 || (v_self_1854 = new p5HashRef({}))), 'Perlito5::AST::While'), 'cond', p5call((v_self_1854 || (v_self_1854 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_compile_time', [], 1), 'body', p5call((v_self_1854 || (v_self_1854 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3239._prototype_ = null;
				return tmp3239
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::For');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::For', 'emit_compile_time', (function () {
				var tmp3240;
				tmp3240 = function (List__, p5want) {
					var v_self_1855;
					v_self_1855 = (List__.p5aget(0));
					var v_cond_1856;
					(function () {
							if ( (p5pkg['Perlito5::AST::For'].ref([(v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget('cond')], "") == 'ARRAY') ) {
							v_cond_1856 = ((new p5ArrayRef(p5list_to_a([p5map(p5pkg['Perlito5::AST::For'], function (p5want) {
	return (( (p5make_package('main')['v__'] != null) ? p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1) : p5make_package('main')['v__']));
}, p5list_to_a([p5array_deref((v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget_array('cond'), 'Perlito5::AST::For')]))]))));
						}
						else {
							p5list_to_a([(v_cond_1856 = (p5call((v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget('cond'), 'emit_compile_time', [], "")))]);
						}
						})();
					return (p5call('Perlito5::AST::For', 'new', p5list_to_a([p5hash_deref((v_self_1855 || (v_self_1855 = new p5HashRef({}))), 'Perlito5::AST::For'), 'cond', v_cond_1856, 'body', p5call((v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_compile_time', [], 1), ( p5bool((v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget('continue')) ? p5context(['continue', p5call((v_self_1855 || (v_self_1855 = new p5HashRef({})))._hash_.p5hget('continue'), 'emit_compile_time', [], 1)], 1) : p5context([], 1))]), p5want));
				};
				tmp3240._prototype_ = null;
				return tmp3240
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Decl');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Decl', 'emit_compile_time', (function () {
				var tmp3241;
				tmp3241 = function (List__, p5want) {
					var v_self_1857;
					v_self_1857 = (List__.p5aget(0));
					return (p5call('Perlito5::AST::Decl', 'new', p5list_to_a([p5hash_deref((v_self_1857 || (v_self_1857 = new p5HashRef({}))), 'Perlito5::AST::Decl'), 'var', p5call((v_self_1857 || (v_self_1857 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_compile_time', [], 1)]), p5want));
				};
				tmp3241._prototype_ = null;
				return tmp3241
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Sub');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Sub', 'emit_compile_time', (function () {
				var tmp3242;
				tmp3242 = function (List__, p5want) {
					try {
						var v_self_1858;
						v_self_1858 = (List__.p5aget(0));
						var List_stmts_1859 = [];
						(function () {
							if ( ((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('block') != null) ) {
							(function () {
								if ( p5bool((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('name')) ) {
								var local_idx = p5LOCAL.length;
								(function () {
									var v_tmp3243_3244 = p5make_package('Perlito5')['v_PKG_NAME'];
									p5LOCAL.push(function(){ p5make_package('Perlito5')['v_PKG_NAME'] = v_tmp3243_3244 });
									return (p5make_package('Perlito5')['v_PKG_NAME'] = (null));
								})();
								p5make_package('Perlito5')['v_PKG_NAME'] = ((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('namespace'));
								throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a(['sigil', '*', '_decl', 'global', 'namespace', (v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('namespace'), 'name', (v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('name')]), 1), p5call(p5call('Perlito5::AST::Sub', 'new', p5list_to_a([p5hash_deref((v_self_1858 || (v_self_1858 = new p5HashRef({}))), 'Perlito5::AST::Sub'), 'namespace', null, 'name', null]), ""), 'emit_compile_time', [], 1)])))]), p5want));
								p5cleanup_local(local_idx, null);
							}
							})();
							List_stmts_1859 = p5list_to_a([p5array_deref((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget_hash('block')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Sub')]);
							List_stmts_1859 = p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
										return (p5call(p5make_package('main')['v__'], 'emit_compile_time', [], 1));
									}, p5list_to_a([List_stmts_1859]))]);
							p5block(function (v) {}, function () {
									var List_captured_1861 = [];
									(function () {
										var v_stmt_1862;
										(function(){ var v_stmt_1862; p5for_lex(function (v) { v_stmt_1862 = v }, function () {
												List_captured_1861.p5push(p5list_to_a([p5call(v_stmt_1862, 'get_captures', [], 1)]));
											}, p5list_to_a([p5array_deref((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget_hash('block')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Sub')]), false, '') })()
									})();
									var Hash_dont_capture_1863 = {};
									Hash_dont_capture_1863 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
												return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont'), 1], 1) : p5context([], 1)));
											}, p5list_to_a([List_captured_1861]))]));
									var Hash_capture_1864 = {};
									Hash_capture_1864 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
												return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([], 1) : ( p5bool(Hash_dont_capture_1863.p5hget(p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id')))) ? p5context([], 1) : ( ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'local') || ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'global') || (p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == ''))) ? p5context([], 1) : p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id'), p5make_package('main')['v__']], 1)))));
											}, p5list_to_a([List_captured_1861]))]));
									var v_code_1865;
									v_code_1865 = (p5call('Perlito5::AST::Sub', 'new', p5list_to_a([p5hash_deref((v_self_1858 || (v_self_1858 = new p5HashRef({}))), 'Perlito5::AST::Sub')]), ""));
									var v_id_1866;
									v_id_1866 = (p5pkg['Perlito5'].get_label([], ""));
									p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SUBS'] || (p5make_package('Perlito5')['Hash_BEGIN_SUBS'] = {}), 'Perlito5']['Hash_BEGIN_SUBS'].p5hset(p5str(v_id_1866), (v_code_1865));
									p5for(p5make_package('main'), "v__", function () {
											p5pkg[p5make_package('Perlito5')['Hash_BEGIN_LEXICALS'] || (p5make_package('Perlito5')['Hash_BEGIN_LEXICALS'] = {}), 'Perlito5']['Hash_BEGIN_LEXICALS'].p5hset(p5str(p5make_package('main')['v__']), (Hash_capture_1864.p5hget(p5str(p5make_package('main')['v__']))));
										}, p5list_to_a([p5pkg['Perlito5::AST::Sub'].keys([Hash_capture_1864], 1)]), false, '');
									(function () {
										if ( !( p5bool(List_stmts_1859.length)) ) {
										List_stmts_1859.p5unshift(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'return', 'arguments', (new p5ArrayRef([]))]), 1)]));
									}
									})();
									List_stmts_1859.p5unshift(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<&&>', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Var'].LIST_ARG([], 1), p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<&&>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<eq>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Var'].LIST_ARG_INDEX([0], 1)]))), 'code', 'ref']), 1), p5call('Perlito5::AST::Buf', 'new', ['buf', 'Perlito5::dump'], 1)])))]), 1), p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'return', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', '__SUB__'], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', v_id_1866], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', '__PKG__'], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('Perlito5')['v_PKG_NAME']], 1), p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
	return (p5context([p5call('Perlito5::AST::Buf', 'new', ['buf', p5make_package('main')['v__']], 1), p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<' + String.fromCharCode(92) + '>', 'arguments', (new p5ArrayRef(p5list_to_a([Hash_capture_1864.p5hget(p5str(p5make_package('main')['v__']))])))]), 1)], 1));
}, p5list_to_a([p5sort(p5pkg['Perlito5::AST::Sub'], function (p5want) {
	return (p5cmp(p5str(p5make_package('Perlito5::AST::Sub')['v_a']), p5str(p5make_package('Perlito5::AST::Sub')['v_b'])));
}, p5list_to_a([p5pkg['Perlito5::AST::Sub'].keys([Hash_capture_1864], 1)]))]))])))]), 1)])))]), 1)])))]), 1)])))]), 1)]));
								}, [0], false, ''
							);
							v_self_1858 = (p5call('Perlito5::AST::Sub', 'new', p5list_to_a([p5hash_deref((v_self_1858 || (v_self_1858 = new p5HashRef({}))), 'Perlito5::AST::Sub'), ( p5bool((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget('block')) ? p5context(['block', p5call('Perlito5::AST::Block', 'new', p5list_to_a([p5hash_deref((v_self_1858 || (v_self_1858 = new p5HashRef({})))._hash_.p5hget_hash('block'), 'Perlito5::AST::Sub'), 'stmts', (new p5ArrayRef(p5list_to_a([List_stmts_1859])))]), 1)], 1) : p5context([], 1))]), ""));
						}
						})();
						return (p5context([v_self_1858], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3242._prototype_ = null;
				return tmp3242
			})());
		}, [0], false, ''
	);
	1;
})();;
(function () {
	p5make_package('Perlito5::DumpToAST');
	p5typeglob_set('Perlito5::DumpToAST', 'dump_to_ast', (function () {
		var tmp3245;
		tmp3245 = function (List__, p5want) {
			try {
				var v_obj_1867;
				var v_seen_1868;
				var v_pos_1869;
				(function () {
					var tmp3246 = p5list_to_a([List__]);
					var tmp3247 = tmp3246.slice(0);
					v_obj_1867 = tmp3246.shift();
					v_seen_1868 = tmp3246.shift();
					v_pos_1869 = tmp3246.shift();
					return tmp3247
				})();
				p5and(!( (v_obj_1867 != null)), function () {
					throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'undef', 'arguments', (new p5ArrayRef([]))]), p5want))
				});
				var v_ref_1870;
				v_ref_1870 = (p5pkg['Perlito5::DumpToAST'].ref([v_obj_1867], ""));
				(function () {
					if ( !( p5bool(v_ref_1870)) ) {
					(function () {
						if ( (p5str((0 + p5num(v_obj_1867))) == p5str(v_obj_1867)) ) {
						p5and((p5num(p5pkg['Perlito5::DumpToAST'].int([v_obj_1867], "")) == p5num(v_obj_1867)), function () {
							throw(p5call('Perlito5::AST::Int', 'new', ['int', v_obj_1867], p5want))
						});
						throw(p5call('Perlito5::AST::Num', 'new', ['num', v_obj_1867], p5want));
					}
					})();
					throw(p5call('Perlito5::AST::Buf', 'new', ['buf', v_obj_1867], p5want));
				}
				})();
				var v_as_string_1871;
				v_as_string_1871 = (v_obj_1867);
				p5and((v_seen_1868 || (v_seen_1868 = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string_1871)), function () {
					throw((v_seen_1868 || (v_seen_1868 = new p5HashRef({})))._hash_.p5hget(p5str(v_as_string_1871)))
				});
				(v_seen_1868 || (v_seen_1868 = new p5HashRef({})))._hash_.p5hset(p5str(v_as_string_1871), (v_pos_1869));
				(function () {
					if ( (p5str(v_ref_1870) == 'ARRAY') ) {
					(function () {
						var List_out_1872 = [];
						(function () {
							var v_i_1873;
							(function(){ var v_i_1873; p5for_lex(function (v) { v_i_1873 = v }, function () {
									var v_here_1874;
									v_here_1874 = (p5pkg['Perlito5::AST::Index'].INDEX(p5list_to_a([v_pos_1869, p5call('Perlito5::AST::Int', 'new', ['int', v_i_1873], 1)]), ""));
									List_out_1872.p5push(p5list_to_a([p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_obj_1867 || (v_obj_1867 = new p5ArrayRef([])))._array_.p5aget(p5num(v_i_1873)), v_seen_1868, v_here_1874]), 1)]));
								}, p5list_to_a([p5range(0, (p5array_deref((v_obj_1867 || (v_obj_1867 = new p5ArrayRef([]))), 'Perlito5::DumpToAST').length - 1), 1, "tmp3248", 0)]), false, '') })()
						})();
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<[ ]>', 'arguments', (new p5ArrayRef(List_out_1872))]), p5want));
					})();
				}
				else (function () {
					if ( (p5str(v_ref_1870) == 'HASH') ) {
					(function () {
						var List_out_1875 = [];
						(function () {
							var v_i_1876;
							(function(){ var v_i_1876; p5for_lex(function (v) { v_i_1876 = v }, function () {
									var v_here_1877;
									v_here_1877 = (p5pkg['Perlito5::AST::Lookup'].LOOKUP(p5list_to_a([v_pos_1869, p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1876], 1)]), ""));
									List_out_1875.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1876], 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_obj_1867 || (v_obj_1867 = new p5HashRef({})))._hash_.p5hget(p5str(v_i_1876)), v_seen_1868, v_here_1877]), 1)])))]), 1)]));
								}, p5list_to_a([p5sort(p5pkg['Perlito5::DumpToAST'], function (p5want) {
									return (p5cmp(p5str(p5make_package('Perlito5::DumpToAST')['v_a']), p5str(p5make_package('Perlito5::DumpToAST')['v_b'])));
								}, p5list_to_a([p5pkg['Perlito5::DumpToAST'].keys([p5hash_deref((v_obj_1867 || (v_obj_1867 = new p5HashRef({}))), 'Perlito5::DumpToAST')], 1)]))]), false, '') })()
						})();
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'arguments', (new p5ArrayRef(List_out_1875))]), p5want));
					})();
				}
				else (function () {
					if ( ((p5str(v_ref_1870) == 'SCALAR') || (p5str(v_ref_1870) == 'REF')) ) {
					(function () {
						var v_here_1878;
						v_here_1878 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<$>', 'arguments', (new p5ArrayRef([v_pos_1869]))]), ""));
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<' + String.fromCharCode(92) + '>', 'arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([p5scalar_deref(v_obj_1867, 'Perlito5::DumpToAST', ""), v_seen_1868, v_here_1878]), 1)])))]), p5want));
					})();
				}
				else (function () {
					if ( (p5str(v_ref_1870) == 'CODE') ) {
					(function () {
						var v_closure_flag_1879;
						v_closure_flag_1879 = (CORE.bless(p5list_to_a([(new p5HashRef({})), 'Perlito5::dump'])));
						var v_captures_1880;
						v_captures_1880 = (p5defined_or((v_obj_1867)([v_closure_flag_1879], ""), function () {
									return (new p5HashRef({}))
								}));
						var List_vars_1881 = [];
						var v_ast_1882;
						var v_source_1883;
						var v_sub_name_1884;
						var v_package_1885;
						v_package_1885 = ((v_captures_1880 || (v_captures_1880 = new p5HashRef({})))._hash_.p5hget('__PKG__'));
						var v_current_package_1886;
						v_current_package_1886 = ('main');
						(function () {
							var v_var_id_1887;
							(function(){ var v_var_id_1887; p5for_lex(function (v) { v_var_id_1887 = v }, function () {
									p5and((p5str(v_var_id_1887) == '__PKG__'), function () {
										throw(new p5_error("next", ''))
									});
									(function () {
										if ( (p5str(v_var_id_1887) == '__SUB__') ) {
										(function () {
											var v_sub_id_1888;
											v_sub_id_1888 = ((v_captures_1880 || (v_captures_1880 = new p5HashRef({})))._hash_.p5hget(p5str(v_var_id_1887)));
											v_ast_1882 = (p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SUBS'] || (p5make_package('Perlito5')['Hash_BEGIN_SUBS'] = {}), 'Perlito5']['Hash_BEGIN_SUBS'].p5hget(p5str(v_sub_id_1888)));
											p5and((v_ast_1882 || (v_ast_1882 = new p5HashRef({})))._hash_.p5hget('name'), function () {
												return v_sub_name_1884 = ((p5str((v_ast_1882 || (v_ast_1882 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::' + p5str((v_ast_1882 || (v_ast_1882 = new p5HashRef({})))._hash_.p5hget('name'))))
											});
											v_source_1883 = (v_ast_1882);
										})();
									}
									else {
										(function () {
											var v_var_1889;
											v_var_1889 = (p5pkg[p5make_package('Perlito5')['Hash_BEGIN_LEXICALS'] || (p5make_package('Perlito5')['Hash_BEGIN_LEXICALS'] = {}), 'Perlito5']['Hash_BEGIN_LEXICALS'].p5hget(p5str(v_var_id_1887)));
											v_var_1889 = (p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_var_1889 || (v_var_1889 = new p5HashRef({}))), 'Perlito5::DumpToAST'), 'sigil', p5or((v_var_1889 || (v_var_1889 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
	return (v_var_1889 || (v_var_1889 = new p5HashRef({})))._hash_.p5hget('sigil')
})]), ""));
											var v_decl_1890;
											v_decl_1890 = (p5or((v_var_1889 || (v_var_1889 = new p5HashRef({})))._hash_.p5hget('_decl'), function () {
														return 'my'
													}));
											(function () {
												if ( (p5str(v_decl_1890) == 'our') ) {
												(function () {
													var v_var_namespace_1891;
													v_var_namespace_1891 = (p5or((v_var_1889 || (v_var_1889 = new p5HashRef({})))._hash_.p5hget('_namespace'), function () {
																return (v_var_1889 || (v_var_1889 = new p5HashRef({})))._hash_.p5hget('namespace')
															}));
													(function () {
														if ( (p5str(v_var_namespace_1891) != p5str(v_current_package_1886)) ) {
														List_vars_1881.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'package', 'namespace', v_var_namespace_1891, 'arguments', (new p5ArrayRef([]))]), 1)]));
														v_current_package_1886 = (v_var_namespace_1891);
													}
													})();
													List_vars_1881.p5push(p5list_to_a([p5call('Perlito5::AST::Decl', 'new', p5list_to_a(['attributes', (new p5ArrayRef([])), 'decl', v_decl_1890, 'type', '', 'var', v_var_1889]), 1)]));
												})();
											}
											else {
												List_vars_1881.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Decl', 'new', p5list_to_a(['attributes', (new p5ArrayRef([])), 'decl', v_decl_1890, 'type', '', 'var', v_var_1889]), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast_deref(p5list_to_a([(v_captures_1880 || (v_captures_1880 = new p5HashRef({})))._hash_.p5hget(p5str(v_var_id_1887)), v_seen_1868, v_pos_1869]), 1)])))]), 1)]));
											}
											})();
										})();
									}
									})();
								}, p5list_to_a([p5sort(p5pkg['Perlito5::DumpToAST'], function (p5want) {
									return (p5cmp(p5str(p5make_package('Perlito5::DumpToAST')['v_a']), p5str(p5make_package('Perlito5::DumpToAST')['v_b'])));
								}, p5list_to_a([p5pkg['Perlito5::DumpToAST'].keys([p5hash_deref((v_captures_1880 || (v_captures_1880 = new p5HashRef({}))), 'Perlito5::DumpToAST')], 1)]))]), false, '') })()
						})();
						(function () {
							if ( (p5str(v_package_1885) != p5str(v_current_package_1886)) ) {
							List_vars_1881.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'package', 'namespace', v_package_1885, 'arguments', (new p5ArrayRef([]))]), 1)]));
							v_current_package_1886 = (v_package_1885);
						}
						})();
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (new p5ArrayRef(p5list_to_a([List_vars_1881, v_source_1883])))]), 1)])))]), p5want));
					})();
				}
				else (function () {
					if ( (p5str(v_ref_1870) == 'Regexp') ) {
					(function () {
						var v_regex_1892;
						v_regex_1892 = (v_ref_1870);
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'p5:qr', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_regex_1892], 1), p5call('Perlito5::AST::Buf', 'new', ['buf', ''], 1)])))]), p5want));
					})();
				}
				})()
				})()
				})()
				})()
				})();
				var List_out_1893 = [];
				(function () {
					var v_i_1894;
					(function(){ var v_i_1894; p5for_lex(function (v) { v_i_1894 = v }, function () {
							var v_here_1895;
							v_here_1895 = (p5pkg['Perlito5::AST::Lookup'].LOOKUP(p5list_to_a([v_pos_1869, p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1894], 1)]), ""));
							List_out_1893.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1894], 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_obj_1867 || (v_obj_1867 = new p5HashRef({})))._hash_.p5hget(p5str(v_i_1894)), v_seen_1868, v_here_1895]), 1)])))]), 1)]));
						}, p5list_to_a([p5sort(p5pkg['Perlito5::DumpToAST'], function (p5want) {
							return (p5cmp(p5str(p5make_package('Perlito5::DumpToAST')['v_a']), p5str(p5make_package('Perlito5::DumpToAST')['v_b'])));
						}, p5list_to_a([p5pkg['Perlito5::DumpToAST'].keys([p5hash_deref((v_obj_1867 || (v_obj_1867 = new p5HashRef({}))), 'Perlito5::DumpToAST')], 1)]))]), false, '') })()
				})();
				return (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'bless', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<{ }>', 'arguments', (new p5ArrayRef(List_out_1893))]), 1), p5call('Perlito5::AST::Buf', 'new', ['buf', v_ref_1870], 1)])))]), p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3245._prototype_ = null;
		return tmp3245
	})());
	p5typeglob_set('Perlito5::DumpToAST', 'dump_to_ast_deref', (function () {
		var tmp3249;
		tmp3249 = function (List__, p5want) {
			try {
				var v_obj_1896;
				var v_seen_1897;
				var v_pos_1898;
				(function () {
					var tmp3250 = p5list_to_a([List__]);
					var tmp3251 = tmp3250.slice(0);
					v_obj_1896 = tmp3250.shift();
					v_seen_1897 = tmp3250.shift();
					v_pos_1898 = tmp3250.shift();
					return tmp3251
				})();
				var v_ref_1899;
				v_ref_1899 = (p5pkg['Perlito5::DumpToAST'].ref([v_obj_1896], ""));
				p5and(!( p5bool(v_ref_1899)), function () {
					throw(p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([List__]), p5want))
				});
				(function () {
					if ( (p5str(v_ref_1899) == 'ARRAY') ) {
					(function () {
						p5or(p5num(p5array_deref((v_obj_1896 || (v_obj_1896 = new p5ArrayRef([]))), 'Perlito5::DumpToAST')), function () {
							throw(p5context(['()'], p5want))
						});
						var List_out_1900 = [];
						(function () {
							var v_i_1901;
							(function(){ var v_i_1901; p5for_lex(function (v) { v_i_1901 = v }, function () {
									var v_here_1902;
									v_here_1902 = (p5pkg['Perlito5::AST::Index'].INDEX(p5list_to_a([v_pos_1898, p5call('Perlito5::AST::Int', 'new', ['int', v_i_1901], 1)]), ""));
									List_out_1900.p5push(p5list_to_a([p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_obj_1896 || (v_obj_1896 = new p5ArrayRef([])))._array_.p5aget(p5num(v_i_1901)), v_seen_1897, v_here_1902]), 1)]));
								}, p5list_to_a([p5range(0, (p5array_deref((v_obj_1896 || (v_obj_1896 = new p5ArrayRef([]))), 'Perlito5::DumpToAST').length - 1), 1, "tmp3252", 0)]), false, '') })()
						})();
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<( )>', 'arguments', (new p5ArrayRef(List_out_1900))]), p5want));
					})();
				}
				else (function () {
					if ( (p5str(v_ref_1899) == 'HASH') ) {
					(function () {
						p5or(p5pkg['Perlito5::DumpToAST'].keys([p5hash_deref((v_obj_1896 || (v_obj_1896 = new p5HashRef({}))), 'Perlito5::DumpToAST')], ""), function () {
							throw(p5context(['()'], p5want))
						});
						var List_out_1903 = [];
						(function () {
							var v_i_1904;
							(function(){ var v_i_1904; p5for_lex(function (v) { v_i_1904 = v }, function () {
									var v_here_1905;
									v_here_1905 = (p5pkg['Perlito5::AST::Lookup'].LOOKUP(p5list_to_a([v_pos_1898, p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1904], 1)]), ""));
									List_out_1903.p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Buf', 'new', ['buf', v_i_1904], 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_obj_1896 || (v_obj_1896 = new p5HashRef({})))._hash_.p5hget(p5str(v_i_1904)), v_seen_1897, v_here_1905]), 1)])))]), 1)]));
								}, p5list_to_a([p5sort(p5pkg['Perlito5::DumpToAST'], function (p5want) {
									return (p5cmp(p5str(p5make_package('Perlito5::DumpToAST')['v_a']), p5str(p5make_package('Perlito5::DumpToAST')['v_b'])));
								}, p5list_to_a([p5pkg['Perlito5::DumpToAST'].keys([p5hash_deref((v_obj_1896 || (v_obj_1896 = new p5HashRef({}))), 'Perlito5::DumpToAST')], 1)]))]), false, '') })()
						})();
						throw(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'circumfix:<( )>', 'arguments', (new p5ArrayRef(List_out_1903))]), p5want));
					})();
				}
				else (function () {
					if ( ((p5str(v_ref_1899) == 'SCALAR') || (p5str(v_ref_1899) == 'REF')) ) {
					(function () {
						var v_here_1906;
						v_here_1906 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<$>', 'arguments', (new p5ArrayRef([v_pos_1898]))]), ""));
						throw(p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([p5scalar_deref(v_obj_1896, 'Perlito5::DumpToAST', ""), v_seen_1897, v_here_1906]), p5want));
					})();
				}
				})()
				})()
				})();
				return (p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_obj_1896, v_seen_1897, v_pos_1898], p5want));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3249._prototype_ = null;
		return tmp3249
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::CompileTime::Dumper');
	p5typeglob_set('Perlito5::CompileTime::Dumper', '_dump_AST_from_scope', (function () {
		var tmp3253;
		tmp3253 = function (List__, p5want) {
			try {
				var v_name_1907;
				var v_item_1908;
				var v_vars_1909;
				var v_dumper_seen_1910;
				(function () {
					var tmp3254 = p5list_to_a([List__]);
					var tmp3255 = tmp3254.slice(0);
					v_name_1907 = tmp3254.shift();
					v_item_1908 = tmp3254.shift();
					v_vars_1909 = tmp3254.shift();
					v_dumper_seen_1910 = tmp3254.shift();
					return tmp3255
				})();
				var v_sigil_1911;
				v_sigil_1911 = (p5str(v_name_1907).substr(0, 1));
				(function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_item_1908], "") == 'Perlito5::AST::Sub') && p5bool((v_item_1908 || (v_item_1908 = new p5HashRef({})))._hash_.p5hget('name'))) ) {
					throw(p5context([], p5want));
				}
				})();
				(function () {
					if ( (p5str(v_name_1907).substr(7, 1) < 'A') ) {
					v_name_1907 = ((p5str(v_sigil_1911) + '{' + p5str(p5pkg['Perlito5::Dumper'].escape_string([CORE.substr([v_name_1907, 1], 1)], "")) + '}'));
				}
				})();
				var v_ast_1912;
				v_ast_1912 = ((v_item_1908 || (v_item_1908 = new p5HashRef({})))._hash_.p5hget('ast'));
				(function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_ast_1912], "") == 'Perlito5::AST::Var') && (p5str((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('_decl')) == 'our')) ) {
					v_ast_1912 = (p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', p5or((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
	return (v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('sigil')
}), 'namespace', p5or((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
	return (v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('_namespace')
}), 'decl', 'global']), ""));
					v_name_1907 = ((p5str((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('sigil')) + p5str((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::' + p5str((v_ast_1912 || (v_ast_1912 = new p5HashRef({})))._hash_.p5hget('name'))));
				}
				})();
				var v_bareword_1913;
				v_bareword_1913 = (CORE.substr([v_name_1907, 1], ""));
				return (function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_ast_1912], "") == 'Perlito5::AST::Var') && (p5str(v_sigil_1911) == '$')) ) {
					var v_value_1914;
					v_value_1914 = (p5scalar_deref(v_bareword_1913, 'Perlito5::CompileTime::Dumper', ""));
					p5and(!( (v_value_1914 != null)), function () {
						throw(p5context([], p5want))
					});
					return (p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([v_ast_1912, p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1914, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)])));
				}
				else return (function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_ast_1912], "") == 'Perlito5::AST::Var') && (p5str(v_sigil_1911) == '@')) ) {
					p5and((p5str(v_bareword_1913).substr(0, 2) == '{' + String.fromCharCode(39)), function () {
						return v_bareword_1913 = (CORE.substr(p5list_to_a([v_bareword_1913, 2, p5negative( 2)]), ""))
					});
					var v_value_1915;
					v_value_1915 = ((new p5ArrayRef(p5array_deref((v_bareword_1913 || (v_bareword_1913 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper'))));
					return (p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1915, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)])));
				}
				else return (function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_ast_1912], "") == 'Perlito5::AST::Var') && (p5str(v_sigil_1911) == '%')) ) {
					var v_value_1916;
					v_value_1916 = ((new p5HashRef(p5hash_deref((v_bareword_1913 || (v_bareword_1913 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'))));
					return (p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1916, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)])));
				}
				else return (function () {
					if ( ((p5pkg['Perlito5::CompileTime::Dumper'].ref([v_ast_1912], "") == 'Perlito5::AST::Var') && (p5str(v_sigil_1911) == '*')) ) {
					p5and((p5str(v_bareword_1913).substr(0, 2) == '{' + String.fromCharCode(39)), function () {
						return v_bareword_1913 = (CORE.substr(p5list_to_a([v_bareword_1913, 2, p5negative( 2)]), ""))
					});
					(function () {
						if ( p5sub_exists(p5str(v_bareword_1913), 'Perlito5::CompileTime::Dumper') ) {
						(function () {
							var v_value_1917;
							v_value_1917 = (p5code_lookup_by_name('Perlito5::CompileTime::Dumper', v_bareword_1913));
							p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1917, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)]));
						})();
					}
					})();
					(function () {
						if ( (p5scalar_deref(v_bareword_1913, 'Perlito5::CompileTime::Dumper', "") != null) ) {
						(function () {
							var v_value_1918;
							v_value_1918 = ((new p5ScalarRef(p5scalar_deref(v_bareword_1913, 'Perlito5::CompileTime::Dumper', ""))));
							p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1918, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)]));
						})();
					}
					})();
					(function () {
						if ( p5bool(p5num(p5array_deref((v_bareword_1913 || (v_bareword_1913 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper'))) ) {
						(function () {
							var v_value_1919;
							v_value_1919 = ((new p5ArrayRef(p5array_deref((v_bareword_1913 || (v_bareword_1913 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper'))));
							p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1919, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)]));
						})();
					}
					})();
					return (function () {
						if ( p5bool(p5pkg['Perlito5::CompileTime::Dumper'].keys([p5hash_deref((v_bareword_1913 || (v_bareword_1913 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper')], "")) ) {
						var v_value_1920;
						v_value_1920 = ((new p5HashRef(p5hash_deref((v_bareword_1913 || (v_bareword_1913 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'))));
						return (p5array_deref((v_vars_1909 || (v_vars_1909 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'infix:<=>', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_ast_1912 || (v_ast_1912 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper'), 'sigil', '*']), 1), p5pkg['Perlito5::DumpToAST'].dump_to_ast([v_value_1920, v_dumper_seen_1910, v_ast_1912], 1)])))]), 1)])));
					}
					})()
				}
				})()
				})()
				})()
				})()
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		};
		tmp3253._prototype_ = null;
		return tmp3253
	})());
	p5typeglob_set('Perlito5::CompileTime::Dumper', 'emit_globals_after_BEGIN', (function () {
		var tmp3256;
		tmp3256 = function (List__, p5want) {
			var local_idx = p5LOCAL.length;
			var v_scope_1921;
			v_scope_1921 = (p5defined_or(List__.shift(), function () {
							return p5make_package('Perlito5')['v_GLOBAL']
						}));
			var v_vars_1922;
			v_vars_1922 = ((new p5ArrayRef([])));
			var v_seen_1923;
			v_seen_1923 = ((new p5HashRef({})));
			var v_dumper_seen_1924;
			v_dumper_seen_1924 = ((new p5HashRef({})));
			var v_tab_1925;
			v_tab_1925 = ('');
			(delete v_scope_1921._hash_['%main::ENV']);
			(delete v_scope_1921._hash_['$main::]']);
			(delete v_scope_1921._hash_['$main::ARGV']);
			(delete v_scope_1921._hash_['@main::_']);
			(function () {
					var v_tmp3257_3258 = p5make_package('main')['v__'];
					p5LOCAL.push(function(){ p5make_package('main')['v__'] = v_tmp3257_3258 });
					return (p5make_package('main')['v__'] = (null));
				})();
			p5make_package('main')['v__'];
			(function () {
					var v_v_1927;
					(function(){ var v_v_1927; p5for_lex(function (v) { v_v_1927 = v }, function () {
							var v_sigil_1928;
							var v_namespace_1929;
							var v_name_1930;
							(function () {
								var tmp3259 = p5list_to_a([p5m(v_v_1927, '^([$@%])(' + String.fromCharCode(92) + 'w+)::(.*)$', '', 1)]);
								var tmp3260 = tmp3259.slice(0);
								v_sigil_1928 = tmp3259.shift();
								v_namespace_1929 = tmp3259.shift();
								v_name_1930 = tmp3259.shift();
								return tmp3260
							})();
							(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset(p5str(v_v_1927), (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget(p5str(v_v_1927)), function () {
										return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', p5call('Perlito5::AST::Var', 'new', ['name', v_name_1930, 'sigil', v_sigil_1928, '_decl', 'global', 'namespace', v_namespace_1929], 1)]))))
									})));
						}, ['$main::0', '$main::a', '$main::b', '$main::_'], false, '') })()
				})();
			(function () {
					var v_pkg_1931;
					(function(){ var v_pkg_1931; p5for_lex(function (v) { v_pkg_1931 = v }, function () {
							(function () {
								if ( p5bool(p5num(p5array_deref((p5str(v_pkg_1931) + '::ISA'), 'Perlito5::CompileTime::Dumper'))) ) {
								(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset(('@' + p5str(v_pkg_1931) + '::ISA'), (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget(('@' + p5str(v_pkg_1931) + '::ISA')), function () {
											return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', p5call('Perlito5::AST::Var', 'new', ['name', 'ISA', 'sigil', '@', '_decl', 'global', 'namespace', v_pkg_1931], 1), 'value', (new p5ArrayRef(p5array_deref((p5str(v_pkg_1931) + '::ISA'), 'Perlito5::CompileTime::Dumper')))]))))
										})));
							}
							})();
						}, p5list_to_a([p5pkg['Perlito5::CompileTime::Dumper'].keys([p5hash_deref((p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper')], 1)]), false, '') })()
				})();
			(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset('@Perlito5::END_BLOCK', (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget('@Perlito5::END_BLOCK'), function () {
							return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', p5call('Perlito5::AST::Var', 'new', ['namespace', 'Perlito5', 'name', 'END_BLOCK', 'sigil', '@', '_decl', 'global'], 1), 'value', (new p5ArrayRef(p5pkg[p5make_package('Perlito5')['List_END_BLOCK'] || (p5make_package('Perlito5')['List_END_BLOCK'] = []), 'Perlito5']['List_END_BLOCK']))]))))
						})));
			(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset('@Perlito5::INIT_BLOCK', (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget('@Perlito5::INIT_BLOCK'), function () {
							return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', p5call('Perlito5::AST::Var', 'new', ['namespace', 'Perlito5', 'name', 'INIT_BLOCK', 'sigil', '@', '_decl', 'global'], 1), 'value', (new p5ArrayRef(p5pkg[p5make_package('Perlito5')['List_INIT_BLOCK'] || (p5make_package('Perlito5')['List_INIT_BLOCK'] = []), 'Perlito5']['List_INIT_BLOCK']))]))))
						})));
			(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset('%Perlito5::DATA_SECTION', (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget('%Perlito5::DATA_SECTION'), function () {
							return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', p5call('Perlito5::AST::Var', 'new', ['namespace', 'Perlito5', 'name', 'DATA_SECTION', 'sigil', '%', '_decl', 'global'], 1), 'value', (new p5HashRef(p5pkg[p5make_package('Perlito5')['Hash_DATA_SECTION'] || (p5make_package('Perlito5')['Hash_DATA_SECTION'] = {}), 'Perlito5']['Hash_DATA_SECTION']))]))))
						})));
			(function () {
					var v_id_1932;
					(function(){ var v_id_1932; p5for_lex(function (v) { v_id_1932 = v }, function () {
							var v_ast_1933;
							v_ast_1933 = (p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD'].p5hget(p5str(v_id_1932)));
							var v_sigil_1934;
							v_sigil_1934 = (p5or((v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
										return (v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('sigil')
									}));
							(function () {
								if ( !( p5bool((v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('namespace'))) ) {
								(v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hset('namespace', ('Perlito5::BEGIN'));
								(v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hset('name', (('_' + p5str(v_id_1932) + '_' + p5str((v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('name')))));
							}
							})();
							var v_fullname_1935;
							v_fullname_1935 = ((p5str((v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::' + p5str((v_ast_1933 || (v_ast_1933 = new p5HashRef({})))._hash_.p5hget('name'))));
							(function () {
								if ( (p5str(v_sigil_1934) == '$') ) {
								(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset((p5str(v_sigil_1934) + p5str(v_fullname_1935)), (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget((p5str(v_sigil_1934) + p5str(v_fullname_1935))), function () {
											return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', v_ast_1933, 'value', (new p5ScalarRef(p5scalar_deref(v_fullname_1935, 'Perlito5::CompileTime::Dumper', "")))]))))
										})));
							}
							else (function () {
								if ( (p5str(v_sigil_1934) == '@') ) {
								(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset((p5str(v_sigil_1934) + p5str(v_fullname_1935)), (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget((p5str(v_sigil_1934) + p5str(v_fullname_1935))), function () {
											return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', v_ast_1933, 'value', (new p5ArrayRef(p5array_deref((v_fullname_1935 || (v_fullname_1935 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper')))]))))
										})));
							}
							else (function () {
								if ( (p5str(v_sigil_1934) == '%') ) {
								(v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hset((p5str(v_sigil_1934) + p5str(v_fullname_1935)), (p5defined_or((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget((p5str(v_sigil_1934) + p5str(v_fullname_1935))), function () {
											return (new p5HashRef(p5a_to_h(p5list_to_a(['ast', v_ast_1933, 'value', (new p5HashRef(p5hash_deref((v_fullname_1935 || (v_fullname_1935 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper')))]))))
										})));
							}
							})()
							})()
							})();
						}, p5list_to_a([p5pkg['Perlito5::CompileTime::Dumper'].keys([p5pkg[p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] || (p5make_package('Perlito5')['Hash_BEGIN_SCRATCHPAD'] = {}), 'Perlito5']['Hash_BEGIN_SCRATCHPAD']], 1)]), false, '') })()
				})();
			var v_vars_1936;
			v_vars_1936 = ((new p5ArrayRef([])));
			var v_dumper_seen_1937;
			v_dumper_seen_1937 = ((new p5HashRef({})));
			(function () {
					var v_fullname_1938;
					(function(){ var v_fullname_1938; p5for_lex(function (v) { v_fullname_1938 = v }, function () {
							var v_proto_1939;
							v_proto_1939 = ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hget(p5str(v_fullname_1938)));
							var List_parts_1940 = [];
							List_parts_1940 = p5list_to_a([CORE.split(['::', v_fullname_1938], 1)]);
							var v_name_1941;
							v_name_1941 = (List_parts_1940.pop());
							p5array_deref((v_vars_1936 || (v_vars_1936 = new p5ArrayRef([]))), 'Perlito5::CompileTime::Dumper').p5push(p5list_to_a([p5call('Perlito5::AST::Sub', 'new', p5list_to_a(['namespace', p5pkg['Perlito5::CompileTime::Dumper'].join(['::'].concat(p5list_to_a([List_parts_1940])), 1), 'sig', v_proto_1939, 'name', v_name_1941, 'block', null, 'attributes', (new p5ArrayRef([]))]), 1)]));
						}, p5list_to_a([p5sort(p5pkg['Perlito5::CompileTime::Dumper'], function (p5want) {
							return (p5cmp(p5str(p5make_package('Perlito5::CompileTime::Dumper')['v_a']), p5str(p5make_package('Perlito5::CompileTime::Dumper')['v_b'])));
						}, p5list_to_a([p5pkg['Perlito5::CompileTime::Dumper'].keys([p5hash_deref((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper')], 1)]))]), false, '') })()
				})();
			(function () {
					var v_name_1942;
					(function(){ var v_name_1942; p5for_lex(function (v) { v_name_1942 = v }, function () {
							var v_item_1943;
							v_item_1943 = ((v_scope_1921 || (v_scope_1921 = new p5HashRef({})))._hash_.p5hget(p5str(v_name_1942)));
							p5pkg['Perlito5::CompileTime::Dumper']._dump_AST_from_scope([v_name_1942, v_item_1943, v_vars_1936, v_dumper_seen_1937], null);
						}, p5list_to_a([p5sort(p5pkg['Perlito5::CompileTime::Dumper'], function (p5want) {
							return (p5cmp(p5str(p5make_package('Perlito5::CompileTime::Dumper')['v_a']), p5str(p5make_package('Perlito5::CompileTime::Dumper')['v_b'])));
						}, p5list_to_a([p5pkg['Perlito5::CompileTime::Dumper'].keys([p5hash_deref((v_scope_1921 || (v_scope_1921 = new p5HashRef({}))), 'Perlito5::CompileTime::Dumper')], 1)]))]), false, '') })()
				})();
			return p5cleanup_local(local_idx, (p5context([v_vars_1936], p5want)));
			p5cleanup_local(local_idx, null);
		};
		tmp3256._prototype_ = null;
		return tmp3256
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::Compiler');
	p5typeglob_set('Perlito5::Compiler', 'compiler_name', (function () {
		var tmp3261;
		tmp3261 = function (List__, p5want) {
			return (p5context(['Perlito5'], p5want));
		};
		tmp3261._prototype_ = null;
		return tmp3261
	})());
	p5typeglob_set('Perlito5::Compiler', 'do_not_edit', (function () {
		var tmp3262;
		tmp3262 = function (List__, p5want) {
			var v_prefix_1944;
			v_prefix_1944 = (List__.shift());
			return (p5context([(p5str(v_prefix_1944) + ' Do not edit this file - Generated by ' + p5str(p5pkg['Perlito5::Compiler'].compiler_name([], "")) + (' ' + p5str(p5make_package('Perlito5')['v_VERSION']) + String.fromCharCode(10)))], p5want));
		};
		tmp3262._prototype_ = null;
		return tmp3262
	})());
	p5typeglob_set('Perlito5::Compiler', 'error', (function () {
		var tmp3263;
		tmp3263 = function (List__, p5want) {
			return (p5pkg['Perlito5::Compiler'].die([].concat([(p5pkg['Perlito5::Compiler'].join([''].concat(p5list_to_a([List__])), "") + ' at ' + p5str(p5make_package('Perlito5')['v_FILE_NAME']) + ' line ' + p5str(p5make_package('Perlito5')['v_LINE_NUMBER']) + String.fromCharCode(10))]), p5want));
		};
		tmp3263._prototype_ = null;
		return tmp3263
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5::AST::Apply');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Apply', '_emit_assignment_javascript2', (function () {
				var tmp3264;
				tmp3264 = function (List__, p5want) {
					try {
						var v_parameters_1945;
						var v_arguments_1946;
						var v_level_1947;
						var v_wantarray_1948;
						(function () {
							var tmp3265 = p5list_to_a([List__]);
							var tmp3266 = tmp3265.slice(0);
							v_parameters_1945 = tmp3265.shift();
							v_arguments_1946 = tmp3265.shift();
							v_level_1947 = tmp3265.shift();
							v_wantarray_1948 = tmp3265.shift();
							return tmp3266
						})();
						(function () {
							if ( (p5bool(p5call(v_parameters_1945, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_parameters_1945, 'code', [], "")) == 'my') || ((p5str(p5call(v_parameters_1945, 'code', [], "")) == 'local') || (p5str(p5call(v_parameters_1945, 'code', [], "")) == 'circumfix:<( )>')))) ) {
							(function () {
								var v_tmp_1949;
								v_tmp_1949 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
								var v_tmp2_1950;
								v_tmp2_1950 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
								throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_1947, v_wantarray_1948, ('var ' + p5str(v_tmp_1949) + ' = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_arguments_1946])), (p5num(v_level_1947) + 1)]), "")) + ';'), ('var ' + p5str(v_tmp2_1950) + ' = ' + p5str(v_tmp_1949) + '.slice(0);'), p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
										return ((p5str(p5call(p5make_package('main')['v__'], 'emit_javascript2_set_list', [(p5num(v_level_1947) + 1), v_tmp_1949], "")) + ';'));
									}, p5list_to_a([p5array_deref(p5call(v_parameters_1945, 'arguments', [], p5want), 'Perlito5::AST::Apply')])), ('return ' + p5str(v_tmp2_1950))]), p5want));
							})();
						}
						})();
						return (p5call(v_parameters_1945, 'emit_javascript2_set', [v_arguments_1946, (p5num(v_level_1947) + 1), v_wantarray_1948], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3264._prototype_ = null;
				return tmp3264
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_regex_javascript2', (function () {
				var tmp3267;
				tmp3267 = function (List__, p5want) {
					try {
						var v_op_1951;
						v_op_1951 = (List__.shift());
						var v_var_1952;
						v_var_1952 = (List__.shift());
						var v_regex_1953;
						v_regex_1953 = (List__.shift());
						var v_level_1954;
						v_level_1954 = (List__.shift());
						var v_wantarray_1955;
						v_wantarray_1955 = (List__.shift());
						v_regex_1953 = (p5pkg['Perlito5::Macro'].preprocess_regex([v_regex_1953], ""));
						var v_str_1956;
						var v_code_1957;
						v_code_1957 = ((v_regex_1953 || (v_regex_1953 = new p5HashRef({})))._hash_.p5hget('code'));
						var v_regex_args_1958;
						v_regex_args_1958 = ((v_regex_1953 || (v_regex_1953 = new p5HashRef({})))._hash_.p5hget('arguments'));
						(function () {
							if ( (p5str(v_code_1957) == 'p5:s') ) {
							(function () {
								var v_replace_1959;
								v_replace_1959 = ((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget(1));
								var v_modifier_1960;
								v_modifier_1960 = ((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget_hash(2)._hash_.p5hget('buf'));
								var v_fun_1961;
								(function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([v_replace_1959], "") == 'Perlito5::AST::Block') ) {
									var local_idx = p5LOCAL.length;
									var regex_tmp = p5_regex_capture;
									p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });
									v_replace_1959 = (p5call('Perlito5::AST::Sub', 'new', ['block', v_replace_1959], ""));
									v_fun_1961 = (p5call(v_replace_1959, 'emit_javascript2', [(p5num(v_level_1954) + 2), v_wantarray_1955], ""));
									(function () {
											var tmp = p5s(v_modifier_1960, 'e', function () {
												return ''
											}, 'g', 0);
											v_modifier_1960 = tmp[0];
											return tmp[1];
										})();
									p5cleanup_local(local_idx, null);
								}
								else {
									v_fun_1961 = (p5pkg['Perlito5::JavaScript2'].emit_function_javascript2([(p5num(v_level_1954) + 2), v_wantarray_1955, v_replace_1959], ""));
								}
								})();
								v_str_1956 = (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([(p5num(v_level_1954) + 1), v_wantarray_1955, ('var tmp = p5s(' + p5str(p5call(v_var_1952, 'emit_javascript2', [], "")) + ', ' + p5str(p5call((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget(0), 'emit_javascript2', [], "")) + ', ' + p5str(v_fun_1961) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_modifier_1960], "")) + ', ' + p5str(( (p5str(v_wantarray_1955) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_1955) == 'list') ? 1 : 0))) + ');'), (p5str(p5call(v_var_1952, 'emit_javascript2', [], "")) + ' = tmp[0];'), 'return tmp[1];'], ""));
							})();
						}
						else (function () {
							if ( (p5str(v_code_1957) == 'p5:m') ) {
							v_str_1956 = (('p5m(' + p5str(p5call(v_var_1952, 'emit_javascript2', [], "")) + ', ' + p5str(p5call((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget(0), 'emit_javascript2', [], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget_hash(1)._hash_.p5hget('buf')]), "")) + ', ' + p5str(( (p5str(v_wantarray_1955) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_1955) == 'list') ? 1 : 0))) + ')'));
						}
						else (function () {
							if ( (p5str(v_code_1957) == 'p5:tr') ) {
							v_str_1956 = (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([(p5num(v_level_1954) + 1), v_wantarray_1955, ('var tmp = p5tr(' + p5str(p5call(v_var_1952, 'emit_javascript2', [], "")) + ', ' + p5str(p5call((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget(0), 'emit_javascript2', [], "")) + ', ' + p5str(p5call((v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget(1), 'emit_javascript2', [], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_regex_args_1958 || (v_regex_args_1958 = new p5ArrayRef([])))._array_.p5aget_hash(2)._hash_.p5hget('buf')]), "")) + ', ' + p5str(( (p5str(v_wantarray_1955) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_1955) == 'list') ? 1 : 0))) + ');'), (p5str(p5call(v_var_1952, 'emit_javascript2', [], "")) + ' = tmp[0];'), 'return tmp[1];'], ""));
						}
						else {
							p5pkg['Perlito5::AST::Apply'].die([].concat([('Error: regex emitter - unknown operator ' + p5str(v_code_1957))]), null);
						}
						})()
						})()
						})();
						(function () {
							if ( (p5str(v_op_1951) == '=~') ) {
							throw(p5context([v_str_1956], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_op_1951) == '!~') ) {
							throw(p5context([('!(' + p5str(v_str_1956) + ')')], p5want));
						}
						})();
						return (p5pkg['Perlito5::AST::Apply'].die([].concat(['Error: regex emitter']), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3267._prototype_ = null;
				return tmp3267
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_javascript2_set', (function () {
				var tmp3268;
				tmp3268 = function (List__, p5want) {
					try {
						var v_self_1962;
						var v_arguments_1963;
						var v_level_1964;
						var v_wantarray_1965;
						(function () {
							var tmp3269 = p5list_to_a([List__]);
							var tmp3270 = tmp3269.slice(0);
							v_self_1962 = tmp3269.shift();
							v_arguments_1963 = tmp3269.shift();
							v_level_1964 = tmp3269.shift();
							v_wantarray_1965 = tmp3269.shift();
							return tmp3270
						})();
						var v_code_1966;
						v_code_1966 = ((v_self_1962 || (v_self_1962 = new p5HashRef({})))._hash_.p5hget('code'));
						(function () {
							if ( (p5str(v_code_1966) == 'prefix:<$>') ) {
							throw(p5context([('p5scalar_deref_set(' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_1962 || (v_self_1962 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), (p5num(v_level_1964) + 1), 'scalar']), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_1963])), (p5num(v_level_1964) + 1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_code_1966) == 'prefix:<*>') ) {
							throw(p5context([('p5typeglob_deref_set(' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(v_self_1962 || (v_self_1962 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_1964) + 1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_1963])), (p5num(v_level_1964) + 1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want));
						}
						})();
						var v_open_1967;
						v_open_1967 = (( (p5str(v_wantarray_1965) == 'void') ? '' : '('));
						var v_close_1968;
						v_close_1968 = (( (p5str(v_wantarray_1965) == 'void') ? '' : ')'));
						return (p5context([(p5str(v_open_1967) + p5str(p5call(v_self_1962, 'emit_javascript2', [(p5num(v_level_1964) + 1)], "")) + ' = ' + p5str(p5call(v_arguments_1963, 'emit_javascript2', [(p5num(v_level_1964) + 1)], "")) + p5str(v_close_1968))], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3268._prototype_ = null;
				return tmp3268
			})());
			var Hash_emit_js_1969 = {};
			Hash_emit_js_1969 = p5a_to_h(['infix:<=~>', (function () {
						var tmp3514;
						tmp3514 = function (List__, p5want) {
							var v_self_1970;
							var v_level_1971;
							var v_wantarray_1972;
							(function () {
									var tmp3515 = p5list_to_a([List__]);
									var tmp3516 = tmp3515.slice(0);
									v_self_1970 = tmp3515.shift();
									v_level_1971 = tmp3515.shift();
									v_wantarray_1972 = tmp3515.shift();
									return tmp3516
								})();
							return (p5pkg['Perlito5::AST::Apply'].emit_regex_javascript2(p5list_to_a(['=~', (v_self_1970 || (v_self_1970 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), (v_self_1970 || (v_self_1970 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_1971, v_wantarray_1972]), p5want));
						};
						tmp3514._prototype_ = null;
						return tmp3514
					})(), 'infix:<!~>', (function () {
						var tmp3517;
						tmp3517 = function (List__, p5want) {
							var v_self_1973;
							var v_level_1974;
							var v_wantarray_1975;
							(function () {
									var tmp3518 = p5list_to_a([List__]);
									var tmp3519 = tmp3518.slice(0);
									v_self_1973 = tmp3518.shift();
									v_level_1974 = tmp3518.shift();
									v_wantarray_1975 = tmp3518.shift();
									return tmp3519
								})();
							return (p5pkg['Perlito5::AST::Apply'].emit_regex_javascript2(p5list_to_a(['!~', (v_self_1973 || (v_self_1973 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), (v_self_1973 || (v_self_1973 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_1974, v_wantarray_1975]), p5want));
						};
						tmp3517._prototype_ = null;
						return tmp3517
					})(), 'p5:s', (function () {
						var tmp3520;
						tmp3520 = function (List__, p5want) {
							var v_self_1976;
							var v_level_1977;
							var v_wantarray_1978;
							(function () {
									var tmp3521 = p5list_to_a([List__]);
									var tmp3522 = tmp3521.slice(0);
									v_self_1976 = tmp3521.shift();
									v_level_1977 = tmp3521.shift();
									v_wantarray_1978 = tmp3521.shift();
									return tmp3522
								})();
							return (p5pkg['Perlito5::AST::Apply'].emit_regex_javascript2(p5list_to_a(['=~', (v_self_1976 || (v_self_1976 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(3), v_self_1976, v_level_1977, v_wantarray_1978]), p5want));
						};
						tmp3520._prototype_ = null;
						return tmp3520
					})(), 'p5:m', (function () {
						var tmp3523;
						tmp3523 = function (List__, p5want) {
							var v_self_1979;
							var v_level_1980;
							var v_wantarray_1981;
							(function () {
									var tmp3524 = p5list_to_a([List__]);
									var tmp3525 = tmp3524.slice(0);
									v_self_1979 = tmp3524.shift();
									v_level_1980 = tmp3524.shift();
									v_wantarray_1981 = tmp3524.shift();
									return tmp3525
								})();
							return (p5pkg['Perlito5::AST::Apply'].emit_regex_javascript2(p5list_to_a(['=~', (v_self_1979 || (v_self_1979 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(2), v_self_1979, v_level_1980, v_wantarray_1981]), p5want));
						};
						tmp3523._prototype_ = null;
						return tmp3523
					})(), 'p5:tr', (function () {
						var tmp3526;
						tmp3526 = function (List__, p5want) {
							var v_self_1982;
							var v_level_1983;
							var v_wantarray_1984;
							(function () {
									var tmp3527 = p5list_to_a([List__]);
									var tmp3528 = tmp3527.slice(0);
									v_self_1982 = tmp3527.shift();
									v_level_1983 = tmp3527.shift();
									v_wantarray_1984 = tmp3527.shift();
									return tmp3528
								})();
							return (p5pkg['Perlito5::AST::Apply'].emit_regex_javascript2(p5list_to_a(['=~', (v_self_1982 || (v_self_1982 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(3), v_self_1982, v_level_1983, v_wantarray_1984]), p5want));
						};
						tmp3526._prototype_ = null;
						return tmp3526
					})(), 'p5:qr', (function () {
						var tmp3529;
						tmp3529 = function (List__, p5want) {
							var v_self_1985;
							var v_level_1986;
							var v_wantarray_1987;
							(function () {
									var tmp3530 = p5list_to_a([List__]);
									var tmp3531 = tmp3530.slice(0);
									v_self_1985 = tmp3530.shift();
									v_level_1986 = tmp3530.shift();
									v_wantarray_1987 = tmp3530.shift();
									return tmp3531
								})();
							return (p5context([('p5qr(' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_1985 || (v_self_1985 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_1985 || (v_self_1985 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3529._prototype_ = null;
						return tmp3529
					})(), '__PACKAGE__', (function () {
						var tmp3532;
						tmp3532 = function (List__, p5want) {
							var v_self_1988;
							v_self_1988 = (p5list_slice(List__, [0], ""));
							return (p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], p5want));
						};
						tmp3532._prototype_ = null;
						return tmp3532
					})(), '__SUB__', (function () {
						var tmp3533;
						tmp3533 = function (List__, p5want) {
							var v_self_1989;
							v_self_1989 = (p5list_slice(List__, [0], ""));
							return (p5defined_or(p5make_package('Perlito5::AST::Sub')['v_SUB_REF'], function () {
										return '__SUB__'
									}));
						};
						tmp3533._prototype_ = null;
						return tmp3533
					})(), 'wantarray', (function () {
						var tmp3534;
						tmp3534 = function (List__, p5want) {
							var v_self_1990;
							v_self_1990 = (p5list_slice(List__, [0], ""));
							return (p5context(['p5want'], p5want));
						};
						tmp3534._prototype_ = null;
						return tmp3534
					})(), 'package', (function () {
						var tmp3535;
						tmp3535 = function (List__, p5want) {
							var v_self_1991;
							v_self_1991 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5make_package(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_1991 || (v_self_1991 = new p5HashRef({})))._hash_.p5hget('namespace')]), "")) + ')')], p5want));
						};
						tmp3535._prototype_ = null;
						return tmp3535
					})(), 'bless', (function () {
						var tmp3536;
						tmp3536 = function (List__, p5want) {
							var v_self_1992;
							var v_level_1993;
							var v_wantarray_1994;
							(function () {
									var tmp3537 = p5list_to_a([List__]);
									var tmp3538 = tmp3537.slice(0);
									v_self_1992 = tmp3537.shift();
									v_level_1993 = tmp3537.shift();
									v_wantarray_1994 = tmp3537.shift();
									return tmp3538
								})();
							var v_class_1995;
							(function () {
									if ( p5bool((v_self_1992 || (v_self_1992 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)) ) {
									v_class_1995 = (p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_1992 || (v_self_1992 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), ""));
								}
								else {
									v_class_1995 = (p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], ""));
								}
								})();
							return (p5context([('CORE.bless(p5list_to_a([' + p5str(p5call((v_self_1992 || (v_self_1992 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_1993, 'scalar'], "")) + ', ' + p5str(v_class_1995) + ']))')], p5want));
						};
						tmp3536._prototype_ = null;
						return tmp3536
					})(), 'infix:<~~>', (function () {
						var tmp3539;
						tmp3539 = function (List__, p5want) {
							var v_self_1996;
							var v_level_1997;
							var v_wantarray_1998;
							(function () {
									var tmp3540 = p5list_to_a([List__]);
									var tmp3541 = tmp3540.slice(0);
									v_self_1996 = tmp3540.shift();
									v_level_1997 = tmp3540.shift();
									v_wantarray_1998 = tmp3540.shift();
									return tmp3541
								})();
							var v_arg0_1999;
							v_arg0_1999 = ((v_self_1996 || (v_self_1996 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							var v_arg1_2000;
							v_arg1_2000 = ((v_self_1996 || (v_self_1996 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1));
							return (p5context([('p5smrt_scalar(' + p5str(p5call(v_arg0_1999, 'emit_javascript2', [v_level_1997, 'scalar'], "")) + ', ' + p5str(p5call(v_arg1_2000, 'emit_javascript2', [v_level_1997, 'scalar'], "")) + ')')], p5want));
						};
						tmp3539._prototype_ = null;
						return tmp3539
					})(), 'infix:<&&>', (function () {
						var tmp3542;
						tmp3542 = function (List__, p5want) {
							var v_self_2001;
							var v_level_2002;
							var v_wantarray_2003;
							(function () {
									var tmp3543 = p5list_to_a([List__]);
									var tmp3544 = tmp3543.slice(0);
									v_self_2001 = tmp3543.shift();
									v_level_2002 = tmp3543.shift();
									v_wantarray_2003 = tmp3543.shift();
									return tmp3544
								})();
							return (p5context([('p5and(' + p5str(p5call((v_self_2001 || (v_self_2001 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2002, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2002, v_wantarray_2003, (v_self_2001 || (v_self_2001 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3542._prototype_ = null;
						return tmp3542
					})(), 'infix:<and>', (function () {
						var tmp3545;
						tmp3545 = function (List__, p5want) {
							var v_self_2004;
							var v_level_2005;
							var v_wantarray_2006;
							(function () {
									var tmp3546 = p5list_to_a([List__]);
									var tmp3547 = tmp3546.slice(0);
									v_self_2004 = tmp3546.shift();
									v_level_2005 = tmp3546.shift();
									v_wantarray_2006 = tmp3546.shift();
									return tmp3547
								})();
							return (p5context([('p5and(' + p5str(p5call((v_self_2004 || (v_self_2004 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2005, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2005, v_wantarray_2006, (v_self_2004 || (v_self_2004 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3545._prototype_ = null;
						return tmp3545
					})(), 'infix:<||>', (function () {
						var tmp3548;
						tmp3548 = function (List__, p5want) {
							var v_self_2007;
							var v_level_2008;
							var v_wantarray_2009;
							(function () {
									var tmp3549 = p5list_to_a([List__]);
									var tmp3550 = tmp3549.slice(0);
									v_self_2007 = tmp3549.shift();
									v_level_2008 = tmp3549.shift();
									v_wantarray_2009 = tmp3549.shift();
									return tmp3550
								})();
							return (p5context([('p5or(' + p5str(p5call((v_self_2007 || (v_self_2007 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2008, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2008, v_wantarray_2009, (v_self_2007 || (v_self_2007 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3548._prototype_ = null;
						return tmp3548
					})(), 'infix:<or>', (function () {
						var tmp3551;
						tmp3551 = function (List__, p5want) {
							var v_self_2010;
							var v_level_2011;
							var v_wantarray_2012;
							(function () {
									var tmp3552 = p5list_to_a([List__]);
									var tmp3553 = tmp3552.slice(0);
									v_self_2010 = tmp3552.shift();
									v_level_2011 = tmp3552.shift();
									v_wantarray_2012 = tmp3552.shift();
									return tmp3553
								})();
							return (p5context([('p5or(' + p5str(p5call((v_self_2010 || (v_self_2010 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2011, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2011, v_wantarray_2012, (v_self_2010 || (v_self_2010 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3551._prototype_ = null;
						return tmp3551
					})(), 'infix:<xor>', (function () {
						var tmp3554;
						tmp3554 = function (List__, p5want) {
							var v_self_2013;
							var v_level_2014;
							var v_wantarray_2015;
							(function () {
									var tmp3555 = p5list_to_a([List__]);
									var tmp3556 = tmp3555.slice(0);
									v_self_2013 = tmp3555.shift();
									v_level_2014 = tmp3555.shift();
									v_wantarray_2015 = tmp3555.shift();
									return tmp3556
								})();
							return (p5context([('p5xor(' + p5str(p5call((v_self_2013 || (v_self_2013 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2014, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2014, v_wantarray_2015, (v_self_2013 || (v_self_2013 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3554._prototype_ = null;
						return tmp3554
					})(), 'infix:<=>>', (function () {
						var tmp3557;
						tmp3557 = function (List__, p5want) {
							var v_self_2016;
							var v_level_2017;
							var v_wantarray_2018;
							(function () {
									var tmp3558 = p5list_to_a([List__]);
									var tmp3559 = tmp3558.slice(0);
									v_self_2016 = tmp3558.shift();
									v_level_2017 = tmp3558.shift();
									v_wantarray_2018 = tmp3558.shift();
									return tmp3559
								})();
							return (p5context([('p5list_to_a([' + p5str(p5call(p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_self_2016 || (v_self_2016 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), ""), 'emit_javascript2', [v_level_2017], "")) + ', ' + p5str(p5call((v_self_2016 || (v_self_2016 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), 'emit_javascript2', [v_level_2017], "")) + '])')], p5want));
						};
						tmp3557._prototype_ = null;
						return tmp3557
					})(), 'infix:<cmp>', (function () {
						var tmp3560;
						tmp3560 = function (List__, p5want) {
							var v_self_2019;
							v_self_2019 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5cmp(' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_str([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2019 || (v_self_2019 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3560._prototype_ = null;
						return tmp3560
					})(), 'infix:<<=>>', (function () {
						var tmp3561;
						tmp3561 = function (List__, p5want) {
							var v_self_2020;
							v_self_2020 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5cmp(' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_num([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2020 || (v_self_2020 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3561._prototype_ = null;
						return tmp3561
					})(), 'infix:<**>', (function () {
						var tmp3562;
						tmp3562 = function (List__, p5want) {
							var v_self_2021;
							v_self_2021 = (p5list_slice(List__, [0], ""));
							return (p5context([('Math.pow(' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_num([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2021 || (v_self_2021 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3562._prototype_ = null;
						return tmp3562
					})(), 'infix:<<<>', (function () {
						var tmp3563;
						tmp3563 = function (List__, p5want) {
							var v_self_2022;
							v_self_2022 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5shift_left(' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_num([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2022 || (v_self_2022 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3563._prototype_ = null;
						return tmp3563
					})(), 'infix:<%>', (function () {
						var tmp3564;
						tmp3564 = function (List__, p5want) {
							var v_self_2023;
							v_self_2023 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5modulo(' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_num([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2023 || (v_self_2023 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3564._prototype_ = null;
						return tmp3564
					})(), 'prefix:<!>', (function () {
						var tmp3565;
						tmp3565 = function (List__, p5want) {
							var v_self_2024;
							v_self_2024 = (List__.shift());
							var v_level_2025;
							v_level_2025 = (List__.shift());
							return (p5context([('!( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_self_2024 || (v_self_2024 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2025]), "")) + ')')], p5want));
						};
						tmp3565._prototype_ = null;
						return tmp3565
					})(), 'prefix:<not>', (function () {
						var tmp3566;
						tmp3566 = function (List__, p5want) {
							try {
								var v_self_2026;
								v_self_2026 = (List__.shift());
								var v_level_2027;
								v_level_2027 = (List__.shift());
								var v_arg_2028;
								v_arg_2028 = (p5array_deref((v_self_2026 || (v_self_2026 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply').pop());
								(function () {
									if ( !( p5bool(v_arg_2028)) ) {
									throw(p5context(['true'], p5want));
								}
								})();
								return (p5context([('!( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool([v_arg_2028, v_level_2027], "")) + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3566._prototype_ = null;
						return tmp3566
					})(), 'prefix:<~>', (function () {
						var tmp3567;
						tmp3567 = function (List__, p5want) {
							var v_self_2029;
							v_self_2029 = (p5list_slice(List__, [0], ""));
							return (p5context([('p5complement( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2029 || (v_self_2029 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + ')')], p5want));
						};
						tmp3567._prototype_ = null;
						return tmp3567
					})(), 'prefix:<->', (function () {
						var tmp3568;
						tmp3568 = function (List__, p5want) {
							var v_self_2030;
							var v_level_2031;
							var v_wantarray_2032;
							(function () {
									var tmp3569 = p5list_to_a([List__]);
									var tmp3570 = tmp3569.slice(0);
									v_self_2030 = tmp3569.shift();
									v_level_2031 = tmp3569.shift();
									v_wantarray_2032 = tmp3569.shift();
									return tmp3570
								})();
							return (p5context([('p5negative( ' + p5str(p5call((v_self_2030 || (v_self_2030 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2031, 'scalar'], "")) + ')')], p5want));
						};
						tmp3568._prototype_ = null;
						return tmp3568
					})(), 'prefix:<+>', (function () {
						var tmp3571;
						tmp3571 = function (List__, p5want) {
							var v_self_2033;
							var v_level_2034;
							var v_wantarray_2035;
							(function () {
									var tmp3572 = p5list_to_a([List__]);
									var tmp3573 = tmp3572.slice(0);
									v_self_2033 = tmp3572.shift();
									v_level_2034 = tmp3572.shift();
									v_wantarray_2035 = tmp3572.shift();
									return tmp3573
								})();
							return (p5context([('(' + p5str(p5call((v_self_2033 || (v_self_2033 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2034, v_wantarray_2035], "")) + ')')], p5want));
						};
						tmp3571._prototype_ = null;
						return tmp3571
					})(), 'require', (function () {
						var tmp3574;
						tmp3574 = function (List__, p5want) {
							try {
								var v_self_2036;
								var v_level_2037;
								var v_wantarray_2038;
								(function () {
									var tmp3575 = p5list_to_a([List__]);
									var tmp3576 = tmp3575.slice(0);
									v_self_2036 = tmp3575.shift();
									v_level_2037 = tmp3575.shift();
									v_wantarray_2038 = tmp3575.shift();
									return tmp3576
								})();
								var v_arg_2039;
								v_arg_2039 = ((v_self_2036 || (v_self_2036 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( p5bool((v_arg_2039 || (v_arg_2039 = new p5HashRef({})))._hash_.p5hget('is_version_string')) ) {
									throw(p5context([('p5pkg["Perlito5"]["test_perl_version"]([' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2036 || (v_self_2036 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + '], ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2038], "")) + ')')], p5want));
								}
								})();
								return (p5context([('p5pkg["Perlito5::Grammar::Use"]["require"]([' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2036 || (v_self_2036 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + ', ' + p5str(( p5bool((v_self_2036 || (v_self_2036 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('bareword')) ? 1 : 0)) + '], ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2038], "")) + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3574._prototype_ = null;
						return tmp3574
					})(), 'select', (function () {
						var tmp3577;
						tmp3577 = function (List__, p5want) {
							var v_self_2040;
							var v_level_2041;
							var v_wantarray_2042;
							(function () {
									var tmp3578 = p5list_to_a([List__]);
									var tmp3579 = tmp3578.slice(0);
									v_self_2040 = tmp3578.shift();
									v_level_2041 = tmp3578.shift();
									v_wantarray_2042 = tmp3578.shift();
									return tmp3579
								})();
							return (p5context([('p5pkg["CORE"]["select"]([' + p5str(( p5bool((v_self_2040 || (v_self_2040 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('bareword')) ? p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2040 || (v_self_2040 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "") : p5call((v_self_2040 || (v_self_2040 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2041, 'scalar'], ""))) + '])')], p5want));
						};
						tmp3577._prototype_ = null;
						return tmp3577
					})(), 'prefix:<$>', (function () {
						var tmp3580;
						tmp3580 = function (List__, p5want) {
							var v_self_2043;
							var v_level_2044;
							var v_wantarray_2045;
							(function () {
									var tmp3581 = p5list_to_a([List__]);
									var tmp3582 = tmp3581.slice(0);
									v_self_2043 = tmp3581.shift();
									v_level_2044 = tmp3581.shift();
									v_wantarray_2045 = tmp3581.shift();
									return tmp3582
								})();
							var v_arg_2046;
							v_arg_2046 = ((v_self_2043 || (v_self_2043 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5context([('p5scalar_deref(' + p5str(p5call(v_arg_2046, 'emit_javascript2', [v_level_2044], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + '""' + ')')], p5want));
						};
						tmp3580._prototype_ = null;
						return tmp3580
					})(), 'prefix:<@>', (function () {
						var tmp3583;
						tmp3583 = function (List__, p5want) {
							var v_self_2047;
							var v_level_2048;
							var v_wantarray_2049;
							(function () {
									var tmp3584 = p5list_to_a([List__]);
									var tmp3585 = tmp3584.slice(0);
									v_self_2047 = tmp3584.shift();
									v_level_2048 = tmp3584.shift();
									v_wantarray_2049 = tmp3584.shift();
									return tmp3585
								})();
							var v_arg_2050;
							v_arg_2050 = ((v_self_2047 || (v_self_2047 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							var v_s_2051;
							v_s_2051 = (('p5array_deref(' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify([v_arg_2050, v_level_2048, 'array'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')'));
							return (( (p5str(v_wantarray_2049) == 'scalar') ? ('p5num(' + p5str(v_s_2051) + ')') : v_s_2051));
						};
						tmp3583._prototype_ = null;
						return tmp3583
					})(), 'prefix:<$#>', (function () {
						var tmp3586;
						tmp3586 = function (List__, p5want) {
							var v_self_2052;
							var v_level_2053;
							var v_wantarray_2054;
							(function () {
									var tmp3587 = p5list_to_a([List__]);
									var tmp3588 = tmp3587.slice(0);
									v_self_2052 = tmp3587.shift();
									v_level_2053 = tmp3587.shift();
									v_wantarray_2054 = tmp3587.shift();
									return tmp3588
								})();
							var v_arg_2055;
							v_arg_2055 = ((v_self_2052 || (v_self_2052 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5context([('(p5array_deref(' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify([v_arg_2055, v_level_2053, 'array'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ').length - 1)')], p5want));
						};
						tmp3586._prototype_ = null;
						return tmp3586
					})(), 'prefix:<%>', (function () {
						var tmp3589;
						tmp3589 = function (List__, p5want) {
							var v_self_2056;
							var v_level_2057;
							var v_wantarray_2058;
							(function () {
									var tmp3590 = p5list_to_a([List__]);
									var tmp3591 = tmp3590.slice(0);
									v_self_2056 = tmp3590.shift();
									v_level_2057 = tmp3590.shift();
									v_wantarray_2058 = tmp3590.shift();
									return tmp3591
								})();
							var v_arg_2059;
							v_arg_2059 = ((v_self_2056 || (v_self_2056 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5context([('p5hash_deref(' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify([v_arg_2059, v_level_2057, 'hash'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want));
						};
						tmp3589._prototype_ = null;
						return tmp3589
					})(), 'prefix:<&>', (function () {
						var tmp3592;
						tmp3592 = function (List__, p5want) {
							var v_self_2060;
							var v_level_2061;
							var v_wantarray_2062;
							(function () {
									var tmp3593 = p5list_to_a([List__]);
									var tmp3594 = tmp3593.slice(0);
									v_self_2060 = tmp3593.shift();
									v_level_2061 = tmp3593.shift();
									v_wantarray_2062 = tmp3593.shift();
									return tmp3594
								})();
							var v_arg_2063;
							v_arg_2063 = ((v_self_2060 || (v_self_2060 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5context([('p5cget_by_name(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5call(v_arg_2063, 'emit_javascript2', [v_level_2061], "")) + ')([])')], p5want));
						};
						tmp3592._prototype_ = null;
						return tmp3592
					})(), 'circumfix:<[ ]>', (function () {
						var tmp3595;
						tmp3595 = function (List__, p5want) {
							var v_self_2064;
							var v_level_2065;
							var v_wantarray_2066;
							(function () {
									var tmp3596 = p5list_to_a([List__]);
									var tmp3597 = tmp3596.slice(0);
									v_self_2064 = tmp3596.shift();
									v_level_2065 = tmp3596.shift();
									v_wantarray_2066 = tmp3596.shift();
									return tmp3597
								})();
							return (p5context([('(new p5ArrayRef(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2064 || (v_self_2064 = new p5HashRef({})))._hash_.p5hget('arguments')]), "")) + '))')], p5want));
						};
						tmp3595._prototype_ = null;
						return tmp3595
					})(), 'circumfix:<{ }>', (function () {
						var tmp3598;
						tmp3598 = function (List__, p5want) {
							var v_self_2067;
							var v_level_2068;
							var v_wantarray_2069;
							(function () {
									var tmp3599 = p5list_to_a([List__]);
									var tmp3600 = tmp3599.slice(0);
									v_self_2067 = tmp3599.shift();
									v_level_2068 = tmp3599.shift();
									v_wantarray_2069 = tmp3599.shift();
									return tmp3600
								})();
							return (p5context([('(new p5HashRef(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2067 || (v_self_2067 = new p5HashRef({})))._hash_.p5hget('arguments'), v_level_2068, 'hash']), "")) + '))')], p5want));
						};
						tmp3598._prototype_ = null;
						return tmp3598
					})(), 'prefix:<' + String.fromCharCode(92) + '>', (function () {
						var tmp3601;
						tmp3601 = function (List__, p5want) {
							try {
								var v_self_2070;
								var v_level_2071;
								var v_wantarray_2072;
								(function () {
									var tmp3602 = p5list_to_a([List__]);
									var tmp3603 = tmp3602.slice(0);
									v_self_2070 = tmp3602.shift();
									v_level_2071 = tmp3602.shift();
									v_wantarray_2072 = tmp3602.shift();
									return tmp3603
								})();
								var v_arg_2073;
								v_arg_2073 = ((v_self_2070 || (v_self_2070 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( p5bool(p5call(v_arg_2073, 'isa', ['Perlito5::AST::Apply'], "")) ) {
									(function () {
										if ( (p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<@>') ) {
										throw(p5context([('(new p5ArrayRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
									}
									})();
									(function () {
										if ( (p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<%>') ) {
										throw(p5context([('(new p5HashRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
									}
									})();
									(function () {
										if ( (p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>') ) {
										throw(p5context([('p5_list_of_refs(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('arguments')]), "")) + ')')], p5want));
									}
									})();
									(function () {
										if ( (p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<&>') ) {
										throw(p5context([('p5code_lookup_by_name(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5call((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2071], "")) + ')')], p5want));
									}
									})();
								}
								})();
								(function () {
									if ( p5bool(p5call(v_arg_2073, 'isa', ['Perlito5::AST::Var'], "")) ) {
									(function () {
										if ( (p5str(p5call(v_arg_2073, 'sigil', [], "")) == '@') ) {
										throw(p5context([('(new p5ArrayRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
									}
									})();
									(function () {
										if ( (p5str(p5call(v_arg_2073, 'sigil', [], "")) == '%') ) {
										throw(p5context([('(new p5HashRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
									}
									})();
									(function () {
										if ( (p5str(p5call(v_arg_2073, 'sigil', [], "")) == '*') ) {
										throw(p5context([('(new p5GlobRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
									}
									})();
									(function () {
										if ( (p5str(p5call(v_arg_2073, 'sigil', [], "")) == '&') ) {
										(function () {
											if ( p5bool((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('namespace')) ) {
											throw(p5context([('p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('namespace')]), "")) + '].' + p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('name')))], p5want));
										}
										else {
											throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].pkg([], "")) + '.' + p5str((v_arg_2073 || (v_arg_2073 = new p5HashRef({})))._hash_.p5hget('name')))], p5want));
										}
										})();
									}
									})();
								}
								})();
								return (p5context([('(new p5ScalarRef(' + p5str(p5call(v_arg_2073, 'emit_javascript2', [v_level_2071], "")) + '))')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3601._prototype_ = null;
						return tmp3601
					})(), 'postfix:<++>', (function () {
						var tmp3604;
						tmp3604 = function (List__, p5want) {
							try {
								var v_self_2074;
								var v_level_2075;
								var v_wantarray_2076;
								(function () {
									var tmp3605 = p5list_to_a([List__]);
									var tmp3606 = tmp3605.slice(0);
									v_self_2074 = tmp3605.shift();
									v_level_2075 = tmp3605.shift();
									v_wantarray_2076 = tmp3605.shift();
									return tmp3606
								})();
								var v_arg_2077;
								v_arg_2077 = ((v_self_2074 || (v_self_2074 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( (p5bool(p5call(v_arg_2077, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_arg_2077, 'isa', ['Perlito5::AST::Lookup'], "")) || p5bool(p5call(v_arg_2077, 'isa', ['Perlito5::AST::Call'], "")))) ) {
									throw(p5call(v_arg_2077, 'emit_javascript2', [(p5num(v_level_2075) + 1), 0, 'p5postincr'], p5want));
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2077, 'isa', ['Perlito5::AST::Var'], "")) && (p5str((v_arg_2077 || (v_arg_2077 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$')) ) {
									(function () {
										var v_tmp_2078;
										v_tmp_2078 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2075, 'scalar', ('var ' + p5str(v_tmp_2078) + ' = ' + p5str(p5call(v_arg_2077, 'emit_javascript2', [v_level_2075], "")) + ';'), (p5str(p5call(v_arg_2077, 'emit_javascript2', [v_level_2075], "")) + ' = p5incr_(' + p5str(v_tmp_2078) + ');'), ('return ' + p5str(v_tmp_2078))], p5want));
									})();
								}
								})();
								return (p5context([('(' + p5pkg['Perlito5::AST::Apply'].join([' '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1));
	}, p5list_to_a([p5array_deref((v_self_2074 || (v_self_2074 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')++')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3604._prototype_ = null;
						return tmp3604
					})(), 'postfix:<-->', (function () {
						var tmp3607;
						tmp3607 = function (List__, p5want) {
							try {
								var v_self_2079;
								var v_level_2080;
								var v_wantarray_2081;
								(function () {
									var tmp3608 = p5list_to_a([List__]);
									var tmp3609 = tmp3608.slice(0);
									v_self_2079 = tmp3608.shift();
									v_level_2080 = tmp3608.shift();
									v_wantarray_2081 = tmp3608.shift();
									return tmp3609
								})();
								var v_arg_2082;
								v_arg_2082 = ((v_self_2079 || (v_self_2079 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( (p5bool(p5call(v_arg_2082, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_arg_2082, 'isa', ['Perlito5::AST::Lookup'], "")) || p5bool(p5call(v_arg_2082, 'isa', ['Perlito5::AST::Call'], "")))) ) {
									throw(p5call(v_arg_2082, 'emit_javascript2', [(p5num(v_level_2080) + 1), 0, 'p5postdecr'], p5want));
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2082, 'isa', ['Perlito5::AST::Var'], "")) && (p5str((v_arg_2082 || (v_arg_2082 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$')) ) {
									(function () {
										var v_tmp_2083;
										v_tmp_2083 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2080, 'scalar', ('var ' + p5str(v_tmp_2083) + ' = ' + p5str(p5call(v_arg_2082, 'emit_javascript2', [v_level_2080], "")) + ';'), (p5str(p5call(v_arg_2082, 'emit_javascript2', [v_level_2080], "")) + ' = p5decr_(' + p5str(v_tmp_2083) + ');'), ('return ' + p5str(v_tmp_2083))], p5want));
									})();
								}
								})();
								return (p5context([('(' + p5pkg['Perlito5::AST::Apply'].join([' '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1));
	}, p5list_to_a([p5array_deref((v_self_2079 || (v_self_2079 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')--')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3607._prototype_ = null;
						return tmp3607
					})(), 'prefix:<++>', (function () {
						var tmp3610;
						tmp3610 = function (List__, p5want) {
							try {
								var v_self_2084;
								var v_level_2085;
								var v_wantarray_2086;
								(function () {
									var tmp3611 = p5list_to_a([List__]);
									var tmp3612 = tmp3611.slice(0);
									v_self_2084 = tmp3611.shift();
									v_level_2085 = tmp3611.shift();
									v_wantarray_2086 = tmp3611.shift();
									return tmp3612
								})();
								var v_arg_2087;
								v_arg_2087 = ((v_self_2084 || (v_self_2084 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( (p5bool(p5call(v_arg_2087, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_arg_2087, 'isa', ['Perlito5::AST::Lookup'], "")) || p5bool(p5call(v_arg_2087, 'isa', ['Perlito5::AST::Call'], "")))) ) {
									throw(p5call(v_arg_2087, 'emit_javascript2', [(p5num(v_level_2085) + 1), 0, 'p5incr'], p5want));
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2087, 'isa', ['Perlito5::AST::Var'], "")) && (p5str((v_arg_2087 || (v_arg_2087 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$')) ) {
									(function () {
										var v_tmp_2088;
										v_tmp_2088 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2085, 'scalar', ('var ' + p5str(v_tmp_2088) + ' = ' + p5str(p5call(v_arg_2087, 'emit_javascript2', [v_level_2085], "")) + ';'), (p5str(p5call(v_arg_2087, 'emit_javascript2', [v_level_2085], "")) + ' = p5incr_(' + p5str(v_tmp_2088) + ');'), ('return ' + p5str(p5call(v_arg_2087, 'emit_javascript2', [(p5num(v_level_2085) + 1)], "")))], p5want));
									})();
								}
								})();
								return (p5context([('++(' + p5pkg['Perlito5::AST::Apply'].join([' '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1));
	}, p5list_to_a([p5array_deref((v_self_2084 || (v_self_2084 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3610._prototype_ = null;
						return tmp3610
					})(), 'prefix:<-->', (function () {
						var tmp3613;
						tmp3613 = function (List__, p5want) {
							try {
								var v_self_2089;
								var v_level_2090;
								var v_wantarray_2091;
								(function () {
									var tmp3614 = p5list_to_a([List__]);
									var tmp3615 = tmp3614.slice(0);
									v_self_2089 = tmp3614.shift();
									v_level_2090 = tmp3614.shift();
									v_wantarray_2091 = tmp3614.shift();
									return tmp3615
								})();
								var v_arg_2092;
								v_arg_2092 = ((v_self_2089 || (v_self_2089 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( (p5bool(p5call(v_arg_2092, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_arg_2092, 'isa', ['Perlito5::AST::Lookup'], "")) || p5bool(p5call(v_arg_2092, 'isa', ['Perlito5::AST::Call'], "")))) ) {
									throw(p5call(v_arg_2092, 'emit_javascript2', [(p5num(v_level_2090) + 1), 0, 'p5decr'], p5want));
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2092, 'isa', ['Perlito5::AST::Var'], "")) && (p5str((v_arg_2092 || (v_arg_2092 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$')) ) {
									(function () {
										var v_tmp_2093;
										v_tmp_2093 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2090, 'scalar', ('var ' + p5str(v_tmp_2093) + ' = ' + p5str(p5call(v_arg_2092, 'emit_javascript2', [v_level_2090], "")) + ';'), (p5str(p5call(v_arg_2092, 'emit_javascript2', [v_level_2090], "")) + ' = p5decr_(' + p5str(v_tmp_2093) + ');'), ('return ' + p5str(p5call(v_arg_2092, 'emit_javascript2', [(p5num(v_level_2090) + 1)], "")))], p5want));
									})();
								}
								})();
								return (p5context([('--(' + p5pkg['Perlito5::AST::Apply'].join([' '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1));
	}, p5list_to_a([p5array_deref((v_self_2089 || (v_self_2089 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3613._prototype_ = null;
						return tmp3613
					})(), 'infix:<x>', (function () {
						var tmp3616;
						tmp3616 = function (List__, p5want) {
							try {
								var v_self_2094;
								var v_level_2095;
								var v_wantarray_2096;
								(function () {
									var tmp3617 = p5list_to_a([List__]);
									var tmp3618 = tmp3617.slice(0);
									v_self_2094 = tmp3617.shift();
									v_level_2095 = tmp3617.shift();
									v_wantarray_2096 = tmp3617.shift();
									return tmp3618
								})();
								var v_arg_2097;
								v_arg_2097 = ((v_self_2094 || (v_self_2094 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_2097], "") == 'Perlito5::AST::Apply') && ((p5str((v_arg_2097 || (v_arg_2097 = new p5HashRef({})))._hash_.p5hget('code')) == 'circumfix:<( )>') || (p5str((v_arg_2097 || (v_arg_2097 = new p5HashRef({})))._hash_.p5hget('code')) == 'list:<,>'))) ) {
									throw(p5context([('p5list_replicate(' + p5str(p5call((v_self_2094 || (v_self_2094 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2095, 'list'], "")) + ',' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2094 || (v_self_2094 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_2095]), "")) + ', ' + p5str(( (p5str(v_wantarray_2096) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2096) == 'list') ? 1 : 0))) + ')')], p5want));
								}
								})();
								return (p5context([('p5str_replicate(' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2094 || (v_self_2094 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2095]), "")) + ',' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2094 || (v_self_2094 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_2095]), "")) + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3616._prototype_ = null;
						return tmp3616
					})(), 'list:<.>', (function () {
						var tmp3619;
						tmp3619 = function (List__, p5want) {
							var v_self_2098;
							var v_level_2099;
							var v_wantarray_2100;
							(function () {
									var tmp3620 = p5list_to_a([List__]);
									var tmp3621 = tmp3620.slice(0);
									v_self_2098 = tmp3620.shift();
									v_level_2099 = tmp3620.shift();
									v_wantarray_2100 = tmp3620.shift();
									return tmp3621
								})();
							return (p5context([('(' + p5pkg['Perlito5::AST::Apply'].join([' + '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_str([p5make_package('main')['v__']], 1));
	}, p5list_to_a([p5array_deref((v_self_2098 || (v_self_2098 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						};
						tmp3619._prototype_ = null;
						return tmp3619
					})(), 'list:<,>', (function () {
						var tmp3622;
						tmp3622 = function (List__, p5want) {
							var v_self_2101;
							var v_level_2102;
							var v_wantarray_2103;
							(function () {
									var tmp3623 = p5list_to_a([List__]);
									var tmp3624 = tmp3623.slice(0);
									v_self_2101 = tmp3623.shift();
									v_level_2102 = tmp3623.shift();
									v_wantarray_2103 = tmp3623.shift();
									return tmp3624
								})();
							return (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2101 || (v_self_2101 = new p5HashRef({})))._hash_.p5hget('arguments')]), p5want));
						};
						tmp3622._prototype_ = null;
						return tmp3622
					})(), 'infix:<..>', (function () {
						var tmp3625;
						tmp3625 = function (List__, p5want) {
							var v_self_2104;
							var v_level_2105;
							var v_wantarray_2106;
							(function () {
									var tmp3626 = p5list_to_a([List__]);
									var tmp3627 = tmp3626.slice(0);
									v_self_2104 = tmp3626.shift();
									v_level_2105 = tmp3626.shift();
									v_wantarray_2106 = tmp3626.shift();
									return tmp3627
								})();
							return (p5context([('p5range(' + p5str(p5call((v_self_2104 || (v_self_2104 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2105], "")) + ', ' + p5str(p5call((v_self_2104 || (v_self_2104 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), 'emit_javascript2', [v_level_2105], "")) + ', ' + p5str(( (p5str(v_wantarray_2106) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2106) == 'list') ? 1 : 0))) + ', ' + '"' + p5str(p5pkg['Perlito5::JavaScript2'].get_label([], "")) + '"' + ', ' + '0' + ')')], p5want));
						};
						tmp3625._prototype_ = null;
						return tmp3625
					})(), 'infix:<...>', (function () {
						var tmp3628;
						tmp3628 = function (List__, p5want) {
							var v_self_2107;
							var v_level_2108;
							var v_wantarray_2109;
							(function () {
									var tmp3629 = p5list_to_a([List__]);
									var tmp3630 = tmp3629.slice(0);
									v_self_2107 = tmp3629.shift();
									v_level_2108 = tmp3629.shift();
									v_wantarray_2109 = tmp3629.shift();
									return tmp3630
								})();
							return (p5context([('p5range(' + p5str(p5call((v_self_2107 || (v_self_2107 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2108], "")) + ', ' + p5str(p5call((v_self_2107 || (v_self_2107 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), 'emit_javascript2', [v_level_2108], "")) + ', ' + p5str(( (p5str(v_wantarray_2109) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2109) == 'list') ? 1 : 0))) + ', ' + '"' + p5str(p5pkg['Perlito5::JavaScript2'].get_label([], "")) + '"' + ', ' + '1' + ')')], p5want));
						};
						tmp3628._prototype_ = null;
						return tmp3628
					})(), 'delete', (function () {
						var tmp3631;
						tmp3631 = function (List__, p5want) {
							try {
								var v_self_2110;
								var v_level_2111;
								var v_wantarray_2112;
								(function () {
									var tmp3632 = p5list_to_a([List__]);
									var tmp3633 = tmp3632.slice(0);
									v_self_2110 = tmp3632.shift();
									v_level_2111 = tmp3632.shift();
									v_wantarray_2112 = tmp3632.shift();
									return tmp3633
								})();
								var v_arg_2113;
								v_arg_2113 = ((v_self_2110 || (v_self_2110 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( p5bool(p5call(v_arg_2113, 'isa', ['Perlito5::AST::Lookup'], "")) ) {
									(function () {
										var v_v_2114;
										v_v_2114 = (p5call(v_arg_2113, 'obj', [], ""));
										var v_v_js_2115;
										v_v_js_2115 = (p5call(v_v_2114, 'emit_javascript2', [], ""));
										var v_key_js_2116;
										v_key_js_2116 = (p5call(p5call(v_arg_2113, 'autoquote', p5list_to_a([(v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('index_exp')]), ""), 'emit_javascript2', [v_level_2111], ""));
										var v_suffix_2117;
										v_suffix_2117 = (p5context([( (p5bool(p5call(v_v_2114, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2114, 'sigil', [], "")) == '$')) ? '' : '._hash_')], 0));
										throw(p5context([('((function (v,k) { var ret = v[k]; delete (v[k]); return ret;})(' + p5str(v_v_js_2115) + p5str(v_suffix_2117) + ',' + p5str(v_key_js_2116) + '))')], p5want));
									})();
								}
								})();
								(function () {
									if ( p5bool(p5call(v_arg_2113, 'isa', ['Perlito5::AST::Index'], "")) ) {
									(function () {
										var v_v_2118;
										v_v_2118 = (p5call(v_arg_2113, 'obj', [], ""));
										(function () {
											if ( (p5bool(p5call(v_v_2118, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2118, 'sigil', [], "")) == '$')) ) {
											throw(p5context([('(delete ' + p5str(p5call(v_v_2118, 'emit_javascript2', [], "")) + '[' + p5str(p5call((v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_javascript2', [v_level_2111], "")) + '])')], p5want));
										}
										})();
										throw(p5context([('(delete ' + p5str(p5call(v_v_2118, 'emit_javascript2', [], "")) + '._array_[' + p5str(p5call((v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_javascript2', [v_level_2111], "")) + '])')], p5want));
									})();
								}
								})();
								(function () {
									if ( p5bool(p5call(v_arg_2113, 'isa', ['Perlito5::AST::Call'], "")) ) {
									(function () {
										if ( (p5str(p5call(v_arg_2113, 'method', [], "")) == 'postcircumfix:<{ }>') ) {
										throw(p5context([('(delete ' + p5str(p5call(p5call(v_arg_2113, 'invocant', [], ""), 'emit_javascript2', [], "")) + '._hash_[' + p5str(p5call(p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('arguments')]), ""), 'emit_javascript2', [v_level_2111], "")) + '])')], p5want));
									}
									})();
									(function () {
										if ( (p5str(p5call(v_arg_2113, 'method', [], "")) == 'postcircumfix:<[ ]>') ) {
										throw(p5context([('(delete ' + p5str(p5call(p5call(v_arg_2113, 'invocant', [], ""), 'emit_javascript2', [], "")) + '._array_[' + p5str(p5call((v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_javascript2', [v_level_2111], "")) + '])')], p5want));
									}
									})();
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2113, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_arg_2113, 'sigil', [], "")) == '&')) ) {
									p5pkg['Perlito5::AST::Apply'].die([].concat(['TODO delete &code']), null);
								}
								})();
								return (function () {
									if ( (p5bool(p5call(v_arg_2113, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_arg_2113 || (v_arg_2113 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<&>')) ) {
									return (p5pkg['Perlito5::AST::Apply'].die([].concat(['TODO delete &$code']), p5want));
								}
								})()
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3631._prototype_ = null;
						return tmp3631
					})(), 'scalar', (function () {
						var tmp3634;
						tmp3634 = function (List__, p5want) {
							var v_self_2119;
							var v_level_2120;
							var v_wantarray_2121;
							(function () {
									var tmp3635 = p5list_to_a([List__]);
									var tmp3636 = tmp3635.slice(0);
									v_self_2119 = tmp3635.shift();
									v_level_2120 = tmp3635.shift();
									v_wantarray_2121 = tmp3635.shift();
									return tmp3636
								})();
							return (p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(v_self_2119 || (v_self_2119 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2120) + 1)]), p5want));
						};
						tmp3634._prototype_ = null;
						return tmp3634
					})(), 'ternary:<? :>', (function () {
						var tmp3637;
						tmp3637 = function (List__, p5want) {
							var v_self_2122;
							var v_level_2123;
							var v_wantarray_2124;
							(function () {
									var tmp3638 = p5list_to_a([List__]);
									var tmp3639 = tmp3638.slice(0);
									v_self_2122 = tmp3638.shift();
									v_level_2123 = tmp3638.shift();
									v_wantarray_2124 = tmp3638.shift();
									return tmp3639
								})();
							return (p5context([('( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_self_2122 || (v_self_2122 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + ' ? ' + p5str(p5call(p5context([(v_self_2122 || (v_self_2122 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)], 0), 'emit_javascript2', [v_level_2123, v_wantarray_2124], "")) + ' : ' + p5str(p5call(p5context([(v_self_2122 || (v_self_2122 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(2)], 0), 'emit_javascript2', [v_level_2123, v_wantarray_2124], "")) + ')')], p5want));
						};
						tmp3637._prototype_ = null;
						return tmp3637
					})(), 'my', (function () {
						var tmp3640;
						tmp3640 = function (List__, p5want) {
							var v_self_2125;
							var v_level_2126;
							var v_wantarray_2127;
							(function () {
									var tmp3641 = p5list_to_a([List__]);
									var tmp3642 = tmp3641.slice(0);
									v_self_2125 = tmp3641.shift();
									v_level_2126 = tmp3641.shift();
									v_wantarray_2127 = tmp3641.shift();
									return tmp3642
								})();
							return (p5context([('p5context(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2126, v_wantarray_2127], 1));
	}, p5list_to_a([p5array_deref((v_self_2125 || (v_self_2125 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(( (p5str(v_wantarray_2127) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2127) == 'list') ? 1 : 0))) + ')')], p5want));
						};
						tmp3640._prototype_ = null;
						return tmp3640
					})(), 'state', (function () {
						var tmp3643;
						tmp3643 = function (List__, p5want) {
							var v_self_2128;
							var v_level_2129;
							var v_wantarray_2130;
							(function () {
									var tmp3644 = p5list_to_a([List__]);
									var tmp3645 = tmp3644.slice(0);
									v_self_2128 = tmp3644.shift();
									v_level_2129 = tmp3644.shift();
									v_wantarray_2130 = tmp3644.shift();
									return tmp3645
								})();
							return (p5context([('p5context(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2129, v_wantarray_2130], 1));
	}, p5list_to_a([p5array_deref((v_self_2128 || (v_self_2128 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(( (p5str(v_wantarray_2130) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2130) == 'list') ? 1 : 0))) + ')')], p5want));
						};
						tmp3643._prototype_ = null;
						return tmp3643
					})(), 'our', (function () {
						var tmp3646;
						tmp3646 = function (List__, p5want) {
							var v_self_2131;
							var v_level_2132;
							var v_wantarray_2133;
							(function () {
									var tmp3647 = p5list_to_a([List__]);
									var tmp3648 = tmp3647.slice(0);
									v_self_2131 = tmp3647.shift();
									v_level_2132 = tmp3647.shift();
									v_wantarray_2133 = tmp3647.shift();
									return tmp3648
								})();
							return (p5context([('p5context(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2132, v_wantarray_2133], 1));
	}, p5list_to_a([p5array_deref((v_self_2131 || (v_self_2131 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(( (p5str(v_wantarray_2133) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2133) == 'list') ? 1 : 0))) + ')')], p5want));
						};
						tmp3646._prototype_ = null;
						return tmp3646
					})(), 'local', (function () {
						var tmp3649;
						tmp3649 = function (List__, p5want) {
							var v_self_2134;
							var v_level_2135;
							var v_wantarray_2136;
							(function () {
									var tmp3650 = p5list_to_a([List__]);
									var tmp3651 = tmp3650.slice(0);
									v_self_2134 = tmp3650.shift();
									v_level_2135 = tmp3650.shift();
									v_wantarray_2136 = tmp3650.shift();
									return tmp3651
								})();
							return (p5context([('p5context(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2135, v_wantarray_2136], 1));
	}, p5list_to_a([p5array_deref((v_self_2134 || (v_self_2134 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(( (p5str(v_wantarray_2136) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2136) == 'list') ? 1 : 0))) + ')')], p5want));
						};
						tmp3649._prototype_ = null;
						return tmp3649
					})(), 'circumfix:<( )>', (function () {
						var tmp3652;
						tmp3652 = function (List__, p5want) {
							var v_self_2137;
							var v_level_2138;
							var v_wantarray_2139;
							(function () {
									var tmp3653 = p5list_to_a([List__]);
									var tmp3654 = tmp3653.slice(0);
									v_self_2137 = tmp3653.shift();
									v_level_2138 = tmp3653.shift();
									v_wantarray_2139 = tmp3653.shift();
									return tmp3654
								})();
							return (p5context([('p5context(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2138, v_wantarray_2139], 1));
	}, p5list_to_a([p5array_deref((v_self_2137 || (v_self_2137 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(( (p5str(v_wantarray_2139) == 'runtime') ? 'p5want' : ( (p5str(v_wantarray_2139) == 'list') ? 1 : 0))) + ')')], p5want));
						};
						tmp3652._prototype_ = null;
						return tmp3652
					})(), 'infix:<=>', (function () {
						var tmp3655;
						tmp3655 = function (List__, p5want) {
							var v_self_2140;
							var v_level_2141;
							var v_wantarray_2142;
							(function () {
									var tmp3656 = p5list_to_a([List__]);
									var tmp3657 = tmp3656.slice(0);
									v_self_2140 = tmp3656.shift();
									v_level_2141 = tmp3656.shift();
									v_wantarray_2142 = tmp3656.shift();
									return tmp3657
								})();
							var v_parameters_2143;
							v_parameters_2143 = ((v_self_2140 || (v_self_2140 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							var v_arguments_2144;
							v_arguments_2144 = ((v_self_2140 || (v_self_2140 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1));
							return (p5pkg['Perlito5::AST::Apply']._emit_assignment_javascript2([v_parameters_2143, v_arguments_2144, v_level_2141, v_wantarray_2142], p5want));
						};
						tmp3655._prototype_ = null;
						return tmp3655
					})(), 'break', (function () {
						var tmp3658;
						tmp3658 = function (List__, p5want) {
							var v_self_2145;
							var v_level_2146;
							var v_wantarray_2147;
							(function () {
									var tmp3659 = p5list_to_a([List__]);
									var tmp3660 = tmp3659.slice(0);
									v_self_2145 = tmp3659.shift();
									v_level_2146 = tmp3659.shift();
									v_wantarray_2147 = tmp3659.shift();
									return tmp3660
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2146, v_wantarray_2147, 'throw(new p5_error("break", ""))'], p5want));
						};
						tmp3658._prototype_ = null;
						return tmp3658
					})(), 'next', (function () {
						var tmp3661;
						tmp3661 = function (List__, p5want) {
							var v_self_2148;
							var v_level_2149;
							var v_wantarray_2150;
							(function () {
									var tmp3662 = p5list_to_a([List__]);
									var tmp3663 = tmp3662.slice(0);
									v_self_2148 = tmp3662.shift();
									v_level_2149 = tmp3662.shift();
									v_wantarray_2150 = tmp3662.shift();
									return tmp3663
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							var v_label_2151;
							v_label_2151 = ('');
							p5and(p5num(p5array_deref((v_self_2148 || (v_self_2148 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')), function () {
									return v_label_2151 = (p5or((v_self_2148 || (v_self_2148 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('code'), function () {
												return ''
											}))
								});
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2149, v_wantarray_2150, ('throw(new p5_error("next", ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_label_2151], "")) + '))')], p5want));
						};
						tmp3661._prototype_ = null;
						return tmp3661
					})(), 'last', (function () {
						var tmp3664;
						tmp3664 = function (List__, p5want) {
							var v_self_2152;
							var v_level_2153;
							var v_wantarray_2154;
							(function () {
									var tmp3665 = p5list_to_a([List__]);
									var tmp3666 = tmp3665.slice(0);
									v_self_2152 = tmp3665.shift();
									v_level_2153 = tmp3665.shift();
									v_wantarray_2154 = tmp3665.shift();
									return tmp3666
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							var v_label_2155;
							v_label_2155 = ('');
							p5and(p5num(p5array_deref((v_self_2152 || (v_self_2152 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')), function () {
									return v_label_2155 = (p5or((v_self_2152 || (v_self_2152 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('code'), function () {
												return ''
											}))
								});
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2153, v_wantarray_2154, ('throw(new p5_error("last", ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_label_2155], "")) + '))')], p5want));
						};
						tmp3664._prototype_ = null;
						return tmp3664
					})(), 'redo', (function () {
						var tmp3667;
						tmp3667 = function (List__, p5want) {
							var v_self_2156;
							var v_level_2157;
							var v_wantarray_2158;
							(function () {
									var tmp3668 = p5list_to_a([List__]);
									var tmp3669 = tmp3668.slice(0);
									v_self_2156 = tmp3668.shift();
									v_level_2157 = tmp3668.shift();
									v_wantarray_2158 = tmp3668.shift();
									return tmp3669
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							var v_label_2159;
							v_label_2159 = ('');
							p5and(p5num(p5array_deref((v_self_2156 || (v_self_2156 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')), function () {
									return v_label_2159 = (p5or((v_self_2156 || (v_self_2156 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('code'), function () {
												return ''
											}))
								});
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2157, v_wantarray_2158, ('throw(new p5_error("redo", ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_label_2159], "")) + '))')], p5want));
						};
						tmp3667._prototype_ = null;
						return tmp3667
					})(), 'return', (function () {
						var tmp3670;
						tmp3670 = function (List__, p5want) {
							var v_self_2160;
							var v_level_2161;
							var v_wantarray_2162;
							(function () {
									var tmp3671 = p5list_to_a([List__]);
									var tmp3672 = tmp3671.slice(0);
									v_self_2160 = tmp3671.shift();
									v_level_2161 = tmp3671.shift();
									v_wantarray_2162 = tmp3671.shift();
									return tmp3672
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2161, v_wantarray_2162, ('throw(' + p5str(p5pkg['Perlito5::JavaScript2'].to_runtime_context(p5list_to_a([(v_self_2160 || (v_self_2160 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2161) + 1)]), "")) + ')')], p5want));
						};
						tmp3670._prototype_ = null;
						return tmp3670
					})(), 'goto', (function () {
						var tmp3673;
						tmp3673 = function (List__, p5want) {
							var v_self_2163;
							var v_level_2164;
							var v_wantarray_2165;
							(function () {
									var tmp3674 = p5list_to_a([List__]);
									var tmp3675 = tmp3674.slice(0);
									v_self_2163 = tmp3674.shift();
									v_level_2164 = tmp3674.shift();
									v_wantarray_2165 = tmp3674.shift();
									return tmp3675
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_statement_javascript2([v_level_2164, v_wantarray_2165, ('throw(' + p5str(p5call((v_self_2163 || (v_self_2163 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2164], "")) + ')')], p5want));
						};
						tmp3673._prototype_ = null;
						return tmp3673
					})(), 'do', (function () {
						var tmp3676;
						tmp3676 = function (List__, p5want) {
							try {
								var v_self_2166;
								var v_level_2167;
								var v_wantarray_2168;
								(function () {
									var tmp3677 = p5list_to_a([List__]);
									var tmp3678 = tmp3677.slice(0);
									v_self_2166 = tmp3677.shift();
									v_level_2167 = tmp3677.shift();
									v_wantarray_2168 = tmp3677.shift();
									return tmp3678
								})();
								var v_arg_2169;
								v_arg_2169 = ((v_self_2166 || (v_self_2166 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( p5bool(p5call(v_arg_2169, 'isa', ['Perlito5::AST::Block'], "")) ) {
									(function () {
										var v_block_2170;
										v_block_2170 = ((v_arg_2169 || (v_arg_2169 = new p5HashRef({})))._hash_.p5hget('stmts'));
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2167, v_wantarray_2168, p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_block_2170], "")], 0), 'emit_javascript2', [(p5num(v_level_2167) + 1), v_wantarray_2168], 1)]), p5want));
									})();
								}
								})();
								var v_ast_2171;
								v_ast_2171 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'eval', 'namespace', '', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'slurp_file', 'namespace', 'Perlito5::Grammar::Use', 'arguments', (v_self_2166 || (v_self_2166 = new p5HashRef({})))._hash_.p5hget('arguments')]), 1)]))), '_scope', p5call('Perlito5::Grammar::Scope', 'new_base_scope', [], 1), '_hash_hints', (new p5HashRef({})), '_scalar_hints', 0]), ""));
								var v_js_2172;
								v_js_2172 = (p5call(v_ast_2171, 'emit_javascript2', [v_level_2167, v_wantarray_2168], ""));
								return (p5context([v_js_2172], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3676._prototype_ = null;
						return tmp3676
					})(), 'eval', (function () {
						var tmp3679;
						tmp3679 = function (List__, p5want) {
							var v_self_2173;
							var v_level_2174;
							var v_wantarray_2175;
							(function () {
									var tmp3680 = p5list_to_a([List__]);
									var tmp3681 = tmp3680.slice(0);
									v_self_2173 = tmp3680.shift();
									v_level_2174 = tmp3680.shift();
									v_wantarray_2175 = tmp3680.shift();
									return tmp3681
								})();
							p5make_package('Perlito5')['v_THROW'] = (1);
							var v_arg_2176;
							v_arg_2176 = ((v_self_2173 || (v_self_2173 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							var v_eval_2177;
							(function () {
									if ( p5bool(p5call(v_arg_2176, 'isa', ['Perlito5::AST::Block'], "")) ) {
									v_eval_2177 = (p5call(p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef([v_arg_2176]))]), ""), 'emit_javascript2', [(p5num(v_level_2174) + 1), v_wantarray_2175], ""));
								}
								else {
									(function () {
										var Hash_vars_2178 = {};
										(function () {
											var v_var_2179;
											(function(){ var v_var_2179; p5for_lex(function (v) { v_var_2179 = v }, function () {
													(function () {
														if ( (p5bool((v_var_2179 || (v_var_2179 = new p5HashRef({})))._hash_.p5hget('_decl')) && (p5str((v_var_2179 || (v_var_2179 = new p5HashRef({})))._hash_.p5hget('_decl')) != 'global')) ) {
														Hash_vars_2178.p5hset(p5str((v_var_2179 || (v_var_2179 = new p5HashRef({})))._hash_.p5hget('_id')), (v_var_2179));
													}
													})();
												}, p5list_to_a([p5array_deref((v_self_2173 || (v_self_2173 = new p5HashRef({})))._hash_.p5hget_hash('_scope')._hash_.p5hget_array('block'), 'Perlito5::AST::Apply'), p5pkg[p5make_package('Perlito5')['List_CAPTURES'] || (p5make_package('Perlito5')['List_CAPTURES'] = []), 'Perlito5']['List_CAPTURES']]), false, '') })()
										})();
										var v_scope_2180;
										v_scope_2180 = (p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['block', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Apply'].values([Hash_vars_2178], 1)])))])))), (new p5HashRef({})), 's']), ""));
										var v_scope_js_2181;
										v_scope_js_2181 = (('(new p5ArrayRef(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_scope_2180]))]), "")) + '))'));
										var v_hash_hints_2182;
										v_hash_hints_2182 = (p5pkg['Perlito5::DumpToAST'].dump_to_ast(p5list_to_a([(v_self_2173 || (v_self_2173 = new p5HashRef({})))._hash_.p5hget('_hash_hints'), (new p5HashRef({})), 's']), ""));
										var v_hash_hints_js_2183;
										v_hash_hints_js_2183 = (p5call(v_hash_hints_2182, 'emit_javascript2', [v_level_2174], ""));
										v_eval_2177 = (('eval(p5pkg["Perlito5::JavaScript2::Runtime"].perl5_to_js([' + p5str(p5pkg['Perlito5::JavaScript2'].to_str([v_arg_2176], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_wantarray_2175], "")) + ', ' + p5str((0 + p5num((v_self_2173 || (v_self_2173 = new p5HashRef({})))._hash_.p5hget('_scalar_hints')))) + ', ' + p5str(v_hash_hints_js_2183) + ', ' + p5str(v_scope_js_2181) + ']))'));
									})();
								}
								})();
							var v_context_2184;
							v_context_2184 = (p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2175], ""));
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2174, v_wantarray_2175, ( (p5str(v_context_2184) == 'p5want') ? p5context([], 1) : ('var p5want = ' + p5str(v_context_2184) + ';')), 'var r;', 'p5pkg["main"]["v_@"] = "";', 'try {', (new p5ArrayRef([('r = ' + p5str(v_eval_2177) + '')])), '}', 'catch(err) {', (new p5ArrayRef(p5list_to_a(['if (err instanceof p5_error && (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ' || err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ' || err.type == ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ')) {', (new p5ArrayRef(['throw(err)'])), '}', 'else if ( err instanceof p5_error || err instanceof Error ) {', (new p5ArrayRef(p5list_to_a(['p5pkg["main"]["v_@"] = err;', 'if (p5str(p5pkg["main"]["v_@"]).substr(-1, 1) != "' + String.fromCharCode(92) + 'n") {', (new p5ArrayRef(p5list_to_a([('try {' + ''), (new p5ArrayRef(['p5pkg["main"]["v_@"] = p5pkg["main"]["v_@"] + "' + String.fromCharCode(92) + 'n" + err.stack + "' + String.fromCharCode(92) + 'n";'])), '}', 'catch(err) { }']))), '}']))), '}', 'else {', (new p5ArrayRef(['return(err);'])), '}']))), '}', 'return r;']), p5want));
						};
						tmp3679._prototype_ = null;
						return tmp3679
					})(), 'substr', (function () {
						var tmp3682;
						tmp3682 = function (List__, p5want) {
							try {
								var v_self_2185;
								var v_level_2186;
								var v_wantarray_2187;
								(function () {
									var tmp3683 = p5list_to_a([List__]);
									var tmp3684 = tmp3683.slice(0);
									v_self_2185 = tmp3683.shift();
									v_level_2186 = tmp3683.shift();
									v_wantarray_2187 = tmp3683.shift();
									return tmp3684
								})();
								var v_length_2188;
								v_length_2188 = ((v_self_2185 || (v_self_2185 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(2));
								(function () {
									if ( (p5bool(v_length_2188) && (p5bool(p5call(v_length_2188, 'isa', ['Perlito5::AST::Int'], "")) && (p5num((v_length_2188 || (v_length_2188 = new p5HashRef({})))._hash_.p5hget('int')) > 0))) ) {
									throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2185 || (v_self_2185 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + '.substr(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2185 || (v_self_2185 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2185 || (v_self_2185 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(2)]), "")) + ')')], p5want));
								}
								})();
								var v_arg_list_2189;
								v_arg_list_2189 = (p5pkg['Perlito5::JavaScript2'].to_list_preprocess(p5list_to_a([(v_self_2185 || (v_self_2185 = new p5HashRef({})))._hash_.p5hget('arguments')]), ""));
								var v_arg_code_2190;
								v_arg_code_2190 = (p5pkg['Perlito5::JavaScript2'].to_list([v_arg_list_2189], ""));
								return (p5context([('CORE.substr(' + p5str(v_arg_code_2190) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2187], "")) + ')')], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3682._prototype_ = null;
						return tmp3682
					})(), 'undef', (function () {
						var tmp3685;
						tmp3685 = function (List__, p5want) {
							try {
								var v_self_2191;
								var v_level_2192;
								var v_wantarray_2193;
								(function () {
									var tmp3686 = p5list_to_a([List__]);
									var tmp3687 = tmp3686.slice(0);
									v_self_2191 = tmp3686.shift();
									v_level_2192 = tmp3686.shift();
									v_wantarray_2193 = tmp3686.shift();
									return tmp3687
								})();
								(function () {
									if ( (p5bool((v_self_2191 || (v_self_2191 = new p5HashRef({})))._hash_.p5hget('arguments')) && p5bool(p5num(p5array_deref((v_self_2191 || (v_self_2191 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')))) ) {
									(function () {
										var v_arg_2194;
										v_arg_2194 = ((v_self_2191 || (v_self_2191 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
										(function () {
											if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_2194], "") == 'Perlito5::AST::Var') && (p5str((v_arg_2194 || (v_arg_2194 = new p5HashRef({})))._hash_.p5hget('sigil')) == '&')) ) {
											throw(p5context([('(delete p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_arg_2194 || (v_arg_2194 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
	return p5make_package('Perlito5')['v_PKG_NAME']
})]), "")) + '][' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_arg_2194 || (v_arg_2194 = new p5HashRef({})))._hash_.p5hget('name')]), "")) + '])')], p5want));
										}
										})();
										throw(p5context([('(' + p5str(p5pkg['Perlito5::AST::Apply']._emit_assignment_javascript2(p5list_to_a([v_arg_2194, p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'bareword', 1, 'code', 'undef']), 1), (p5num(v_level_2192) + 1), v_wantarray_2193]), "")) + ')')], p5want));
									})();
								}
								})();
								return (p5context(['null'], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3685._prototype_ = null;
						return tmp3685
					})(), 'defined', (function () {
						var tmp3688;
						tmp3688 = function (List__, p5want) {
							var v_self_2195;
							var v_level_2196;
							var v_wantarray_2197;
							(function () {
									var tmp3689 = p5list_to_a([List__]);
									var tmp3690 = tmp3689.slice(0);
									v_self_2195 = tmp3689.shift();
									v_level_2196 = tmp3689.shift();
									v_wantarray_2197 = tmp3689.shift();
									return tmp3690
								})();
							var v_arg_2198;
							v_arg_2198 = ((v_self_2195 || (v_self_2195 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							var v_invocant_2199;
							(function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_2198], "") == 'Perlito5::AST::Apply') && (p5str((v_arg_2198 || (v_arg_2198 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<&>')) ) {
									(function () {
										var v_arg2_2200;
										v_arg2_2200 = ((v_arg_2198 || (v_arg_2198 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
										v_invocant_2199 = (('p5code_lookup_by_name(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5call(v_arg2_2200, 'emit_javascript2', [v_level_2196], "")) + ')'));
									})();
								}
								else (function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_arg_2198], "") == 'Perlito5::AST::Var') && (p5str((v_arg_2198 || (v_arg_2198 = new p5HashRef({})))._hash_.p5hget('sigil')) == '&')) ) {
									v_invocant_2199 = (('p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_arg_2198 || (v_arg_2198 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
	return p5make_package('Perlito5')['v_PKG_NAME']
})]), "")) + '][' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_arg_2198 || (v_arg_2198 = new p5HashRef({})))._hash_.p5hget('name')]), "")) + ']'));
								}
								else {
									v_invocant_2199 = (p5call(v_arg_2198, 'emit_javascript2', [v_level_2196, 'scalar'], ""));
								}
								})()
								})();
							return (p5context([('(' + p5str(v_invocant_2199) + ' != null)')], p5want));
						};
						tmp3688._prototype_ = null;
						return tmp3688
					})(), 'shift', (function () {
						var tmp3691;
						tmp3691 = function (List__, p5want) {
							try {
								var v_self_2201;
								var v_level_2202;
								var v_wantarray_2203;
								(function () {
									var tmp3692 = p5list_to_a([List__]);
									var tmp3693 = tmp3692.slice(0);
									v_self_2201 = tmp3692.shift();
									v_level_2202 = tmp3692.shift();
									v_wantarray_2203 = tmp3692.shift();
									return tmp3693
								})();
								(function () {
									if ( (p5bool((v_self_2201 || (v_self_2201 = new p5HashRef({})))._hash_.p5hget('arguments')) && p5bool(p5num(p5array_deref((v_self_2201 || (v_self_2201 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')))) ) {
									throw(p5context([(p5str(p5call((v_self_2201 || (v_self_2201 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2202], "")) + '.shift()')], p5want));
								}
								})();
								(function () {
									if ( p5bool(p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine']) ) {
									throw(p5context(['List__.shift()'], p5want));
								}
								})();
								return (p5context(['p5pkg.main.List_ARGV.shift()'], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3691._prototype_ = null;
						return tmp3691
					})(), 'pop', (function () {
						var tmp3694;
						tmp3694 = function (List__, p5want) {
							try {
								var v_self_2204;
								var v_level_2205;
								var v_wantarray_2206;
								(function () {
									var tmp3695 = p5list_to_a([List__]);
									var tmp3696 = tmp3695.slice(0);
									v_self_2204 = tmp3695.shift();
									v_level_2205 = tmp3695.shift();
									v_wantarray_2206 = tmp3695.shift();
									return tmp3696
								})();
								(function () {
									if ( (p5bool((v_self_2204 || (v_self_2204 = new p5HashRef({})))._hash_.p5hget('arguments')) && p5bool(p5num(p5array_deref((v_self_2204 || (v_self_2204 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')))) ) {
									throw(p5context([(p5str(p5call((v_self_2204 || (v_self_2204 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2205], "")) + '.pop()')], p5want));
								}
								})();
								(function () {
									if ( p5bool(p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine']) ) {
									throw(p5context(['List__.pop()'], p5want));
								}
								})();
								return (p5context(['p5pkg.main.List_ARGV.pop()'], p5want));
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3694._prototype_ = null;
						return tmp3694
					})(), 'unshift', (function () {
						var tmp3697;
						tmp3697 = function (List__, p5want) {
							var v_self_2207;
							var v_level_2208;
							var v_wantarray_2209;
							(function () {
									var tmp3698 = p5list_to_a([List__]);
									var tmp3699 = tmp3698.slice(0);
									v_self_2207 = tmp3698.shift();
									v_level_2208 = tmp3698.shift();
									v_wantarray_2209 = tmp3698.shift();
									return tmp3699
								})();
							var List_arguments_2210 = [];
							List_arguments_2210 = p5list_to_a([p5array_deref((v_self_2207 || (v_self_2207 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_v_2211;
							v_v_2211 = (List_arguments_2210.shift());
							return (p5context([(p5str(p5call(v_v_2211, 'emit_javascript2', [v_level_2208], "")) + '.p5unshift(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_arguments_2210))]), "")) + ')')], p5want));
						};
						tmp3697._prototype_ = null;
						return tmp3697
					})(), 'push', (function () {
						var tmp3700;
						tmp3700 = function (List__, p5want) {
							var v_self_2212;
							var v_level_2213;
							var v_wantarray_2214;
							(function () {
									var tmp3701 = p5list_to_a([List__]);
									var tmp3702 = tmp3701.slice(0);
									v_self_2212 = tmp3701.shift();
									v_level_2213 = tmp3701.shift();
									v_wantarray_2214 = tmp3701.shift();
									return tmp3702
								})();
							var List_arguments_2215 = [];
							List_arguments_2215 = p5list_to_a([p5array_deref((v_self_2212 || (v_self_2212 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_v_2216;
							v_v_2216 = (List_arguments_2215.shift());
							return (p5context([(p5str(p5call(v_v_2216, 'emit_javascript2', [v_level_2213], "")) + '.p5push(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_arguments_2215))]), "")) + ')')], p5want));
						};
						tmp3700._prototype_ = null;
						return tmp3700
					})(), 'tie', (function () {
						var tmp3703;
						tmp3703 = function (List__, p5want) {
							var v_self_2217;
							var v_level_2218;
							var v_wantarray_2219;
							(function () {
									var tmp3704 = p5list_to_a([List__]);
									var tmp3705 = tmp3704.slice(0);
									v_self_2217 = tmp3704.shift();
									v_level_2218 = tmp3704.shift();
									v_wantarray_2219 = tmp3704.shift();
									return tmp3705
								})();
							var List_arguments_2220 = [];
							List_arguments_2220 = p5list_to_a([p5array_deref((v_self_2217 || (v_self_2217 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_v_2221;
							v_v_2221 = (List_arguments_2220.shift());
							var v_meth_2222;
							(function () {
									if ( (p5bool(p5call(v_v_2221, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2221, 'sigil', [], "")) == '%')) ) {
									v_meth_2222 = ('hash');
								}
								else (function () {
									if ( (p5bool(p5call(v_v_2221, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2221, 'sigil', [], "")) == '@')) ) {
									v_meth_2222 = ('array');
								}
								else (function () {
									if ( (p5bool(p5call(v_v_2221, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2221, 'sigil', [], "")) == '$')) ) {
									v_meth_2222 = ('scalar');
								}
								else {
									p5pkg['Perlito5::AST::Apply'].die([].concat(['tie ' + String.fromCharCode(39), p5pkg['Perlito5::AST::Apply'].ref([v_v_2221], 1), String.fromCharCode(39) + ' not implemented']), null);
								}
								})()
								})()
								})();
							return (p5context([('p5tie_' + p5str(v_meth_2222) + '(' + p5str(p5call(v_v_2221, 'emit_javascript2', [v_level_2218], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_arguments_2220))]), "")) + ')')], p5want));
						};
						tmp3703._prototype_ = null;
						return tmp3703
					})(), 'untie', (function () {
						var tmp3706;
						tmp3706 = function (List__, p5want) {
							var v_self_2223;
							var v_level_2224;
							var v_wantarray_2225;
							(function () {
									var tmp3707 = p5list_to_a([List__]);
									var tmp3708 = tmp3707.slice(0);
									v_self_2223 = tmp3707.shift();
									v_level_2224 = tmp3707.shift();
									v_wantarray_2225 = tmp3707.shift();
									return tmp3708
								})();
							var List_arguments_2226 = [];
							List_arguments_2226 = p5list_to_a([p5array_deref((v_self_2223 || (v_self_2223 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_v_2227;
							v_v_2227 = (List_arguments_2226.shift());
							var v_meth_2228;
							(function () {
									if ( (p5bool(p5call(v_v_2227, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2227, 'sigil', [], "")) == '%')) ) {
									v_meth_2228 = ('hash');
								}
								else (function () {
									if ( (p5bool(p5call(v_v_2227, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2227, 'sigil', [], "")) == '@')) ) {
									v_meth_2228 = ('array');
								}
								else (function () {
									if ( (p5bool(p5call(v_v_2227, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2227, 'sigil', [], "")) == '$')) ) {
									v_meth_2228 = ('scalar');
								}
								else {
									p5pkg['Perlito5::AST::Apply'].die([].concat(['tie ' + String.fromCharCode(39), p5pkg['Perlito5::AST::Apply'].ref([v_v_2227], 1), String.fromCharCode(39) + ' not implemented']), null);
								}
								})()
								})()
								})();
							return (p5context([('p5untie_' + p5str(v_meth_2228) + '(' + p5str(p5call(v_v_2227, 'emit_javascript2', [v_level_2224], "")) + ')')], p5want));
						};
						tmp3706._prototype_ = null;
						return tmp3706
					})(), 'print', (function () {
						var tmp3709;
						tmp3709 = function (List__, p5want) {
							var v_self_2229;
							var v_level_2230;
							var v_wantarray_2231;
							(function () {
									var tmp3710 = p5list_to_a([List__]);
									var tmp3711 = tmp3710.slice(0);
									v_self_2229 = tmp3710.shift();
									v_level_2230 = tmp3710.shift();
									v_wantarray_2231 = tmp3710.shift();
									return tmp3711
								})();
							var List_in_2232 = [];
							List_in_2232 = p5list_to_a([p5array_deref((v_self_2229 || (v_self_2229 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2233;
							(function () {
									if ( p5bool((v_self_2229 || (v_self_2229 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2233 = (p5call((v_self_2229 || (v_self_2229 = new p5HashRef({})))._hash_.p5hget('special_arg'), 'emit_javascript2', [v_level_2230], ""));
								}
								else {
									v_fun_2233 = ('"STDOUT"');
								}
								})();
							var v_list_2234;
							v_list_2234 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2232)), v_level_2230]), ""));
							return (p5context([('p5pkg["Perlito5::IO"].print(' + p5str(v_fun_2233) + ', ' + p5str(v_list_2234) + ')')], p5want));
						};
						tmp3709._prototype_ = null;
						return tmp3709
					})(), 'say', (function () {
						var tmp3712;
						tmp3712 = function (List__, p5want) {
							var v_self_2235;
							var v_level_2236;
							var v_wantarray_2237;
							(function () {
									var tmp3713 = p5list_to_a([List__]);
									var tmp3714 = tmp3713.slice(0);
									v_self_2235 = tmp3713.shift();
									v_level_2236 = tmp3713.shift();
									v_wantarray_2237 = tmp3713.shift();
									return tmp3714
								})();
							var List_in_2238 = [];
							List_in_2238 = p5list_to_a([p5array_deref((v_self_2235 || (v_self_2235 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2239;
							(function () {
									if ( p5bool((v_self_2235 || (v_self_2235 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2239 = (p5call((v_self_2235 || (v_self_2235 = new p5HashRef({})))._hash_.p5hget('special_arg'), 'emit_javascript2', [v_level_2236], ""));
								}
								else {
									v_fun_2239 = ('"STDOUT"');
								}
								})();
							var v_list_2240;
							v_list_2240 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2238)), v_level_2236]), ""));
							return (p5context([('p5pkg["Perlito5::IO"].say(' + p5str(v_fun_2239) + ', ' + p5str(v_list_2240) + ')')], p5want));
						};
						tmp3712._prototype_ = null;
						return tmp3712
					})(), 'printf', (function () {
						var tmp3715;
						tmp3715 = function (List__, p5want) {
							var v_self_2241;
							var v_level_2242;
							var v_wantarray_2243;
							(function () {
									var tmp3716 = p5list_to_a([List__]);
									var tmp3717 = tmp3716.slice(0);
									v_self_2241 = tmp3716.shift();
									v_level_2242 = tmp3716.shift();
									v_wantarray_2243 = tmp3716.shift();
									return tmp3717
								})();
							var List_in_2244 = [];
							List_in_2244 = p5list_to_a([p5array_deref((v_self_2241 || (v_self_2241 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2245;
							(function () {
									if ( p5bool((v_self_2241 || (v_self_2241 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2245 = (p5call((v_self_2241 || (v_self_2241 = new p5HashRef({})))._hash_.p5hget('special_arg'), 'emit_javascript2', [v_level_2242], ""));
								}
								else {
									v_fun_2245 = ('"STDOUT"');
								}
								})();
							var v_list_2246;
							v_list_2246 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2244)), v_level_2242]), ""));
							return (p5context([('p5pkg["Perlito5::IO"].printf(' + p5str(v_fun_2245) + ', ' + p5str(v_list_2246) + ')')], p5want));
						};
						tmp3715._prototype_ = null;
						return tmp3715
					})(), 'close', (function () {
						var tmp3718;
						tmp3718 = function (List__, p5want) {
							var v_self_2247;
							var v_level_2248;
							var v_wantarray_2249;
							(function () {
									var tmp3719 = p5list_to_a([List__]);
									var tmp3720 = tmp3719.slice(0);
									v_self_2247 = tmp3719.shift();
									v_level_2248 = tmp3719.shift();
									v_wantarray_2249 = tmp3719.shift();
									return tmp3720
								})();
							var List_in_2250 = [];
							List_in_2250 = p5list_to_a([p5array_deref((v_self_2247 || (v_self_2247 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2251;
							v_fun_2251 = (List_in_2250.shift());
							return (p5context([('p5pkg["Perlito5::IO"].close(' + p5str(p5call(v_fun_2251, 'emit_javascript2', [v_level_2248], "")) + ', [])')], p5want));
						};
						tmp3718._prototype_ = null;
						return tmp3718
					})(), 'open', (function () {
						var tmp3721;
						tmp3721 = function (List__, p5want) {
							try {
								var v_self_2252;
								var v_level_2253;
								var v_wantarray_2254;
								(function () {
									var tmp3722 = p5list_to_a([List__]);
									var tmp3723 = tmp3722.slice(0);
									v_self_2252 = tmp3722.shift();
									v_level_2253 = tmp3722.shift();
									v_wantarray_2254 = tmp3722.shift();
									return tmp3723
								})();
								var List_in_2255 = [];
								List_in_2255 = p5list_to_a([p5array_deref((v_self_2252 || (v_self_2252 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
								var v_fun_2256;
								v_fun_2256 = (List_in_2255.shift());
								return (function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([v_fun_2256], "") != 'Perlito5::AST::Apply') ) {
									(function () {
										throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2253, v_wantarray_2254, (p5str(p5call(v_fun_2256, 'emit_javascript2', [v_level_2253], "")) + ' = CORE.bless([ {file_handle : {id : null}}, "GLOB" ]);'), ('return CORE.open(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2252 || (v_self_2252 = new p5HashRef({})))._hash_.p5hget('arguments'), v_level_2253]), "")) + ')')], p5want))
									})()
								}
								else {
									(function () {
										throw(p5context([('CORE.open(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2252 || (v_self_2252 = new p5HashRef({})))._hash_.p5hget('arguments'), v_level_2253]), "")) + ')')], p5want))
									})()
								}
								})()
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3721._prototype_ = null;
						return tmp3721
					})(), 'chomp', (function () {
						var tmp3724;
						tmp3724 = function (List__, p5want) {
							var v_self_2257;
							var v_level_2258;
							var v_wantarray_2259;
							(function () {
									var tmp3725 = p5list_to_a([List__]);
									var tmp3726 = tmp3725.slice(0);
									v_self_2257 = tmp3725.shift();
									v_level_2258 = tmp3725.shift();
									v_wantarray_2259 = tmp3725.shift();
									return tmp3726
								})();
							var v_v_2260;
							v_v_2260 = ((v_self_2257 || (v_self_2257 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2258, v_wantarray_2259, ('var r = p5chomp(' + p5str(p5call(v_v_2260, 'emit_javascript2', [v_level_2258], "")) + ');'), (p5str(p5call(v_v_2260, 'emit_javascript2', [v_level_2258], "")) + ' = r[1];'), 'return r[0]'], p5want));
						};
						tmp3724._prototype_ = null;
						return tmp3724
					})(), 'chop', (function () {
						var tmp3727;
						tmp3727 = function (List__, p5want) {
							var v_self_2261;
							var v_level_2262;
							var v_wantarray_2263;
							(function () {
									var tmp3728 = p5list_to_a([List__]);
									var tmp3729 = tmp3728.slice(0);
									v_self_2261 = tmp3728.shift();
									v_level_2262 = tmp3728.shift();
									v_wantarray_2263 = tmp3728.shift();
									return tmp3729
								})();
							var v_v_2264;
							v_v_2264 = ((v_self_2261 || (v_self_2261 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2262, v_wantarray_2263, ('var r = p5chop(' + p5str(p5call(v_v_2264, 'emit_javascript2', [v_level_2262], "")) + ');'), (p5str(p5call(v_v_2264, 'emit_javascript2', [v_level_2262], "")) + ' = r[1];'), 'return r[0]'], p5want));
						};
						tmp3727._prototype_ = null;
						return tmp3727
					})(), 'read', (function () {
						var tmp3730;
						tmp3730 = function (List__, p5want) {
							var v_self_2265;
							var v_level_2266;
							var v_wantarray_2267;
							(function () {
									var tmp3731 = p5list_to_a([List__]);
									var tmp3732 = tmp3731.slice(0);
									v_self_2265 = tmp3731.shift();
									v_level_2266 = tmp3731.shift();
									v_wantarray_2267 = tmp3731.shift();
									return tmp3732
								})();
							var List_in_2268 = [];
							List_in_2268 = p5list_to_a([p5array_deref((v_self_2265 || (v_self_2265 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2269;
							v_fun_2269 = (List_in_2268.shift());
							var v_scalar_2270;
							v_scalar_2270 = (List_in_2268.shift());
							var v_length_2271;
							v_length_2271 = (List_in_2268.shift());
							return (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2266, v_wantarray_2267, ('var r = p5pkg["Perlito5::IO"].read(' + p5str(p5call(v_fun_2269, 'emit_javascript2', [v_level_2266], "")) + ', [' + p5str(p5call(v_length_2271, 'emit_javascript2', [v_level_2266], "")) + ']);'), (p5str(p5call(v_scalar_2270, 'emit_javascript2', [v_level_2266], "")) + ' = r[1];'), 'return r[0]'], p5want));
						};
						tmp3730._prototype_ = null;
						return tmp3730
					})(), 'readline', (function () {
						var tmp3733;
						tmp3733 = function (List__, p5want) {
							var v_self_2272;
							var v_level_2273;
							var v_wantarray_2274;
							(function () {
									var tmp3734 = p5list_to_a([List__]);
									var tmp3735 = tmp3734.slice(0);
									v_self_2272 = tmp3734.shift();
									v_level_2273 = tmp3734.shift();
									v_wantarray_2274 = tmp3734.shift();
									return tmp3735
								})();
							var List_in_2275 = [];
							List_in_2275 = p5list_to_a([p5array_deref((v_self_2272 || (v_self_2272 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2276;
							v_fun_2276 = (p5or(List_in_2275.shift(), function () {
											return CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a(['arguments', (new p5ArrayRef([])), 'bareword', 1, 'code', 'ARGV', 'namespace', ''])))), 'Perlito5::AST::Apply']))
										}));
							return (p5context([('CORE.readline([' + p5str(p5call(v_fun_2276, 'emit_javascript2', [v_level_2273], "")) + '], ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2274], "")) + ')')], p5want));
						};
						tmp3733._prototype_ = null;
						return tmp3733
					})(), 'map', (function () {
						var tmp3736;
						tmp3736 = function (List__, p5want) {
							var v_self_2277;
							var v_level_2278;
							var v_wantarray_2279;
							(function () {
									var tmp3737 = p5list_to_a([List__]);
									var tmp3738 = tmp3737.slice(0);
									v_self_2277 = tmp3737.shift();
									v_level_2278 = tmp3737.shift();
									v_wantarray_2279 = tmp3737.shift();
									return tmp3738
								})();
							var List_in_2280 = [];
							List_in_2280 = p5list_to_a([p5array_deref((v_self_2277 || (v_self_2277 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2281;
							(function () {
									if ( p5bool((v_self_2277 || (v_self_2277 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2281 = ((v_self_2277 || (v_self_2277 = new p5HashRef({})))._hash_.p5hget('special_arg'));
								}
								else {
									v_fun_2281 = (List_in_2280.shift());
								}
								})();
							var v_list_2282;
							v_list_2282 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2280)), v_level_2278]), ""));
							(function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([v_fun_2281], "") == 'Perlito5::AST::Block') ) {
									v_fun_2281 = ((v_fun_2281 || (v_fun_2281 = new p5HashRef({})))._hash_.p5hget('stmts'));
								}
								else {
									v_fun_2281 = ((new p5ArrayRef([v_fun_2281])));
								}
								})();
							return (p5context([('p5map(' + p5str(p5pkg['Perlito5::JavaScript2'].pkg([], "")) + ', ' + 'function (p5want) {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2278) + 1)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_fun_2281], "")], 0), 'emit_javascript2', [(p5num(v_level_2278) + 1), v_wantarray_2279], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2278], "")) + '}, ' + p5str(v_list_2282) + ')')], p5want));
						};
						tmp3736._prototype_ = null;
						return tmp3736
					})(), 'grep', (function () {
						var tmp3739;
						tmp3739 = function (List__, p5want) {
							var v_self_2283;
							var v_level_2284;
							var v_wantarray_2285;
							(function () {
									var tmp3740 = p5list_to_a([List__]);
									var tmp3741 = tmp3740.slice(0);
									v_self_2283 = tmp3740.shift();
									v_level_2284 = tmp3740.shift();
									v_wantarray_2285 = tmp3740.shift();
									return tmp3741
								})();
							var List_in_2286 = [];
							List_in_2286 = p5list_to_a([p5array_deref((v_self_2283 || (v_self_2283 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2287;
							(function () {
									if ( p5bool((v_self_2283 || (v_self_2283 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2287 = ((v_self_2283 || (v_self_2283 = new p5HashRef({})))._hash_.p5hget('special_arg'));
								}
								else {
									v_fun_2287 = (List_in_2286.shift());
								}
								})();
							var v_list_2288;
							v_list_2288 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2286)), v_level_2284]), ""));
							(function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([v_fun_2287], "") == 'Perlito5::AST::Block') ) {
									v_fun_2287 = ((v_fun_2287 || (v_fun_2287 = new p5HashRef({})))._hash_.p5hget('stmts'));
								}
								else {
									v_fun_2287 = ((new p5ArrayRef([v_fun_2287])));
								}
								})();
							return (p5context([('p5grep(' + p5str(p5pkg['Perlito5::JavaScript2'].pkg([], "")) + ', ' + 'function (p5want) {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2284) + 1)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_fun_2287], "")], 0), 'emit_javascript2', [(p5num(v_level_2284) + 1), v_wantarray_2285], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2284], "")) + '}, ' + p5str(v_list_2288) + ')')], p5want));
						};
						tmp3739._prototype_ = null;
						return tmp3739
					})(), 'sort', (function () {
						var tmp3742;
						tmp3742 = function (List__, p5want) {
							var v_self_2289;
							var v_level_2290;
							var v_wantarray_2291;
							(function () {
									var tmp3743 = p5list_to_a([List__]);
									var tmp3744 = tmp3743.slice(0);
									v_self_2289 = tmp3743.shift();
									v_level_2290 = tmp3743.shift();
									v_wantarray_2291 = tmp3743.shift();
									return tmp3744
								})();
							var List_in_2292 = [];
							List_in_2292 = p5list_to_a([p5array_deref((v_self_2289 || (v_self_2289 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]);
							var v_fun_2293;
							var v_list_2294;
							(function () {
									if ( p5bool((v_self_2289 || (v_self_2289 = new p5HashRef({})))._hash_.p5hget('special_arg')) ) {
									v_fun_2293 = ((v_self_2289 || (v_self_2289 = new p5HashRef({})))._hash_.p5hget('special_arg'));
								}
								else (function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([p5list_slice(List_in_2292, [0], "")], "") == 'Perlito5::AST::Block') ) {
									v_fun_2293 = (List_in_2292.shift());
								}
								})()
								})();
							(function () {
									if ( (p5pkg['Perlito5::AST::Apply'].ref([v_fun_2293], "") == 'Perlito5::AST::Block') ) {
									v_fun_2293 = (('function (p5want) {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2290) + 1)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (v_fun_2293 || (v_fun_2293 = new p5HashRef({})))._hash_.p5hget('stmts')]), "")], 0), 'emit_javascript2', [(p5num(v_level_2290) + 1), v_wantarray_2291], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2290], "")) + '}'));
								}
								else {
									v_fun_2293 = ('null');
								}
								})();
							v_list_2294 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2292)), v_level_2290]), ""));
							return (p5context([('p5sort(' + p5str(p5pkg['Perlito5::JavaScript2'].pkg([], "")) + ', ' + p5str(v_fun_2293) + ', ' + p5str(v_list_2294) + ')')], p5want));
						};
						tmp3742._prototype_ = null;
						return tmp3742
					})(), 'infix:<//>', (function () {
						var tmp3745;
						tmp3745 = function (List__, p5want) {
							var v_self_2295;
							var v_level_2296;
							var v_wantarray_2297;
							(function () {
									var tmp3746 = p5list_to_a([List__]);
									var tmp3747 = tmp3746.slice(0);
									v_self_2295 = tmp3746.shift();
									v_level_2296 = tmp3746.shift();
									v_wantarray_2297 = tmp3746.shift();
									return tmp3747
								})();
							return (p5context([('p5defined_or' + '(' + p5str(p5call((v_self_2295 || (v_self_2295 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [v_level_2296, 'scalar'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2(p5list_to_a([v_level_2296, v_wantarray_2297, (v_self_2295 || (v_self_2295 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1)]), "")) + ')')], p5want));
						};
						tmp3745._prototype_ = null;
						return tmp3745
					})(), 'exists', (function () {
						var tmp3748;
						tmp3748 = function (List__, p5want) {
							try {
								var v_self_2298;
								var v_level_2299;
								var v_wantarray_2300;
								(function () {
									var tmp3749 = p5list_to_a([List__]);
									var tmp3750 = tmp3749.slice(0);
									v_self_2298 = tmp3749.shift();
									v_level_2299 = tmp3749.shift();
									v_wantarray_2300 = tmp3749.shift();
									return tmp3750
								})();
								var v_arg_2301;
								v_arg_2301 = ((v_self_2298 || (v_self_2298 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								(function () {
									if ( p5bool(p5call(v_arg_2301, 'isa', ['Perlito5::AST::Lookup'], "")) ) {
									(function () {
										var v_v_2302;
										v_v_2302 = (p5call(v_arg_2301, 'obj', [], ""));
										(function () {
											if ( (p5bool(p5call(v_v_2302, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2302, 'sigil', [], "")) == '$')) ) {
											(v_v_2302 || (v_v_2302 = new p5HashRef({})))._hash_.p5hset('sigil', ('%'));
											throw(p5context([('(' + p5str(p5call(v_v_2302, 'emit_javascript2', [], "")) + ').hasOwnProperty(' + p5str(p5call(p5call(v_arg_2301, 'autoquote', p5list_to_a([(v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('index_exp')]), ""), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
										}
										})();
										throw(p5context([('(' + p5str(p5call(v_v_2302, 'emit_javascript2', [], "")) + ')._hash_.hasOwnProperty(' + p5str(p5call(p5call(v_arg_2301, 'autoquote', p5list_to_a([(v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('index_exp')]), ""), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
									})();
								}
								})();
								(function () {
									if ( p5bool(p5call(v_arg_2301, 'isa', ['Perlito5::AST::Index'], "")) ) {
									(function () {
										var v_v_2303;
										v_v_2303 = (p5call(v_arg_2301, 'obj', [], ""));
										(function () {
											if ( (p5bool(p5call(v_v_2303, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_v_2303, 'sigil', [], "")) == '$')) ) {
											throw(p5context([('(' + p5str(p5call(v_v_2303, 'emit_javascript2', [], "")) + ').hasOwnProperty(' + p5str(p5call((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
										}
										})();
										throw(p5context([('(' + p5str(p5call(v_v_2303, 'emit_javascript2', [], "")) + ')._array_.hasOwnProperty(' + p5str(p5call((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('index_exp'), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
									})();
								}
								})();
								(function () {
									if ( p5bool(p5call(v_arg_2301, 'isa', ['Perlito5::AST::Call'], "")) ) {
									(function () {
										if ( (p5str(p5call(v_arg_2301, 'method', [], "")) == 'postcircumfix:<{ }>') ) {
										throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([p5call(v_arg_2301, 'invocant', [], 1), v_level_2299, 'hash']), "")) + '._hash_.hasOwnProperty(' + p5str(p5call(p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('arguments')]), ""), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
									}
									})();
									(function () {
										if ( (p5str(p5call(v_arg_2301, 'method', [], "")) == 'postcircumfix:<[ ]>') ) {
										throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([p5call(v_arg_2301, 'invocant', [], 1), v_level_2299, 'array']), "")) + '._array_.hasOwnProperty(' + p5str(p5call((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('arguments'), 'emit_javascript2', [v_level_2299], "")) + ')')], p5want));
									}
									})();
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_arg_2301, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_arg_2301, 'sigil', [], "")) == '&')) ) {
									(function () {
										var v_name_2304;
										v_name_2304 = ((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('name'));
										var v_namespace_2305;
										v_namespace_2305 = (p5or((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
													return p5make_package('Perlito5')['v_PKG_NAME']
												}));
										throw(p5context([('p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2305], "")) + '].hasOwnProperty(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_name_2304], "")) + ')')], p5want));
									})();
								}
								})();
								return (function () {
									if ( (p5bool(p5call(v_arg_2301, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<&>')) ) {
									var v_arg2_2306;
									v_arg2_2306 = ((v_arg_2301 || (v_arg_2301 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
									(function () {
										throw(p5context([('p5sub_exists(' + p5str(p5pkg['Perlito5::JavaScript2'].to_str([v_arg2_2306], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want))
									})()
								}
								})()
							}
							catch(err) {
								if ( err instanceof Error ) {
									throw(err);
								}
								else {
									return(err);
								}
							}
						};
						tmp3748._prototype_ = null;
						return tmp3748
					})(), 'prototype', (function () {
						var tmp3751;
						tmp3751 = function (List__, p5want) {
							var v_self_2307;
							var v_level_2308;
							var v_wantarray_2309;
							(function () {
									var tmp3752 = p5list_to_a([List__]);
									var tmp3753 = tmp3752.slice(0);
									v_self_2307 = tmp3752.shift();
									v_level_2308 = tmp3752.shift();
									v_wantarray_2309 = tmp3752.shift();
									return tmp3753
								})();
							var v_arg_2310;
							v_arg_2310 = ((v_self_2307 || (v_self_2307 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							return (p5context([('p5sub_prototype(' + p5str(p5call(v_arg_2310, 'emit_javascript2', [], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want));
						};
						tmp3751._prototype_ = null;
						return tmp3751
					})(), 'split', (function () {
						var tmp3754;
						tmp3754 = function (List__, p5want) {
							var v_self_2311;
							var v_level_2312;
							var v_wantarray_2313;
							(function () {
									var tmp3755 = p5list_to_a([List__]);
									var tmp3756 = tmp3755.slice(0);
									v_self_2311 = tmp3755.shift();
									v_level_2312 = tmp3755.shift();
									v_wantarray_2313 = tmp3755.shift();
									return tmp3756
								})();
							var List_js_2314 = [];
							var v_arg_2315;
							v_arg_2315 = ((v_self_2311 || (v_self_2311 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
							(function () {
									if ( (p5bool(v_arg_2315) && (p5bool(p5call(v_arg_2315, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_arg_2315 || (v_arg_2315 = new p5HashRef({})))._hash_.p5hget('code')) == 'p5:m'))) ) {
									List_js_2314.p5push([('new RegExp(' + p5str(p5call((v_arg_2315 || (v_arg_2315 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'emit_javascript2', [], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_arg_2315 || (v_arg_2315 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(1)._hash_.p5hget('buf')]), "")) + ')')]);
									p5array_deref((v_self_2311 || (v_self_2311 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply').shift();
								}
								})();
							return (p5context([('CORE.split(' + '[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([List_js_2314, p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1));
	}, p5list_to_a([p5array_deref((v_self_2311 || (v_self_2311 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + '], ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2313], "")) + ')')], p5want));
						};
						tmp3754._prototype_ = null;
						return tmp3754
					})()]);
			p5typeglob_set('Perlito5::AST::Apply', 'emit_javascript2', (function () {
				var tmp3757;
				tmp3757 = function (List__, p5want) {
					try {
						var v_self_2316;
						var v_level_2317;
						var v_wantarray_2318;
						(function () {
							var tmp3758 = p5list_to_a([List__]);
							var tmp3759 = tmp3758.slice(0);
							v_self_2316 = tmp3758.shift();
							v_level_2317 = tmp3758.shift();
							v_wantarray_2318 = tmp3758.shift();
							return tmp3759
						})();
						var v_apply_2319;
						v_apply_2319 = (p5call(v_self_2316, 'op_assign', [], ""));
						(function () {
							if ( p5bool(v_apply_2319) ) {
							throw(p5call(v_apply_2319, 'emit_javascript2', [v_level_2317], p5want));
						}
						})();
						var v_apply_2320;
						v_apply_2320 = (p5call(v_self_2316, 'op_auto', [], ""));
						(function () {
							if ( p5bool(v_apply_2320) ) {
							throw(p5call(v_apply_2320, 'emit_javascript2', [v_level_2317], p5want));
						}
						})();
						var v_code_2321;
						v_code_2321 = ((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code'));
						(function () {
							if ( (p5pkg['Perlito5::AST::Apply'].ref([v_code_2321], "") != '') ) {
							(function () {
								var List_args_2322 = [];
								List_args_2322 = [];
								p5for(p5make_package('main'), "v__", function () {
										List_args_2322.p5push(p5list_to_a([p5call(p5make_package('main')['v__'], 'emit_javascript2', [], 1)]));
									}, p5list_to_a([p5array_deref((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]), false, '');
								(function () {
									if ( ((p5pkg['Perlito5::AST::Apply'].ref([v_code_2321], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_code_2321, 'code', [], "")) == 'prefix:<&>')) ) {
									(function () {
										var v_arg_2323;
										v_arg_2323 = ((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_hash('code')._hash_.p5hget_array('arguments')._array_.p5aget(0));
										v_code_2321 = (('p5code_lookup_by_name(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5call(v_arg_2323, 'emit_javascript2', [v_level_2317], "")) + ')'));
										throw(p5context([(p5str(v_code_2321) + '([' + p5pkg['Perlito5::AST::Apply'].join([','].concat(p5list_to_a([List_args_2322])), "") + '])')], p5want));
									})();
								}
								})();
								throw(p5context([('(' + p5str(p5call((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code'), 'emit_javascript2', [v_level_2317], "")) + ')([' + p5pkg['Perlito5::AST::Apply'].join([','].concat(p5list_to_a([List_args_2322])), "") + '])')], p5want));
							})();
						}
						})();
						p5and((Hash_emit_js_1969).hasOwnProperty(v_code_2321), function () {
							throw((Hash_emit_js_1969.p5hget(p5str(v_code_2321)))([v_self_2316, v_level_2317, v_wantarray_2318], p5want))
						});
						(function () {
							if ( (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_str']).hasOwnProperty(v_code_2321) ) {
							throw(p5context([('(' + p5pkg['Perlito5::AST::Apply'].join([p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_str'].p5hget(p5str(v_code_2321))].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_str([p5make_package('main')['v__'], v_level_2317], 1));
	}, p5list_to_a([p5array_deref((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_num']).hasOwnProperty(v_code_2321) ) {
							throw(p5context([('(' + p5pkg['Perlito5::AST::Apply'].join([p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_num'].p5hget(p5str(v_code_2321))].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5pkg['Perlito5::JavaScript2'].to_num([p5make_package('main')['v__'], v_level_2317], 1));
	}, p5list_to_a([p5array_deref((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), "") + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_prefix_js_str']).hasOwnProperty(v_code_2321) ) {
							throw(p5context([(p5str(p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_prefix_js_str'].p5hget(p5str(v_code_2321))) + '(' + p5str(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( p5bool((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')) ) {
							(function () {
								if ( (p5str((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'JS') ) {
								(function () {
									if ( (p5str(v_code_2321) == 'inline') ) {
									(function () {
										if ( p5bool(p5call((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), 'isa', ['Perlito5::AST::Buf'], "")) ) {
										throw((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget_hash(0)._hash_.p5hget('buf'));
									}
									else {
										p5pkg['Perlito5::AST::Apply'].die([].concat(['JS::inline needs a string constant']), null);
									}
									})();
								}
								})();
							}
							})();
							(function () {
								if ( (p5str((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')) == 'Perlito5') ) {
								(function () {
									if ( (p5str(v_code_2321) == 'eval_ast') ) {
									(v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hset('namespace', ('Perlito5::JavaScript2::Runtime'));
								}
								})();
							}
							})();
							v_code_2321 = (('p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')]), "")) + '].' + p5str(v_code_2321)));
						}
						else {
							v_code_2321 = ((p5str(p5pkg['Perlito5::JavaScript2'].pkg([], "")) + '.' + p5str(v_code_2321)));
						}
						})();
						var v_sig_2324;
						var v_may_need_autoload_2325;
						p5block(function (v) {}, function () {
								var v_name_2326;
								v_name_2326 = ((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code'));
								var v_namespace_2327;
								v_namespace_2327 = (p5or((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
											return p5make_package('Perlito5')['v_PKG_NAME']
										}));
								var v_effective_name_2328;
								v_effective_name_2328 = ((p5str(v_namespace_2327) + '::' + p5str((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code'))));
								(function () {
									if ( (p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(v_effective_name_2328) ) {
									v_sig_2324 = ((p5make_package('Perlito5')['v_PROTO'] || (p5make_package('Perlito5')['v_PROTO'] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name_2328)));
								}
								else (function () {
									if ( ((!( p5bool((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace'))) || (p5str(v_namespace_2327) == 'CORE')) && (p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.hasOwnProperty(('CORE::' + p5str(v_name_2326)))) ) {
									v_effective_name_2328 = (('CORE::' + p5str(v_name_2326)));
									v_sig_2324 = ((p5make_package('Perlito5')['v_CORE_PROTO'] || (p5make_package('Perlito5')['v_CORE_PROTO'] = new p5HashRef({})))._hash_.p5hget(p5str(v_effective_name_2328)));
								}
								else (function () {
									if ( (p5make_package('Perlito5')['v_PACKAGES'] || (p5make_package('Perlito5')['v_PACKAGES'] = new p5HashRef({})))._hash_.hasOwnProperty(v_name_2326) ) {
									throw(p5pkg['Perlito5::JavaScript2'].escape_string([v_name_2326], p5want));
								}
								else {
									(function () {
										if ( p5bool((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('bareword')) ) {
										throw(p5pkg['Perlito5::JavaScript2'].escape_string([(p5str(( p5bool((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')) ? (p5str((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace')) + '::') : '')) + p5str(v_name_2326))], p5want));
									}
									})();
									v_may_need_autoload_2325 = (1);
								}
								})()
								})()
								})();
								p5and(p5context([(v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.hasOwnProperty('proto')], 0), function () {
									return v_sig_2324 = ((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('proto'))
								});
							}, [0], false, ''
						);
						p5and((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('ignore_proto'), function () {
							return v_sig_2324 = ('')
						});
						(function () {
							if ( p5bool(v_sig_2324) ) {
							(function () {
								var List_out_2329 = [];
								List_out_2329 = [];
								var List_in_2330 = [];
								List_in_2330 = p5list_to_a([p5array_deref(p5or((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('arguments'), function () {
											return (new p5ArrayRef([]))
										}), 'Perlito5::AST::Apply')]);
								var v_close_2331;
								v_close_2331 = (']');
								var v_optional_2332;
								v_optional_2332 = (0);
								(function () {
									p5while(function () {
										var v_c_2333;
										v_c_2333 = (p5str(v_sig_2324).substr(0, 1));
										(function () {
											if ( (p5str(v_c_2333) == ';') ) {
											v_optional_2332 = (1);
										}
										else (function () {
											if ( ((p5str(v_c_2333) == '$') || (p5str(v_c_2333) == '_')) ) {
											p5and(p5or(List_in_2330.length, function () {
												return !( p5bool(v_optional_2332))
											}), function () {
												return List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'scalar'], 1)]))
											});
										}
										else (function () {
											if ( (p5str(v_c_2333) == '+') ) {
											(function () {
												if ( (p5bool(List_in_2330.length) || !( p5bool(v_optional_2332))) ) {
												(function () {
													var v_in_2334;
													v_in_2334 = (List_in_2330.shift());
													(function () {
														if ( ((p5bool(p5call(v_in_2334, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_in_2334 || (v_in_2334 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<@>')) || ((p5bool(p5call(v_in_2334, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_in_2334, 'sigil', [], "")) == '@')) || ((p5bool(p5call(v_in_2334, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_in_2334 || (v_in_2334 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<%>')) || (p5bool(p5call(v_in_2334, 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call(v_in_2334, 'sigil', [], "")) == '%'))))) ) {
														List_out_2329.p5push(p5list_to_a([p5call(v_in_2334, 'emit_javascript2', [(p5num(v_level_2317) + 1), 'list'], 1)]));
													}
													else {
														List_out_2329.p5push(p5list_to_a([p5call(v_in_2334, 'emit_javascript2', [(p5num(v_level_2317) + 1), 'scalar'], 1)]));
													}
													})();
												})();
											}
											})();
										}
										else (function () {
											if ( (p5str(v_c_2333) == '@') ) {
											p5and(p5or(List_in_2330.length, function () {
												return !( p5bool(v_optional_2332))
											}), function () {
												return v_close_2331 = (('].concat(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(List_in_2330)), (p5num(v_level_2317) + 1)]), "")) + ')'))
											});
											List_in_2330 = [];
										}
										else (function () {
											if ( (p5str(v_c_2333) == '&') ) {
											List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'scalar'], 1)]));
										}
										else (function () {
											if ( (p5str(v_c_2333) == '*') ) {
											(function () {
												if ( (p5bool(List_in_2330.length) || !( p5bool(v_optional_2332))) ) {
												(function () {
													var v_arg_2335;
													v_arg_2335 = (List_in_2330.shift());
													(function () {
														if ( p5bool((v_arg_2335 || (v_arg_2335 = new p5HashRef({})))._hash_.p5hget('bareword')) ) {
														List_out_2329.p5push(p5list_to_a([p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_arg_2335 || (v_arg_2335 = new p5HashRef({})))._hash_.p5hget('code')]), 1)]));
													}
													else {
														List_out_2329.p5push(p5list_to_a([p5call(v_arg_2335, 'emit_javascript2', [(p5num(v_level_2317) + 1), 'scalar'], 1)]));
													}
													})();
												})();
											}
											})();
										}
										else (function () {
											if ( (p5str(v_c_2333) == String.fromCharCode(92)) ) {
											(function () {
												if ( (p5str(v_sig_2324).substr(0, 2) == String.fromCharCode(92) + '$') ) {
												v_sig_2324 = (CORE.substr([v_sig_2324, 1], ""));
												p5and(p5or(List_in_2330.length, function () {
													return !( p5bool(v_optional_2332))
												}), function () {
													return List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'scalar'], 1)]))
												});
											}
											else (function () {
												if ( ((p5str(v_sig_2324).substr(0, 2) == String.fromCharCode(92) + '@') || (p5str(v_sig_2324).substr(0, 2) == String.fromCharCode(92) + '%')) ) {
												v_sig_2324 = (CORE.substr([v_sig_2324, 1], ""));
												p5and(p5or(List_in_2330.length, function () {
													return !( p5bool(v_optional_2332))
												}), function () {
													return List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'list'], 1)]))
												});
											}
											else (function () {
												if ( (p5str(v_sig_2324).substr(0, 5) == String.fromCharCode(92) + '[@%]') ) {
												v_sig_2324 = (CORE.substr([v_sig_2324, 4], ""));
												p5and(p5or(List_in_2330.length, function () {
													return !( p5bool(v_optional_2332))
												}), function () {
													return List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'list'], 1)]))
												});
											}
											else (function () {
												if ( (p5str(v_sig_2324).substr(0, 6) == String.fromCharCode(92) + '[$@%]') ) {
												v_sig_2324 = (CORE.substr([v_sig_2324, 5], ""));
												p5and(p5or(List_in_2330.length, function () {
													return !( p5bool(v_optional_2332))
												}), function () {
													return List_out_2329.p5push(p5list_to_a([p5call(List_in_2330.shift(), 'emit_javascript2', [(p5num(v_level_2317) + 1), 'list'], 1)]))
												});
											}
											})()
											})()
											})()
											})();
										}
										})()
										})()
										})()
										})()
										})()
										})()
										})();
										v_sig_2324 = (CORE.substr([v_sig_2324, 1], ""));
									}, function () {
										return p5pkg['Perlito5::AST::Apply'].length([v_sig_2324], "")
									}, false, '', 0)
								})();
								throw(p5context([(p5str(v_code_2321) + '([' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([List_out_2329])), "") + p5str(v_close_2331) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2318], "")) + ')')], p5want));
							})();
						}
						})();
						var v_arg_list_2336;
						v_arg_list_2336 = (p5pkg['Perlito5::JavaScript2'].to_list_preprocess(p5list_to_a([(v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('arguments')]), ""));
						var v_arg_code_2337;
						v_arg_code_2337 = (( (p5str((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code')) == 'scalar') ? ('[' + p5pkg['Perlito5::AST::Apply'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2317], 1));
	}, p5list_to_a([p5array_deref((v_arg_list_2336 || (v_arg_list_2336 = new p5ArrayRef([]))), 'Perlito5::AST::Apply')]))])), "") + ']') : p5pkg['Perlito5::JavaScript2'].to_list([v_arg_list_2336, v_level_2317], "")));
						(function () {
							if ( p5bool(v_may_need_autoload_2325) ) {
							(function () {
								var v_name_2338;
								v_name_2338 = ((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('code'));
								var v_namespace_2339;
								v_namespace_2339 = (p5or((v_self_2316 || (v_self_2316 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
											return p5make_package('Perlito5')['v_PKG_NAME']
										}));
								throw(p5context([('p5cget(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2339], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_name_2338], "")) + ')(' + p5str(v_arg_code_2337) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2318], "")) + ')')], p5want));
							})();
						}
						})();
						return (p5context([(p5str(v_code_2321) + '(' + p5str(v_arg_code_2337) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2318], "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3757._prototype_ = null;
				return tmp3757
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_javascript2_set_list', (function () {
				var tmp3760;
				tmp3760 = function (List__, p5want) {
					try {
						var v_self_2340;
						var v_level_2341;
						var v_list_2342;
						(function () {
							var tmp3761 = p5list_to_a([List__]);
							var tmp3762 = tmp3761.slice(0);
							v_self_2340 = tmp3761.shift();
							v_level_2341 = tmp3761.shift();
							v_list_2342 = tmp3761.shift();
							return tmp3762
						})();
						var v_code_2343;
						v_code_2343 = ((v_self_2340 || (v_self_2340 = new p5HashRef({})))._hash_.p5hget('code'));
						(function () {
							if ( (p5str(p5call(v_self_2340, 'code', [], "")) == 'undef') ) {
							throw(p5context([(p5str(v_list_2342) + '.shift()')], p5want));
						}
						})();
						(function () {
							if ( (p5str(p5call(v_self_2340, 'code', [], "")) == 'prefix:<$>') ) {
							throw(p5context([('p5scalar_deref_set(' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2340 || (v_self_2340 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), (p5num(v_level_2341) + 1), 'scalar']), "")) + ', ' + p5str(v_list_2342) + '.shift()' + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( ((p5str(v_code_2343) == 'my') || ((p5str(v_code_2343) == 'our') || ((p5str(v_code_2343) == 'state') || (p5str(v_code_2343) == 'local')))) ) {
							throw(p5context([p5pkg['Perlito5::AST::Apply'].join(['; '].concat(p5list_to_a([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
										return (p5call(p5make_package('main')['v__'], 'emit_javascript2_set_list', [v_level_2341, v_list_2342], 1));
									}, p5list_to_a([p5array_deref((v_self_2340 || (v_self_2340 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))])), p5want)], p5want));
						}
						})();
						return (p5pkg['Perlito5::AST::Apply'].die([].concat(p5list_to_a(['not implemented: assign to ', p5call(v_self_2340, 'code', [], 1)])), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3760._prototype_ = null;
				return tmp3760
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_javascript2_get_decl', (function () {
				var tmp3763;
				tmp3763 = function (List__, p5want) {
					try {
						var v_self_2344;
						v_self_2344 = (List__.shift());
						var v_code_2345;
						v_code_2345 = ((v_self_2344 || (v_self_2344 = new p5HashRef({})))._hash_.p5hget('code'));
						(function () {
							if ( ((p5str(v_code_2345) == 'my') || ((p5str(v_code_2345) == 'our') || ((p5str(v_code_2345) == 'state') || (p5str(v_code_2345) == 'local')))) ) {
							throw(p5context([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
									return (( (p5pkg['Perlito5::AST::Apply'].ref([p5make_package('main')['v__']], "") == 'Perlito5::AST::Var') ? p5call('Perlito5::AST::Decl', 'new', ['decl', v_code_2345, 'type', '', 'var', p5make_package('main')['v__']], p5want) : p5context([], p5want)));
								}, p5list_to_a([p5array_deref((v_self_2344 || (v_self_2344 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))], p5want));
						}
						})();
						(function () {
							if ( ((p5str(v_code_2345) != 'do') && (p5str(v_code_2345) != 'eval')) ) {
							p5and((v_self_2344 || (v_self_2344 = new p5HashRef({})))._hash_.p5hget('arguments'), function () {
								throw(p5context([p5map(p5pkg['Perlito5::AST::Apply'], function (p5want) {
									return ((p5context([p5call(p5make_package('main')['v__'], 'emit_javascript2_get_decl', [], p5want)], p5want)));
								}, p5list_to_a([p5array_deref((v_self_2344 || (v_self_2344 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::AST::Apply')]))], p5want))
							});
						}
						})();
						return (p5context([], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3763._prototype_ = null;
				return tmp3763
			})());
			p5typeglob_set('Perlito5::AST::Apply', 'emit_javascript2_has_regex', (function () {
				var tmp3764;
				tmp3764 = function (List__, p5want) {
					try {
						var v_self_2346;
						v_self_2346 = (List__.shift());
						var v_code_2347;
						v_code_2347 = ((v_self_2346 || (v_self_2346 = new p5HashRef({})))._hash_.p5hget('code'));
						(function () {
							if ( ((p5str(v_code_2347) == 'p5:m') || ((p5str(v_code_2347) == 'p5:s') || ((p5str(v_code_2347) == 'infix:<=~>') || (p5str(v_code_2347) == 'infix:<!~>')))) ) {
							throw(p5context([1], p5want));
						}
						})();
						return (p5context([], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3764._prototype_ = null;
				return tmp3764
			})());
		}, [0], false, ''
	);
	1;
})();;
(function () {
	p5make_package('Perlito5::JavaScript2');
	p5block(function (v) {}, function () {
			var Hash_label_2348 = {};
			p5typeglob_set('Perlito5::JavaScript2', 'pkg', (function () {
				var tmp3765;
				tmp3765 = function (List__, p5want) {
					return (p5context([('p5pkg[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ']')], p5want));
				};
				tmp3765._prototype_ = null;
				return tmp3765
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'get_label', (function () {
				var tmp3766;
				tmp3766 = function (List__, p5want) {
					return (p5context([('tmp' + p5str((function () {
	var tmp3767 = p5make_package('Perlito5')['v_ID'];
	p5make_package('Perlito5')['v_ID'] = p5incr_(tmp3767);
	return tmp3767
})()))], p5want));
				};
				tmp3766._prototype_ = null;
				return tmp3766
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'tab', (function () {
				var tmp3768;
				tmp3768 = function (List__, p5want) {
					var v_level_2349;
					v_level_2349 = (List__.shift());
					return (p5str_replicate(String.fromCharCode(9),p5num(v_level_2349)));
				};
				tmp3768._prototype_ = null;
				return tmp3768
			})());
			// our p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine']
			p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine'];
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_prefix_js_str'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_prefix_js_str'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_prefix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_prefix_js_str'] = {'prefix:<-A>' : 'p5atime', 'prefix:<-C>' : 'p5ctime', 'prefix:<-M>' : 'p5mtime', 'prefix:<-d>' : 'p5is_directory', 'prefix:<-e>' : 'p5file_exists', 'prefix:<-f>' : 'p5is_file', 'prefix:<-s>' : 'p5size', 'prefix:<-p>' : 'p5is_pipe'};
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_str'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_str'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_str'] = {'infix:<eq>' : ' == ', 'infix:<ne>' : ' != ', 'infix:<le>' : ' <= ', 'infix:<ge>' : ' >= ', 'infix:<lt>' : ' < ', 'infix:<gt>' : ' > '};
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_num'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_num'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_infix_js_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_infix_js_num'] = {'infix:<==>' : ' == ', 'infix:<!=>' : ' != ', 'infix:<+>' : ' + ', 'infix:<->' : ' - ', 'infix:<*>' : ' * ', 'infix:</>' : ' / ', 'infix:<>>' : ' > ', 'infix:<<>' : ' < ', 'infix:<>=>' : ' >= ', 'infix:<<=>' : ' <= ', 'infix:<&>' : ' & ', 'infix:<|>' : ' | ', 'infix:<^>' : ' ^ ', 'infix:<>>>' : ' >>> '};
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_bool'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_bool'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_bool'] = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
						return ((p5context([p5make_package('main')['v__'], 1], 1)));
					}, ['prefix:<!>', 'infix:<!=>', 'infix:<==>', 'infix:<<=>', 'infix:<>=>', 'infix:<>>', 'infix:<<>', 'infix:<eq>', 'infix:<ne>', 'infix:<ge>', 'infix:<le>', 'infix:<gt>', 'infix:<lt>', 'infix:<~~>', 'prefix:<not>', 'exists', 'defined'])]));
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_str'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_str'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_str'] = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
						return ((p5context([p5make_package('main')['v__'], 1], 1)));
					}, ['substr', 'join', 'list:<.>', 'chr', 'lc', 'uc', 'lcfirst', 'ucfirst', 'ref'])]));
			if (typeof p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_num'] == "undefined" ) { p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_num'] = {};}
			p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_num'] = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
						return ((p5context([p5make_package('main')['v__'], 1], 1)));
					}, ['length', 'index', 'ord', 'oct', 'infix:<->', 'infix:<+>', 'infix:<*>', 'infix:</>', 'infix:<%>', 'infix:<**>'])]));
			var Hash_safe_char_2357 = {};
			Hash_safe_char_2357 = p5a_to_h([' ', 1, '!', 1, '"', 1, '#', 1, '$', 1, '%', 1, '&', 1, '(', 1, ')', 1, '*', 1, '+', 1, ',', 1, '-', 1, '.', 1, '/', 1, ':', 1, ';', 1, '<', 1, '=', 1, '>', 1, '?', 1, '@', 1, '[', 1, ']', 1, '^', 1, '_', 1, '`', 1, '{', 1, '|', 1, '}', 1, '~', 1]);
			p5typeglob_set('Perlito5::JavaScript2', 'escape_string', (function () {
				var tmp3769;
				tmp3769 = function (List__, p5want) {
					try {
						var v_s_2358;
						v_s_2358 = (List__.shift());
						var List_out_2359 = [];
						var v_tmp_2360;
						v_tmp_2360 = ('');
						p5and((p5str(v_s_2358) == ''), function () {
							throw(p5context([String.fromCharCode(39) + String.fromCharCode(39)], p5want))
						});
						(function () {
							var v_i_2361;
							(function(){ var v_i_2361; p5for_lex(function (v) { v_i_2361 = v }, function () {
									var v_c_2362;
									v_c_2362 = (p5str(v_s_2358).substr(p5num(v_i_2361), 1));
									(function () {
										if ( (((p5str(v_c_2362) >= 'a') && (p5str(v_c_2362) <= 'z')) || (((p5str(v_c_2362) >= 'A') && (p5str(v_c_2362) <= 'Z')) || (((p5str(v_c_2362) >= '0') && (p5str(v_c_2362) <= '9')) || (Hash_safe_char_2357).hasOwnProperty(v_c_2362)))) ) {
										v_tmp_2360 = ((p5str(v_tmp_2360) + p5str(v_c_2362)));
									}
									else {
										p5and((p5str(v_tmp_2360) != ''), function () {
											return List_out_2359.p5push([(String.fromCharCode(39) + p5str(v_tmp_2360) + String.fromCharCode(39))])
										});
										List_out_2359.p5push([('String.fromCharCode(' + p5str(p5pkg['Perlito5::JavaScript2'].ord([v_c_2362], "")) + ')')]);
										v_tmp_2360 = ('');
									}
									})();
								}, p5list_to_a([p5range(0, (p5pkg['Perlito5::JavaScript2'].length([v_s_2358], "") - 1), 1, "tmp3770", 0)]), false, '') })()
						})();
						p5and((p5str(v_tmp_2360) != ''), function () {
							return List_out_2359.p5push([(String.fromCharCode(39) + p5str(v_tmp_2360) + String.fromCharCode(39))])
						});
						return (p5context([p5pkg['Perlito5::JavaScript2'].join([' + '].concat(p5list_to_a([List_out_2359])), p5want)], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3769._prototype_ = null;
				return tmp3769
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_str', (function () {
				var tmp3771;
				tmp3771 = function (List__, p5want) {
					try {
						var v_cond_2363;
						v_cond_2363 = (List__.shift());
						var v_level_2364;
						v_level_2364 = (List__.shift());
						var v_wantarray_2365;
						v_wantarray_2365 = ('scalar');
						(function () {
							if ( (p5bool(p5call(v_cond_2363, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_cond_2363, 'code', [], "")) == 'circumfix:<( )>') && (p5bool((v_cond_2363 || (v_cond_2363 = new p5HashRef({})))._hash_.p5hget('arguments')) && p5bool(p5num(p5array_deref((v_cond_2363 || (v_cond_2363 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::JavaScript2')))))) ) {
							throw(p5pkg['Perlito5::JavaScript2'].to_str(p5list_to_a([(v_cond_2363 || (v_cond_2363 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2364]), p5want));
						}
						})();
						return (function () {
							if ( (p5bool(p5call(v_cond_2363, 'isa', ['Perlito5::AST::Buf'], "")) || (p5bool(p5call(v_cond_2363, 'isa', ['Perlito5::AST::Apply'], "")) && (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_str']).hasOwnProperty(p5call(v_cond_2363, 'code', [], p5want)))) ) {
							(function () {
								throw(p5call(v_cond_2363, 'emit_javascript2', [v_level_2364, v_wantarray_2365], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([('p5str(' + p5str(p5call(v_cond_2363, 'emit_javascript2', [v_level_2364, v_wantarray_2365], "")) + ')')], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3771._prototype_ = null;
				return tmp3771
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'is_num', (function () {
				var tmp3772;
				tmp3772 = function (List__, p5want) {
					try {
						var v_cond_2366;
						v_cond_2366 = (List__.shift());
						p5and(p5or(p5call(v_cond_2366, 'isa', ['Perlito5::AST::Int'], ""), function () {
							return p5or(p5call(v_cond_2366, 'isa', ['Perlito5::AST::Num'], ""), function () {
								return p5context([p5and(p5call(v_cond_2366, 'isa', ['Perlito5::AST::Apply'], ""), function () {
									return (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_num']).hasOwnProperty(p5call(v_cond_2366, 'code', [], p5want))
								})], 0)
							})
						}), function () {
							throw(p5context([1], p5want))
						});
						return (p5context([0], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3772._prototype_ = null;
				return tmp3772
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_num', (function () {
				var tmp3773;
				tmp3773 = function (List__, p5want) {
					try {
						var v_cond_2367;
						v_cond_2367 = (List__.shift());
						var v_level_2368;
						v_level_2368 = (List__.shift());
						var v_wantarray_2369;
						v_wantarray_2369 = ('scalar');
						return (function () {
							if ( p5bool(p5pkg['Perlito5::JavaScript2'].is_num([v_cond_2367], "")) ) {
							(function () {
								throw(p5call(v_cond_2367, 'emit_javascript2', [v_level_2368, v_wantarray_2369], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([('p5num(' + p5str(p5call(v_cond_2367, 'emit_javascript2', [v_level_2368, v_wantarray_2369], "")) + ')')], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3773._prototype_ = null;
				return tmp3773
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_bool', (function () {
				var tmp3774;
				tmp3774 = function (List__, p5want) {
					try {
						var v_cond_2370;
						v_cond_2370 = (List__.shift());
						var v_level_2371;
						v_level_2371 = (List__.shift());
						var v_wantarray_2372;
						v_wantarray_2372 = ('scalar');
						(function () {
							if ( (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_cond_2370, 'code', [], "")) == 'circumfix:<( )>') && (p5bool((v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget('arguments')) && p5bool(p5num(p5array_deref((v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::JavaScript2')))))) ) {
							throw(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2371]), p5want));
						}
						})();
						(function () {
							if ( (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_cond_2370, 'code', [], "")) == 'infix:<&&>') || (p5str(p5call(v_cond_2370, 'code', [], "")) == 'infix:<and>'))) ) {
							throw(p5context([('(' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2371]), "")) + ' && ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_2371]), "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_cond_2370, 'code', [], "")) == 'infix:<||>') || (p5str(p5call(v_cond_2370, 'code', [], "")) == 'infix:<or>'))) ) {
							throw(p5context([('(' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0), v_level_2371]), "")) + ' || ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_cond_2370 || (v_cond_2370 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(1), v_level_2371]), "")) + ')')], p5want));
						}
						})();
						return (function () {
							if ( (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Int'], "")) || (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Num'], "")) || (p5bool(p5call(v_cond_2370, 'isa', ['Perlito5::AST::Apply'], "")) && (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_bool']).hasOwnProperty(p5call(v_cond_2370, 'code', [], p5want))))) ) {
							(function () {
								throw(p5call(v_cond_2370, 'emit_javascript2', [v_level_2371, v_wantarray_2372], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([('p5bool(' + p5str(p5call(v_cond_2370, 'emit_javascript2', [v_level_2371, v_wantarray_2372], "")) + ')')], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3774._prototype_ = null;
				return tmp3774
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'is_scalar', (function () {
				var tmp3775;
				tmp3775 = function (List__, p5want) {
					return (p5and(!( p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Int'], ""))), function () {
								return p5and(!( p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Num'], ""))), function () {
									return p5and(!( p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Buf'], ""))), function () {
										return p5and(!( p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Sub'], ""))), function () {
											return p5and(!( (p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(List__.p5aget_hash(0)._hash_.p5hget('sigil')) == '$'))), function () {
												return !( (p5bool(p5call(List__.p5aget(0), 'isa', ['Perlito5::AST::Apply'], "")) && ((p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_str'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_str']).hasOwnProperty(List__.p5aget_hash(0)._hash_.p5hget('code')) || ((p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_num'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_num']).hasOwnProperty(List__.p5aget_hash(0)._hash_.p5hget('code')) || (p5pkg[p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] || (p5make_package('Perlito5::JavaScript2')['Hash_op_to_bool'] = {}), 'Perlito5::JavaScript2']['Hash_op_to_bool']).hasOwnProperty(List__.p5aget_hash(0)._hash_.p5hget('code'))))))
											})
										})
									})
								})
							}));
				};
				tmp3775._prototype_ = null;
				return tmp3775
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_list', (function () {
				var tmp3776;
				tmp3776 = function (List__, p5want) {
					try {
						var v_items_2373;
						v_items_2373 = (p5pkg['Perlito5::JavaScript2'].to_list_preprocess(p5list_to_a([List__.p5aget(0)]), ""));
						var v_level_2374;
						v_level_2374 = (List__.p5aget(1));
						var v_literal_type_2375;
						v_literal_type_2375 = (p5or(List__.p5aget(2), function () {
									return 'array'
								}));
						var v_wantarray_2376;
						v_wantarray_2376 = ('list');
						var v_interpolate_2377;
						v_interpolate_2377 = (0);
						p5for(p5make_package('main'), "v__", function () {
								p5and(p5pkg['Perlito5::JavaScript2'].is_scalar([p5make_package('main')['v__']], ""), function () {
									return v_interpolate_2377 = (1)
								});
							}, p5list_to_a([p5array_deref((v_items_2373 || (v_items_2373 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]), false, '');
						(function () {
							if ( (p5str(v_literal_type_2375) == 'hash') ) {
							(function () {
								if ( !( p5bool(v_interpolate_2377)) ) {
								(function () {
									var List_out_2378 = [];
									var v_printable_2379;
									v_printable_2379 = (1);
									var List_in_2380 = [];
									List_in_2380 = p5list_to_a([p5array_deref((v_items_2373 || (v_items_2373 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]);
									(function () {
										p5while(function () {
											var v_k_2381;
											v_k_2381 = (List_in_2380.shift());
											var v_v_2382;
											v_v_2382 = (List_in_2380.shift());
											v_k_2381 = (p5call(v_k_2381, 'emit_javascript2', [v_level_2374, 0], ""));
											p5and(p5m(v_k_2381, '[ ' + String.fromCharCode(92) + '[]', '', 0), function () {
												return v_printable_2379 = (0)
											});
											v_v_2382 = (( p5bool(v_v_2382) ? p5call(v_v_2382, 'emit_javascript2', [v_level_2374, 0], "") : 'null'));
											List_out_2378.p5push([(p5str(v_k_2381) + ' : ' + p5str(v_v_2382))]);
										}, function () {
											return List_in_2380.length
										}, false, '', 0)
									})();
									p5and(v_printable_2379, function () {
										throw(p5context([('{' + p5pkg['Perlito5::JavaScript2'].join([', '].concat(p5list_to_a([List_out_2378])), "") + '}')], p5want))
									});
								})();
							}
							})();
							throw(p5context([('p5a_to_h(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list([v_items_2373, v_level_2374, 'array'], "")) + ')')], p5want));
						}
						})();
						return (( p5bool(v_interpolate_2377) ? p5context([('p5list_to_a([' + p5pkg['Perlito5::JavaScript2'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2374, v_wantarray_2376], 1));
	}, p5list_to_a([p5array_deref((v_items_2373 || (v_items_2373 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]))])), "") + '])')], p5want) : p5context([('[' + p5pkg['Perlito5::JavaScript2'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2374, v_wantarray_2376], 1));
	}, p5list_to_a([p5array_deref((v_items_2373 || (v_items_2373 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]))])), "") + ']')], p5want)));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3776._prototype_ = null;
				return tmp3776
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_list_preprocess', (function () {
				var tmp3777;
				tmp3777 = function (List__, p5want) {
					var List_items_2383 = [];
					(function () {
							var v_item_2384;
							(function(){ var v_item_2384; p5for_lex(function (v) { v_item_2384 = v }, function () {
									(function () {
										if ( (p5bool(p5call(v_item_2384, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_item_2384, 'code', [], "")) == 'circumfix:<( )>') || ((p5str(p5call(v_item_2384, 'code', [], "")) == 'list:<,>') || (p5str(p5call(v_item_2384, 'code', [], "")) == 'infix:<=>>')))) ) {
										(function () {
											if ( (p5bool(p5call(v_item_2384, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_item_2384, 'code', [], "")) == 'infix:<=>>')) ) {
											(v_item_2384 || (v_item_2384 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aset(0, (p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_item_2384 || (v_item_2384 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")));
										}
										})();
										(function () {
											var v_arg_2385;
											(function(){ var v_arg_2385; p5for_lex(function (v) { v_arg_2385 = v }, function () {
													List_items_2383.p5push([v_arg_2385]);
												}, p5list_to_a([p5array_deref(p5pkg['Perlito5::JavaScript2'].to_list_preprocess(p5list_to_a([p5call(v_item_2384, 'arguments', [], 1)]), p5want), 'Perlito5::JavaScript2')]), false, '') })()
										})();
									}
									else {
										List_items_2383.p5push([v_item_2384]);
									}
									})();
								}, p5list_to_a([p5array_deref(List__.p5aget_array(0), 'Perlito5::JavaScript2')]), false, '') })()
						})();
					return ((new p5ArrayRef(List_items_2383)));
				};
				tmp3777._prototype_ = null;
				return tmp3777
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_scalar', (function () {
				var tmp3778;
				tmp3778 = function (List__, p5want) {
					var v_items_2386;
					v_items_2386 = (p5pkg['Perlito5::JavaScript2'].to_scalar_preprocess(p5list_to_a([List__.p5aget(0)]), ""));
					var v_level_2387;
					v_level_2387 = (List__.p5aget(1));
					var v_wantarray_2388;
					v_wantarray_2388 = ('scalar');
					return (( p5bool(p5num(p5array_deref((v_items_2386 || (v_items_2386 = new p5ArrayRef([]))), 'Perlito5::JavaScript2'))) ? ('(' + p5pkg['Perlito5::JavaScript2'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2387, v_wantarray_2388], 1));
	}, p5list_to_a([p5array_deref((v_items_2386 || (v_items_2386 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]))])), "") + ')') : 'null'));
				};
				tmp3778._prototype_ = null;
				return tmp3778
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_scalar_preprocess', (function () {
				var tmp3779;
				tmp3779 = function (List__, p5want) {
					var List_items_2389 = [];
					(function () {
							var v_item_2390;
							(function(){ var v_item_2390; p5for_lex(function (v) { v_item_2390 = v }, function () {
									(function () {
										if ( (p5bool(p5call(v_item_2390, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_item_2390, 'code', [], "")) == 'list:<,>') || (p5str(p5call(v_item_2390, 'code', [], "")) == 'infix:<=>>'))) ) {
										(function () {
											if ( (p5bool(p5call(v_item_2390, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_item_2390, 'code', [], "")) == 'infix:<=>>')) ) {
											(v_item_2390 || (v_item_2390 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aset(0, (p5call('Perlito5::AST::Lookup', 'autoquote', p5list_to_a([(v_item_2390 || (v_item_2390 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0)]), "")));
										}
										})();
										(function () {
											var v_arg_2391;
											(function(){ var v_arg_2391; p5for_lex(function (v) { v_arg_2391 = v }, function () {
													List_items_2389.p5push([v_arg_2391]);
												}, p5list_to_a([p5array_deref(p5pkg['Perlito5::JavaScript2'].to_scalar_preprocess(p5list_to_a([p5call(v_item_2390, 'arguments', [], 1)]), p5want), 'Perlito5::JavaScript2')]), false, '') })()
										})();
									}
									else {
										List_items_2389.p5push([v_item_2390]);
									}
									})();
								}, p5list_to_a([p5array_deref(List__.p5aget_array(0), 'Perlito5::JavaScript2')]), false, '') })()
						})();
					return ((new p5ArrayRef(List_items_2389)));
				};
				tmp3779._prototype_ = null;
				return tmp3779
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_runtime_context', (function () {
				var tmp3780;
				tmp3780 = function (List__, p5want) {
					try {
						var v_items_2392;
						v_items_2392 = (p5pkg['Perlito5::JavaScript2'].to_scalar_preprocess(p5list_to_a([List__.p5aget(0)]), ""));
						var v_level_2393;
						v_level_2393 = (List__.p5aget(1));
						var v_wantarray_2394;
						v_wantarray_2394 = ('runtime');
						p5and(p5and((p5num(p5num(p5array_deref((v_items_2392 || (v_items_2392 = new p5ArrayRef([]))), 'Perlito5::JavaScript2'))) == 1), function () {
							return p5pkg['Perlito5::JavaScript2'].is_scalar(p5list_to_a([(v_items_2392 || (v_items_2392 = new p5ArrayRef([])))._array_.p5aget(0)]), "")
						}), function () {
							throw(p5call((v_items_2392 || (v_items_2392 = new p5ArrayRef([])))._array_.p5aget(0), 'emit_javascript2', [v_level_2393, v_wantarray_2394], p5want))
						});
						return (p5context([('p5context(' + '[' + p5pkg['Perlito5::JavaScript2'].join([', '].concat(p5list_to_a([p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
		return (p5call(p5make_package('main')['v__'], 'emit_javascript2', [v_level_2393, v_wantarray_2394], 1));
	}, p5list_to_a([p5array_deref((v_items_2392 || (v_items_2392 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')]))])), "") + ']' + ', p5want)')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3780._prototype_ = null;
				return tmp3780
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'to_context', (function () {
				var tmp3781;
				tmp3781 = function (List__, p5want) {
					var v_wantarray_2395;
					v_wantarray_2395 = (List__.shift());
					return (( (p5str(v_wantarray_2395) == 'list') ? '1' : ( (p5str(v_wantarray_2395) == 'scalar') ? '""' : ( (p5str(v_wantarray_2395) == 'void') ? 'null' : 'p5want'))));
				};
				tmp3781._prototype_ = null;
				return tmp3781
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'autoquote', (function () {
				var tmp3782;
				tmp3782 = function (List__, p5want) {
					var v_index_2396;
					v_index_2396 = (List__.shift());
					var v_level_2397;
					v_level_2397 = (List__.shift());
					v_index_2396 = (p5call('Perlito5::AST::Lookup', 'autoquote', [v_index_2396], ""));
					return (p5pkg['Perlito5::JavaScript2'].to_str([v_index_2396, v_level_2397], p5want));
				};
				tmp3782._prototype_ = null;
				return tmp3782
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_javascript2_autovivify', (function () {
				var tmp3783;
				tmp3783 = function (List__, p5want) {
					try {
						var v_obj_2398;
						v_obj_2398 = (List__.shift());
						var v_level_2399;
						v_level_2399 = (List__.shift());
						var v_type_2400;
						v_type_2400 = (List__.shift());
						(function () {
							if ( (p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Index'], "")) || (p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Lookup'], "")) || p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Call'], "")))) ) {
							throw(p5call(v_obj_2398, 'emit_javascript2', [v_level_2399, 0, v_type_2400], p5want));
						}
						})();
						(function () {
							if ( (p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_obj_2398, 'code', [], "")) == 'prefix:<$>')) ) {
							(function () {
								var v_arg_2401;
								v_arg_2401 = ((v_obj_2398 || (v_obj_2398 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								throw(p5context([('p5scalar_deref(' + p5str(p5call(v_arg_2401, 'emit_javascript2', [v_level_2399], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([p5make_package('Perlito5')['v_PKG_NAME']], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_type_2400], "")) + ')')], p5want));
							})();
						}
						})();
						(function () {
							if ( p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Apply'], "")) ) {
							throw(p5call(v_obj_2398, 'emit_javascript2', [v_level_2399], p5want));
						}
						})();
						(function () {
							if ( p5bool(p5call(v_obj_2398, 'isa', ['Perlito5::AST::Buf'], "")) ) {
							throw(p5call(v_obj_2398, 'emit_javascript2', [v_level_2399], p5want));
						}
						})();
						return (p5context([('(' + p5str(p5call(v_obj_2398, 'emit_javascript2', [v_level_2399], "")) + ' || (' + p5str(p5call(v_obj_2398, 'emit_javascript2', [v_level_2399], "")) + ' = ' + p5str(( (p5str(v_type_2400) == 'array') ? 'new p5ArrayRef([])' : ( (p5str(v_type_2400) == 'hash') ? 'new p5HashRef({})' : 'new p5ScalarRef(null)'))) + ')' + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3783._prototype_ = null;
				return tmp3783
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_javascript2_list_with_tabs', (function () {
				var tmp3784;
				tmp3784 = function (List__, p5want) {
					var v_level_2402;
					var v_argument_2403;
					(function () {
							var tmp3785 = p5list_to_a([List__]);
							var tmp3786 = tmp3785.slice(0);
							v_level_2402 = tmp3785.shift();
							v_argument_2403 = tmp3785.shift();
							return tmp3786
						})();
					var v_tab_2404;
					v_tab_2404 = (p5pkg['Perlito5::JavaScript2'].tab([v_level_2402], ""));
					return (p5map(p5pkg['Perlito5::JavaScript2'], function (p5want) {
								return (( (p5pkg['Perlito5::JavaScript2'].ref([p5make_package('main')['v__']], "") == 'ARRAY') ? p5pkg['Perlito5::JavaScript2'].emit_javascript2_list_with_tabs([(p5num(v_level_2402) + 1), p5make_package('main')['v__']], p5want) : (p5str(v_tab_2404) + p5str(p5make_package('main')['v__']))));
							}, p5list_to_a([p5array_deref((v_argument_2403 || (v_argument_2403 = new p5ArrayRef([]))), 'Perlito5::JavaScript2')])));
				};
				tmp3784._prototype_ = null;
				return tmp3784
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_func_javascript2', (function () {
				var tmp3787;
				tmp3787 = function (List__, p5want) {
					var v_level_2405;
					var v_wantarray_2406;
					var List_argument_2407 = [];
					(function () {
							var tmp3788 = p5list_to_a([List__]);
							var tmp3789 = tmp3788.slice(0);
							v_level_2405 = tmp3788.shift();
							v_wantarray_2406 = tmp3788.shift();
							List_argument_2407 = tmp3788;
							tmp3788 = [];
							return tmp3789
						})();
					return (p5context([p5pkg['Perlito5::JavaScript2'].join([String.fromCharCode(10)].concat(p5list_to_a(['function () {', p5pkg['Perlito5::JavaScript2'].emit_javascript2_list_with_tabs(p5list_to_a([v_level_2405, (new p5ArrayRef(p5list_to_a([(new p5ArrayRef(List_argument_2407)), '}'])))]), 1)])), p5want)], p5want));
				};
				tmp3787._prototype_ = null;
				return tmp3787
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_wrap_javascript2', (function () {
				var tmp3790;
				tmp3790 = function (List__, p5want) {
					var v_level_2408;
					var v_wantarray_2409;
					var List_argument_2410 = [];
					(function () {
							var tmp3791 = p5list_to_a([List__]);
							var tmp3792 = tmp3791.slice(0);
							v_level_2408 = tmp3791.shift();
							v_wantarray_2409 = tmp3791.shift();
							List_argument_2410 = tmp3791;
							tmp3791 = [];
							return tmp3792
						})();
					return (p5context([p5pkg['Perlito5::JavaScript2'].join([String.fromCharCode(10)].concat(p5list_to_a(['(function () {', p5pkg['Perlito5::JavaScript2'].emit_javascript2_list_with_tabs(p5list_to_a([v_level_2408, (new p5ArrayRef(p5list_to_a([(new p5ArrayRef(List_argument_2410)), '})()'])))]), 1)])), p5want)], p5want));
				};
				tmp3790._prototype_ = null;
				return tmp3790
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_function_javascript2', (function () {
				var tmp3793;
				tmp3793 = function (List__, p5want) {
					var v_level_2411;
					var v_wantarray_2412;
					var v_argument_2413;
					(function () {
							var tmp3794 = p5list_to_a([List__]);
							var tmp3795 = tmp3794.slice(0);
							v_level_2411 = tmp3794.shift();
							v_wantarray_2412 = tmp3794.shift();
							v_argument_2413 = tmp3794.shift();
							return tmp3795
						})();
					return (function () {
							if ( (p5bool(p5call(v_argument_2413, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_argument_2413, 'code', [], "")) == 'return') || ((p5str(p5call(v_argument_2413, 'code', [], "")) == 'last') || ((p5str(p5call(v_argument_2413, 'code', [], "")) == 'next') || (p5str(p5call(v_argument_2413, 'code', [], "")) == 'redo'))))) ) {
							return (p5pkg['Perlito5::JavaScript2'].emit_func_javascript2(p5list_to_a([v_level_2411, v_wantarray_2412, p5call(v_argument_2413, 'emit_javascript2', [v_level_2411, v_wantarray_2412], 1)]), p5want));
						}
						else {
							return (p5pkg['Perlito5::JavaScript2'].emit_func_javascript2([v_level_2411, v_wantarray_2412, ('return ' + p5str(p5call(v_argument_2413, 'emit_javascript2', [(p5num(v_level_2411) + 1), v_wantarray_2412], "")))], p5want));
						}
						})()
				};
				tmp3793._prototype_ = null;
				return tmp3793
			})());
			p5typeglob_set('Perlito5::JavaScript2', 'emit_wrap_statement_javascript2', (function () {
				var tmp3796;
				tmp3796 = function (List__, p5want) {
					try {
						var v_level_2414;
						var v_wantarray_2415;
						var v_argument_2416;
						(function () {
							var tmp3797 = p5list_to_a([List__]);
							var tmp3798 = tmp3797.slice(0);
							v_level_2414 = tmp3797.shift();
							v_wantarray_2415 = tmp3797.shift();
							v_argument_2416 = tmp3797.shift();
							return tmp3798
						})();
						(function () {
							if ( (p5str(v_wantarray_2415) == 'void') ) {
							throw(p5context([v_argument_2416], p5want));
						}
						})();
						return (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2414, v_wantarray_2415, v_argument_2416], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3796._prototype_ = null;
				return tmp3796
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::JavaScript2::LexicalBlock');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'new', (function () {
				var tmp3799;
				tmp3799 = function (List__, p5want) {
					var v_class_2417;
					v_class_2417 = (List__.shift());
					return (CORE.bless(p5list_to_a([(new p5HashRef(p5a_to_h(p5list_to_a([List__])))), p5str(v_class_2417)])));
				};
				tmp3799._prototype_ = null;
				return tmp3799
			})());
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'block', (function () {
				var tmp3800;
				tmp3800 = function (List__, p5want) {
					return (List__.p5aget_hash(0)._hash_.p5hget('block'));
				};
				tmp3800._prototype_ = null;
				return tmp3800
			})());
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'has_decl', (function () {
				var tmp3801;
				tmp3801 = function (List__, p5want) {
					try {
						var v_self_2418;
						v_self_2418 = (List__.p5aget(0));
						var v_type_2419;
						v_type_2419 = (List__.p5aget(1));
						(function () {
							var v_decl_2420;
							(function(){ var v_decl_2420; p5for_lex(function (v) { v_decl_2420 = v }, function () {
									p5and(p5grep(p5pkg['Perlito5::JavaScript2::LexicalBlock'], function (p5want) {
										return (((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('decl')) == p5str(v_type_2419))));
									}, p5list_to_a([p5call(v_decl_2420, 'emit_javascript2_get_decl', [], 1)])), function () {
										throw(p5context([1], p5want))
									});
								}, p5list_to_a([p5array_deref((v_self_2418 || (v_self_2418 = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::JavaScript2::LexicalBlock')]), false, '') })()
						})();
						return (p5context([0], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3801._prototype_ = null;
				return tmp3801
			})());
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'emit_javascript2_subroutine_body', (function () {
				var tmp3802;
				tmp3802 = function (List__, p5want) {
					var v_self_2421;
					var v_level_2422;
					var v_wantarray_2423;
					(function () {
							var tmp3803 = p5list_to_a([List__]);
							var tmp3804 = tmp3803.slice(0);
							v_self_2421 = tmp3803.shift();
							v_level_2422 = tmp3803.shift();
							v_wantarray_2423 = tmp3803.shift();
							return tmp3804
						})();
					(v_self_2421 || (v_self_2421 = new p5HashRef({})))._hash_.p5hset('top_level', (1));
					var v_outer_throw_2424;
					v_outer_throw_2424 = (p5make_package('Perlito5')['v_THROW']);
					p5make_package('Perlito5')['v_THROW'] = (0);
					var v_s_2425;
					v_s_2425 = (p5call(v_self_2421, 'emit_javascript2', [v_level_2422, v_wantarray_2423], ""));
					p5make_package('Perlito5')['v_THROW'] = (v_outer_throw_2424);
					return (p5context([v_s_2425], p5want));
				};
				tmp3802._prototype_ = null;
				return tmp3802
			})());
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'emit_javascript2', (function () {
				var tmp3805;
				tmp3805 = function (List__, p5want) {
					try {
						var v_self_2426;
						var v_level_2427;
						var v_wantarray_2428;
						(function () {
							var tmp3806 = p5list_to_a([List__]);
							var tmp3807 = tmp3806.slice(0);
							v_self_2426 = tmp3806.shift();
							v_level_2427 = tmp3806.shift();
							v_wantarray_2428 = tmp3806.shift();
							return tmp3807
						})();
						var v_original_level_2429;
						v_original_level_2429 = (v_level_2427);
						var List_block_2430 = [];
						(function () {
							var v_stmt_2431;
							(function(){ var v_stmt_2431; p5for_lex(function (v) { v_stmt_2431 = v }, function () {
									(function () {
										if ( (v_stmt_2431 != null) ) {
										List_block_2430.p5push([v_stmt_2431]);
									}
									})();
								}, p5list_to_a([p5array_deref((v_self_2426 || (v_self_2426 = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::JavaScript2::LexicalBlock')]), false, '') })()
						})();
						(function () {
							if ( !( p5bool(List_block_2430.length)) ) {
							p5and((p5str(v_wantarray_2428) == 'list'), function () {
								throw(p5context(['return []'], p5want))
							});
							p5and((p5str(v_wantarray_2428) == 'scalar'), function () {
								throw(p5context(['return null'], p5want))
							});
							p5and((p5str(v_wantarray_2428) == 'runtime'), function () {
								throw(p5context(['return p5want ? [] : null'], p5want))
							});
							throw(p5context(['null;'], p5want));
						}
						})();
						var List_str_2432 = [];
						var v_has_local_2433;
						v_has_local_2433 = (p5call(v_self_2426, 'has_decl', ['local'], ""));
						var v_has_regex_2434;
						v_has_regex_2434 = (0);
						(function () {
							if ( p5bool(p5grep(p5pkg['Perlito5::JavaScript2::LexicalBlock'], function (p5want) {
								return ((p5call(p5make_package('main')['v__'], 'emit_javascript2_has_regex', [], "")));
							}, p5list_to_a([List_block_2430]))) ) {
							v_has_local_2433 = (1);
							v_has_regex_2434 = (1);
						}
						})();
						var v_create_context_2435;
						v_create_context_2435 = (p5and((v_self_2426 || (v_self_2426 = new p5HashRef({})))._hash_.p5hget('create_context'), function () {
									return p5call(v_self_2426, 'has_decl', ['my'], "")
								}));
						var v_outer_pkg_2436;
						v_outer_pkg_2436 = (p5make_package('Perlito5')['v_PKG_NAME']);
						(function () {
							if ( (p5bool((v_self_2426 || (v_self_2426 = new p5HashRef({})))._hash_.p5hget('top_level')) || p5bool(v_create_context_2435)) ) {
							(function () {
								var tmp3808 = v_level_2427;
								v_level_2427 = p5incr_(tmp3808);
								return tmp3808
							})();
						}
						})();
						var v_last_statement_2437;
						(function () {
							if ( (p5str(v_wantarray_2428) != 'void') ) {
							v_last_statement_2437 = (List_block_2430.pop());
						}
						})();
						(function () {
							var v_decl_2438;
							(function(){ var v_decl_2438; p5for_lex(function (v) { v_decl_2438 = v }, function () {
									(function () {
										if ( ((p5pkg['Perlito5::JavaScript2::LexicalBlock'].ref([v_decl_2438], "") == 'Perlito5::AST::Apply') && (p5str(p5call(v_decl_2438, 'code', [], "")) == 'package')) ) {
										p5make_package('Perlito5')['v_PKG_NAME'] = ((v_decl_2438 || (v_decl_2438 = new p5HashRef({})))._hash_.p5hget('namespace'));
									}
									})();
									var List_var_decl_2439 = [];
									List_var_decl_2439 = p5list_to_a([p5call(v_decl_2438, 'emit_javascript2_get_decl', [], 1)]);
									(function () {
										var v_arg_2440;
										(function(){ var v_arg_2440; p5for_lex(function (v) { v_arg_2440 = v }, function () {
												List_str_2432.p5push(p5list_to_a([p5call(v_arg_2440, 'emit_javascript2_init', [v_level_2427, v_wantarray_2428], 1)]));
											}, p5list_to_a([List_var_decl_2439]), false, '') })()
									})();
									(function () {
										if ( !( (p5bool(p5call(v_decl_2438, 'isa', ['Perlito5::AST::Decl'], "")) && (p5str(p5call(v_decl_2438, 'decl', [], "")) == 'my'))) ) {
										List_str_2432.p5push([(p5str(p5call(v_decl_2438, 'emit_javascript2', [v_level_2427, 'void'], "")) + ';')]);
									}
									})();
								}, p5list_to_a([List_block_2430]), false, '') })()
						})();
						(function () {
							if ( p5bool(v_last_statement_2437) ) {
							(function () {
								var List_var_decl_2441 = [];
								List_var_decl_2441 = p5list_to_a([p5call(v_last_statement_2437, 'emit_javascript2_get_decl', [], 1)]);
								(function () {
									var v_arg_2442;
									(function(){ var v_arg_2442; p5for_lex(function (v) { v_arg_2442 = v }, function () {
											List_str_2432.p5push(p5list_to_a([p5call(v_arg_2442, 'emit_javascript2_init', [v_level_2427, v_wantarray_2428], 1)]));
										}, p5list_to_a([List_var_decl_2441]), false, '') })()
								})();
								(function () {
									if ( (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::Apply'], "")) && ((p5str(p5call(v_last_statement_2437, 'code', [], "")) == 'return') && (p5bool((v_self_2426 || (v_self_2426 = new p5HashRef({})))._hash_.p5hget('top_level')) && p5bool(p5num(p5array_deref((v_last_statement_2437 || (v_last_statement_2437 = new p5HashRef({})))._hash_.p5hget_array('arguments'), 'Perlito5::JavaScript2::LexicalBlock')))))) ) {
									v_last_statement_2437 = ((v_last_statement_2437 || (v_last_statement_2437 = new p5HashRef({})))._hash_.p5hget_array('arguments')._array_.p5aget(0));
								}
								})();
								(function () {
									if ( (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::For'], "")) || (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::While'], "")) || (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::If'], "")) || (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::Block'], "")) || ((p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_last_statement_2437, 'code', [], "")) == 'goto')) || (p5bool(p5call(v_last_statement_2437, 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call(v_last_statement_2437, 'code', [], "")) == 'return'))))))) ) {
									List_str_2432.p5push(p5list_to_a([p5call(v_last_statement_2437, 'emit_javascript2', [v_level_2427, v_wantarray_2428], 1)]));
								}
								else (function () {
									if ( p5bool(v_has_local_2433) ) {
									List_str_2432.p5push([('return p5cleanup_local(local_idx, (' + p5str(( (p5str(v_wantarray_2428) == 'runtime') ? p5pkg['Perlito5::JavaScript2'].to_runtime_context(p5list_to_a([(new p5ArrayRef([v_last_statement_2437])), (p5num(v_level_2427) + 1)]), "") : ( (p5str(v_wantarray_2428) == 'scalar') ? p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_last_statement_2437])), (p5num(v_level_2427) + 1)]), "") : p5call(v_last_statement_2437, 'emit_javascript2', [v_level_2427, v_wantarray_2428], "")))) + '));')]);
								}
								else {
									List_str_2432.p5push([('return (' + p5str(( (p5str(v_wantarray_2428) == 'runtime') ? p5pkg['Perlito5::JavaScript2'].to_runtime_context(p5list_to_a([(new p5ArrayRef([v_last_statement_2437])), (p5num(v_level_2427) + 1)]), "") : ( (p5str(v_wantarray_2428) == 'scalar') ? p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_last_statement_2437])), (p5num(v_level_2427) + 1)]), "") : p5call(v_last_statement_2437, 'emit_javascript2', [v_level_2427, v_wantarray_2428], "")))) + ');')]);
								}
								})()
								})();
							})();
						}
						})();
						(function () {
							if ( p5bool(v_has_local_2433) ) {
							List_str_2432.p5unshift(p5list_to_a(['var local_idx = p5LOCAL.length;', ( p5bool(v_has_regex_2434) ? p5context(['var regex_tmp = p5_regex_capture;', 'p5LOCAL.push(function(){ p5_regex_capture = regex_tmp });'], 1) : p5context([], 1))]));
							List_str_2432.p5push(['p5cleanup_local(local_idx, null);']);
						}
						})();
						var v_out_2443;
						(function () {
							if ( (p5bool((v_self_2426 || (v_self_2426 = new p5HashRef({})))._hash_.p5hget('top_level')) && p5bool(p5make_package('Perlito5')['v_THROW'])) ) {
							(function () {
								v_level_2427 = (v_original_level_2429);
								var v_tab_2444;
								v_tab_2444 = ((String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], ""))));
								v_out_2443 = (('try {' + p5str(v_tab_2444) + p5pkg['Perlito5::JavaScript2::LexicalBlock'].join([v_tab_2444].concat(p5list_to_a([List_str_2432])), "") + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2427], "")) + '}' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2427], "")) + 'catch(err) {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], "")) + 'if ( err instanceof Error ) {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 2)], "")) + 'throw(err);' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], "")) + '}' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], "")) + 'else {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 2)], "")) + p5str(( p5bool(v_has_local_2433) ? 'return p5cleanup_local(local_idx, err)' : 'return(err)')) + ';' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], "")) + '}' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2427], "")) + '}'));
							})();
						}
						else (function () {
							if ( p5bool(v_create_context_2435) ) {
							(function () {
								v_level_2427 = (v_original_level_2429);
								var v_tab_2445;
								v_tab_2445 = ((String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2427) + 1)], ""))));
								v_out_2443 = (('(function () {' + p5str(v_tab_2445) + p5pkg['Perlito5::JavaScript2::LexicalBlock'].join([v_tab_2445].concat(p5list_to_a([List_str_2432])), "") + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2427], "")) + '})();'));
							})();
						}
						else {
							(function () {
								v_level_2427 = (v_original_level_2429);
								var v_tab_2446;
								v_tab_2446 = ((String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2427], ""))));
								v_out_2443 = (p5pkg['Perlito5::JavaScript2::LexicalBlock'].join([v_tab_2446].concat(p5list_to_a([List_str_2432])), ""));
							})();
						}
						})()
						})();
						p5make_package('Perlito5')['v_PKG_NAME'] = (v_outer_pkg_2436);
						return (p5context([v_out_2443], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3805._prototype_ = null;
				return tmp3805
			})());
			p5typeglob_set('Perlito5::JavaScript2::LexicalBlock', 'emit_javascript2_has_regex', (function () {
				var tmp3809;
				tmp3809 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3809._prototype_ = null;
				return tmp3809
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::CompUnit');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_javascript2', (function () {
				var tmp3810;
				tmp3810 = function (List__, p5want) {
					var v_self_2447;
					var v_level_2448;
					var v_wantarray_2449;
					(function () {
							var tmp3811 = p5list_to_a([List__]);
							var tmp3812 = tmp3811.slice(0);
							v_self_2447 = tmp3811.shift();
							v_level_2448 = tmp3811.shift();
							v_wantarray_2449 = tmp3811.shift();
							return tmp3812
						})();
					return (p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2448, v_wantarray_2449, p5call(p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (v_self_2447 || (v_self_2447 = new p5HashRef({})))._hash_.p5hget('body')]), ""), 'emit_javascript2', [(p5num(v_level_2448) + 1), v_wantarray_2449], 1)]), "")) + ';')], p5want));
				};
				tmp3810._prototype_ = null;
				return tmp3810
			})());
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_javascript2_program', (function () {
				var tmp3813;
				tmp3813 = function (List__, p5want) {
					var v_comp_units_2450;
					var Hash_options_2451 = {};
					(function () {
							var tmp3814 = p5list_to_a([List__]);
							var tmp3815 = tmp3814.slice(0);
							v_comp_units_2450 = tmp3814.shift();
							Hash_options_2451 = p5a_to_h(tmp3814);
							tmp3814 = [];
							return tmp3815
						})();
					p5make_package('Perlito5')['v_PKG_NAME'] = ('main');
					var v_level_2452;
					v_level_2452 = (0);
					var v_wantarray_2453;
					v_wantarray_2453 = ('void');
					var v_str_2454;
					(v_str_2454 = ((p5str(v_str_2454) + p5str(p5pkg['Perlito5::Compiler'].do_not_edit(['//'], "")))));
					(function () {
							if ( p5bool(Hash_options_2451.p5hget('expand_use')) ) {
							(v_str_2454 = ((p5str(v_str_2454) + p5str(p5call('Perlito5::JavaScript2::Runtime', 'emit_javascript2', [], "")))));
							(v_str_2454 = ((p5str(v_str_2454) + p5str(p5call('Perlito5::JavaScript2::Array', 'emit_javascript2', [], "")))));
							(v_str_2454 = ((p5str(v_str_2454) + p5str(p5call('Perlito5::JavaScript2::CORE', 'emit_javascript2', [], "")))));
							(v_str_2454 = ((p5str(v_str_2454) + p5str(p5call('Perlito5::JavaScript2::IO', 'emit_javascript2', [], "")))));
							(v_str_2454 = ((p5str(v_str_2454) + p5str(p5call('Perlito5::JavaScript2::Sprintf', 'emit_javascript2', [], "")))));
						}
						})();
					(v_str_2454 = ((p5str(v_str_2454) + ('var p5want;' + String.fromCharCode(10) + 'var List__ = [];' + String.fromCharCode(10)))));
					(function () {
							var v_comp_unit_2455;
							(function(){ var v_comp_unit_2455; p5for_lex(function (v) { v_comp_unit_2455 = v }, function () {
									v_str_2454 = ((p5str(v_str_2454) + p5str(p5call(v_comp_unit_2455, 'emit_javascript2', [v_level_2452, v_wantarray_2453], "")) + ';' + String.fromCharCode(10)));
								}, p5list_to_a([p5array_deref((v_comp_units_2450 || (v_comp_units_2450 = new p5ArrayRef([]))), 'Perlito5::AST::CompUnit')]), false, '') })()
						})();
					return (p5context([v_str_2454], p5want));
				};
				tmp3813._prototype_ = null;
				return tmp3813
			})());
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_javascript2_get_decl', (function () {
				var tmp3816;
				tmp3816 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3816._prototype_ = null;
				return tmp3816
			})());
			p5typeglob_set('Perlito5::AST::CompUnit', 'emit_javascript2_has_regex', (function () {
				var tmp3817;
				tmp3817 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3817._prototype_ = null;
				return tmp3817
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Int');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Int', 'emit_javascript2', (function () {
				var tmp3818;
				tmp3818 = function (List__, p5want) {
					var v_self_2456;
					var v_level_2457;
					var v_wantarray_2458;
					(function () {
							var tmp3819 = p5list_to_a([List__]);
							var tmp3820 = tmp3819.slice(0);
							v_self_2456 = tmp3819.shift();
							v_level_2457 = tmp3819.shift();
							v_wantarray_2458 = tmp3819.shift();
							return tmp3820
						})();
					return ((v_self_2456 || (v_self_2456 = new p5HashRef({})))._hash_.p5hget('int'));
				};
				tmp3818._prototype_ = null;
				return tmp3818
			})());
			p5typeglob_set('Perlito5::AST::Int', 'emit_javascript2_get_decl', (function () {
				var tmp3821;
				tmp3821 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3821._prototype_ = null;
				return tmp3821
			})());
			p5typeglob_set('Perlito5::AST::Int', 'emit_javascript2_has_regex', (function () {
				var tmp3822;
				tmp3822 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3822._prototype_ = null;
				return tmp3822
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Num');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Num', 'emit_javascript2', (function () {
				var tmp3823;
				tmp3823 = function (List__, p5want) {
					var v_self_2459;
					var v_level_2460;
					var v_wantarray_2461;
					(function () {
							var tmp3824 = p5list_to_a([List__]);
							var tmp3825 = tmp3824.slice(0);
							v_self_2459 = tmp3824.shift();
							v_level_2460 = tmp3824.shift();
							v_wantarray_2461 = tmp3824.shift();
							return tmp3825
						})();
					return ((v_self_2459 || (v_self_2459 = new p5HashRef({})))._hash_.p5hget('num'));
				};
				tmp3823._prototype_ = null;
				return tmp3823
			})());
			p5typeglob_set('Perlito5::AST::Num', 'emit_javascript2_get_decl', (function () {
				var tmp3826;
				tmp3826 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3826._prototype_ = null;
				return tmp3826
			})());
			p5typeglob_set('Perlito5::AST::Num', 'emit_javascript2_has_regex', (function () {
				var tmp3827;
				tmp3827 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3827._prototype_ = null;
				return tmp3827
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Buf');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Buf', 'emit_javascript2', (function () {
				var tmp3828;
				tmp3828 = function (List__, p5want) {
					var v_self_2462;
					var v_level_2463;
					var v_wantarray_2464;
					(function () {
							var tmp3829 = p5list_to_a([List__]);
							var tmp3830 = tmp3829.slice(0);
							v_self_2462 = tmp3829.shift();
							v_level_2463 = tmp3829.shift();
							v_wantarray_2464 = tmp3829.shift();
							return tmp3830
						})();
					return (p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2462 || (v_self_2462 = new p5HashRef({})))._hash_.p5hget('buf')]), p5want));
				};
				tmp3828._prototype_ = null;
				return tmp3828
			})());
			p5typeglob_set('Perlito5::AST::Buf', 'emit_javascript2_get_decl', (function () {
				var tmp3831;
				tmp3831 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3831._prototype_ = null;
				return tmp3831
			})());
			p5typeglob_set('Perlito5::AST::Buf', 'emit_javascript2_has_regex', (function () {
				var tmp3832;
				tmp3832 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3832._prototype_ = null;
				return tmp3832
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Block');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Block', 'emit_javascript2', (function () {
				var tmp3833;
				tmp3833 = function (List__, p5want) {
					var v_self_2465;
					var v_level_2466;
					var v_wantarray_2467;
					(function () {
							var tmp3834 = p5list_to_a([List__]);
							var tmp3835 = tmp3834.slice(0);
							v_self_2465 = tmp3834.shift();
							v_level_2466 = tmp3834.shift();
							v_wantarray_2467 = tmp3834.shift();
							return tmp3835
						})();
					var v_body_2468;
					(function () {
							if ( (p5str(v_wantarray_2467) != 'void') ) {
							v_body_2468 = (p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (v_self_2465 || (v_self_2465 = new p5HashRef({})))._hash_.p5hget('stmts')]), ""));
						}
						else {
							v_body_2468 = (p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (v_self_2465 || (v_self_2465 = new p5HashRef({})))._hash_.p5hget('stmts')]), ""));
						}
						})();
					var v_init_2469;
					v_init_2469 = ('');
					(function () {
							if ( (p5str((v_self_2465 || (v_self_2465 = new p5HashRef({})))._hash_.p5hget('name')) == 'INIT') ) {
							(function () {
								var v_tmp_2470;
								v_tmp_2470 = (('p5pkg.main.' + p5str(p5pkg['Perlito5::JavaScript2'].get_label([], ""))));
								v_init_2469 = ((p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2466) + 2)], "")) + ('if (' + p5str(v_tmp_2470) + ') { return }; ' + p5str(v_tmp_2470) + ' = 1;' + String.fromCharCode(10))));
							})();
						}
						})();
					return (p5context([(p5str(( (p5str(v_wantarray_2467) != 'void') ? 'return ' : '')) + 'p5block(' + 'function (v) {}, ' + 'function () {' + String.fromCharCode(10) + p5str(v_init_2469) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2466) + 2)], "")) + p5str(p5call(v_body_2468, 'emit_javascript2', [(p5num(v_level_2466) + 2), v_wantarray_2467], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2466) + 1)], "")) + '}, ' + '[0], ' + p5str(p5call(v_self_2465, 'emit_javascript2_continue', [v_level_2466, v_wantarray_2467], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_self_2465 || (v_self_2465 = new p5HashRef({})))._hash_.p5hget('label'), function () {
	return ''
})]), "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2466], "")) + ')')], p5want));
				};
				tmp3833._prototype_ = null;
				return tmp3833
			})());
			p5typeglob_set('Perlito5::AST::Block', 'emit_javascript2_continue', (function () {
				var tmp3836;
				tmp3836 = function (List__, p5want) {
					try {
						var v_self_2471;
						v_self_2471 = (List__.shift());
						var v_level_2472;
						v_level_2472 = (List__.shift());
						var v_wantarray_2473;
						v_wantarray_2473 = (List__.shift());
						(function () {
							if ( (!( p5bool((v_self_2471 || (v_self_2471 = new p5HashRef({})))._hash_.p5hget('continue'))) || !( p5bool(p5num(p5array_deref((v_self_2471 || (v_self_2471 = new p5HashRef({})))._hash_.p5hget_hash('continue')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Block'))))) ) {
							throw(p5context(['false'], p5want));
						}
						})();
						return (p5context([('function () {' + String.fromCharCode(10) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2471 || (v_self_2471 = new p5HashRef({})))._hash_.p5hget('continue'), 'stmts', [], 1)]), "")], 0), 'emit_javascript2', [(p5num(v_level_2472) + 2), v_wantarray_2473], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2472) + 1)], "")) + '}')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3836._prototype_ = null;
				return tmp3836
			})());
			p5typeglob_set('Perlito5::AST::Block', 'emit_javascript2_get_decl', (function () {
				var tmp3837;
				tmp3837 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3837._prototype_ = null;
				return tmp3837
			})());
			p5typeglob_set('Perlito5::AST::Block', 'emit_javascript2_has_regex', (function () {
				var tmp3838;
				tmp3838 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3838._prototype_ = null;
				return tmp3838
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Index');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2', (function () {
				var tmp3839;
				tmp3839 = function (List__, p5want) {
					try {
						var v_self_2474;
						var v_level_2475;
						var v_wantarray_2476;
						var v_autovivification_type_2477;
						(function () {
							var tmp3840 = p5list_to_a([List__]);
							var tmp3841 = tmp3840.slice(0);
							v_self_2474 = tmp3840.shift();
							v_level_2475 = tmp3840.shift();
							v_wantarray_2476 = tmp3840.shift();
							v_autovivification_type_2477 = tmp3840.shift();
							return tmp3841
						})();
						var v_method_2478;
						v_method_2478 = (p5or(v_autovivification_type_2477, function () {
									return 'p5aget'
								}));
						p5and((p5str(v_autovivification_type_2477) == 'array'), function () {
							return v_method_2478 = ('p5aget_array')
						});
						p5and((p5str(v_autovivification_type_2477) == 'hash'), function () {
							return v_method_2478 = ('p5aget_hash')
						});
						(function () {
							if ( ((p5bool(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || ((p5bool(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@')) || (p5bool(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'code', [], "")) == 'circumfix:<( )>')))) ) {
							throw(p5context([('p5list_slice(' + p5str(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_javascript2', [v_level_2475, 'list'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2475]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2476], "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( ((p5bool(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<%>')) || (p5bool(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '%'))) ) {
							(function () {
								var v_obj_2479;
								v_obj_2479 = ((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'));
								p5and((p5str((v_obj_2479 || (v_obj_2479 = new p5HashRef({})))._hash_.p5hget('sigil')) == '%'), function () {
									return (v_obj_2479 || (v_obj_2479 = new p5HashRef({})))._hash_.p5hset('sigil', ('@'))
								});
								p5and((p5str((v_obj_2479 || (v_obj_2479 = new p5HashRef({})))._hash_.p5hget('code')) == 'prefix:<%>'), function () {
									return (v_obj_2479 || (v_obj_2479 = new p5HashRef({})))._hash_.p5hset('code', ('prefix:<@>'))
								});
								throw(p5context([('p5hash_slice(' + p5str(p5call((v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_javascript2', [v_level_2475, 'list'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2475]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2476], "")) + ')')], p5want));
							})();
						}
						})();
						return (p5context([(p5str(p5call(v_self_2474, 'emit_javascript2_container', [v_level_2475], "")) + '.' + p5str(v_method_2478) + '(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2474 || (v_self_2474 = new p5HashRef({})))._hash_.p5hget('index_exp'), v_level_2475]), "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3839._prototype_ = null;
				return tmp3839
			})());
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2_set', (function () {
				var tmp3842;
				tmp3842 = function (List__, p5want) {
					try {
						var v_self_2480;
						var v_arguments_2481;
						var v_level_2482;
						var v_wantarray_2483;
						(function () {
							var tmp3843 = p5list_to_a([List__]);
							var tmp3844 = tmp3843.slice(0);
							v_self_2480 = tmp3843.shift();
							v_arguments_2481 = tmp3843.shift();
							v_level_2482 = tmp3843.shift();
							v_wantarray_2483 = tmp3843.shift();
							return tmp3844
						})();
						(function () {
							if ( ((p5bool(p5call((v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || (p5bool(p5call((v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@'))) ) {
							throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2482, v_wantarray_2483, 'var a = [];', ('var v = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2482]), "")) + ';'), ('var src=' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_arguments_2481])), v_level_2482]), "")) + ';'), ('var out=' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('obj'), v_level_2482, 'array']), "")) + ';'), ('var tmp' + ';'), 'for (var i=0, l=v.length; i<l; ++i) {', (new p5ArrayRef(['tmp = src.p5aget(i);', 'out.p5aset(v[i], tmp);', 'a.push(tmp)'])), '}', 'return a']), p5want));
						}
						})();
						return (p5context([(p5str(p5call(v_self_2480, 'emit_javascript2_container', [v_level_2482], "")) + '.p5aset(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2480 || (v_self_2480 = new p5HashRef({})))._hash_.p5hget('index_exp'), (p5num(v_level_2482) + 1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2481])), (p5num(v_level_2482) + 1)]), "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3842._prototype_ = null;
				return tmp3842
			})());
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2_set_list', (function () {
				var tmp3845;
				tmp3845 = function (List__, p5want) {
					try {
						var v_self_2484;
						var v_level_2485;
						var v_list_2486;
						(function () {
							var tmp3846 = p5list_to_a([List__]);
							var tmp3847 = tmp3846.slice(0);
							v_self_2484 = tmp3846.shift();
							v_level_2485 = tmp3846.shift();
							v_list_2486 = tmp3846.shift();
							return tmp3847
						})();
						var v_wantarray_2487;
						v_wantarray_2487 = ('list');
						(function () {
							if ( ((p5bool(p5call((v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || (p5bool(p5call((v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@'))) ) {
							throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2485, v_wantarray_2487, 'var a = [];', ('var v = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2485]), "")) + ';'), ('var out=' + p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('obj'), v_level_2485, 'array']), "")) + ';'), ('var tmp' + ';'), 'for (var i=0, l=v.length; i<l; ++i) {', (new p5ArrayRef([('tmp = ' + p5str(v_list_2486) + '.shift();'), 'out.p5aset(v[i], tmp);', 'a.push(tmp)'])), '}', 'return a']), p5want));
						}
						})();
						return (p5context([(p5str(p5call(v_self_2484, 'emit_javascript2_container', [v_level_2485], "")) + '.p5aset(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2484 || (v_self_2484 = new p5HashRef({})))._hash_.p5hget('index_exp'), (p5num(v_level_2485) + 1)]), "")) + ', ' + p5str(v_list_2486) + '.shift()' + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3845._prototype_ = null;
				return tmp3845
			})());
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2_container', (function () {
				var tmp3848;
				tmp3848 = function (List__, p5want) {
					try {
						var v_self_2488;
						v_self_2488 = (List__.shift());
						var v_level_2489;
						v_level_2489 = (List__.shift());
						(function () {
							if ( (p5bool(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<$>')) ) {
							(function () {
								var v_v_2490;
								v_v_2490 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a([p5hash_deref((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget_hash('obj'), 'Perlito5::AST::Index'), 'code', 'prefix:<@>']), ""));
								throw(p5call(v_v_2490, 'emit_javascript2', [v_level_2489], p5want));
							})();
						}
						})();
						(function () {
							if ( (p5bool(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'code', [], "")) == 'circumfix:<( )>')) ) {
							throw(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj')]))), v_level_2489]), p5want));
						}
						})();
						return (function () {
							if ( (p5bool(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '$')) ) {
							(v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hset('sigil', ('@'));
							(function () {
								throw(p5call((v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), 'emit_javascript2', [v_level_2489], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2488 || (v_self_2488 = new p5HashRef({})))._hash_.p5hget('obj'), v_level_2489, 'array']), "")) + '._array_')], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3848._prototype_ = null;
				return tmp3848
			})());
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2_get_decl', (function () {
				var tmp3849;
				tmp3849 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3849._prototype_ = null;
				return tmp3849
			})());
			p5typeglob_set('Perlito5::AST::Index', 'emit_javascript2_has_regex', (function () {
				var tmp3850;
				tmp3850 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3850._prototype_ = null;
				return tmp3850
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Lookup');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2', (function () {
				var tmp3851;
				tmp3851 = function (List__, p5want) {
					try {
						var v_self_2491;
						var v_level_2492;
						var v_wantarray_2493;
						var v_autovivification_type_2494;
						(function () {
							var tmp3852 = p5list_to_a([List__]);
							var tmp3853 = tmp3852.slice(0);
							v_self_2491 = tmp3852.shift();
							v_level_2492 = tmp3852.shift();
							v_wantarray_2493 = tmp3852.shift();
							v_autovivification_type_2494 = tmp3852.shift();
							return tmp3853
						})();
						var v_method_2495;
						v_method_2495 = (p5or(v_autovivification_type_2494, function () {
									return 'p5hget'
								}));
						p5and((p5str(v_autovivification_type_2494) == 'array'), function () {
							return v_method_2495 = ('p5hget_array')
						});
						p5and((p5str(v_autovivification_type_2494) == 'hash'), function () {
							return v_method_2495 = ('p5hget_hash')
						});
						(function () {
							if ( ((p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || (p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@'))) ) {
							(function () {
								var v_v_2496;
								(function () {
									if ( p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) ) {
									v_v_2496 = ((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'));
								}
								})();
								p5and(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], ""), function () {
									return v_v_2496 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<%>', 'namespace', p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'namespace', [], 1), 'arguments', p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'arguments', [], 1)]), ""))
								});
								throw(p5context([('p5list_lookup_slice(' + p5str(p5call(v_v_2496, 'emit_javascript2', [v_level_2492, 'list'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2492]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2493], "")) + ')')], p5want));
							})();
						}
						})();
						(function () {
							if ( ((p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<%>')) || (p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '%'))) ) {
							(function () {
								var v_v_2497;
								(function () {
									if ( p5bool(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) ) {
									v_v_2497 = ((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'));
								}
								})();
								p5and(p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], ""), function () {
									return v_v_2497 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<%>', 'namespace', p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'namespace', [], 1), 'arguments', p5call((v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('obj'), 'arguments', [], 1)]), ""))
								});
								throw(p5context([('p5hash_lookup_slice(' + p5str(p5call(v_v_2497, 'emit_javascript2', [v_level_2492, 'list'], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2492]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2493], "")) + ')')], p5want));
							})();
						}
						})();
						return (p5context([(p5str(p5call(v_self_2491, 'emit_javascript2_container', [v_level_2492], "")) + '.' + p5str(v_method_2495) + '(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2491 || (v_self_2491 = new p5HashRef({})))._hash_.p5hget('index_exp'), v_level_2492]), "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3851._prototype_ = null;
				return tmp3851
			})());
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2_set', (function () {
				var tmp3854;
				tmp3854 = function (List__, p5want) {
					try {
						var v_self_2498;
						var v_arguments_2499;
						var v_level_2500;
						var v_wantarray_2501;
						(function () {
							var tmp3855 = p5list_to_a([List__]);
							var tmp3856 = tmp3855.slice(0);
							v_self_2498 = tmp3855.shift();
							v_arguments_2499 = tmp3855.shift();
							v_level_2500 = tmp3855.shift();
							v_wantarray_2501 = tmp3855.shift();
							return tmp3856
						})();
						(function () {
							if ( ((p5bool(p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || (p5bool(p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@'))) ) {
							(function () {
								var v_v_2502;
								p5and(p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], ""), function () {
									return v_v_2502 = ((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'))
								});
								p5and(p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], ""), function () {
									return v_v_2502 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<%>', 'namespace', p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'namespace', [], 1), 'arguments', p5call((v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('obj'), 'arguments', [], 1)]), ""))
								});
								throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2500, v_wantarray_2501, 'var a = [];', ('var v = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2500]), "")) + ';'), ('var src=' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_arguments_2499])), v_level_2500]), "")) + ';'), ('var out=' + p5str(p5call(v_v_2502, 'emit_javascript2', [v_level_2500], "")) + ';'), ('var tmp' + ';'), ('for (var i=0, l=v.length; i<l; ++i)' + '{'), (new p5ArrayRef(['tmp = src.p5hget(i);', 'out.p5hset(v[i], tmp);', 'a.push(tmp)'])), '}', 'return a']), p5want));
							})();
						}
						})();
						return (p5context([(p5str(p5call(v_self_2498, 'emit_javascript2_container', [v_level_2500], "")) + '.p5hset(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2498 || (v_self_2498 = new p5HashRef({})))._hash_.p5hget('index_exp'), v_level_2500]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2499])), (p5num(v_level_2500) + 1)]), "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3854._prototype_ = null;
				return tmp3854
			})());
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2_set_list', (function () {
				var tmp3857;
				tmp3857 = function (List__, p5want) {
					try {
						var v_self_2503;
						var v_level_2504;
						var v_list_2505;
						(function () {
							var tmp3858 = p5list_to_a([List__]);
							var tmp3859 = tmp3858.slice(0);
							v_self_2503 = tmp3858.shift();
							v_level_2504 = tmp3858.shift();
							v_list_2505 = tmp3858.shift();
							return tmp3859
						})();
						var v_wantarray_2506;
						v_wantarray_2506 = ('list');
						(function () {
							if ( ((p5bool(p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<@>')) || (p5bool(p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '@'))) ) {
							(function () {
								var v_v_2507;
								p5and(p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], ""), function () {
									return v_v_2507 = ((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'))
								});
								p5and(p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], ""), function () {
									return v_v_2507 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'prefix:<%>', 'namespace', p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'namespace', [], 1), 'arguments', p5call((v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('obj'), 'arguments', [], 1)]), ""))
								});
								throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2504, v_wantarray_2506, 'var a = [];', ('var v = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('index_exp')]))), v_level_2504]), "")) + ';'), ('var out=' + p5str(p5call(v_v_2507, 'emit_javascript2', [v_level_2504], "")) + ';'), ('var tmp' + ';'), ('for (var i=0, l=v.length; i<l; ++i)' + '{'), (new p5ArrayRef([('tmp = ' + p5str(v_list_2505) + '.shift();'), 'out.p5hset(v[i], tmp);', 'a.push(tmp)'])), '}', 'return a']), p5want));
							})();
						}
						})();
						return (p5context([(p5str(p5call(v_self_2503, 'emit_javascript2_container', [v_level_2504], "")) + '.p5hset(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2503 || (v_self_2503 = new p5HashRef({})))._hash_.p5hget('index_exp'), v_level_2504]), "")) + ', ' + p5str(v_list_2505) + '.shift()' + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3857._prototype_ = null;
				return tmp3857
			})());
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2_container', (function () {
				var tmp3860;
				tmp3860 = function (List__, p5want) {
					try {
						var v_self_2508;
						v_self_2508 = (List__.shift());
						var v_level_2509;
						v_level_2509 = (List__.shift());
						(function () {
							if ( (p5bool(p5call((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Apply'], "")) && (p5str((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget_hash('obj')._hash_.p5hget('code')) == 'prefix:<$>')) ) {
							(function () {
								var v_v_2510;
								v_v_2510 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a([p5hash_deref((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget_hash('obj'), 'Perlito5::AST::Lookup'), 'code', 'prefix:<%>']), ""));
								throw(p5call(v_v_2510, 'emit_javascript2', [v_level_2509], p5want));
							})();
						}
						})();
						return (function () {
							if ( (p5bool(p5call((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget('obj'), 'isa', ['Perlito5::AST::Var'], "")) && (p5str(p5call((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget('obj'), 'sigil', [], "")) == '$')) ) {
							var v_v_2511;
							v_v_2511 = (p5call('Perlito5::AST::Var', 'new', p5list_to_a([p5hash_deref((v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget_hash('obj'), 'Perlito5::AST::Lookup'), 'sigil', '%']), ""));
							(function () {
								throw(p5call(v_v_2511, 'emit_javascript2', [v_level_2509], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2508 || (v_self_2508 = new p5HashRef({})))._hash_.p5hget('obj'), v_level_2509, 'hash']), "")) + '._hash_')], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3860._prototype_ = null;
				return tmp3860
			})());
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2_get_decl', (function () {
				var tmp3861;
				tmp3861 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3861._prototype_ = null;
				return tmp3861
			})());
			p5typeglob_set('Perlito5::AST::Lookup', 'emit_javascript2_has_regex', (function () {
				var tmp3862;
				tmp3862 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3862._prototype_ = null;
				return tmp3862
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Var');
	p5block(function (v) {}, function () {
			var v_table_2512;
			v_table_2512 = ((new p5HashRef({'$' : 'v_', '@' : 'List_', '%' : 'Hash_', '&' : ''})));
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2_global', (function () {
				var tmp3863;
				tmp3863 = function (List__, p5want) {
					try {
						var v_self_2513;
						var v_level_2514;
						var v_wantarray_2515;
						(function () {
							var tmp3864 = p5list_to_a([List__]);
							var tmp3865 = tmp3864.slice(0);
							v_self_2513 = tmp3864.shift();
							v_level_2514 = tmp3864.shift();
							v_wantarray_2515 = tmp3864.shift();
							return tmp3865
						})();
						var v_str_name_2516;
						v_str_name_2516 = ((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('name'));
						var v_sigil_2517;
						v_sigil_2517 = (p5or((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
									return (v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('sigil')
								}));
						var v_namespace_2518;
						v_namespace_2518 = (p5or((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
									return (v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('_namespace')
								}));
						(function () {
							if ( ((p5str(v_sigil_2517) == '@') && ((p5str((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('name')) == '_') && (p5str(v_namespace_2518) == 'main'))) ) {
							(function () {
								var v_s_2519;
								v_s_2519 = ('List__');
								(function () {
									if ( (p5str((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$#') ) {
									throw(p5context([('(' + p5str(v_s_2519) + '.length - 1)')], p5want));
								}
								})();
								(function () {
									if ( (p5str(v_wantarray_2515) == 'scalar') ) {
									throw(p5context([(p5str(v_s_2519) + '.length')], p5want));
								}
								})();
								(function () {
									if ( (p5str(v_wantarray_2515) == 'runtime') ) {
									throw(p5context([('(p5want' + ' ? ' + p5str(v_s_2519) + ' : ' + p5str(v_s_2519) + '.length' + ')')], p5want));
								}
								})();
								throw(p5context([v_s_2519], p5want));
							})();
						}
						})();
						(function () {
							if ( ((p5str(v_sigil_2517) == '$') && (p5num((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('name')) > 0)) ) {
							throw(p5context([('p5_regex_capture[' + p5str((p5num((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('name')) - 1)) + ']')], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2517) == '::') ) {
							p5and((p5str((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('namespace')) == '__PACKAGE__'), function () {
								throw(p5pkg['Perlito5::JavaScript2'].pkg([], p5want))
							});
							p5and((p5str((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('namespace')) == '__SUB__'), function () {
								throw(p5defined_or(p5make_package('Perlito5::AST::Sub')['v_SUB_REF'], function () {
									return '__SUB__'
								}))
							});
							throw(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2518], p5want));
						}
						})();
						var v_s_2520;
						v_s_2520 = (('p5make_package(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2518], "")) + ')[' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([(p5str((v_table_2512 || (v_table_2512 = new p5HashRef({})))._hash_.p5hget(p5str(v_sigil_2517))) + p5str(v_str_name_2516))], "")) + ']'));
						(function () {
							if ( (p5str(v_sigil_2517) == '*') ) {
							throw(p5context([v_s_2520], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2517) == '&') ) {
							throw(p5context([(p5str(v_s_2520) + '(List__, ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2515], "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2517) == '@') ) {
							v_s_2520 = ((p5str(v_s_2520) + ' || (' + p5str(v_s_2520) + ' = [])'));
							v_s_2520 = (('p5pkg[' + p5str(v_s_2520) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2518], "")) + '][' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([(p5str((v_table_2512 || (v_table_2512 = new p5HashRef({})))._hash_.p5hget(p5str(v_sigil_2517))) + p5str(v_str_name_2516))], "")) + ']'));
							(function () {
								if ( (p5str((v_self_2513 || (v_self_2513 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$#') ) {
								throw(p5context([('(' + p5str(v_s_2520) + '.length - 1)')], p5want));
							}
							})();
							(function () {
								if ( (p5str(v_wantarray_2515) == 'scalar') ) {
								throw(p5context([(p5str(v_s_2520) + '.length')], p5want));
							}
							})();
						}
						else (function () {
							if ( (p5str(v_sigil_2517) == '%') ) {
							v_s_2520 = ((p5str(v_s_2520) + ' || (' + p5str(v_s_2520) + ' = {})'));
							v_s_2520 = (('p5pkg[' + p5str(v_s_2520) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2518], "")) + '][' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([(p5str((v_table_2512 || (v_table_2512 = new p5HashRef({})))._hash_.p5hget(p5str(v_sigil_2517))) + p5str(v_str_name_2516))], "")) + ']'));
						}
						})()
						})();
						return (p5context([v_s_2520], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3863._prototype_ = null;
				return tmp3863
			})());
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2', (function () {
				var tmp3866;
				tmp3866 = function (List__, p5want) {
					try {
						var v_self_2521;
						var v_level_2522;
						var v_wantarray_2523;
						(function () {
							var tmp3867 = p5list_to_a([List__]);
							var tmp3868 = tmp3867.slice(0);
							v_self_2521 = tmp3867.shift();
							v_level_2522 = tmp3867.shift();
							v_wantarray_2523 = tmp3867.shift();
							return tmp3868
						})();
						var v_sigil_2524;
						v_sigil_2524 = (p5or((v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
									return (v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('sigil')
								}));
						var v_decl_type_2525;
						v_decl_type_2525 = (p5or((v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('_decl'), function () {
									return 'global'
								}));
						(function () {
							if ( ((p5str(v_decl_type_2525) != 'my') && (p5str(v_decl_type_2525) != 'state')) ) {
							throw(p5call(v_self_2521, 'emit_javascript2_global', [v_level_2522, v_wantarray_2523], p5want));
						}
						})();
						var v_str_name_2526;
						v_str_name_2526 = ((p5str((v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('name')) + '_' + p5str((v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('_id'))));
						(function () {
							if ( (p5str(v_sigil_2524) == '@') ) {
							(function () {
								if ( (p5str(v_wantarray_2523) == 'scalar') ) {
								throw(p5context([(p5str(p5call(v_self_2521, 'emit_javascript2', [v_level_2522, 'list'], "")) + '.length')], p5want));
							}
							})();
							(function () {
								if ( (p5str(v_wantarray_2523) == 'runtime') ) {
								throw(p5context([('(p5want' + ' ? ' + p5str(p5call(v_self_2521, 'emit_javascript2', [v_level_2522, 'list'], "")) + ' : ' + p5str(p5call(v_self_2521, 'emit_javascript2', [v_level_2522, 'list'], "")) + '.length' + ')')], p5want));
							}
							})();
						}
						})();
						(function () {
							if ( (p5str((v_self_2521 || (v_self_2521 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$#') ) {
							throw(p5context([('(' + p5str((v_table_2512 || (v_table_2512 = new p5HashRef({})))._hash_.p5hget('@')) + p5str(v_str_name_2526) + '.length - 1)')], p5want));
						}
						})();
						return (p5context([(p5str((v_table_2512 || (v_table_2512 = new p5HashRef({})))._hash_.p5hget(p5str(v_sigil_2524))) + p5str(v_str_name_2526))], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3866._prototype_ = null;
				return tmp3866
			})());
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2_set', (function () {
				var tmp3869;
				tmp3869 = function (List__, p5want) {
					try {
						var v_self_2527;
						var v_arguments_2528;
						var v_level_2529;
						var v_wantarray_2530;
						(function () {
							var tmp3870 = p5list_to_a([List__]);
							var tmp3871 = tmp3870.slice(0);
							v_self_2527 = tmp3870.shift();
							v_arguments_2528 = tmp3870.shift();
							v_level_2529 = tmp3870.shift();
							v_wantarray_2530 = tmp3870.shift();
							return tmp3871
						})();
						var v_open_2531;
						v_open_2531 = (( (p5str(v_wantarray_2530) == 'void') ? '' : '('));
						var v_close_2532;
						v_close_2532 = (( (p5str(v_wantarray_2530) == 'void') ? '' : ')'));
						var v_sigil_2533;
						v_sigil_2533 = (p5or((v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
									return (v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('sigil')
								}));
						(function () {
							if ( (p5str(v_sigil_2533) == '$') ) {
							throw(p5context([(p5str(v_open_2531) + p5str(p5call(v_self_2527, 'emit_javascript2', [], "")) + ' = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2528])), (p5num(v_level_2529) + 1)]), "")) + p5str(v_close_2532))], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2533) == '@') ) {
							(function () {
								if ( (p5str((v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('sigil')) == '$#') ) {
								(v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hset('sigil', ('@'));
								throw(p5context([(p5str(v_open_2531) + p5str(p5call(v_self_2527, 'emit_javascript2', [], "")) + '.length = 1 + ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2528])), (p5num(v_level_2529) + 1)]), "")) + p5str(v_close_2532))], p5want));
							}
							})();
							throw(p5context([(p5str(v_open_2531) + p5str(p5call(v_self_2527, 'emit_javascript2', [], "")) + ' = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_arguments_2528])), (p5num(v_level_2529) + 1)]), "")) + p5str(v_close_2532))], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2533) == '%') ) {
							throw(p5context([(p5str(v_open_2531) + p5str(p5call(v_self_2527, 'emit_javascript2', [], "")) + ' = ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef([v_arguments_2528])), (p5num(v_level_2529) + 1), 'hash']), "")) + p5str(v_close_2532))], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2533) == '*') ) {
							(function () {
								var v_namespace_2534;
								v_namespace_2534 = (p5or((v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
											return (v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('_namespace')
										}));
								throw(p5context([('p5typeglob_set(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2534], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2527 || (v_self_2527 = new p5HashRef({})))._hash_.p5hget('name')]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2528])), (p5num(v_level_2529) + 1)]), "")) + ')')], p5want));
							})();
						}
						})();
						return (p5pkg['Perlito5::AST::Var'].die([].concat(p5list_to_a(['don' + String.fromCharCode(39) + 't know how to assign to variable ', v_sigil_2533, p5call(v_self_2527, 'name', [], 1)])), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3869._prototype_ = null;
				return tmp3869
			})());
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2_set_list', (function () {
				var tmp3872;
				tmp3872 = function (List__, p5want) {
					try {
						var v_self_2535;
						var v_level_2536;
						var v_list_2537;
						(function () {
							var tmp3873 = p5list_to_a([List__]);
							var tmp3874 = tmp3873.slice(0);
							v_self_2535 = tmp3873.shift();
							v_level_2536 = tmp3873.shift();
							v_list_2537 = tmp3873.shift();
							return tmp3874
						})();
						var v_sigil_2538;
						v_sigil_2538 = (p5or((v_self_2535 || (v_self_2535 = new p5HashRef({})))._hash_.p5hget('_real_sigil'), function () {
									return (v_self_2535 || (v_self_2535 = new p5HashRef({})))._hash_.p5hget('sigil')
								}));
						(function () {
							if ( (p5str(v_sigil_2538) == '$') ) {
							throw(p5context([(p5str(p5call(v_self_2535, 'emit_javascript2', [], "")) + ' = ' + p5str(v_list_2537) + '.shift()')], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2538) == '@') ) {
							throw(p5context([p5pkg['Perlito5::AST::Var'].join([(';' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2536], "")))].concat([(p5str(p5call(v_self_2535, 'emit_javascript2', [], "")) + ' = ' + p5str(v_list_2537)), (p5str(v_list_2537) + ' = []')]), p5want)], p5want));
						}
						})();
						(function () {
							if ( (p5str(v_sigil_2538) == '%') ) {
							throw(p5context([p5pkg['Perlito5::AST::Var'].join([(';' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2536], "")))].concat([(p5str(p5call(v_self_2535, 'emit_javascript2', [], "")) + ' = p5a_to_h(' + p5str(v_list_2537) + ')'), (p5str(v_list_2537) + ' = []')]), p5want)], p5want));
						}
						})();
						return (p5pkg['Perlito5::AST::Var'].die([].concat(p5list_to_a(['don' + String.fromCharCode(39) + 't know how to assign to variable ', v_sigil_2538, p5call(v_self_2535, 'name', [], 1)])), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3872._prototype_ = null;
				return tmp3872
			})());
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2_get_decl', (function () {
				var tmp3875;
				tmp3875 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3875._prototype_ = null;
				return tmp3875
			})());
			p5typeglob_set('Perlito5::AST::Var', 'emit_javascript2_has_regex', (function () {
				var tmp3876;
				tmp3876 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3876._prototype_ = null;
				return tmp3876
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Decl');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2', (function () {
				var tmp3877;
				tmp3877 = function (List__, p5want) {
					var v_self_2539;
					var v_level_2540;
					var v_wantarray_2541;
					(function () {
							var tmp3878 = p5list_to_a([List__]);
							var tmp3879 = tmp3878.slice(0);
							v_self_2539 = tmp3878.shift();
							v_level_2540 = tmp3878.shift();
							v_wantarray_2541 = tmp3878.shift();
							return tmp3879
						})();
					return (p5call((v_self_2539 || (v_self_2539 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_javascript2', [v_level_2540], p5want));
				};
				tmp3877._prototype_ = null;
				return tmp3877
			})());
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2_init', (function () {
				var tmp3880;
				tmp3880 = function (List__, p5want) {
					try {
						var v_self_2542;
						var v_level_2543;
						var v_wantarray_2544;
						(function () {
							var tmp3881 = p5list_to_a([List__]);
							var tmp3882 = tmp3881.slice(0);
							v_self_2542 = tmp3881.shift();
							v_level_2543 = tmp3881.shift();
							v_wantarray_2544 = tmp3881.shift();
							return tmp3882
						})();
						(function () {
							if ( (p5str((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('decl')) == 'local') ) {
							(function () {
								var v_var_2545;
								v_var_2545 = ((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'));
								var v_var_set_2546;
								var v_tmp_name_2547;
								v_tmp_name_2547 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
								var v_id_2548;
								v_id_2548 = ((function () {
											var tmp3883 = p5make_package('Perlito5')['v_ID'];
											p5make_package('Perlito5')['v_ID'] = p5incr_(tmp3883);
											return tmp3883
										})());
								var v_tmp_2549;
								v_tmp_2549 = (p5call('Perlito5::AST::Var', 'new', ['sigil', '$', 'name', v_tmp_name_2547, '_decl', 'my', '_id', v_id_2548], ""));
								(function () {
									if ( (p5pkg['Perlito5::AST::Decl'].ref([v_var_2545], "") == 'Perlito5::AST::Var') ) {
									v_var_set_2546 = ((p5str(p5call(v_var_2545, 'emit_javascript2', [], "")) + ' = ' + p5str(p5call(v_tmp_2549, 'emit_javascript2', [], ""))));
								}
								else {
									v_var_set_2546 = (p5call(v_var_2545, 'emit_javascript2_set', [v_tmp_2549], ""));
								}
								})();
								throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2([v_level_2543, v_wantarray_2544, ('var ' + p5str(p5call(v_tmp_2549, 'emit_javascript2', [], "")) + ' = ' + p5str(p5call(v_var_2545, 'emit_javascript2', [], "")) + ';'), ('p5LOCAL.push(function(){ ' + p5str(v_var_set_2546) + ' });'), ('return ' + p5str(p5call(v_var_2545, 'emit_javascript2_set', p5list_to_a([p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'undef', 'arguments', (new p5ArrayRef([])), 'namespace', '']), 1), (p5num(v_level_2543) + 1)]), "")) + ';')], "")) + ';')], p5want));
							})();
						}
						})();
						return (function () {
							if ( ((p5str((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('decl')) == 'my') || (p5str((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('decl')) == 'state')) ) {
							var v_str_2550;
							v_str_2550 = (('var ' + p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_javascript2', [], ""))));
							(function () {
								if ( (p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'sigil', [], "")) == '%') ) {
								v_str_2550 = ((p5str(v_str_2550) + ' = {};'));
							}
							else (function () {
								if ( (p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'sigil', [], "")) == '@') ) {
								v_str_2550 = ((p5str(v_str_2550) + ' = [];'));
							}
							else {
								v_str_2550 = ((p5str(v_str_2550) + ';'));
							}
							})()
							})();
							(function () {
								throw(p5context([v_str_2550], p5want))
							})()
						}
						else return (function () {
							if ( (p5str((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('decl')) == 'our') ) {
							var v_str_2551;
							v_str_2551 = (p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_javascript2', [], ""));
							(function () {
								if ( (p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'sigil', [], "")) == '%') ) {
								v_str_2551 = ((p5str(v_str_2551) + ' = {};'));
							}
							else (function () {
								if ( (p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'sigil', [], "")) == '@') ) {
								v_str_2551 = ((p5str(v_str_2551) + ' = [];'));
							}
							else {
								throw(p5context([('// our ' + p5str(v_str_2551))], p5want));
							}
							})()
							})();
							(function () {
								throw(p5context([('if (typeof ' + p5str(p5call((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('var'), 'emit_javascript2', [], "")) + ' == "undefined" ) { ' + p5str(v_str_2551) + '}')], p5want))
							})()
						}
						else {
							return (p5pkg['Perlito5::AST::Decl'].die([].concat([('not implemented: Perlito5::AST::Decl ' + String.fromCharCode(39) + p5str((v_self_2542 || (v_self_2542 = new p5HashRef({})))._hash_.p5hget('decl')) + String.fromCharCode(39))]), p5want));
						}
						})()
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3880._prototype_ = null;
				return tmp3880
			})());
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2_set', (function () {
				var tmp3884;
				tmp3884 = function (List__, p5want) {
					var v_self_2552;
					var v_arguments_2553;
					var v_level_2554;
					var v_wantarray_2555;
					(function () {
							var tmp3885 = p5list_to_a([List__]);
							var tmp3886 = tmp3885.slice(0);
							v_self_2552 = tmp3885.shift();
							v_arguments_2553 = tmp3885.shift();
							v_level_2554 = tmp3885.shift();
							v_wantarray_2555 = tmp3885.shift();
							return tmp3886
						})();
					return (p5call(p5call(v_self_2552, 'var', [], ""), 'emit_javascript2_set', [v_arguments_2553, v_level_2554, v_wantarray_2555], p5want));
				};
				tmp3884._prototype_ = null;
				return tmp3884
			})());
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2_set_list', (function () {
				var tmp3887;
				tmp3887 = function (List__, p5want) {
					var v_self_2556;
					var v_level_2557;
					var v_list_2558;
					(function () {
							var tmp3888 = p5list_to_a([List__]);
							var tmp3889 = tmp3888.slice(0);
							v_self_2556 = tmp3888.shift();
							v_level_2557 = tmp3888.shift();
							v_list_2558 = tmp3888.shift();
							return tmp3889
						})();
					return (p5call(p5call(v_self_2556, 'var', [], ""), 'emit_javascript2_set_list', [v_level_2557, v_list_2558], p5want));
				};
				tmp3887._prototype_ = null;
				return tmp3887
			})());
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2_get_decl', (function () {
				var tmp3890;
				tmp3890 = function (List__, p5want) {
					var v_self_2559;
					v_self_2559 = (List__.shift());
					return (p5context([v_self_2559], p5want));
				};
				tmp3890._prototype_ = null;
				return tmp3890
			})());
			p5typeglob_set('Perlito5::AST::Decl', 'emit_javascript2_has_regex', (function () {
				var tmp3891;
				tmp3891 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3891._prototype_ = null;
				return tmp3891
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Call');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Call', 'emit_javascript2', (function () {
				var tmp3892;
				tmp3892 = function (List__, p5want) {
					try {
						var v_self_2560;
						var v_level_2561;
						var v_wantarray_2562;
						var v_autovivification_type_2563;
						(function () {
							var tmp3893 = p5list_to_a([List__]);
							var tmp3894 = tmp3893.slice(0);
							v_self_2560 = tmp3893.shift();
							v_level_2561 = tmp3893.shift();
							v_wantarray_2562 = tmp3893.shift();
							v_autovivification_type_2563 = tmp3893.shift();
							return tmp3894
						})();
						var v_meth_2564;
						v_meth_2564 = ((v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('method'));
						(function () {
							if ( (p5str(v_meth_2564) == 'postcircumfix:<[ ]>') ) {
							(function () {
								var v_method_2565;
								v_method_2565 = (p5or(v_autovivification_type_2563, function () {
											return 'p5aget'
										}));
								p5and((p5str(v_autovivification_type_2563) == 'array'), function () {
									return v_method_2565 = ('p5aget_array')
								});
								p5and((p5str(v_autovivification_type_2563) == 'hash'), function () {
									return v_method_2565 = ('p5aget_hash')
								});
								throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2561, 'array']), "")) + '._array_.' + p5str(v_method_2565) + '(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2561) + 1)]), "")) + ')')], p5want));
							})();
						}
						})();
						(function () {
							if ( (p5str(v_meth_2564) == 'postcircumfix:<{ }>') ) {
							(function () {
								var v_method_2566;
								v_method_2566 = (p5or(v_autovivification_type_2563, function () {
											return 'p5hget'
										}));
								p5and((p5str(v_autovivification_type_2563) == 'array'), function () {
									return v_method_2566 = ('p5hget_array')
								});
								p5and((p5str(v_autovivification_type_2563) == 'hash'), function () {
									return v_method_2566 = ('p5hget_hash')
								});
								throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2561, 'hash']), "")) + '._hash_.' + p5str(v_method_2566) + '(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2561) + 1), 'list']), "")) + ')')], p5want));
							})();
						}
						})();
						(function () {
							if ( (p5str(v_meth_2564) == 'postcircumfix:<( )>') ) {
							(function () {
								var v_invocant_2567;
								v_invocant_2567 = (p5call((v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('invocant'), 'emit_javascript2', [v_level_2561, 'scalar'], ""));
								throw(p5context([('(' + p5str(v_invocant_2567) + ')(' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('arguments')]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2562], "")) + ')')], p5want));
							})();
						}
						})();
						var v_invocant_2568;
						v_invocant_2568 = (p5call((v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('invocant'), 'emit_javascript2', [v_level_2561, 'scalar'], ""));
						(function () {
							if ( (p5pkg['Perlito5::AST::Call'].ref([v_meth_2564], "") == 'Perlito5::AST::Var') ) {
							v_meth_2564 = (p5call(v_meth_2564, 'emit_javascript2', [v_level_2561, 'scalar'], ""));
						}
						else {
							v_meth_2564 = (p5pkg['Perlito5::JavaScript2'].escape_string([v_meth_2564], ""));
						}
						})();
						return (p5context([('p5call(' + p5str(v_invocant_2568) + ', ' + p5str(v_meth_2564) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(v_self_2560 || (v_self_2560 = new p5HashRef({})))._hash_.p5hget('arguments')]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_context([v_wantarray_2562], "")) + ')')], p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3892._prototype_ = null;
				return tmp3892
			})());
			p5typeglob_set('Perlito5::AST::Call', 'emit_javascript2_set', (function () {
				var tmp3895;
				tmp3895 = function (List__, p5want) {
					try {
						var v_self_2569;
						var v_arguments_2570;
						var v_level_2571;
						var v_wantarray_2572;
						(function () {
							var tmp3896 = p5list_to_a([List__]);
							var tmp3897 = tmp3896.slice(0);
							v_self_2569 = tmp3896.shift();
							v_arguments_2570 = tmp3896.shift();
							v_level_2571 = tmp3896.shift();
							v_wantarray_2572 = tmp3896.shift();
							return tmp3897
						})();
						(function () {
							if ( (p5str((v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<[ ]>') ) {
							throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2571, 'array']), "")) + '._array_.p5aset(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2571) + 1)]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2570])), (p5num(v_level_2571) + 1)]), "")) + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5str((v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<{ }>') ) {
							throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2571, 'hash']), "")) + '._hash_.p5hset(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2571) + 1), 'list']), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].to_scalar(p5list_to_a([(new p5ArrayRef([v_arguments_2570])), (p5num(v_level_2571) + 1)]), "")) + ')')], p5want));
						}
						})();
						return (p5pkg['Perlito5::AST::Call'].die([].concat(p5list_to_a(['don' + String.fromCharCode(39) + 't know how to assign to method ', (v_self_2569 || (v_self_2569 = new p5HashRef({})))._hash_.p5hget('method')])), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3895._prototype_ = null;
				return tmp3895
			})());
			p5typeglob_set('Perlito5::AST::Call', 'emit_javascript2_set_list', (function () {
				var tmp3898;
				tmp3898 = function (List__, p5want) {
					try {
						var v_self_2573;
						var v_level_2574;
						var v_list_2575;
						(function () {
							var tmp3899 = p5list_to_a([List__]);
							var tmp3900 = tmp3899.slice(0);
							v_self_2573 = tmp3899.shift();
							v_level_2574 = tmp3899.shift();
							v_list_2575 = tmp3899.shift();
							return tmp3900
						})();
						(function () {
							if ( (p5str((v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<[ ]>') ) {
							throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2574, 'array']), "")) + '._array_.p5aset(' + p5str(p5pkg['Perlito5::JavaScript2'].to_num(p5list_to_a([(v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2574) + 1)]), "")) + ', ' + p5str(v_list_2575) + '.shift()' + ')')], p5want));
						}
						})();
						(function () {
							if ( (p5str((v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('method')) == 'postcircumfix:<{ }>') ) {
							throw(p5context([(p5str(p5pkg['Perlito5::JavaScript2'].emit_javascript2_autovivify(p5list_to_a([(v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('invocant'), v_level_2574, 'hash']), "")) + '._hash_.p5hset(' + p5str(p5pkg['Perlito5::JavaScript2'].autoquote(p5list_to_a([(v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('arguments'), (p5num(v_level_2574) + 1), 'list']), "")) + ', ' + p5str(v_list_2575) + '.shift()' + ')')], p5want));
						}
						})();
						return (p5pkg['Perlito5::AST::Call'].die([].concat(p5list_to_a(['don' + String.fromCharCode(39) + 't know how to assign to method ', (v_self_2573 || (v_self_2573 = new p5HashRef({})))._hash_.p5hget('method')])), p5want));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3898._prototype_ = null;
				return tmp3898
			})());
			p5typeglob_set('Perlito5::AST::Call', 'emit_javascript2_get_decl', (function () {
				var tmp3901;
				tmp3901 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3901._prototype_ = null;
				return tmp3901
			})());
			p5typeglob_set('Perlito5::AST::Call', 'emit_javascript2_has_regex', (function () {
				var tmp3902;
				tmp3902 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3902._prototype_ = null;
				return tmp3902
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::If');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::If', 'emit_javascript2', (function () {
				var tmp3903;
				tmp3903 = function (List__, p5want) {
					try {
						var v_self_2576;
						var v_level_2577;
						var v_wantarray_2578;
						(function () {
							var tmp3904 = p5list_to_a([List__]);
							var tmp3905 = tmp3904.slice(0);
							v_self_2576 = tmp3904.shift();
							v_level_2577 = tmp3904.shift();
							v_wantarray_2578 = tmp3904.shift();
							return tmp3905
						})();
						var v_cond_2579;
						v_cond_2579 = ((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('cond'));
						var List_str_2580 = [];
						var v_old_level_2581;
						v_old_level_2581 = (v_level_2577);
						(function () {
							if ( p5bool(v_cond_2579) ) {
							(function () {
								var List_var_decl_2582 = [];
								List_var_decl_2582 = p5list_to_a([p5call(v_cond_2579, 'emit_javascript2_get_decl', [], 1)]);
								(function () {
									var v_arg_2583;
									(function(){ var v_arg_2583; p5for_lex(function (v) { v_arg_2583 = v }, function () {
											v_level_2577 = ((p5num(v_old_level_2581) + 1));
											List_str_2580.p5push(p5list_to_a([p5call(v_arg_2583, 'emit_javascript2_init', [v_level_2577, v_wantarray_2578], 1)]));
										}, p5list_to_a([List_var_decl_2582]), false, '') })()
								})();
							})();
						}
						})();
						var v_body_2584;
						v_body_2584 = (( (p5pkg['Perlito5::AST::If'].ref([(v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('body')], "") != 'Perlito5::AST::Block') ? (v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('body') : ( !( p5bool(p5num(p5array_deref(p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], p5want), 'Perlito5::AST::If')))) ? null : ( (p5str(v_wantarray_2578) != 'void') ? p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], 1)]), "") : p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], 1), 'create_context', 1]), "")))));
						var v_otherwise_2585;
						v_otherwise_2585 = (( (p5pkg['Perlito5::AST::If'].ref([(v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('otherwise')], "") != 'Perlito5::AST::Block') ? (v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('otherwise') : ( !( p5bool(p5num(p5array_deref(p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'stmts', [], p5want), 'Perlito5::AST::If')))) ? null : ( (p5str(v_wantarray_2578) != 'void') ? p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'stmts', [], 1)]), "") : p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2576 || (v_self_2576 = new p5HashRef({})))._hash_.p5hget('otherwise'), 'stmts', [], 1), 'create_context', 1]), "")))));
						var v_s_2586;
						v_s_2586 = (('if ( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool([v_cond_2579, (p5num(v_level_2577) + 1)], "")) + ' ) {'));
						(function () {
							if ( p5bool(v_body_2584) ) {
							v_s_2586 = ((p5str(v_s_2586) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2577) + 1)], "")) + p5str(p5call(v_body_2584, 'emit_javascript2', [(p5num(v_level_2577) + 1), v_wantarray_2578], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2577], "")) + '}'));
						}
						else {
							v_s_2586 = ((p5str(v_s_2586) + '}'));
						}
						})();
						(function () {
							if ( p5bool(v_otherwise_2585) ) {
							(function () {
								if ( ((p5num(p5num(p5array_deref((v_otherwise_2585 || (v_otherwise_2585 = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::AST::If'))) == 1) && (p5pkg['Perlito5::AST::If'].ref([(v_otherwise_2585 || (v_otherwise_2585 = new p5HashRef({})))._hash_.p5hget_array('block')._array_.p5aget(0)], "") == 'Perlito5::AST::If')) ) {
								v_s_2586 = ((p5str(v_s_2586) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2577], "")) + 'else ' + p5str(p5call((v_otherwise_2585 || (v_otherwise_2585 = new p5HashRef({})))._hash_.p5hget_array('block')._array_.p5aget(0), 'emit_javascript2', [v_level_2577, v_wantarray_2578], ""))));
							}
							else {
								v_s_2586 = ((p5str(v_s_2586) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2577], "")) + 'else {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2577) + 1)], "")) + p5str(p5call(v_otherwise_2585, 'emit_javascript2', [(p5num(v_level_2577) + 1), v_wantarray_2578], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2577], "")) + '}'));
							}
							})();
						}
						})();
						List_str_2580.p5push([v_s_2586]);
						return (function () {
							if ( p5bool(List_str_2580.length) ) {
							v_level_2577 = (v_old_level_2581);
							(function () {
								throw(p5context([(p5str(( (p5str(v_wantarray_2578) != 'void') ? 'return ' : '')) + p5str(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2577, v_wantarray_2578, List_str_2580]), "")))], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([p5pkg['Perlito5::AST::If'].join([(String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2577], "")))].concat(p5list_to_a([List_str_2580])), p5want)], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3903._prototype_ = null;
				return tmp3903
			})());
			p5typeglob_set('Perlito5::AST::If', 'emit_javascript2_get_decl', (function () {
				var tmp3906;
				tmp3906 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3906._prototype_ = null;
				return tmp3906
			})());
			p5typeglob_set('Perlito5::AST::If', 'emit_javascript2_has_regex', (function () {
				var tmp3907;
				tmp3907 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3907._prototype_ = null;
				return tmp3907
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::When');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::When', 'emit_javascript2', (function () {
				var tmp3908;
				tmp3908 = function (List__, p5want) {
					try {
						var v_self_2587;
						var v_level_2588;
						var v_wantarray_2589;
						(function () {
							var tmp3909 = p5list_to_a([List__]);
							var tmp3910 = tmp3909.slice(0);
							v_self_2587 = tmp3909.shift();
							v_level_2588 = tmp3909.shift();
							v_wantarray_2589 = tmp3909.shift();
							return tmp3910
						})();
						var v_cond_2590;
						v_cond_2590 = ((v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('cond'));
						var List_str_2591 = [];
						var v_old_level_2592;
						v_old_level_2592 = (v_level_2588);
						(function () {
							if ( p5bool(v_cond_2590) ) {
							(function () {
								var List_var_decl_2593 = [];
								List_var_decl_2593 = p5list_to_a([p5call(v_cond_2590, 'emit_javascript2_get_decl', [], 1)]);
								(function () {
									var v_arg_2594;
									(function(){ var v_arg_2594; p5for_lex(function (v) { v_arg_2594 = v }, function () {
											v_level_2588 = ((p5num(v_old_level_2592) + 1));
											List_str_2591.p5push(p5list_to_a([p5call(v_arg_2594, 'emit_javascript2_init', [v_level_2588, v_wantarray_2589], 1)]));
										}, p5list_to_a([List_var_decl_2593]), false, '') })()
								})();
							})();
						}
						})();
						v_cond_2590 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef(p5list_to_a([p5pkg['Perlito5::AST::Var'].SCALAR_ARG([], 1), v_cond_2590]))), 'code', 'infix:<~~>', 'namespace', '']), ""));
						var v_next_2595;
						v_next_2595 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['arguments', (new p5ArrayRef([])), 'bareword', 1, 'code', 'next', 'namespace', '']), ""));
						var v_body_2596;
						v_body_2596 = (( (p5pkg['Perlito5::AST::When'].ref([(v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('body')], "") != 'Perlito5::AST::Block') ? p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (new p5ArrayRef(p5list_to_a([(v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('body')])))]), "") : ( !( p5bool(p5num(p5array_deref(p5call((v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], p5want), 'Perlito5::AST::When')))) ? null : ( (p5str(v_wantarray_2589) != 'void') ? p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], 1)]), "") : p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', p5call((v_self_2587 || (v_self_2587 = new p5HashRef({})))._hash_.p5hget('body'), 'stmts', [], 1), 'create_context', 1]), "")))));
						p5array_deref((v_body_2596 || (v_body_2596 = new p5HashRef({})))._hash_.p5hget_array('block'), 'Perlito5::AST::When').p5push([v_next_2595]);
						var v_s_2597;
						v_s_2597 = (('if ( ' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool([v_cond_2590, (p5num(v_level_2588) + 1)], "")) + ' ) {'));
						(function () {
							if ( p5bool(v_body_2596) ) {
							v_s_2597 = ((p5str(v_s_2597) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2588) + 1)], "")) + p5str(p5call(v_body_2596, 'emit_javascript2', [(p5num(v_level_2588) + 1), v_wantarray_2589], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2588], "")) + '}'));
						}
						else {
							v_s_2597 = ((p5str(v_s_2597) + '}'));
						}
						})();
						List_str_2591.p5push([v_s_2597]);
						return (function () {
							if ( p5bool(List_str_2591.length) ) {
							v_level_2588 = (v_old_level_2592);
							(function () {
								throw(p5context([(p5str(( (p5str(v_wantarray_2589) != 'void') ? 'return ' : '')) + p5str(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2588, v_wantarray_2589, List_str_2591]), "")))], p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([p5pkg['Perlito5::AST::When'].join([(String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2588], "")))].concat(p5list_to_a([List_str_2591])), p5want)], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3908._prototype_ = null;
				return tmp3908
			})());
			p5typeglob_set('Perlito5::AST::When', 'emit_javascript2_get_decl', (function () {
				var tmp3911;
				tmp3911 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3911._prototype_ = null;
				return tmp3911
			})());
			p5typeglob_set('Perlito5::AST::When', 'emit_javascript2_has_regex', (function () {
				var tmp3912;
				tmp3912 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3912._prototype_ = null;
				return tmp3912
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::While');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::While', 'emit_javascript2', (function () {
				var tmp3913;
				tmp3913 = function (List__, p5want) {
					try {
						var v_self_2598;
						var v_level_2599;
						var v_wantarray_2600;
						(function () {
							var tmp3914 = p5list_to_a([List__]);
							var tmp3915 = tmp3914.slice(0);
							v_self_2598 = tmp3914.shift();
							v_level_2599 = tmp3914.shift();
							v_wantarray_2600 = tmp3914.shift();
							return tmp3915
						})();
						var v_cond_2601;
						v_cond_2601 = ((v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('cond'));
						var List_str_2602 = [];
						var v_old_level_2603;
						v_old_level_2603 = (v_level_2599);
						(function () {
							if ( p5bool(v_cond_2601) ) {
							(function () {
								var List_var_decl_2604 = [];
								List_var_decl_2604 = p5list_to_a([p5call(v_cond_2601, 'emit_javascript2_get_decl', [], 1)]);
								(function () {
									var v_arg_2605;
									(function(){ var v_arg_2605; p5for_lex(function (v) { v_arg_2605 = v }, function () {
											v_level_2599 = ((p5num(v_old_level_2603) + 1));
											List_str_2602.p5push(p5list_to_a([p5call(v_arg_2605, 'emit_javascript2_init', [v_level_2599, v_wantarray_2600], 1)]));
										}, p5list_to_a([List_var_decl_2604]), false, '') })()
								})();
							})();
						}
						})();
						(function () {
							if ( ((p5pkg['Perlito5::AST::While'].ref([(v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('body')], "") == 'Perlito5::AST::Apply') && (p5str((v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget_hash('body')._hash_.p5hget('code')) == 'do')) ) {
							List_str_2602.p5push([('do {' + p5str(p5call((v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('body'), 'emit_javascript2', [(p5num(v_level_2599) + 2), v_wantarray_2600], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2599) + 1)], "")) + '} while (' + p5str(p5pkg['Perlito5::JavaScript2'].to_bool([v_cond_2601, (p5num(v_level_2599) + 2)], "")) + ')')]);
						}
						else {
							(function () {
								var v_body_2606;
								v_body_2606 = (( (p5pkg['Perlito5::AST::While'].ref([(v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('body')], "") != 'Perlito5::AST::Block') ? (new p5ArrayRef(p5list_to_a([(v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('body')]))) : (v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget_hash('body')._hash_.p5hget('stmts')));
								List_str_2602.p5push([('p5while(' + 'function () {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2599) + 2)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_body_2606], "")], 0), 'emit_javascript2', [(p5num(v_level_2599) + 2), v_wantarray_2600], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2599) + 1)], "")) + '}, ' + p5str(p5pkg['Perlito5::JavaScript2'].emit_function_javascript2([(p5num(v_level_2599) + 1), 'scalar', v_cond_2601], "")) + ', ' + p5str(p5pkg['Perlito5::AST::Block'].emit_javascript2_continue([v_self_2598, v_level_2599, v_wantarray_2600], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_self_2598 || (v_self_2598 = new p5HashRef({})))._hash_.p5hget('label'), function () {
	return ''
})]), "")) + ', ' + '0' + ')')]);
							})();
						}
						})();
						return (function () {
							if ( p5bool(List_str_2602.length) ) {
							v_level_2599 = (v_old_level_2603);
							(function () {
								throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2599, v_wantarray_2600, List_str_2602]), p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([p5pkg['Perlito5::AST::While'].join([(String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2599], "")))].concat(p5list_to_a([List_str_2602])), p5want)], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3913._prototype_ = null;
				return tmp3913
			})());
			p5typeglob_set('Perlito5::AST::While', 'emit_javascript2_get_decl', (function () {
				var tmp3916;
				tmp3916 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3916._prototype_ = null;
				return tmp3916
			})());
			p5typeglob_set('Perlito5::AST::While', 'emit_javascript2_has_regex', (function () {
				var tmp3917;
				tmp3917 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3917._prototype_ = null;
				return tmp3917
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::For');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::For', 'emit_javascript2', (function () {
				var tmp3918;
				tmp3918 = function (List__, p5want) {
					try {
						var v_self_2607;
						var v_level_2608;
						var v_wantarray_2609;
						(function () {
							var tmp3919 = p5list_to_a([List__]);
							var tmp3920 = tmp3919.slice(0);
							v_self_2607 = tmp3919.shift();
							v_level_2608 = tmp3919.shift();
							v_wantarray_2609 = tmp3919.shift();
							return tmp3920
						})();
						var v_body_2610;
						v_body_2610 = (( (p5pkg['Perlito5::AST::For'].ref([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('body')], "") != 'Perlito5::AST::Block') ? (new p5ArrayRef(p5list_to_a([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('body')]))) : (v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_hash('body')._hash_.p5hget('stmts')));
						var List_str_2611 = [];
						var v_old_level_2612;
						v_old_level_2612 = (v_level_2608);
						var v_cond_2613;
						v_cond_2613 = (( (p5pkg['Perlito5::AST::For'].ref([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('cond')], "") == 'ARRAY') ? (v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('cond') : (new p5ArrayRef(p5list_to_a([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('cond')])))));
						(function () {
							var v_expr_2614;
							(function(){ var v_expr_2614; p5for_lex(function (v) { v_expr_2614 = v }, function () {
									(function () {
										if ( p5bool(v_expr_2614) ) {
										(function () {
											var List_var_decl_2615 = [];
											List_var_decl_2615 = p5list_to_a([p5call(v_expr_2614, 'emit_javascript2_get_decl', [], 1)]);
											(function () {
												var v_arg_2616;
												(function(){ var v_arg_2616; p5for_lex(function (v) { v_arg_2616 = v }, function () {
														v_level_2608 = ((p5num(v_old_level_2612) + 1));
														List_str_2611.p5push(p5list_to_a([p5call(v_arg_2616, 'emit_javascript2_init', [v_level_2608, v_wantarray_2609], 1)]));
													}, p5list_to_a([List_var_decl_2615]), false, '') })()
											})();
										})();
									}
									})();
								}, p5list_to_a([p5array_deref((v_cond_2613 || (v_cond_2613 = new p5ArrayRef([]))), 'Perlito5::AST::For'), (v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('topic')]), false, '') })()
						})();
						(function () {
							if ( (p5pkg['Perlito5::AST::For'].ref([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('cond')], "") == 'ARRAY') ) {
							List_str_2611.p5push(p5list_to_a([p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2608, v_wantarray_2609, ('var label = ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('label'), function () {
	return ''
})]), "")) + ';'), ('for ( ' + p5str(( p5bool((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(0)) ? (p5str(p5call((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(0), 'emit_javascript2', [(p5num(v_level_2608) + 1)], "")) + '; ') : '; ')) + p5str(( p5bool((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(1)) ? (p5str(p5pkg['Perlito5::JavaScript2'].to_bool(p5list_to_a([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(1), (p5num(v_level_2608) + 1)]), "")) + '; ') : '; ')) + p5str(( p5bool((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(2)) ? (p5str(p5call((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget_array('cond')._array_.p5aget(2), 'emit_javascript2', [(p5num(v_level_2608) + 1)], "")) + ' ') : '')) + ') {'), (new p5ArrayRef(p5list_to_a(['var _redo;', 'do {', (new p5ArrayRef(p5list_to_a(['_redo = false;', 'try {', (new p5ArrayRef(p5list_to_a([p5call(p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_body_2610], ""), 'emit_javascript2', [(p5num(v_level_2608) + 4), 'void'], 1)]))), '}', 'catch(err) {', (new p5ArrayRef(p5list_to_a(['if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {', (new p5ArrayRef(['if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') { return }', 'else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }', 'else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }'])), '}', 'else {', (new p5ArrayRef(['throw(err)'])), '}']))), '}']))), '} while (_redo);']))), '}']), 1)]));
						}
						else {
							(function () {
								var v_cond_2617;
								v_cond_2617 = (p5pkg['Perlito5::JavaScript2'].to_list(p5list_to_a([(new p5ArrayRef(p5list_to_a([(v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('cond')]))), (p5num(v_level_2608) + 1)]), ""));
								var v_topic_2618;
								v_topic_2618 = ((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('topic'));
								var v_decl_2619;
								v_decl_2619 = ('');
								var v_v_2620;
								v_v_2620 = (v_topic_2618);
								(function () {
									if ( p5bool((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('decl')) ) {
									v_decl_2619 = ((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('decl'));
									v_v_2620 = ((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('var'));
								}
								else {
									v_decl_2619 = (p5or((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('_decl'), function () {
												return 'global'
											}));
								}
								})();
								var v_namespace_2621;
								v_namespace_2621 = (p5or((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('namespace'), function () {
											return p5or((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('_namespace'), function () {
												return p5make_package('Perlito5')['v_PKG_NAME']
											})
										}));
								var v_s_2622;
								(function () {
									if ( ((p5str(v_decl_2619) == 'my') || (p5str(v_decl_2619) == 'state')) ) {
									(function () {
										var v_sig_2623;
										v_sig_2623 = (p5call(v_v_2620, 'emit_javascript2', [(p5num(v_level_2608) + 1)], ""));
										List_str_2611.p5push([('(function(){ ' + ('var ' + p5str(v_sig_2623) + '; ') + 'p5for_lex(' + ('function (v) { ' + p5str(v_sig_2623) + ' = v }, ') + 'function () {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2608) + 2)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_body_2610], "")], 0), 'emit_javascript2', [(p5num(v_level_2608) + 2), v_wantarray_2609], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2608) + 1)], "")) + '}, ' + p5str(v_cond_2617) + ', ' + p5str(p5pkg['Perlito5::AST::Block'].emit_javascript2_continue([v_self_2607, v_level_2608, v_wantarray_2609], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('label'), function () {
	return ''
})]), "")) + ') ' + '})()')]);
									})();
								}
								else {
									List_str_2611.p5push([('p5for(' + 'p5make_package(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string([v_namespace_2621], "")) + '), ' + '"v_' + p5str((v_v_2620 || (v_v_2620 = new p5HashRef({})))._hash_.p5hget('name')) + '", ' + 'function () {' + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2608) + 2)], "")) + p5str(p5call(p5context([p5call('Perlito5::JavaScript2::LexicalBlock', 'new', ['block', v_body_2610], "")], 0), 'emit_javascript2', [(p5num(v_level_2608) + 2), v_wantarray_2609], "")) + String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([(p5num(v_level_2608) + 1)], "")) + '}, ' + p5str(v_cond_2617) + ', ' + p5str(p5pkg['Perlito5::AST::Block'].emit_javascript2_continue([v_self_2607, v_level_2608, v_wantarray_2609], "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([p5or((v_self_2607 || (v_self_2607 = new p5HashRef({})))._hash_.p5hget('label'), function () {
	return ''
})]), "")) + ')')]);
								}
								})();
							})();
						}
						})();
						return (function () {
							if ( (p5num(List_str_2611.length) > 1) ) {
							v_level_2608 = (v_old_level_2612);
							(function () {
								throw(p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2608, v_wantarray_2609, List_str_2611]), p5want))
							})()
						}
						else {
							(function () {
								throw(p5context([p5pkg['Perlito5::AST::For'].join([(String.fromCharCode(10) + p5str(p5pkg['Perlito5::JavaScript2'].tab([v_level_2608], "")))].concat(p5list_to_a([List_str_2611])), p5want)], p5want))
							})()
						}
						})()
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				};
				tmp3918._prototype_ = null;
				return tmp3918
			})());
			p5typeglob_set('Perlito5::AST::For', 'emit_javascript2_get_decl', (function () {
				var tmp3921;
				tmp3921 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3921._prototype_ = null;
				return tmp3921
			})());
			p5typeglob_set('Perlito5::AST::For', 'emit_javascript2_has_regex', (function () {
				var tmp3922;
				tmp3922 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3922._prototype_ = null;
				return tmp3922
			})());
		}, [0], false, ''
	);
	p5make_package('Perlito5::AST::Sub');
	p5block(function (v) {}, function () {
			p5typeglob_set('Perlito5::AST::Sub', 'emit_javascript2', (function () {
				var tmp3923;
				tmp3923 = function (List__, p5want) {
					try {
						var local_idx = p5LOCAL.length;
						var v_self_2624;
						var v_level_2625;
						var v_wantarray_2626;
						(function () {
							var tmp3924 = p5list_to_a([List__]);
							var tmp3925 = tmp3924.slice(0);
							v_self_2624 = tmp3924.shift();
							v_level_2625 = tmp3924.shift();
							v_wantarray_2626 = tmp3924.shift();
							return tmp3925
						})();
						(function () {
							var v_node_2627;
							if ( p5bool((v_node_2627 = (p5call(v_self_2624, 'maybe_rewrite_statevars', [], "")))) ) {
								throw(p5call(v_node_2627, 'emit_javascript2', p5list_to_a([p5list_slice(List__, p5list_to_a([p5range(1, (List__.length - 1), 1, "tmp3926", 0)]), 1)]), p5want));
							}
						})();
						var v_prototype_2628;
						v_prototype_2628 = (( ((v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget('sig') != null) ? p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget('sig')]), "") : 'null'));
						var v_sub_ref_2629;
						v_sub_ref_2629 = (p5pkg['Perlito5::JavaScript2'].get_label([], ""));
						(function () {
							var v_tmp3927_3928 = p5make_package('Perlito5::AST::Sub')['v_SUB_REF'];
							p5LOCAL.push(function(){ p5make_package('Perlito5::AST::Sub')['v_SUB_REF'] = v_tmp3927_3928 });
							return (p5make_package('Perlito5::AST::Sub')['v_SUB_REF'] = (null));
						})();
						p5make_package('Perlito5::AST::Sub')['v_SUB_REF'] = (v_sub_ref_2629);
						(function () {
							var v_tmp3929_3930 = p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine'];
							p5LOCAL.push(function(){ p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine'] = v_tmp3929_3930 });
							return (p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine'] = (null));
						})();
						p5make_package('Perlito5::JavaScript2')['v_is_inside_subroutine'] = (1);
						var List_captured_2632 = [];
						(function () {
							var v_stmt_2633;
							(function(){ var v_stmt_2633; p5for_lex(function (v) { v_stmt_2633 = v }, function () {
									List_captured_2632.p5push(p5list_to_a([p5call(v_stmt_2633, 'get_captures', [], 1)]));
								}, p5list_to_a([p5array_deref((v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget_hash('block')._hash_.p5hget_array('stmts'), 'Perlito5::AST::Sub')]), false, '') })()
						})();
						var Hash_dont_capture_2634 = {};
						Hash_dont_capture_2634 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
									return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont'), 1], 1) : p5context([], 1)));
								}, p5list_to_a([List_captured_2632]))]));
						var Hash_capture_2635 = {};
						Hash_capture_2635 = p5a_to_h(p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
									return (( p5bool((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('dont')) ? p5context([], 1) : ( p5bool(Hash_dont_capture_2634.p5hget(p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id')))) ? p5context([], 1) : ( ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'local') || ((p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == 'global') || (p5str((p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_decl')) == ''))) ? p5context([], 1) : p5context([(p5make_package('main')['v__'] || (p5make_package('main')['v__'] = new p5HashRef({})))._hash_.p5hget('_id'), p5make_package('main')['v__']], 1)))));
								}, p5list_to_a([List_captured_2632]))]));
						var List_captures_ast_2636 = [];
						List_captures_ast_2636 = p5list_to_a([p5map(p5pkg['Perlito5::AST::Sub'], function (p5want) {
									return (Hash_capture_2635.p5hget(p5str(p5make_package('main')['v__'])));
								}, p5list_to_a([p5sort(p5pkg['Perlito5::AST::Sub'], function (p5want) {
									return (p5cmp(p5str(p5make_package('Perlito5::AST::Sub')['v_a']), p5str(p5make_package('Perlito5::AST::Sub')['v_b'])));
								}, p5list_to_a([p5pkg['Perlito5::AST::Sub'].keys([Hash_capture_2635], 1)]))]))]);
						(function () {
							var v_tmp3931_3932 = p5pkg[p5make_package('Perlito5')['List_CAPTURES'] || (p5make_package('Perlito5')['List_CAPTURES'] = []), 'Perlito5']['List_CAPTURES'];
							p5LOCAL.push(function(){ p5pkg[p5make_package('Perlito5')['List_CAPTURES'] || (p5make_package('Perlito5')['List_CAPTURES'] = []), 'Perlito5']['List_CAPTURES'] = v_tmp3931_3932 });
							return (p5pkg[p5make_package('Perlito5')['List_CAPTURES'] || (p5make_package('Perlito5')['List_CAPTURES'] = []), 'Perlito5']['List_CAPTURES'] = p5list_to_a([null]));
						})();
						p5pkg[p5make_package('Perlito5')['List_CAPTURES'] || (p5make_package('Perlito5')['List_CAPTURES'] = []), 'Perlito5']['List_CAPTURES'] = p5list_to_a([List_captures_ast_2636]);
						var v_js_block_2638;
						v_js_block_2638 = (p5call(p5call('Perlito5::JavaScript2::LexicalBlock', 'new', p5list_to_a(['block', (v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget_hash('block')._hash_.p5hget('stmts')]), ""), 'emit_javascript2_subroutine_body', [(p5num(v_level_2625) + 2), 'runtime'], ""));
						var List_s_2639 = [];
						List_s_2639 = p5list_to_a([('var ' + p5str(v_sub_ref_2629) + ';'), (p5str(v_sub_ref_2629) + ' = function (List__, p5want) {'), (new p5ArrayRef([v_js_block_2638])), '};', (p5str(v_sub_ref_2629) + '._prototype_ = ' + p5str(v_prototype_2628) + ';'), ('return ' + p5str(v_sub_ref_2629))]);
						return (function () {
							if ( p5bool((v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget('name')) ) {
							var v_s_2640;
							v_s_2640 = (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2625, 'scalar', List_s_2639]), ""));
							(function () {
								throw(p5context([('p5typeglob_set(' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget('namespace')]), "")) + ', ' + p5str(p5pkg['Perlito5::JavaScript2'].escape_string(p5list_to_a([(v_self_2624 || (v_self_2624 = new p5HashRef({})))._hash_.p5hget('name')]), "")) + ', ' + p5str(v_s_2640) + ')')], p5want))
							})()
						}
						else {
							var v_s_2641;
							v_s_2641 = (p5pkg['Perlito5::JavaScript2'].emit_wrap_javascript2(p5list_to_a([v_level_2625, 'scalar', List_s_2639]), ""));
							(function () {
								throw(p5context([v_s_2641], p5want))
							})()
						}
						})()
						p5cleanup_local(local_idx, null);
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return p5cleanup_local(local_idx, err);
						}
					}
				};
				tmp3923._prototype_ = null;
				return tmp3923
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'emit_javascript2_get_decl', (function () {
				var tmp3933;
				tmp3933 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3933._prototype_ = null;
				return tmp3933
			})());
			p5typeglob_set('Perlito5::AST::Sub', 'emit_javascript2_has_regex', (function () {
				var tmp3934;
				tmp3934 = function (List__, p5want) {
					return (p5context([], p5want));
				};
				tmp3934._prototype_ = null;
				return tmp3934
			})());
		}, [0], false, ''
	);
	1;
})();;
(function () {
	p5make_package('Perlito5::JavaScript2::Runtime');
	p5typeglob_set('Perlito5::JavaScript2::Runtime', 'perl5_to_js', (function () {
		var tmp3935;
		tmp3935 = function (List__, p5want) {
			var local_idx = p5LOCAL.length;
			var v_source_2642;
			var v_namespace_2643;
			var v_want_2644;
			var v_scalar_hints_2645;
			var v_hash_hints_2646;
			var v_scope_js_2647;
			(function () {
					var tmp3936 = p5list_to_a([List__]);
					var tmp3937 = tmp3936.slice(0);
					v_source_2642 = tmp3936.shift();
					v_namespace_2643 = tmp3936.shift();
					v_want_2644 = tmp3936.shift();
					v_scalar_hints_2645 = tmp3936.shift();
					v_hash_hints_2646 = tmp3936.shift();
					v_scope_js_2647 = tmp3936.shift();
					return tmp3937
				})();
			(function () {
					var v_tmp3938_3939 = p5make_package('main')['v__'];
					p5LOCAL.push(function(){ p5make_package('main')['v__'] = v_tmp3938_3939 });
					return (p5make_package('main')['v__'] = (null));
				})();
			p5make_package('main')['v__'];
			(function () {
					var v_tmp3940_3941 = p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'];
					p5LOCAL.push(function(){ p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'] = v_tmp3940_3941 });
					return (p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'] = (null));
				})();
			p5make_package('main')['v_' + String.fromCharCode(7) + 'LOBAL_PHASE'];
			(function () {
					var v_tmp3942_3943 = p5make_package('main')['v_' + String.fromCharCode(8)];
					p5LOCAL.push(function(){ p5make_package('main')['v_' + String.fromCharCode(8)] = v_tmp3942_3943 });
					return (p5make_package('main')['v_' + String.fromCharCode(8)] = (null));
				})();
			p5make_package('main')['v_' + String.fromCharCode(8)] = (v_scalar_hints_2645);
			(function () {
					var v_tmp3944_3945 = p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)];
					p5LOCAL.push(function(){ p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = v_tmp3944_3945 });
					return (p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = p5a_to_h(p5list_to_a([null])));
				})();
			p5pkg[p5make_package('main')['Hash_' + String.fromCharCode(8)] || (p5make_package('main')['Hash_' + String.fromCharCode(8)] = {}), 'main']['Hash_' + String.fromCharCode(8)] = p5a_to_h(p5list_to_a([p5hash_deref((v_hash_hints_2646 || (v_hash_hints_2646 = new p5HashRef({}))), 'Perlito5::JavaScript2::Runtime')]));
			(function () {
					var v_tmp3946_3947 = p5make_package('Perlito5')['v_BASE_SCOPE'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_BASE_SCOPE'] = v_tmp3946_3947 });
					return (p5make_package('Perlito5')['v_BASE_SCOPE'] = (null));
				})();
			p5make_package('Perlito5')['v_BASE_SCOPE'] = ((v_scope_js_2647 || (v_scope_js_2647 = new p5ArrayRef([])))._array_.p5aget(0));
			(function () {
					var v_tmp3948_3949 = p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'];
					p5LOCAL.push(function(){ p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = v_tmp3948_3949 });
					return (p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'] = p5list_to_a([null]));
				})();
			p5pkg[p5make_package('Perlito5')['List_SCOPE_STMT'] || (p5make_package('Perlito5')['List_SCOPE_STMT'] = []), 'Perlito5']['List_SCOPE_STMT'];
			(function () {
					var v_tmp3950_3951 = p5make_package('Perlito5')['v_CLOSURE_SCOPE'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = v_tmp3950_3951 });
					return (p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = (null));
				})();
			p5make_package('Perlito5')['v_CLOSURE_SCOPE'] = (p5make_package('Perlito5')['v_BASE_SCOPE']);
			(function () {
					var v_tmp3952_3953 = p5make_package('Perlito5')['v_SCOPE'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_SCOPE'] = v_tmp3952_3953 });
					return (p5make_package('Perlito5')['v_SCOPE'] = (null));
				})();
			p5make_package('Perlito5')['v_SCOPE'] = (p5make_package('Perlito5')['v_BASE_SCOPE']);
			(function () {
					var v_tmp3954_3955 = p5make_package('Perlito5')['v_SCOPE_DEPTH'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_SCOPE_DEPTH'] = v_tmp3954_3955 });
					return (p5make_package('Perlito5')['v_SCOPE_DEPTH'] = (null));
				})();
			p5make_package('Perlito5')['v_SCOPE_DEPTH'] = (0);
			(function () {
					var v_tmp3956_3957 = p5make_package('Perlito5')['v_PKG_NAME'];
					p5LOCAL.push(function(){ p5make_package('Perlito5')['v_PKG_NAME'] = v_tmp3956_3957 });
					return (p5make_package('Perlito5')['v_PKG_NAME'] = (null));
				})();
			p5make_package('Perlito5')['v_PKG_NAME'] = (v_namespace_2643);
			(function () {
					var v_tmp3958_3959 = p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'];
					p5LOCAL.push(function(){ p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'] = v_tmp3958_3959 });
					return (p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'] = p5list_to_a([null]));
				})();
			p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'];
			var v_match_2659;
			v_match_2659 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_source_2642, 0], ""));
			(function () {
					if ( (!( p5bool(v_match_2659)) || (p5num((v_match_2659 || (v_match_2659 = new p5HashRef({})))._hash_.p5hget('to')) != p5pkg['Perlito5::JavaScript2::Runtime'].length([v_source_2642], ""))) ) {
					p5pkg['Perlito5::JavaScript2::Runtime'].die([].concat(p5list_to_a(['Syntax error in eval near pos ', (v_match_2659 || (v_match_2659 = new p5HashRef({})))._hash_.p5hget('to')])), null);
				}
				})();
			var v_ast_2660;
			v_ast_2660 = (p5call('Perlito5::AST::Apply', 'new', p5list_to_a(['code', 'do', 'arguments', (new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::Block', 'new', p5list_to_a(['stmts', (v_match_2659 || (v_match_2659 = new p5HashRef({})))._hash_.p5hget('capture')]), 1)])))]), ""));
			v_ast_2660 = (p5call(v_ast_2660, 'emit_begin_scratchpad', [], ""));
			var v_js_code_2661;
			v_js_code_2661 = (p5call(v_ast_2660, 'emit_javascript2', [0, v_want_2644], ""));
			p5pkg['Perlito5'].set_global_phase(['UNITCHECK'], null);
			(function () {
					p5while(function () {
						(p5make_package('main')['v__'])([], null);
					}, function () {
						return (p5make_package('main')['v__'] = (p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'].shift()))
					}, false, '', 0)
				})();
			return p5cleanup_local(local_idx, (p5context([v_js_code_2661], p5want)));
			p5cleanup_local(local_idx, null);
		};
		tmp3935._prototype_ = null;
		return tmp3935
	})());
	p5typeglob_set('Perlito5::JavaScript2::Runtime', 'eval_ast', (function () {
		var tmp3960;
		tmp3960 = function (List__, p5want) {
			var v_ast_2662;
			(function () {
					var tmp3961 = p5list_to_a([List__]);
					var tmp3962 = tmp3961.slice(0);
					v_ast_2662 = tmp3961.shift();
					return tmp3962
				})();
			var v_want_2663;
			v_want_2663 = (0);
			var v_js_code_2664;
			v_js_code_2664 = (p5call(v_ast_2662, 'emit_javascript2', [0, v_want_2663], ""));
			p5pkg['Perlito5'].set_global_phase(['UNITCHECK'], null);
			(function () {
					p5while(function () {
						(p5make_package('main')['v__'])([], null);
					}, function () {
						return (p5make_package('main')['v__'] = (p5pkg[p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] || (p5make_package('Perlito5')['List_UNITCHECK_BLOCK'] = []), 'Perlito5']['List_UNITCHECK_BLOCK'].shift()))
					}, false, '', 0)
				})();
			p5make_package('main')['v__'] = (v_js_code_2664);
			return (eval("(function(){" + p5pkg.main.v__ + "})()"));
		};
		tmp3960._prototype_ = null;
		return tmp3960
	})());
	p5typeglob_set('Perlito5::JavaScript2::Runtime', 'emit_javascript2', (function () {
		var tmp3963;
		tmp3963 = function (List__, p5want) {
			return (p5context([(('//' + String.fromCharCode(10) + '// lib/Perlito5/JavaScript2/Runtime.js' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// Runtime for "Perlito" Perl5-in-JavaScript2' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// AUTHORS' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// Flavio Soibelmann Glock  fglock@gmail.com' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// COPYRIGHT' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// This program is free software; you can redistribute it and/or modify it' + String.fromCharCode(10) + '// under the same terms as Perl itself.' + String.fromCharCode(10) + '//' + String.fromCharCode(10) + '// See http://www.perl.com/perl/misc/Artistic.html' + String.fromCharCode(10) + String.fromCharCode(10) + '"use strict";' + String.fromCharCode(10) + 'var isNode = typeof require != "undefined";' + String.fromCharCode(10) + String.fromCharCode(10) + 'if (typeof p5pkg !== "object") {' + String.fromCharCode(10) + '    var p5pkg = {};' + String.fromCharCode(10) + '    var p5LOCAL = [];' + String.fromCharCode(10) + String.fromCharCode(10) + '    var universal = function () {};' + String.fromCharCode(10) + '    p5pkg.UNIVERSAL = new universal();' + String.fromCharCode(10) + '    p5pkg.UNIVERSAL._ref_ = "UNIVERSAL";' + String.fromCharCode(10) + '    p5pkg.UNIVERSAL.isa = function (List__) {' + String.fromCharCode(10) + '        var o = List__[0];' + String.fromCharCode(10) + '        var s = List__[1];' + String.fromCharCode(10) + '        var clas;' + String.fromCharCode(10) + '        if (typeof o === "string") {' + String.fromCharCode(10) + '            clas = p5pkg[o];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            clas = o._class_;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (!clas) {' + String.fromCharCode(10) + '            return false;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (clas._ref_ == s) {' + String.fromCharCode(10) + '            return true;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var isa = clas.List_ISA;' + String.fromCharCode(10) + '        if (isa) {' + String.fromCharCode(10) + '            for (var i = 0; i < isa.length; i++) {' + String.fromCharCode(10) + '                if (isa[i] == s) {' + String.fromCharCode(10) + '                    return true;' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                if (p5pkg.UNIVERSAL.isa( isa[i], s )) {' + String.fromCharCode(10) + '                    return true;' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return false;' + String.fromCharCode(10) + '    };' + String.fromCharCode(10) + '    p5pkg.UNIVERSAL.can = function (List__) {' + String.fromCharCode(10) + '        var o = List__[0];' + String.fromCharCode(10) + '        var s = List__[1];' + String.fromCharCode(10) + '        if (typeof o === "string") {' + String.fromCharCode(10) + '            return p5method_lookup(s, o, {})' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if ( s.indexOf("::") == -1 ) {' + String.fromCharCode(10) + '            return p5method_lookup(s, o._class_._ref_, {})' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var c = s.split("::");' + String.fromCharCode(10) + '        s = c.pop(); ' + String.fromCharCode(10) + '        return p5method_lookup(s, c.join("::"), {});' + String.fromCharCode(10) + '    };' + String.fromCharCode(10) + '    p5pkg.UNIVERSAL.DOES = p5pkg.UNIVERSAL.can;' + String.fromCharCode(10) + String.fromCharCode(10) + '    var core = function () {};' + String.fromCharCode(10) + '    p5pkg["CORE"] = new core();' + String.fromCharCode(10) + '    p5pkg["CORE"]._ref_ = "CORE";' + String.fromCharCode(10) + String.fromCharCode(10) + '    var core_global = function () {};' + String.fromCharCode(10) + '    core_global.prototype = p5pkg.CORE;' + String.fromCharCode(10) + '    p5pkg["CORE::GLOBAL"] = new core_global();' + String.fromCharCode(10) + '    p5pkg["CORE::GLOBAL"]._ref_ = "CORE::GLOBAL";' + String.fromCharCode(10) + String.fromCharCode(10) + '    var p5_error = function (type, v) {' + String.fromCharCode(10) + '        this.type = type;' + String.fromCharCode(10) + '        this.v = this.message = v;' + String.fromCharCode(10) + '        this.toString = function(){' + String.fromCharCode(10) + '            if (this.type == ' + String.fromCharCode(39) + 'break' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                return ' + String.fromCharCode(39) + 'Can' + String.fromCharCode(92) + String.fromCharCode(39) + 't "break" outside a given block' + String.fromCharCode(39) + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            if (this.type == ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ' || this.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ' || this.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                if (this.v == "") { return ' + String.fromCharCode(39) + 'Can' + String.fromCharCode(92) + String.fromCharCode(39) + 't "' + String.fromCharCode(39) + ' + this.type + ' + String.fromCharCode(39) + '" outside a loop block' + String.fromCharCode(39) + ' }' + String.fromCharCode(10) + '                return ' + String.fromCharCode(39) + 'Label not found for "' + String.fromCharCode(39) + ' + this.type + ' + String.fromCharCode(39) + ' ' + String.fromCharCode(39) + ' + this.v + ' + String.fromCharCode(39) + '"' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            return this.v;' + String.fromCharCode(10) + '        };' + String.fromCharCode(10) + '    };' + String.fromCharCode(10) + '    p5_error.prototype = Error.prototype;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5make_package(pkg_name) {' + String.fromCharCode(10) + '    if (!p5pkg.hasOwnProperty(pkg_name)) {' + String.fromCharCode(10) + '        var tmp = function () {};' + String.fromCharCode(10) + '        tmp.prototype = p5pkg["CORE::GLOBAL"];' + String.fromCharCode(10) + '        p5pkg[pkg_name] = new tmp();' + String.fromCharCode(10) + '        p5pkg[pkg_name]._ref_ = pkg_name;' + String.fromCharCode(10) + '        p5pkg[pkg_name]._class_ = p5pkg[pkg_name];  // XXX memory leak' + String.fromCharCode(10) + '        p5pkg[pkg_name]._is_package_ = 1;' + String.fromCharCode(10) + String.fromCharCode(10) + '        // TODO - add the other package global variables' + String.fromCharCode(10) + '        p5pkg[pkg_name]["List_ISA"] = [];' + String.fromCharCode(10) + '        p5pkg[pkg_name]["v_a"] = null;' + String.fromCharCode(10) + '        p5pkg[pkg_name]["v_b"] = null;' + String.fromCharCode(10) + '        p5pkg[pkg_name]["v__"] = null;' + String.fromCharCode(10) + '        p5pkg[pkg_name]["v_AUTOLOAD"] = null;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5pkg[pkg_name];' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5get_class_for_method(method, class_name, seen) {' + String.fromCharCode(10) + '    // default mro' + String.fromCharCode(10) + '    // TODO - cache the methods that were already looked up' + String.fromCharCode(10) + '    if ( p5pkg[class_name].hasOwnProperty(method) ) {' + String.fromCharCode(10) + '        return class_name' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var isa = p5pkg[class_name].List_ISA;' + String.fromCharCode(10) + '    if (isa) {' + String.fromCharCode(10) + '        for (var i = 0; i < isa.length; i++) {' + String.fromCharCode(10) + '            if (!seen[isa[i]]) {' + String.fromCharCode(10) + '                var m = p5get_class_for_method(method, isa[i], seen);' + String.fromCharCode(10) + '                if (m) {' + String.fromCharCode(10) + '                    return m ' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                seen[isa[i]]++;' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5method_lookup(method, class_name, seen) {' + String.fromCharCode(10) + '    var c = p5get_class_for_method(method, class_name, seen);' + String.fromCharCode(10) + '    if (c) {' + String.fromCharCode(10) + '        return p5pkg[c][method]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if ( p5pkg.UNIVERSAL.hasOwnProperty(method) ) {' + String.fromCharCode(10) + '        return p5pkg.UNIVERSAL[method]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5method_not_found(method, class_name) {' + String.fromCharCode(10) + '    return "Can' + String.fromCharCode(39) + 't locate object method ' + String.fromCharCode(92) + '""' + String.fromCharCode(10) + '        + method + "' + String.fromCharCode(92) + '" via package ' + String.fromCharCode(92) + '"" + class_name + "' + String.fromCharCode(92) + '" (perhaps you forgot to load ' + String.fromCharCode(92) + '""' + String.fromCharCode(10) + '        + class_name + "' + String.fromCharCode(92) + '"?)";' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5call(invocant, method, list, p5want) {' + String.fromCharCode(10) + '    var invocant_original = invocant;' + String.fromCharCode(10) + '    if (typeof invocant === "string") {' + String.fromCharCode(10) + '        list.unshift(invocant);' + String.fromCharCode(10) + '        invocant = p5make_package(invocant);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else if ( invocant.hasOwnProperty("_is_package_") ) {' + String.fromCharCode(10) + '        list.unshift(invocant._ref_);   // invocant is a "package" object' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        list.unshift(invocant);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    if ( invocant.hasOwnProperty("_class_") ) {' + String.fromCharCode(10) + String.fromCharCode(10) + '        if ( invocant._class_.hasOwnProperty(method) ) {' + String.fromCharCode(10) + '            return invocant._class_[method](list, p5want)' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var m = p5method_lookup(method, invocant._class_._ref_, {});' + String.fromCharCode(10) + '        if (m) {' + String.fromCharCode(10) + '            return m(list, p5want)' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + String.fromCharCode(10) + '        // method can have an optional namespace' + String.fromCharCode(10) + '        var pkg_name = method.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            var name = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '            m = p5method_lookup(name, pkg_name, {});' + String.fromCharCode(10) + '            if (m) {' + String.fromCharCode(10) + '                return m(list, p5want)' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            p5pkg.CORE.die([p5method_not_found(name, pkg_name)]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + String.fromCharCode(10) + '        if (method == "print" || method == "printf" || method == "say" || method == "close") {' + String.fromCharCode(10) + '            list.shift();' + String.fromCharCode(10) + '            return p5pkg[' + String.fromCharCode(39) + 'Perlito5::IO' + String.fromCharCode(39) + '][method]( invocant_original, list, p5want);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + String.fromCharCode(10) + '        if (method.substr(0, 1) != "("' + String.fromCharCode(10) + '         && method != "import"' + String.fromCharCode(10) + '         && method != "unimport"' + String.fromCharCode(10) + '         && method != "isa"' + String.fromCharCode(10) + '         && method != "can"' + String.fromCharCode(10) + '        ) {' + String.fromCharCode(10) + '            pkg_name = p5get_class_for_method(' + String.fromCharCode(39) + 'AUTOLOAD' + String.fromCharCode(39) + ', invocant._class_._ref_, {}) || p5get_class_for_method(' + String.fromCharCode(39) + 'AUTOLOAD' + String.fromCharCode(39) + ', "UNIVERSAL", {});' + String.fromCharCode(10) + '            if (pkg_name) {' + String.fromCharCode(10) + '                p5pkg[pkg_name]["v_AUTOLOAD"] = invocant._class_._ref_ + "::" + method;' + String.fromCharCode(10) + '                return p5pkg[pkg_name]["AUTOLOAD"](list, p5want);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        p5pkg.CORE.die([p5method_not_found(method, invocant._class_._ref_)]);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5pkg.CORE.die(["Can' + String.fromCharCode(39) + 't call method ", method, " on unblessed reference"]);' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5cget(namespace, name) {' + String.fromCharCode(10) + '    if(p5pkg[namespace].hasOwnProperty(name)) {' + String.fromCharCode(10) + '        return p5pkg[namespace][name]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if(p5pkg[namespace].hasOwnProperty("AUTOLOAD")) {' + String.fromCharCode(10) + '        p5pkg[namespace]["v_AUTOLOAD"] = namespace + "::" + name;' + String.fromCharCode(10) + '        return p5pkg[namespace]["AUTOLOAD"]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5pkg.CORE.die(["Undefined subroutine &" + namespace + "::" + name]);' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5cget_by_name(namespace, name) {' + String.fromCharCode(10) + '    // name can be a function already' + String.fromCharCode(10) + '    if (typeof name === "function") {' + String.fromCharCode(10) + '        return name;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    // name can have an optional namespace' + String.fromCharCode(10) + '    var parts = name.split(/::/);' + String.fromCharCode(10) + '    if (parts.length > 1) {' + String.fromCharCode(10) + '        name = parts.pop();' + String.fromCharCode(10) + '        namespace = parts.join("::");' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if(p5pkg[namespace].hasOwnProperty(name)) {' + String.fromCharCode(10) + '        return p5pkg[namespace][name]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if(p5pkg[namespace].hasOwnProperty("AUTOLOAD")) {' + String.fromCharCode(10) + '        p5pkg[namespace]["v_AUTOLOAD"] = namespace + "::" + name;' + String.fromCharCode(10) + '        return p5pkg[namespace]["AUTOLOAD"]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5pkg.CORE.die(["Undefined subroutine &" + namespace + "::" + name]);' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5code_lookup_by_name(package_name, sub_name) {' + String.fromCharCode(10) + '    // sub_name can be a function already' + String.fromCharCode(10) + '    if (typeof sub_name === "function") {' + String.fromCharCode(10) + '        return sub_name;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    // sub_name can have an optional namespace' + String.fromCharCode(10) + '    var parts = sub_name.split(/::/);' + String.fromCharCode(10) + '    if (parts.length > 1) {' + String.fromCharCode(10) + '        sub_name = parts.pop();' + String.fromCharCode(10) + '        package_name = parts.join("::");' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (p5pkg.hasOwnProperty(package_name)) {' + String.fromCharCode(10) + '        var c = p5pkg[package_name];' + String.fromCharCode(10) + '        if ( c.hasOwnProperty(sub_name) ) {' + String.fromCharCode(10) + '            return c[sub_name]' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return null;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5sub_exists(name, current_pkg_name) {' + String.fromCharCode(10) + '    var v = name;' + String.fromCharCode(10) + '    var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '    if (pkg_name.length > 1) {' + String.fromCharCode(10) + '        v = pkg_name.pop();' + String.fromCharCode(10) + '        pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        pkg_name = current_pkg_name;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var c = v.charCodeAt(0);' + String.fromCharCode(10) + '    if (c < 27) {' + String.fromCharCode(10) + '        pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5pkg.hasOwnProperty(pkg_name) && p5pkg[pkg_name].hasOwnProperty(v) ' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5sub_prototype(name, current_pkg_name) {' + String.fromCharCode(10) + '    if (!name) {' + String.fromCharCode(10) + '        return null;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof name === "function") {' + String.fromCharCode(10) + '        return name._prototype_;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var v = name;' + String.fromCharCode(10) + '    var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '    if (pkg_name.length > 1) {' + String.fromCharCode(10) + '        v = pkg_name.pop();' + String.fromCharCode(10) + '        pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        pkg_name = current_pkg_name;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var c = v.charCodeAt(0);' + String.fromCharCode(10) + '    if (c < 27) {' + String.fromCharCode(10) + '        pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (p5pkg.hasOwnProperty(pkg_name) && p5pkg[pkg_name].hasOwnProperty(v)) {' + String.fromCharCode(10) + '        return p5pkg[pkg_name][v]._prototype_' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5pkg["Perlito5"].v_PROTO._hash_[name] || p5pkg["Perlito5"].v_CORE_PROTO._hash_[name]' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5scalar_deref(v, current_pkg_name, autoviv_type) {' + String.fromCharCode(10) + '    if (typeof v === "string") {' + String.fromCharCode(10) + '        var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            v = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            pkg_name = current_pkg_name;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var c = v.charCodeAt(0);' + String.fromCharCode(10) + '        if (c < 27) {' + String.fromCharCode(10) + '            pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var name = "v_"+v;' + String.fromCharCode(10) + '        if (!p5make_package(pkg_name)[name]) {' + String.fromCharCode(10) + '            if (autoviv_type == ' + String.fromCharCode(39) + 'array' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                p5pkg[pkg_name][name] = new p5ArrayRef([]);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            else if (autoviv_type == ' + String.fromCharCode(39) + 'hash' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                p5pkg[pkg_name][name] = new p5HashRef([]);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            else if (autoviv_type == ' + String.fromCharCode(39) + 'scalar' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                p5pkg[pkg_name][name] = new p5ScalarRef([]);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return p5pkg[pkg_name][name];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (!v._scalar_) {' + String.fromCharCode(10) + '        if (autoviv_type == ' + String.fromCharCode(39) + 'array' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '            v._scalar_ = new p5ArrayRef([]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if (autoviv_type == ' + String.fromCharCode(39) + 'hash' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '            v._scalar_ = new p5HashRef([]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if (autoviv_type == ' + String.fromCharCode(39) + 'scalar' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '            v._scalar_ = new p5ScalarRef([]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return v._scalar_;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5scalar_deref_set(v, n, current_pkg_name) {' + String.fromCharCode(10) + '    if (typeof v === "string") {' + String.fromCharCode(10) + '        var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            v = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            pkg_name = current_pkg_name;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var c = v.charCodeAt(0);' + String.fromCharCode(10) + '        if (c < 27) {' + String.fromCharCode(10) + '            pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var name = "v_"+v;' + String.fromCharCode(10) + '        p5make_package(pkg_name)[name] = n;' + String.fromCharCode(10) + '        return p5pkg[pkg_name][name];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    v._scalar_ = n;' + String.fromCharCode(10) + '    return v._scalar_;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5array_deref(v, current_pkg_name) {' + String.fromCharCode(10) + '    if (typeof v === "string") {' + String.fromCharCode(10) + '        var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            v = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            pkg_name = current_pkg_name;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var c = v.charCodeAt(0);' + String.fromCharCode(10) + '        if (c < 27) {' + String.fromCharCode(10) + '            pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var name = "List_"+v;' + String.fromCharCode(10) + '        if (!p5make_package(pkg_name)[name]) {' + String.fromCharCode(10) + '                p5pkg[pkg_name][name] = [];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return p5pkg[pkg_name][name];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return v._array_;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5hash_deref(v, current_pkg_name) {' + String.fromCharCode(10) + '    if (typeof v === "string") {' + String.fromCharCode(10) + '        var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            v = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            pkg_name = current_pkg_name;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var c = v.charCodeAt(0);' + String.fromCharCode(10) + '        if (c < 27) {' + String.fromCharCode(10) + '            pkg_name = ' + String.fromCharCode(39) + 'main' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        var name = "Hash_"+v;' + String.fromCharCode(10) + '        if (!p5make_package(pkg_name)[name]) {' + String.fromCharCode(10) + '                p5pkg[pkg_name][name] = [];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return p5pkg[pkg_name][name];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return v._hash_;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + '// regex globals' + String.fromCharCode(10) + 'p5make_package("Regex");' + String.fromCharCode(10) + 'var p5_last_regex = new RegExp("", "");' + String.fromCharCode(10) + 'var p5_regex_capture = [];' + String.fromCharCode(10) + String.fromCharCode(10) + 'p5make_package("main");' + String.fromCharCode(10) + 'p5make_package("Perlito5");' + String.fromCharCode(10) + 'p5pkg["Perlito5"].v_PKG_NAME = "main";' + String.fromCharCode(10) + 'p5make_package("main::STDIN").file_handle = { id : 0, readline_buffer : ' + String.fromCharCode(39) + String.fromCharCode(39) + ' };' + String.fromCharCode(10) + 'p5make_package("main::STDOUT").file_handle = { id : 1 };' + String.fromCharCode(10) + 'p5make_package("main::STDERR").file_handle = { id : 2 };' + String.fromCharCode(10) + 'p5make_package("main::STDIN")[' + String.fromCharCode(39) + 'List_ISA' + String.fromCharCode(39) + '] = [' + String.fromCharCode(39) + 'Perlito5::IO' + String.fromCharCode(39) + '];' + String.fromCharCode(10) + '// p5make_package("main::STDOUT")[' + String.fromCharCode(39) + 'List_ISA' + String.fromCharCode(39) + '] = [' + String.fromCharCode(39) + 'Perlito5::IO' + String.fromCharCode(39) + '];' + String.fromCharCode(10) + '// p5make_package("main::STDERR")[' + String.fromCharCode(39) + 'List_ISA' + String.fromCharCode(39) + '] = [' + String.fromCharCode(39) + 'Perlito5::IO' + String.fromCharCode(39) + '];' + String.fromCharCode(10) + 'p5make_package("ARGV").file_handle = { id : null };' + String.fromCharCode(10) + 'p5make_package("main")["STDOUT"] = p5pkg["main::STDOUT"];' + String.fromCharCode(10) + 'p5make_package("main")["STDERR"] = p5pkg["main::STDERR"];' + String.fromCharCode(10) + 'p5make_package("main")["STDIN"] = p5pkg["main::STDIN"];' + String.fromCharCode(10) + 'p5pkg["STDOUT"] = p5pkg["main::STDOUT"];' + String.fromCharCode(10) + 'p5pkg["STDERR"] = p5pkg["main::STDERR"];' + String.fromCharCode(10) + 'p5pkg["STDIN"] = p5pkg["main::STDIN"];' + String.fromCharCode(10) + 'p5pkg["Perlito5"].v_SELECT = "main::STDOUT";' + String.fromCharCode(10) + 'p5pkg["main"]["v_@"] = [];      // $@' + String.fromCharCode(10) + 'p5pkg["main"]["v_|"] = 0;       // $|' + String.fromCharCode(10) + 'p5pkg["main"]["v_/"] = "' + String.fromCharCode(92) + 'n";    // $/' + String.fromCharCode(10) + 'p5pkg["main"][' + String.fromCharCode(39) + 'v_"' + String.fromCharCode(39) + '] = " ";     // $"' + String.fromCharCode(10) + 'p5pkg["main"]["List_#"] = [];   // @#' + String.fromCharCode(10) + 'p5scalar_deref_set(String.fromCharCode(15), isNode ? "node.js" : "javascript2");  // $^O' + String.fromCharCode(10) + 'p5pkg["main"]["List_INC"] = [];' + String.fromCharCode(10) + 'p5pkg["main"]["Hash_INC"] = {};' + String.fromCharCode(10) + 'p5pkg["main"]["List_ARGV"] = [];' + String.fromCharCode(10) + 'p5pkg["main"]["Hash_ENV"] = {};' + String.fromCharCode(10) + 'p5pkg["main"]["Hash_SIG"] = {};' + String.fromCharCode(10) + 'if (isNode) {' + String.fromCharCode(10) + '    p5pkg["main"]["List_ARGV"] = process.argv.splice(2);' + String.fromCharCode(10) + String.fromCharCode(10) + '    p5pkg["main"]["Hash_ENV"] = {};' + String.fromCharCode(10) + '    for (var e in process.env) p5pkg["main"]["Hash_ENV"][e] = process.env[e];' + String.fromCharCode(10) + String.fromCharCode(10) + '    p5pkg["main"]["v_$"] = process.pid;   // $$' + String.fromCharCode(10) + '    p5scalar_deref_set(String.fromCharCode(24), process.argv[0]);  // $^X' + String.fromCharCode(10) + '} else if (typeof arguments === "object") {' + String.fromCharCode(10) + '    p5pkg["main"]["List_ARGV"] = arguments;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'p5make_package("Perlito5::IO");' + String.fromCharCode(10) + 'p5make_package("Perlito5::Runtime");' + String.fromCharCode(10) + 'p5make_package("Perlito5::Grammar");' + String.fromCharCode(10) + String.fromCharCode(10) + 'var sigils = { ' + String.fromCharCode(39) + '@' + String.fromCharCode(39) + ' : ' + String.fromCharCode(39) + 'List_' + String.fromCharCode(39) + ', ' + String.fromCharCode(39) + '%' + String.fromCharCode(39) + ' : ' + String.fromCharCode(39) + 'Hash_' + String.fromCharCode(39) + ', ' + String.fromCharCode(39) + '$' + String.fromCharCode(39) + ' : ' + String.fromCharCode(39) + 'v_' + String.fromCharCode(39) + ', ' + String.fromCharCode(39) + '&' + String.fromCharCode(39) + ' : ' + String.fromCharCode(39) + String.fromCharCode(39) + ' };' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5typeglob_set(namespace, name, obj) {' + String.fromCharCode(10) + '    p5make_package(namespace);' + String.fromCharCode(10) + '    if ( obj.hasOwnProperty("_ref_") ) {' + String.fromCharCode(10) + '        if ( obj._ref_ == "HASH" ) {' + String.fromCharCode(10) + '            p5pkg[namespace][sigils[' + String.fromCharCode(39) + '%' + String.fromCharCode(39) + '] + name] = obj._hash_;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if ( obj._ref_ == "ARRAY" ) {' + String.fromCharCode(10) + '            p5pkg[namespace][sigils[' + String.fromCharCode(39) + '@' + String.fromCharCode(39) + '] + name] = obj._array_;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if ( obj._ref_ == "SCALAR" ) {' + String.fromCharCode(10) + '            p5pkg[namespace][sigils[' + String.fromCharCode(39) + '$' + String.fromCharCode(39) + '] + name] = obj._scalar_;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if ( obj._ref_ == "CODE" ) {' + String.fromCharCode(10) + '            p5pkg[namespace][sigils[' + String.fromCharCode(39) + '&' + String.fromCharCode(39) + '] + name] = obj._code_;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if ( obj._ref_ == "GLOB" ) {' + String.fromCharCode(10) + '            // TODO' + String.fromCharCode(10) + '            p5pkg[namespace][name] = obj;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        p5pkg[namespace][name] = obj;   // native CODE' + String.fromCharCode(10) + '        // TODO - non-reference' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5pkg[namespace][name];  // TODO - return GLOB' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5typeglob_deref_set(v, obj, current_pkg_name) {' + String.fromCharCode(10) + '    if (typeof v === "string") {' + String.fromCharCode(10) + '        var pkg_name = v.split(/::/);' + String.fromCharCode(10) + '        if (pkg_name.length > 1) {' + String.fromCharCode(10) + '            v = pkg_name.pop();' + String.fromCharCode(10) + '            pkg_name = pkg_name.join("::");' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            pkg_name = current_pkg_name;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return p5typeglob_set(pkg_name, v, obj);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    CORE.die(["TODO: can' + String.fromCharCode(39) + 't p5typeglob_deref_set()"]);' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5cleanup_local(idx, value) {' + String.fromCharCode(10) + '    while (p5LOCAL.length > idx) {' + String.fromCharCode(10) + '        var l = p5LOCAL.pop();' + String.fromCharCode(10) + '        l();' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return value;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + '//-------- Reference' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5id = Math.floor(Math.random() * 1000000000) + 1000000000;' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5HashRef(o) {' + String.fromCharCode(10) + '    this._hash_ = o;' + String.fromCharCode(10) + '    this._ref_ = "HASH";' + String.fromCharCode(10) + '    this.bool = function() { return 1 };' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5ArrayRef(o) {' + String.fromCharCode(10) + '    this._array_ = o;' + String.fromCharCode(10) + '    this._ref_ = "ARRAY";' + String.fromCharCode(10) + '    this.bool = function() { return 1 };' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5ScalarRef(o) {' + String.fromCharCode(10) + '    this._scalar_ = o;' + String.fromCharCode(10) + '    this._ref_ = "SCALAR";' + String.fromCharCode(10) + '    this.bool = function() { return 1 };' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5GlobRef(o) {' + String.fromCharCode(10) + '    this._scalar_ = o;' + String.fromCharCode(10) + '    this._ref_ = "GLOB";' + String.fromCharCode(10) + '    this.bool = function() { return 1 };' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5CodeRef(o) {' + String.fromCharCode(10) + '    this._code_ = o;' + String.fromCharCode(10) + '    this._ref_ = "CODE";' + String.fromCharCode(10) + '    this.bool = function() { return 1 };' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + '//-------- Hash ' + String.fromCharCode(10) + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5hget", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) { return this[i] }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5hset", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i, v) { this[i] = v; return this[i] }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5incr", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        this[i] = p5incr_(this[i]);' + String.fromCharCode(10) + '        return this[i];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5postincr", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        var v = this[i];' + String.fromCharCode(10) + '        this[i] = p5incr_(this[i]);' + String.fromCharCode(10) + '        return v;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5decr", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        this[i] = p5decr_(this[i]);' + String.fromCharCode(10) + '        return this[i];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5postdecr", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        var v = this[i];' + String.fromCharCode(10) + '        this[i] = p5decr_(this[i]);' + String.fromCharCode(10) + '        return v;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5hget_array", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        if (this[i] == null) { this[i] = new p5ArrayRef([]) }' + String.fromCharCode(10) + '        return this[i]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + 'Object.defineProperty( Object.prototype, "p5hget_hash", {' + String.fromCharCode(10) + '    enumerable : false,' + String.fromCharCode(10) + '    value : function (i) {' + String.fromCharCode(10) + '        if (this[i] == null) { this[i] = new p5HashRef({}) }' + String.fromCharCode(10) + '        return this[i]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '});' + String.fromCharCode(10) + String.fromCharCode(10) + '//-------' + String.fromCharCode(10) + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5context = function(List__, p5want) {' + String.fromCharCode(10) + '    if (p5want) {' + String.fromCharCode(10) + '        return p5list_to_a(List__);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    // scalar: return the last value' + String.fromCharCode(10) + '    var o = List__;' + String.fromCharCode(10) + '    if (o instanceof Array) {' + String.fromCharCode(10) + '        o =   o.length' + String.fromCharCode(10) + '            ? o[o.length-1]' + String.fromCharCode(10) + '            : null;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (o instanceof Array) {' + String.fromCharCode(10) + '        o =   o.length' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return o;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5list_to_a = function(args) {' + String.fromCharCode(10) + '    var res = [];' + String.fromCharCode(10) + '    for (var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        var o = args[i];' + String.fromCharCode(10) + '        if  (  o == null' + String.fromCharCode(10) + '            || o._class_    // perl5 blessed reference' + String.fromCharCode(10) + '            || o._ref_      // perl5 un-blessed reference' + String.fromCharCode(10) + '            )' + String.fromCharCode(10) + '        {' + String.fromCharCode(10) + '            res.push(o);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if (o instanceof Array) {' + String.fromCharCode(10) + '            // perl5 array' + String.fromCharCode(10) + '            for (var j = 0; j < o.length; j++) {' + String.fromCharCode(10) + '                res.push(o[j]);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else if (typeof o === "object") {' + String.fromCharCode(10) + '            // perl5 hash' + String.fromCharCode(10) + '            for(var j in o) {' + String.fromCharCode(10) + '                if (o.hasOwnProperty(j)) {' + String.fromCharCode(10) + '                    res.push(j);' + String.fromCharCode(10) + '                    res.push(o[j]);' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            // non-ref' + String.fromCharCode(10) + '            res.push(o);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return res;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5_list_of_refs = function(a) {' + String.fromCharCode(10) + '    // implements ' + String.fromCharCode(92) + '( @a )' + String.fromCharCode(10) + '    var res = [];' + String.fromCharCode(10) + '    for (var i = 0; i < a.length; i++) {' + String.fromCharCode(10) + '        res.push(new p5ScalarRef(a[i]));' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return res;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5a_to_h = function(a) {' + String.fromCharCode(10) + '    var res = {};' + String.fromCharCode(10) + '    for (var i = 0; i < a.length; i+=2) {' + String.fromCharCode(10) + '        res[p5str(a[i])] = a[i+1];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return res;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5idx = function(a, i) {' + String.fromCharCode(10) + '    return i >= 0 ? i : a.length + i' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5smrt_scalar = function(a1, a2) {' + String.fromCharCode(10) + '    if (a2 == null) {' + String.fromCharCode(10) + '        return a1 == null;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof a2 == "string") {' + String.fromCharCode(10) + '        return p5str(a1) == a2;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof a2 == "number") {' + String.fromCharCode(10) + '        return p5num(a1) == a2;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    CORE.die("Not implemented: smartmatch operator with argument type ' + String.fromCharCode(39) + '", (typeof a2), "' + String.fromCharCode(39) + '");' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5str = function(o) {' + String.fromCharCode(10) + '    if (o == null) {' + String.fromCharCode(10) + '        return "";' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o === "object") {' + String.fromCharCode(10) + '        if (o instanceof Array) {' + String.fromCharCode(10) + '            return CORE.join([""].concat(o));' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if ( o.hasOwnProperty("_ref_") ) {' + String.fromCharCode(10) + '            var class_name = ' + String.fromCharCode(39) + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '            if (o._class_ && typeof o._class_._ref_ === "string") {' + String.fromCharCode(10) + '                // blessed reference' + String.fromCharCode(10) + '                // test for overload' + String.fromCharCode(10) + '                var meth = p5method_lookup(' + String.fromCharCode(39) + '(""' + String.fromCharCode(39) + ', o._class_._ref_, {});' + String.fromCharCode(10) + '                if (meth) {' + String.fromCharCode(10) + '                    return p5str(meth([o], 0));' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                // TODO - test the "fallback" flag' + String.fromCharCode(10) + '                meth = p5method_lookup(' + String.fromCharCode(39) + '(0+' + String.fromCharCode(39) + ', o._class_._ref_, {});' + String.fromCharCode(10) + '                if (meth) {' + String.fromCharCode(10) + '                    return p5str(meth([o], 0));' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                // no overload, strigify the reference instead' + String.fromCharCode(10) + '                class_name = o._class_._ref_ + ' + String.fromCharCode(39) + '=' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            if (!o._id_) { o._id_ = p5id++ }' + String.fromCharCode(10) + '            return [class_name, o._ref_, ' + String.fromCharCode(39) + '(0x' + String.fromCharCode(39) + ', o._id_.toString( 16 ), ' + String.fromCharCode(39) + ')' + String.fromCharCode(39) + '].join(' + String.fromCharCode(39) + String.fromCharCode(39) + ');' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o === "function") {' + String.fromCharCode(10) + '        var class_name = ' + String.fromCharCode(39) + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        if (o._class_ && typeof o._class_._ref_ === "string") {' + String.fromCharCode(10) + '            // blessed reference' + String.fromCharCode(10) + '            class_name = o._class_._ref_ + ' + String.fromCharCode(39) + '=' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (!o._id_) { o._id_ = p5id++ }' + String.fromCharCode(10) + '        return [class_name, ' + String.fromCharCode(39) + 'CODE(0x' + String.fromCharCode(39) + ', o._id_.toString( 16 ), ' + String.fromCharCode(39) + ')' + String.fromCharCode(39) + '].join(' + String.fromCharCode(39) + String.fromCharCode(39) + ');' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o == "number" && Math.abs(o) < 0.0001 && o != 0) {' + String.fromCharCode(10) + '        return o.toExponential().replace(/e-(' + String.fromCharCode(92) + 'd)$/,"e-0$1");' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o === "boolean") {' + String.fromCharCode(10) + '        return o ? "1" : "";' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o !== "string") {' + String.fromCharCode(10) + '        return "" + o;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return o;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5num = function(o) {' + String.fromCharCode(10) + '    if (o == null) {' + String.fromCharCode(10) + '        return 0;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o === "object") {' + String.fromCharCode(10) + '        if (o instanceof Array) {' + String.fromCharCode(10) + '            return o.length;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if ( o.hasOwnProperty("_ref_") ) {' + String.fromCharCode(10) + '            if (o._class_ && typeof o._class_._ref_ === "string") {' + String.fromCharCode(10) + '                // blessed reference' + String.fromCharCode(10) + '                // test for overload' + String.fromCharCode(10) + '                var meth = p5method_lookup(' + String.fromCharCode(39) + '(0+' + String.fromCharCode(39) + ', o._class_._ref_, {});' + String.fromCharCode(10) + '                if (meth) {' + String.fromCharCode(10) + '                    return p5num(meth([o], 0));' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                // TODO - test the "fallback" flag' + String.fromCharCode(10) + '                meth = p5method_lookup(' + String.fromCharCode(39) + '(""' + String.fromCharCode(39) + ', o._class_._ref_, {});' + String.fromCharCode(10) + '                if (meth) {' + String.fromCharCode(10) + '                    return p5num(meth([o], 0));' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o !== "number") {' + String.fromCharCode(10) + '        var s = p5str(o).trim();' + String.fromCharCode(10) + '        var s1 = s.substr(0, 3).toUpperCase();' + String.fromCharCode(10) + '        if ( s1 == "NAN" ) { return NaN };' + String.fromCharCode(10) + '        if ( s1 == "INF" ) { return Infinity };' + String.fromCharCode(10) + '        s1 = s.substr(0, 4).toUpperCase();' + String.fromCharCode(10) + '        if ( s1 == "-NAN" ) { return NaN };' + String.fromCharCode(10) + '        if ( s1 == "-INF" ) { return -Infinity };' + String.fromCharCode(10) + '        s1 = parseFloat(s);' + String.fromCharCode(10) + '        if ( isNaN(s1) ) { return 0 };' + String.fromCharCode(10) + '        return s1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return o;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5bool = function(o) {' + String.fromCharCode(10) + '    if (o) {' + String.fromCharCode(10) + '        if (typeof o === "boolean") {' + String.fromCharCode(10) + '            return o;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (typeof o === "number") {' + String.fromCharCode(10) + '            return o;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (typeof o === "string") {' + String.fromCharCode(10) + '            return o != "" && o != "0";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (typeof o.length === "number") {' + String.fromCharCode(10) + '            return o.length;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (o instanceof Error) {' + String.fromCharCode(10) + '            return true;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        for (var i in o) {' + String.fromCharCode(10) + '            return true;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return false;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5incr_ = function(o) {' + String.fromCharCode(10) + '    if (typeof o === "number") {' + String.fromCharCode(10) + '        return o + 1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5str_inc(p5str(o));' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5decr_ = function(o) {' + String.fromCharCode(10) + '    if (typeof o === "number") {' + String.fromCharCode(10) + '        return o - 1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5num(o) - 1;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5modulo = function(o, k) {' + String.fromCharCode(10) + '    var m = o % k;' + String.fromCharCode(10) + '    if ( k < 0 && m > 0 ) {' + String.fromCharCode(10) + '        m = m + k;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else if ( k > 0 && m < 0 ) {' + String.fromCharCode(10) + '        m = m + k;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return m;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5shift_left = function(o, k) {' + String.fromCharCode(10) + '    return k < 31 ? o << k : o * Math.pow(2, k);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5and = function(a, fb) {' + String.fromCharCode(10) + '    if (p5bool(a)) {' + String.fromCharCode(10) + '        return fb();' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return a;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5or = function(a, fb) {' + String.fromCharCode(10) + '    if (p5bool(a)) {' + String.fromCharCode(10) + '        return a;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return fb();' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5defined_or = function(a, fb) {' + String.fromCharCode(10) + '    if (a == null) {' + String.fromCharCode(10) + '        return fb();' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return a;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5xor = function(a, fb) {' + String.fromCharCode(10) + '    return p5bool(a) ? !p5bool(fb()) : fb()' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5cmp = function(a, b) {' + String.fromCharCode(10) + '    return a > b ? 1 : a < b ? -1 : 0 ' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5complement = function(a) {' + String.fromCharCode(10) + '    return a < 0 ? ~a : 4294967295 - a' + String.fromCharCode(10) + '    // return a < 0 ? ~a : 18446744073709551615 - a' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5str_replicate = function(o, n) {' + String.fromCharCode(10) + '    n = Math.floor(n);' + String.fromCharCode(10) + '    return n > 0 ? Array(n + 1).join(o) : "";' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5list_replicate = function(o, n, want) {' + String.fromCharCode(10) + '    o = p5list_to_a([o]);' + String.fromCharCode(10) + '    n = p5num(n);' + String.fromCharCode(10) + String.fromCharCode(10) + '    if (!want) {' + String.fromCharCode(10) + '        return p5str_replicate(o.pop(), n);   // scalar context' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for(var i = 0; i < n; i++) {' + String.fromCharCode(10) + '        for(var j = 0; j < o.length; j++) {' + String.fromCharCode(10) + '            out.push(o[j]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return (want ? out : out.length)' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5list_slice = function(o, ix, want) {' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for (var i=0, l=ix.length; i<l; ++i) {' + String.fromCharCode(10) + '        if (ix[i] < o.length) {' + String.fromCharCode(10) + '            out[i] = o[ix[i]];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (want) { return out }' + String.fromCharCode(10) + '    return out.length ? out[out.length-1] : null;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5hash_slice = function(o, ix, want) {' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for (var i=0, l=ix.length; i<l; ++i) {' + String.fromCharCode(10) + '        out.push(ix[i]);' + String.fromCharCode(10) + '        out.push(o[ix[i]]);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (want) { return out }' + String.fromCharCode(10) + '    return out.length ? out[out.length-1] : null;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5list_lookup_slice = function(o, ix, want) {' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for (var i=0, l=ix.length; i<l; ++i) {' + String.fromCharCode(10) + '        out[i] = o[ix[i]];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (want) { return out }' + String.fromCharCode(10) + '    return out.length ? out[out.length-1] : null;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5hash_lookup_slice = function(o, ix, want) {' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for (var i=0, l=ix.length; i<l; ++i) {' + String.fromCharCode(10) + '        out.push(ix[i]);' + String.fromCharCode(10) + '        out.push(o[ix[i]]);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (want) { return out }' + String.fromCharCode(10) + '    return out.length ? out[out.length-1] : null;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5str_inc = function(s) {' + String.fromCharCode(10) + '    if (s.length < 2) {' + String.fromCharCode(10) + '        if ((s >= "0" && s <= "8") || (s >= "A" && s <= "Y") || (s >= "a" && s <= "y")) {' + String.fromCharCode(10) + '            return String.fromCharCode(s.charCodeAt(0) + 1);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (s == "9") {' + String.fromCharCode(10) + '            return "10";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (s == "Z") {' + String.fromCharCode(10) + '            return "AA";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (s == "z") {' + String.fromCharCode(10) + '            return "aa";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return "1";' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var c0 = s.substr(0, 1);' + String.fromCharCode(10) + '    if (c0 >= "0" && c0 <= "9") {' + String.fromCharCode(10) + '        return p5str(p5num(s)+1);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var c = p5str_inc(s.substr(s.length-1, 1));' + String.fromCharCode(10) + '    if (c.length == 1) {' + String.fromCharCode(10) + '        return s.substr(0, s.length-1) + c;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return p5str_inc(s.substr(0, s.length-1)) + c.substr(c.length-1, 1);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5looks_like_number = function(a) {' + String.fromCharCode(10) + '    if (typeof a === "number") {' + String.fromCharCode(10) + '        return 1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    a = a.trim();' + String.fromCharCode(10) + '    var s1 = a.toUpperCase();' + String.fromCharCode(10) + '    if ( s1 == "NAN" || s1 == "INF" || s1 == "-NAN" || s1 == "-INF" ) {' + String.fromCharCode(10) + '        return 1' + String.fromCharCode(10) + '    };' + String.fromCharCode(10) + '    if (s1.match(/^[' + String.fromCharCode(92) + '+' + String.fromCharCode(92) + '-]?[0-9]+' + String.fromCharCode(92) + '.?(?:E[-+]?[0-9]+)?$/)) {          // 999 999.' + String.fromCharCode(10) + '        return 1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (s1.match(/^[' + String.fromCharCode(92) + '+' + String.fromCharCode(92) + '-]?[0-9]*' + String.fromCharCode(92) + '.[0-9]+(?:E[-+]?[0-9]+)?$/)) {    // 999.999 .999' + String.fromCharCode(10) + '        return 1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return 0;' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5range_state = {};' + String.fromCharCode(10) + 'var p5range = function(a, b, p5want, id, three_dots) {' + String.fromCharCode(10) + '    if (p5want) {' + String.fromCharCode(10) + '        // list context' + String.fromCharCode(10) + '        var tmp = [];' + String.fromCharCode(10) + '        if (typeof a === "number" || typeof b === "number") {' + String.fromCharCode(10) + '            a = p5num(a);' + String.fromCharCode(10) + '            b = p5num(b);' + String.fromCharCode(10) + '            if (isNaN(a) || isNaN(b) || a == Infinity || b == Infinity) {' + String.fromCharCode(10) + '                p5pkg.CORE.die(["Range iterator outside integer range"]);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            a = CORE.int([a]);' + String.fromCharCode(10) + '            while (a <= b) {' + String.fromCharCode(10) + '                tmp.push(a);' + String.fromCharCode(10) + '                a++;' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            a = p5str(a);' + String.fromCharCode(10) + '            b = p5str(b);' + String.fromCharCode(10) + '            if (a == ' + String.fromCharCode(39) + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                return [a];' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + String.fromCharCode(10) + '            if (a.substr(0, 1) != ' + String.fromCharCode(39) + '0' + String.fromCharCode(39) + ' && p5looks_like_number(a) && p5looks_like_number(b)) {' + String.fromCharCode(10) + '                // both sides look like number' + String.fromCharCode(10) + '                return p5range(p5num(a), p5num(b), p5want, id, three_dots)' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + String.fromCharCode(10) + '            // If the initial value specified isn' + String.fromCharCode(39) + 't part of a magical increment sequence' + String.fromCharCode(10) + '            // (that is, a non-empty string matching /^[a-zA-Z]*[0-9]*' + String.fromCharCode(92) + 'z/ ),' + String.fromCharCode(10) + '            // only the initial value will be returned.' + String.fromCharCode(10) + '            if (!a.match(/^[a-zA-Z]*[0-9]*$/)) {' + String.fromCharCode(10) + '                if (a.length > b.length) {' + String.fromCharCode(10) + '                    return []' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                return [a]' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + String.fromCharCode(10) + '            while (  (a.length < b.length)' + String.fromCharCode(10) + '                  || (a.length == b.length && a <= b) ) {' + String.fromCharCode(10) + '                tmp.push(a);' + String.fromCharCode(10) + '                a = p5incr_(a);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return tmp;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    // flip-flop operator' + String.fromCharCode(10) + '    var v;' + String.fromCharCode(10) + '    if (p5range_state[id]) {' + String.fromCharCode(10) + '        v = ++p5range_state[id];' + String.fromCharCode(10) + '        if (p5bool(b)) {' + String.fromCharCode(10) + '            p5range_state[id] = 0;' + String.fromCharCode(10) + '            v = v + "E0";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return v;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        p5range_state[id] = 0;' + String.fromCharCode(10) + '        if (p5bool(a)) {' + String.fromCharCode(10) + '            p5range_state[id]++;' + String.fromCharCode(10) + '            v = p5range_state[id];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (v && !three_dots && p5bool(b)) {' + String.fromCharCode(10) + '            p5range_state[id] = 0;' + String.fromCharCode(10) + '            v = v + "E0";' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return v;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5negative = function(o) {' + String.fromCharCode(10) + '    if (o == null) {' + String.fromCharCode(10) + '        return ' + String.fromCharCode(39) + '-0' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o === "object" && (o instanceof Array)) {' + String.fromCharCode(10) + '        return -(o.length);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (typeof o !== "number") {' + String.fromCharCode(10) + '        var s = p5str(o);' + String.fromCharCode(10) + '        var c = s.substr(0, 1);' + String.fromCharCode(10) + '        if ( c == ' + String.fromCharCode(39) + '+' + String.fromCharCode(39) + ' ) { s = s.substr(1); return ' + String.fromCharCode(39) + '-' + String.fromCharCode(39) + ' + s }' + String.fromCharCode(10) + '        if ( c == ' + String.fromCharCode(39) + '-' + String.fromCharCode(39) + ' ) { s = s.substr(1); return ' + String.fromCharCode(39) + '+' + String.fromCharCode(39) + ' + s }' + String.fromCharCode(10) + '        var s1 = parseFloat(s.trim());' + String.fromCharCode(10) + '        if ( isNaN(s1) ) {' + String.fromCharCode(10) + '            if ( c.length && !c.match(/[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz]/) ) {' + String.fromCharCode(10) + '                if ( s.trim().substr(0,1) == "-" ) { return 0 };' + String.fromCharCode(10) + '                return ' + String.fromCharCode(39) + '-0' + String.fromCharCode(39) + ';' + String.fromCharCode(10) + '            };' + String.fromCharCode(10) + '            return ' + String.fromCharCode(39) + '-' + String.fromCharCode(39) + ' + s' + String.fromCharCode(10) + '        };' + String.fromCharCode(10) + '        return -s1;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return -o;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5regex_s_modifier (s) {' + String.fromCharCode(10) + '    var cc = s.split(/(' + String.fromCharCode(92) + String.fromCharCode(92) + '.)|/);' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    var is_char_class = false;' + String.fromCharCode(10) + '    for(var i = 0; i < cc.length; i++) {' + String.fromCharCode(10) + '        var c = cc[i];' + String.fromCharCode(10) + '        if (typeof c != "undefined") {' + String.fromCharCode(10) + '            if (c == "[")                    { is_char_class = true }' + String.fromCharCode(10) + '            if (c == "]" && is_char_class )  { is_char_class = false }' + String.fromCharCode(10) + '            if (c == "." && !is_char_class ) { c = "[' + String.fromCharCode(92) + String.fromCharCode(92) + 'S' + String.fromCharCode(92) + String.fromCharCode(92) + 's]" }' + String.fromCharCode(10) + '            out.push(c);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return out.join("");' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5regex_x_modifier (s) {' + String.fromCharCode(10) + '    var cc = s.split(/(' + String.fromCharCode(92) + String.fromCharCode(92) + '.)|/);' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    var is_char_class = false;' + String.fromCharCode(10) + '    var is_comment = false;' + String.fromCharCode(10) + '    for(var i = 0; i < cc.length; i++) {' + String.fromCharCode(10) + '        var c = cc[i];' + String.fromCharCode(10) + '        if (typeof c != "undefined") {' + String.fromCharCode(10) + '            if (c == "[")                    { is_char_class = true }' + String.fromCharCode(10) + '            if (c == "]" && is_char_class )  { is_char_class = false }' + String.fromCharCode(10) + '            if (c == " " && !is_char_class ) { c = "" }' + String.fromCharCode(10) + '            if (c == "#" && !is_char_class ) { c = ""; is_comment = true }' + String.fromCharCode(10) + '            if (c == "' + String.fromCharCode(92) + 'n" && is_comment )    { c = ""; is_comment = false }' + String.fromCharCode(10) + '            if (is_comment)                  { c = "" }' + String.fromCharCode(10) + '            out.push(c);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return out.join("");' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'function p5regex_compile (s, flags) {' + String.fromCharCode(10) + '    if (flags.indexOf("s") != -1) {' + String.fromCharCode(10) + '        flags = flags.replace("s", "");' + String.fromCharCode(10) + '        s = p5regex_s_modifier(s);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (flags.indexOf("x") != -1) {' + String.fromCharCode(10) + '        flags = flags.replace("x", "");' + String.fromCharCode(10) + '        s = p5regex_x_modifier(s);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return new RegExp(s, flags);' + String.fromCharCode(10) + '}' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5qr = function(search, modifier) {' + String.fromCharCode(10) + '    // TODO - "Regex" stringification' + String.fromCharCode(10) + '    var re = p5regex_compile(search, modifier);' + String.fromCharCode(10) + '    return CORE.bless([(new p5ScalarRef(re)), ' + String.fromCharCode(39) + 'Regex' + String.fromCharCode(39) + ']);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5m = function(s, search, modifier, want) {' + String.fromCharCode(10) + '    // TODO - captures' + String.fromCharCode(10) + '    var re;' + String.fromCharCode(10) + '    if (search.hasOwnProperty(' + String.fromCharCode(39) + '_scalar_' + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '        // search is a Regex object' + String.fromCharCode(10) + '        re = search._scalar_;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        re = p5regex_compile(search, modifier);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    p5_regex_capture = [];' + String.fromCharCode(10) + '    var res = [];' + String.fromCharCode(10) + '    var myArray;' + String.fromCharCode(10) + '    while ((myArray = re.exec(s)) !== null) {' + String.fromCharCode(10) + '        var m = myArray.shift();' + String.fromCharCode(10) + '        if (myArray.length) {' + String.fromCharCode(10) + '            res = res.concat(myArray);' + String.fromCharCode(10) + '            p5_regex_capture = p5_regex_capture.concat(myArray);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        else {' + String.fromCharCode(10) + '            res.push(m);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (re.lastIndex == 0) {' + String.fromCharCode(10) + '            return (want ? res : res.length)' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return (want ? res : res.length)' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5s = function(s, search, fun_replace, modifier, want) {' + String.fromCharCode(10) + '    // TODO - captures' + String.fromCharCode(10) + '    var count = null;' + String.fromCharCode(10) + '    var re;' + String.fromCharCode(10) + '    if (search.hasOwnProperty(' + String.fromCharCode(39) + '_scalar_' + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '        // search is a Regex object' + String.fromCharCode(10) + '        re = search._scalar_;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        re = p5regex_compile(search, modifier);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    p5_regex_capture = [];' + String.fromCharCode(10) + '    var res = [];' + String.fromCharCode(10) + '    var myArray;' + String.fromCharCode(10) + '    var last_index = 0;' + String.fromCharCode(10) + '    while ((myArray = re.exec(s)) !== null) {' + String.fromCharCode(10) + '        var m = myArray.shift();' + String.fromCharCode(10) + '        p5_regex_capture = [].concat(myArray);' + String.fromCharCode(10) + '        if (myArray.index > last_index) {' + String.fromCharCode(10) + '            res.push(s.substr(last_index, myArray.index - last_index));' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        res.push(fun_replace());' + String.fromCharCode(10) + '        last_index = re.lastIndex;' + String.fromCharCode(10) + '        if (last_index == 0) {' + String.fromCharCode(10) + '            count = 1;' + String.fromCharCode(10) + '            last_index = myArray.index + m.length;' + String.fromCharCode(10) + '            if (s.length > last_index) {' + String.fromCharCode(10) + '                res.push(s.substr(last_index, s.length - last_index));' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            return [res.join(' + String.fromCharCode(39) + String.fromCharCode(39) + '), count]' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        count++;' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    if (s.length > last_index) {' + String.fromCharCode(10) + '        res.push(s.substr(last_index, s.length - last_index));' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return [res.join(' + String.fromCharCode(39) + String.fromCharCode(39) + '), count]' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5tr = function(s, search, replace, modifier, want) {' + String.fromCharCode(10) + '    var count = 0;' + String.fromCharCode(10) + '    // TODO - expand character lists in spec' + String.fromCharCode(10) + '    // TODO - modifiers' + String.fromCharCode(10) + '    search = search.split("");' + String.fromCharCode(10) + '    replace = replace.split("");' + String.fromCharCode(10) + '    while (search.length > replace.length) {' + String.fromCharCode(10) + '        replace.push(replace[replace.length-1]);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var tr = {};' + String.fromCharCode(10) + '    for(var i = 0; i < search.length; i++) {' + String.fromCharCode(10) + '        tr[search[i]] = replace[i];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    var res = s.split("");' + String.fromCharCode(10) + '    for(var i = 0; i < res.length; i++) {' + String.fromCharCode(10) + '        if (tr.hasOwnProperty(res[i])) {' + String.fromCharCode(10) + '            res[i] = tr[res[i]];' + String.fromCharCode(10) + '            count++;' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    return [res.join(' + String.fromCharCode(39) + String.fromCharCode(39) + '), count]' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5chop = function(s) {' + String.fromCharCode(10) + '    // TODO - hash' + String.fromCharCode(10) + String.fromCharCode(10) + '    if (s instanceof Array) {' + String.fromCharCode(10) + '        // perl5 array' + String.fromCharCode(10) + '        var count = 0;' + String.fromCharCode(10) + '        var res;' + String.fromCharCode(10) + '        for (var j = 0; j < s.length; j++) {' + String.fromCharCode(10) + '            res = p5chop(p5str(s[j]));' + String.fromCharCode(10) + '            count = res[0];' + String.fromCharCode(10) + '            s[j] = res[1];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return [count, s];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    s = p5str(s);' + String.fromCharCode(10) + '    return [s.substr(-1,1), s.substr(0,s.length-1)]' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5chomp = function(s) {' + String.fromCharCode(10) + '    // TODO - hash' + String.fromCharCode(10) + '    // TODO - special cases of $/ - empty string, reference' + String.fromCharCode(10) + String.fromCharCode(10) + '    if (s instanceof Array) {' + String.fromCharCode(10) + '        // perl5 array' + String.fromCharCode(10) + '        var count = 0;' + String.fromCharCode(10) + '        var res;' + String.fromCharCode(10) + '        for (var j = 0; j < s.length; j++) {' + String.fromCharCode(10) + '            res = p5chomp(p5str(s[j]));' + String.fromCharCode(10) + '            count = count + res[0];' + String.fromCharCode(10) + '            s[j] = res[1];' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        return [count, s];' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + String.fromCharCode(10) + '    s = p5str(s);' + String.fromCharCode(10) + '    var sep = p5pkg["main"]["v_/"];  // $/' + String.fromCharCode(10) + '    var c = s.substr(-sep.length);' + String.fromCharCode(10) + '    if (c == sep) {' + String.fromCharCode(10) + '        return [c.length, s.substr(0,s.length-sep.length)]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    else {' + String.fromCharCode(10) + '        return [0, s]' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5for = function(namespace, var_name, func, args, cont, label) {' + String.fromCharCode(10) + '    var local_idx = p5LOCAL.length;' + String.fromCharCode(10) + '    var v_old = namespace[var_name];' + String.fromCharCode(10) + '    var _redo;' + String.fromCharCode(10) + '    p5LOCAL.push(function(){ namespace[var_name] = v_old });' + String.fromCharCode(10) + '    for(var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        namespace[var_name] = args[i];' + String.fromCharCode(10) + '        do {' + String.fromCharCode(10) + '            _redo = false;' + String.fromCharCode(10) + '            try {' + String.fromCharCode(10) + '                func()' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            catch(err) {' + String.fromCharCode(10) + '                if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                    if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                        p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                        return' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                    else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                    else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                else {' + String.fromCharCode(10) + '                    throw(err)' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            if (cont) {' + String.fromCharCode(10) + '                try {' + String.fromCharCode(10) + '                    if (!_redo) { cont() }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                catch(err) {' + String.fromCharCode(10) + '                    if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                        if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                            p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                            return' + String.fromCharCode(10) + '                        }' + String.fromCharCode(10) + '                        else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                        else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                    }            ' + String.fromCharCode(10) + '                    else {' + String.fromCharCode(10) + '                        throw(err)' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        } while (_redo);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5for_lex = function(set_var, func, args, cont, label) {' + String.fromCharCode(10) + '    var local_idx = p5LOCAL.length;' + String.fromCharCode(10) + '    var _redo;' + String.fromCharCode(10) + '    for(var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        set_var(args[i]);' + String.fromCharCode(10) + '        do {' + String.fromCharCode(10) + '            _redo = false;' + String.fromCharCode(10) + '            try {' + String.fromCharCode(10) + '                func()' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            catch(err) {' + String.fromCharCode(10) + '                if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                    if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                        p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                        return' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                    else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                    else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                }            ' + String.fromCharCode(10) + '                else {' + String.fromCharCode(10) + '                    throw(err)' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            if (cont) {' + String.fromCharCode(10) + '                try {' + String.fromCharCode(10) + '                    if (!_redo) { cont() }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                catch(err) {' + String.fromCharCode(10) + '                    if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                        if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                            p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                            return' + String.fromCharCode(10) + '                        }' + String.fromCharCode(10) + '                        else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                        else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                    }            ' + String.fromCharCode(10) + '                    else {' + String.fromCharCode(10) + '                        throw(err)' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        } while (_redo);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5block = function(set_var, func, args, cont, label) {' + String.fromCharCode(10) + '    var local_idx = p5LOCAL.length;' + String.fromCharCode(10) + '    var _redo;' + String.fromCharCode(10) + '    for(var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        set_var(args[i]);' + String.fromCharCode(10) + '        do {' + String.fromCharCode(10) + '            _redo = false;' + String.fromCharCode(10) + '            try {' + String.fromCharCode(10) + '                return func()' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            catch(err) {' + String.fromCharCode(10) + '                if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                    if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                        p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                        return' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                    else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                    else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                }            ' + String.fromCharCode(10) + '                else {' + String.fromCharCode(10) + '                    throw(err)' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            if (cont) {' + String.fromCharCode(10) + '                try {' + String.fromCharCode(10) + '                    if (!_redo) { cont() }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                catch(err) {' + String.fromCharCode(10) + '                    if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                        if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                            p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                            return' + String.fromCharCode(10) + '                        }' + String.fromCharCode(10) + '                        else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { _redo = true }' + String.fromCharCode(10) + '                        else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                    }            ' + String.fromCharCode(10) + '                    else {' + String.fromCharCode(10) + '                        throw(err)' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        } while (_redo);' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5while = function(func, cond, cont, label, redo) {' + String.fromCharCode(10) + '    var local_idx = p5LOCAL.length;' + String.fromCharCode(10) + '    while (redo || p5bool(cond())) {' + String.fromCharCode(10) + '        redo = false;' + String.fromCharCode(10) + '        try {' + String.fromCharCode(10) + '            func()' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        catch(err) {' + String.fromCharCode(10) + '            if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                    p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                    return' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '                else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { redo = true }' + String.fromCharCode(10) + '                else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '            }            ' + String.fromCharCode(10) + '            else {' + String.fromCharCode(10) + '                throw(err)' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '        if (cont) {' + String.fromCharCode(10) + '            try {' + String.fromCharCode(10) + '                if (!redo) { cont() }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '            catch(err) {' + String.fromCharCode(10) + '                if (err instanceof p5_error && (err.v == label || err.v == ' + String.fromCharCode(39) + String.fromCharCode(39) + ')) {' + String.fromCharCode(10) + '                    if (err.type == ' + String.fromCharCode(39) + 'last' + String.fromCharCode(39) + ') {' + String.fromCharCode(10) + '                        p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '                        return' + String.fromCharCode(10) + '                    }' + String.fromCharCode(10) + '                    else if (err.type == ' + String.fromCharCode(39) + 'redo' + String.fromCharCode(39) + ') { redo = true }' + String.fromCharCode(10) + '                    else if (err.type != ' + String.fromCharCode(39) + 'next' + String.fromCharCode(39) + ') { throw(err) }' + String.fromCharCode(10) + '                }            ' + String.fromCharCode(10) + '                else {' + String.fromCharCode(10) + '                    throw(err)' + String.fromCharCode(10) + '                }' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5cleanup_local(local_idx, null);' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5map = function(namespace, func, args) {' + String.fromCharCode(10) + '    var v_old = p5pkg["main"]["v__"];' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for(var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        p5pkg["main"]["v__"] = args[i];' + String.fromCharCode(10) + '        var o = p5list_to_a([func(1)]);' + String.fromCharCode(10) + '        for(var j = 0; j < o.length; j++) {' + String.fromCharCode(10) + '            out.push(o[j]);' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5pkg["main"]["v__"] = v_old;' + String.fromCharCode(10) + '    return out;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5grep = function(namespace, func, args) {' + String.fromCharCode(10) + '    var v_old = p5pkg["main"]["v__"];' + String.fromCharCode(10) + '    var out = [];' + String.fromCharCode(10) + '    for(var i = 0; i < args.length; i++) {' + String.fromCharCode(10) + '        p5pkg["main"]["v__"] = args[i];' + String.fromCharCode(10) + '        if (p5bool(func(0))) {' + String.fromCharCode(10) + '            out.push(args[i])' + String.fromCharCode(10) + '        }' + String.fromCharCode(10) + '    }' + String.fromCharCode(10) + '    p5pkg["main"]["v__"] = v_old;' + String.fromCharCode(10) + '    return out;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10) + 'var p5sort = function(namespace, func, args) {' + String.fromCharCode(10) + '    var a_old = namespace["v_a"];' + String.fromCharCode(10) + '    var b_old = namespace["v_b"];' + String.fromCharCode(10) + '    var out = ' + String.fromCharCode(10) + '        func == null' + String.fromCharCode(10) + '        ? args.sort()' + String.fromCharCode(10) + '        : args.sort(' + String.fromCharCode(10) + '            function(a, b) {' + String.fromCharCode(10) + '                namespace["v_a"] = a;' + String.fromCharCode(10) + '                namespace["v_b"] = b;' + String.fromCharCode(10) + '                return func(0);' + String.fromCharCode(10) + '            }' + String.fromCharCode(10) + '        );' + String.fromCharCode(10) + '    namespace["v_a"] = a_old;' + String.fromCharCode(10) + '    namespace["v_b"] = b_old;' + String.fromCharCode(10) + '    return out;' + String.fromCharCode(10) + '};' + String.fromCharCode(10) + String.fromCharCode(10)))], p5want));
		};
		tmp3963._prototype_ = null;
		return tmp3963
	})());
	1;
})();;
(function () {
	p5make_package('Perlito5');
	p5typeglob_set('Perlito5', 'compile_p5_to_js', (function () {
		var tmp3964;
		tmp3964 = function (List__, p5want) {
			var v_s_2665;
			v_s_2665 = (List__.shift());
			p5make_package('Perlito5')['v_PKG_NAME'] = ('main');
			p5make_package('Perlito5')['v_PROTO'] = ((new p5HashRef({})));
			var v_ast_2666;
			v_ast_2666 = (p5pkg['Perlito5::Grammar'].exp_stmts([v_s_2665, 0], ""));
			return (p5pkg['Perlito5::AST::CompUnit'].emit_javascript2_program(p5list_to_a([(new p5ArrayRef(p5list_to_a([p5call('Perlito5::AST::CompUnit', 'new', p5list_to_a(['name', 'main', 'body', p5pkg['Perlito5::Match'].flat([v_ast_2666], 1)]), 1)])))]), p5want));
		};
		tmp3964._prototype_ = null;
		return tmp3964
	})());
	1;
})();;
