// Perlito5::AST::Do not edit this file - Generated by Perlito5 8.0
//
// lib/Perlito5/Javascript/Runtime.js
//
// Runtime for "Perlito" Perl5-in-Javascript
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

if (typeof NAMESPACE !== 'object') {
    NAMESPACE = {};
    CLASS = {};

    var universal = function () {};
    CLASS.UNIVERSAL = new universal();
    CLASS.UNIVERSAL._ref_ = 'UNIVERSAL';
    CLASS.UNIVERSAL.isa = function (List__) {
        return List__[0]._class_._ref_ == List__[1]
    };
    CLASS.UNIVERSAL.can = function (List__) {
        var o = List__[0];
        var s = List__[1];
        if ( s.indexOf('::') == -1 ) {
            return o._class_[s]
        }
        var c = s.split('::');
        s = c.pop(); 
        return CLASS[c.join('::')][s]
    };
    CLASS.UNIVERSAL.DOES = CLASS.UNIVERSAL.can;

    NAMESPACE.UNIVERSAL = new universal();

    var core = function () {};
    CLASS.CORE = new core();
    CLASS.CORE._ref_ = 'CORE';

    NAMESPACE.CORE = new core();
}

function make_package(pkg_name) {
    if (!CLASS.hasOwnProperty(pkg_name)) {
        var tmp = function () {};
        tmp.prototype = CLASS.UNIVERSAL;
        CLASS[pkg_name] = new tmp();
        CLASS[pkg_name]._ref_ = pkg_name;
        CLASS[pkg_name]._class_ = CLASS[pkg_name];  // XXX memory leak

        var tmp = function () {};
        tmp.prototype = NAMESPACE.CORE;
        NAMESPACE[pkg_name] = new tmp();
    }
}

function make_sub(pkg_name, sub_name, func) {
    NAMESPACE[pkg_name][sub_name] = CLASS[pkg_name][sub_name] = func;
}

if (typeof arguments === 'object') {
    List_ARGV = arguments;
}

function HashRef(o) {
    this._hash_ = o;
    this._ref_ = 'HASH';
    this.bool = function() { return 1 };
}

function ArrayRef(o) {
    this._array_ = o;
    this._ref_ = 'ARRAY';
    this.bool = function() { return 1 };
}

function ScalarRef(o) {
    this._scalar_ = o;
    this._ref_ = 'SCALAR';
    this.bool = function() { return 1 };
}

make_package('IO');
make_package('Perlito5::Runtime');
make_package('Perlito5::Grammar');

make_sub('IO', 'slurp', function(List__) {
    var filename = List__[0];
    if (typeof readFile == 'function') {
        return readFile(filename);
    }
    if (typeof read == 'function') {
        // v8
        return read(filename);
    }
    CLASS.CORE.die(["IO.slurp() not implemented"]);
});

interpolate_array = function() {
    var res = [];
    for (i = 0; i < arguments.length; i++) {
        var o = arguments[i];
        if  (  o == null
            || o._class_    // perl5 blessed reference
            || o._ref_      // perl5 un-blessed reference
            )
        {
            res.push(o);
        }
        else if (o instanceof Array) {
            // perl5 array
            for (j = 0; j < o.length; j++) {
                res.push(o[j]);
            }
        }
        else if (typeof o === 'object') {
            // perl5 hash
            for(var j in o) {
                if (o.hasOwnProperty(j)) {
                    res.push(j);
                    res.push(o[j]);
                }
            }
        }
        else {
            // non-ref
            res.push(o);
        }
    }
    return res;
};

array_to_hash = function(a) {
    var res = {};
    for (i = 0; i < a.length; i+=2) {
        res[string(a[i])] = a[i+1];
    }
    return res;
};

string = function(o) {
    if (o == null) {
        return "";
    }
    if (typeof o === 'object' && (o instanceof Array)) {
        var out = [];
        for (var i = 0; i < o.length; i++) {
            out.push(string(o[i]));
        }
        return out.join(" ");
    }
    if (typeof o.string === 'function') {
        return o.string();
    }
    if (typeof o !== 'string') {
        return "" + o;
    }
    return o;
};

num = function(o) {
    if (o == null) {
        return 0;
    }
    if (typeof o === 'object' && (o instanceof Array)) {
        return o.length;
    }
    if (typeof o.num === 'function') {
        return o.num();
    }
    if (typeof o !== 'number') {
        return parseFloat(string(o));
    }
    return o;
};

add = function(o1, o2) {
    return num(o1) + num(o2)
};

bool = function(o) {
    if (o == null) {
        return o;
    }
    if (typeof o === 'boolean') {
        return o;
    }
    if (typeof o === 'number') {
        return o;
    }
    if (typeof o === 'string') {
        return o != '' && o != '0';
    }
    if (typeof o.bool === 'function') {
        return o.bool();
    }
    if (typeof o.length === 'number') {
        return o.length;
    }
    for (var i in o) {
        return true;
    }
    return false;
};

and = function(a, fb) {
    if (bool(a)) {
        return fb();
    }
    return a;
};

or = function(a, fb) {
    if (bool(a)) {
        return a;
    }
    return fb();
};

defined_or = function(a, fb) {
    if (a == null) {
        return fb();
    }
    return a;
};

str_replicate = function(o, n) {
    n = num(n);
    return n ? Array(n + 1).join(o) : "";
};

make_sub('Perlito5::Grammar', 'word', function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str: v_str,
            from: v_pos,
            to: v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\w/) != null,
        }),
        CLASS['Perlito5::Match']
    ]);
});

make_sub('Perlito5::Grammar', 'digit', function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str:  v_str,
            from: v_pos,
            to:   v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\d/) != null,
        }),
        CLASS['Perlito5::Match']
    ]);
});

make_sub('Perlito5::Grammar', 'space', function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str:  v_str,
            from: v_pos,
            to:   v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\s/) != null,
        }),
        CLASS['Perlito5::Match']
    ]);
});

function perl5_to_js( source ) {
    // say( "source: [" + source + "]" );
    match = CLASS['Perlito5::Grammar'].exp_stmts([CLASS['Perlito5::Grammar'], source, 0]);

    ast = NAMESPACE.CORE.bless([
        new HashRef({
            block:  NAMESPACE.CORE.bless([
                        new HashRef({
                            stmts:   match._class_.flat([match]),
                        }),
                        CLASS['Perlito5::AST::Lit::Block']
                    ]),
        }),
        CLASS['Perlito5::AST::Do']
    ]);

    // CORE.say( "ast: [" + perl(ast) + "]" );
    js_code = ast._class_.emit_javascript([ast]);
    // CORE.say( "js-source: [" + js_code + "]" );
    return js_code;
}


//
// lib/Perlito5/Javascript/CORE.js
//
// CORE functions for "Perlito" Perl5-in-Javascript
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var CORE = NAMESPACE.CORE;

var _print_buf = "";
CORE.print = function(List__) {
    var i;
    for (i = 0; i < List__.length; i++) {
        var s = string(List__[i]);
        if (s.substr(s.length - 2, 2) == "\n") {
            print(_print_buf + s.substr(0, s.length - 2));
            _print_buf = "";
        }
        else if (s.substr(s.length - 1, 1) == "\n") {
            print(_print_buf + s.substr(0, s.length - 1));
            _print_buf = "";
        }
        else {
            _print_buf = _print_buf + s;
        }
    }
    return true;
};

CORE.say = function(List__) {
    CORE.print(List__);
    return CORE.print(["\n"]);
};

CORE.die = function(List__) {
    var i;
    var s = '';
    for (i = 0; i < List__.length; i++) {
        s = s + string(List__[i]);
    }
    throw(new Error("Died: " + s));
};

CORE.warn = function(List__) {
    var i;
    var s = '';
    for (i = 0; i < List__.length; i++) {
        s = s + string(List__[i]);
    }
    CORE.print(["Warning: " + s + "\n"]);
};

CORE.bless = function(List__) {
    var o        = List__[0];
    var pkg_name = List__[1];
    if (typeof pkg_name === 'object') {
        // bless {}, Class
        o._class_ = pkg_name;
        return o;
    }
    if (!CLASS.hasOwnProperty(pkg_name)) {
        make_package(pkg_name);
    }
    o._class_ = CLASS[pkg_name];
    return o;
};

CORE.chr = function(List__) {
    return String.fromCharCode(num(List__[0]));
};

CORE.ord = function(List__) {
    return string(List__[0]).charCodeAt(0);
};

CORE.substr = function(List__) {
    var expr        = List__[0];
    var offset      = List__[1];
    var length      = List__[2];
    var replacement = List__[3];
    return string(expr).substr(offset, length);
};

CORE.scalar = function(List__) {
    var o = List__[0];
    if (o == null) {
        return 1;
    };
    if (typeof o.scalar === 'function') {
        return o.scalar();
    }
    if (typeof o === 'object' && (o instanceof Array)) {
        return o.length;
    }
    switch (typeof o) {
        case "string": return 1;
        case "function": return 1;
        case "number": return 1;
        case "boolean": return 1;
    }
    var l = 0;
    for (var i in o) {
        l++;
    }
    return l;
};

CORE.values = function(List__) {
    var o = List__[0];
    if (o == null) {
        return [];
    };
    if (typeof o.values === 'function') {
        return o.values();
    }
    var out = [];
    for (var i in o) {
        out.push(o[i]);
    }
    return out;
};

CORE.keys = function(List__) {
    var o = List__[0];
    if (o == null) {
        return [];
    }
    if (typeof o.keys === 'function') {
        return o.keys();
    }
    var out = [];
    for (var i in o) {
        out.push(i);
    }
    return out;
};

CORE.pop = function(List__) {
    var o = List__[0];
    if (o.length == null) {
        return null;
    }
    return o.pop();
};

CORE.shift = function(List__) {
    var o = List__[0];
    if (o.length == null) {
        return null;
    }
    return o.shift();
};

CORE.push = function(List__) {
    var o = List__[0];
    var v = List__[1];
    return o.push(v);
};

CORE.unshift = function(List__) {
    var o = List__[0];
    var v = List__[1];
    return o.unshift(v);
};

CORE.join = function(List__) {
    var s = List__[0];
    var o = List__[1];
    return o.join(s);
};

CORE.index = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        return o.indexOf(s);
    }
    catch(err) {
        return -1;
    }
};

CORE.length = function(List__) {
    var o = List__[0];
    if (typeof o.string === 'function') {
        return o.string().length;
    }
    return o.length;
};

CORE.ref = function(List__) {
    var o = List__[0];
    if (o == null) {
        return '';
    }
    if (o._class_ && typeof o._class_._ref_ === 'string') {
        // blessed reference
        return o._class_._ref_;
    }
    if (typeof o._ref_ === 'string') {
        // un-blessed reference
        return o._ref_;
    }
    if (typeof o === 'function') {
        return 'CODE';
    }
    return '';
};


make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5");
(function () {
  var __PACKAGE__ = "Perlito5";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "compile_p5_to_js", function (List__) {
			try {
				var v_s = null;

				var v_ast = null;

				(v_s = PKG.shift([List__]));
				(v_ast = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_s,0]));
				return(CLASS["Perlito5::AST::CompUnit"]._class_.new([CLASS["Perlito5::AST::CompUnit"],'name', 'main','body', v_ast._class_.flat([v_ast])])._class_.emit_javascript([CLASS["Perlito5::AST::CompUnit"]._class_.new([CLASS["Perlito5::AST::CompUnit"],'name', 'main','body', v_ast._class_.flat([v_ast])])]));;
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
			// use v5
;
make_package("Perlito5::Match");
(function () {
  var __PACKAGE__ = "Perlito5::Match";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "from", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['from']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "to", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['to']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "str", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['str']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "bool", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['bool']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "capture", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['capture']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "flat", function (List__) {
					try {
						var v_self = null;

						(v_self = List__[0]);
						if ( bool((v_self || (v_self = new HashRef({})))._hash_['bool']) ) { return (function () {
							if ( bool(((v_self || (v_self = new HashRef({})))._hash_['capture'] != null)) ) { (function () {
								throw((v_self || (v_self = new HashRef({})))._hash_['capture']);;
							})(); };
							throw(PKG.substr([(v_self || (v_self = new HashRef({})))._hash_['str'], (v_self || (v_self = new HashRef({})))._hash_['from'], (((v_self || (v_self = new HashRef({})))._hash_['to'] - (v_self || (v_self = new HashRef({})))._hash_['from']))]));
						})(); }
						else { return (function () {
							throw('');
						})(); };;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
})()
;
		// use Perlito5::Match
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
			// use v5
;
make_package("Perlito5::AST::CompUnit");
(function () {
  var __PACKAGE__ = "Perlito5::AST::CompUnit";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "name", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "body", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Val::Int");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Int";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "int", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['int']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Val::Num");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Num";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "num", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['num']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Val::Buf");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Buf";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "buf", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['buf']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Lit::Block");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Lit::Block";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "sig", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['sig']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "stmts", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['stmts']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Index");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Index";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "obj", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['obj']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "index_exp", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['index_exp']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Lookup");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Lookup";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "obj", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['obj']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "index_exp", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['index_exp']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Var");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Var";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "sigil", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['sigil']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "namespace", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['namespace']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "name", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Proto");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Proto";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "name", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Call");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Call";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "invocant", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['invocant']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "method", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['method']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "arguments", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['arguments']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Apply");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Apply";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "code", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['code']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "arguments", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['arguments']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "namespace", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['namespace']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::If");
(function () {
  var __PACKAGE__ = "Perlito5::AST::If";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "cond", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "body", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "otherwise", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['otherwise']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::While");
(function () {
  var __PACKAGE__ = "Perlito5::AST::While";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "init", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['init']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "cond", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "continue", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['continue']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "body", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::For");
(function () {
  var __PACKAGE__ = "Perlito5::AST::For";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "cond", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "body", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Decl");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Decl";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "decl", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['decl']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "type", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['type']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "var", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['var']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Sig");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Sig";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "invocant", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['invocant']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "positional", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['positional']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "named", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['named']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Sub");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Sub";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "name", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "sig", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['sig']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "block", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Do");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Do";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "block", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
make_package("Perlito5::AST::Use");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Use";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "mod", function (List__) {
					try {
						return((List__[0] || (List__[0] = new HashRef({})))._hash_['mod']);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
})()
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
			// use v5
;
			// use Perlito5::AST
;
make_package("Javascript");
(function () {
  var __PACKAGE__ = "Javascript";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
					var Hash_safe_char = {};

make_sub(__PACKAGE__, "tab", function (List__) {
						try {
							var v_level = null;

							(v_level = PKG.shift([List__]));
							return(str_replicate((String.fromCharCode(9)), v_level));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					(Hash_safe_char = array_to_hash(interpolate_array('$', 1, '%', 1, '@', 1, '&', 1, '_', 1, ',', 1, '.', 1, ':', 1, ';', 1, '-', 1, '+', 1, '*', 1, ' ', 1, '(', 1, ')', 1, '<', 1, '=', 1, '>', 1, '[', 1, ']', 1, '{', 1, '|', 1, '}', 1)));
make_sub(__PACKAGE__, "escape_string", function (List__) {
						try {
							var v_s = null;

							var List_out = [];

							var v_tmp = null;

							(v_s = PKG.shift([List__]));
							(v_tmp = '');
							if ( bool((v_s == '')) ) { (function () {
								throw((String.fromCharCode(39) + String.fromCharCode(39)));;
							})(); };
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_i) {
								var v_c = null;

								(v_c = PKG.substr([v_s, v_i, 1]));
								if ( bool(or(or(or((and((v_c >= 'a'), function () { return (v_c <= 'z'); })), function () { return (and((v_c >= 'A'), function () { return (v_c <= 'Z'); })); }), function () { return (and((v_c >= '0'), function () { return (v_c <= '9'); })); }), function () { return (Hash_safe_char).hasOwnProperty(v_c); })) ) { (function () {
									(v_tmp = (string(v_tmp) + string(v_c)));;
								})(); }
								else { (function () {
									if ( bool((v_tmp != '')) ) { (function () {
										PKG.push([List_out, (String.fromCharCode(39) + string(v_tmp) + String.fromCharCode(39))]);;
									})(); };
									PKG.push([List_out, ('String.fromCharCode(' + string(PKG.ord([v_c])) + string((')')))]);
									(v_tmp = '');;
								})(); };; })(a_[i_]) } })(interpolate_array((function (a) { for (var i=0, l=(PKG.length([v_s]) - 1); i<=l; ++i){ a.push(i) }; return a })([])));
							if ( bool((v_tmp != '')) ) { (function () {
								PKG.push([List_out, (String.fromCharCode(39) + string(v_tmp) + String.fromCharCode(39))]);;
							})(); };
							throw(PKG.join([' + ', List_out]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "to_str", function (List__) {
						try {
							var v_cond = null;

							(v_cond = PKG.shift([List__]));
							if ( bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Buf'])) ) { return (function () {
								throw(v_cond._class_.emit_javascript([v_cond]));
							})(); }
							else { return (function () {
								throw(('string(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
							})(); };;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "to_num", function (List__) {
						try {
							var v_cond = null;

							(v_cond = PKG.shift([List__]));
							if ( bool(or(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Int']), function () { return v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Num']); })) ) { return (function () {
								throw(v_cond._class_.emit_javascript([v_cond]));
							})(); }
							else { return (function () {
								throw(('num(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
							})(); };;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "to_bool", function (List__) {
						try {
							var v_cond = null;

							(v_cond = PKG.shift([List__]));
							if ( bool(and(and(and(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply']), function () { return (v_cond._class_.code([v_cond]) == 'circumfix:<( )>'); }), function () { return (v_cond || (v_cond = new HashRef({})))._hash_[('arguments')]; }), function () { return ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_; })) ) { (function () {
								throw(PKG.to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]]));;
							})(); };
							if ( bool(or(or((v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Int'])), function () { return (v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Num'])); }), function () { return (and(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply']), function () { return (v_cond._class_.code([v_cond]) == 'prefix:<' + String.fromCharCode(33) + '>'); })); })) ) { return (function () {
								throw(v_cond._class_.emit_javascript([v_cond]));
							})(); }
							else { return (function () {
								throw(('bool(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
							})(); };;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "to_list", function (List__) {
						try {
							var v_items = null;

							(v_items = PKG.to_list_preprocess([List__[0]]));
							return(( bool((v_items || (v_items = new ArrayRef([])))._array_) ? ('interpolate_array(' + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })((v_items || (v_items = new ArrayRef([])))._array_)])) + ')') : '[]'));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "to_list_preprocess", function (List__) {
	try {
		var List_items = [];

		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_item) {
			if ( bool(and(v_item._class_.isa([v_item,'Perlito5::AST::Apply']), function () { return (or((v_item._class_.code([v_item]) == 'circumfix:<( )>'), function () { return (v_item._class_.code([v_item]) == 'list:<,>'); })); })) ) { (function () {
				(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_arg) {
					PKG.push([List_items, v_arg]);; })(a_[i_]) } })(interpolate_array((PKG.to_list_preprocess([v_item._class_.arguments([v_item])]) || (PKG.to_list_preprocess([v_item._class_.arguments([v_item])]) = new ArrayRef([])))._array_));;
			})(); }
			else { (function () {
				if ( bool(and(v_item._class_.isa([v_item,'Perlito5::AST::Apply']), function () { return (v_item._class_.code([v_item]) == 'infix:<=>>'); })) ) { (function () {
					PKG.push([List_items, (v_item._class_.arguments([v_item]) || (v_item._class_.arguments([v_item]) = new ArrayRef([])))._array_[0]]);
					PKG.push([List_items, (v_item._class_.arguments([v_item]) || (v_item._class_.arguments([v_item]) = new ArrayRef([])))._array_[1]]);;
				})(); }
				else { (function () {
					PKG.push([List_items, v_item]);;
				})(); };;
			})(); };; })(a_[i_]) } })(interpolate_array((List__[0] || (List__[0] = new ArrayRef([])))._array_));
		throw((new ArrayRef(List_items)));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::Javascript::LexicalBlock");
(function () {
  var __PACKAGE__ = "Perlito5::Javascript::LexicalBlock";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "new", function (List__) {
						try {
							var v_class = null;

							(v_class = PKG.shift([List__]));
							return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "block", function (List__) {
						try {
							return((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "needs_return", function (List__) {
						try {
							return((List__[0] || (List__[0] = new HashRef({})))._hash_['needs_return']);;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "top_level", function (List__) {
						try {
							return((List__[0] || (List__[0] = new HashRef({})))._hash_['top_level']);;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var List_block = [];

		var List_str = [];

		var v_last_statement = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		if ( bool((v_self || (v_self = new HashRef({})))._hash_[('top_level')]) ) { (function () {
			var v_block = null;

			(v_block = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_self._class_.block([v_self]),'needs_return', v_self._class_.needs_return([v_self]),'top_level', 0]));
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + 'try {' + string((String.fromCharCode(10))) + string(v_block._class_.emit_javascript_indented([v_block,add(v_level, 1)])) + ';' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + 'catch(err) {' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 1)])) + 'if ( err instanceof Error ) {' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 2)])) + 'throw(err);' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 1)])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 1)])) + 'else {' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 2)])) + 'return(err);' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([add(v_level, 1)])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '}'));;
		})(); };
		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
			if ( bool((v__ != null)) ) { (function () {
				PKG.push([List_block, v__]);;
			})(); };; })(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('block')] || ((v_self || (v_self = new HashRef({})))._hash_[('block')] = new ArrayRef([])))._array_));
		if ( !( bool(List_block)) ) { (function () {
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + 'null;'));;
		})(); };
		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
			if ( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl']), function () { return (v_decl._class_.decl([v_decl]) == 'my'); })) ) { (function () {
				PKG.push([List_str, (string(NAMESPACE["Javascript"].tab([v_level])) + string(v_decl._class_.emit_javascript_init([v_decl])))]);;
			})(); };
			if ( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Apply']), function () { return (v_decl._class_.code([v_decl]) == 'infix:<=>'); })) ) { (function () {
				var v_var = null;

				(v_var = (v_decl._class_.arguments([v_decl]) || (v_decl._class_.arguments([v_decl]) = new ArrayRef([])))._array_[0]);
				if ( bool(and(v_var._class_.isa([v_var,'Perlito5::AST::Decl']), function () { return (v_var._class_.decl([v_var]) == 'my'); })) ) { (function () {
					PKG.push([List_str, (string(NAMESPACE["Javascript"].tab([v_level])) + string(v_var._class_.emit_javascript_init([v_var])))]);;
				})(); };;
			})(); };; })(a_[i_]) } })(interpolate_array(List_block));
		if ( bool((v_self || (v_self = new HashRef({})))._hash_[('needs_return')]) ) { (function () {
			(v_last_statement = PKG.pop([List_block]));;
		})(); };
		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
			if ( !( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl']), function () { return (v_decl._class_.decl([v_decl]) == 'my'); }))) ) { (function () {
				PKG.push([List_str, (string(v_decl._class_.emit_javascript_indented([v_decl,v_level])) + ';')]);;
			})(); };; })(a_[i_]) } })(interpolate_array(List_block));
		if ( bool(and((v_self || (v_self = new HashRef({})))._hash_[('needs_return')], function () { return v_last_statement; })) ) { (function () {
			if ( bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::If'])) ) { (function () {
				var v_cond = null;

				var v_body = null;

				var v_otherwise = null;

				(v_cond = v_last_statement._class_.cond([v_last_statement]));
				(v_body = v_last_statement._class_.body([v_last_statement]));
				(v_otherwise = v_last_statement._class_.otherwise([v_last_statement]));
				if ( bool(and(v_cond._class_.isa([v_cond,'Perlito5::AST::Var']), function () { return (v_cond._class_.sigil([v_cond]) == '@'); })) ) { (function () {
					(v_cond = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'prefix:<@>','arguments', (new ArrayRef(interpolate_array(v_cond)))]));;
				})(); };
				(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_body._class_.stmts([v_body]),'needs_return', 1]));
				PKG.push([List_str, (string(NAMESPACE["Javascript"].tab([v_level])) + 'if ( ' + string(NAMESPACE["Javascript"].to_bool([v_cond])) + ' ) { return (function () {' + string((String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})(); }')]);
				if ( bool(v_otherwise) ) { (function () {
					(v_otherwise = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_otherwise._class_.stmts([v_otherwise]),'needs_return', 1]));
					PKG.push([List_str, (string(NAMESPACE["Javascript"].tab([v_level])) + 'else { return (function () {' + string((String.fromCharCode(10))) + string(v_otherwise._class_.emit_javascript_indented([v_otherwise,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})(); }')]);;
				})(); };;
			})(); }
			else { (function () {
				if ( bool(or(or(and(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::Apply']), function () { return (v_last_statement._class_.code([v_last_statement]) == 'return'); }), function () { return v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::For']); }), function () { return v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::While']); })) ) { (function () {
					PKG.push([List_str, v_last_statement._class_.emit_javascript_indented([v_last_statement,v_level])]);;
				})(); }
				else { (function () {
					PKG.push([List_str, (string(NAMESPACE["Javascript"].tab([v_level])) + 'return(' + string(v_last_statement._class_.emit_javascript([v_last_statement])) + ')')]);;
				})(); };;
			})(); };;
		})(); };
		throw((string(PKG.join([(String.fromCharCode(10)), List_str])) + ';'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::CompUnit");
(function () {
  var __PACKAGE__ = "Perlito5::AST::CompUnit";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							var v_self = null;

							(v_self = List__[0]);
							return(v_self._class_.emit_javascript_indented([v_self,0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
						try {
							var v_self = null;

							var v_level = null;

							var List_body = [];

							var v_i = null;

							var v_class_name = null;

							var v_str = null;

							(v_self = List__[0]);
							(v_level = List__[1]);
							(v_i = 0);
							for ( ; bool((v_i <= PKG.scalar([((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_])));  ) { (function () {
								var v_stmt = null;

								(v_stmt = ((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_[v_i]);
								if ( bool(and((PKG.ref([v_stmt]) == 'Perlito5::AST::Apply'), function () { return (v_stmt._class_.code([v_stmt]) == 'package'); })) ) { (function () {
									var v_name = null;

									var List_stmts = [];

									(v_name = v_stmt._class_.namespace([v_stmt]));
(v_i)++;
									for ( ; bool(and((v_i <= PKG.scalar([((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_])), function () { return !( bool(and((PKG.ref([((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_[v_i]]) == 'Perlito5::AST::Apply'), function () { return (((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_[v_i]._class_.code([((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_[v_i]]) == 'package'); }))); }));  ) { (function () {
										PKG.push([List_stmts, ((v_self || (v_self = new HashRef({})))._hash_[('body')] || ((v_self || (v_self = new HashRef({})))._hash_[('body')] = new ArrayRef([])))._array_[v_i]]);
(v_i)++;; })() };
									PKG.push([List_body, CLASS["Perlito5::AST::CompUnit"]._class_.new([CLASS["Perlito5::AST::CompUnit"],'name', v_name,'body', (new ArrayRef(List_stmts))])]);;
								})(); }
								else { (function () {
									if ( bool((v_stmt != null)) ) { (function () {
										PKG.push([List_body, v_stmt]);;
									})(); };
(v_i)++;;
								})(); };; })() };
							(v_class_name = (v_self || (v_self = new HashRef({})))._hash_[('name')]);
							(v_str = ('make_package(' + String.fromCharCode(34) + string(v_class_name) + String.fromCharCode(34) + ');' + string((String.fromCharCode(10))) + '(function () {' + string((String.fromCharCode(10))) + '  var __PACKAGE__ = ' + String.fromCharCode(34) + string(v_class_name) + String.fromCharCode(34) + ';' + string((String.fromCharCode(10))) + '  var PKG = NAMESPACE[__PACKAGE__];' + string((String.fromCharCode(10)))));
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
								if ( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl']), function () { return ((v_decl._class_.decl([v_decl]) == 'my')); })) ) { (function () {
									(v_str = (string(v_str) + '  ' + string(v_decl._class_.emit_javascript_init([v_decl]))));;
								})(); };
								if ( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Apply']), function () { return (v_decl._class_.code([v_decl]) == 'infix:<=>'); })) ) { (function () {
									var v_var = null;

									(v_var = (v_decl._class_.arguments([v_decl]) || (v_decl._class_.arguments([v_decl]) = new ArrayRef([])))._array_[0]);
									if ( bool(and(v_var._class_.isa([v_var,'Perlito5::AST::Decl']), function () { return (v_var._class_.decl([v_var]) == 'my'); })) ) { (function () {
										(v_str = (string(v_str) + '  ' + string(v_var._class_.emit_javascript_init([v_var]))));;
									})(); };;
								})(); };; })(a_[i_]) } })(interpolate_array(List_body));
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
								if ( bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Sub'])) ) { (function () {
									(v_str = (string(v_str) + string((v_decl)._class_.emit_javascript_indented([(v_decl),add(v_level, 1)])) + string((';' + String.fromCharCode(10)))));;
								})(); };; })(a_[i_]) } })(interpolate_array(List_body));
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
								if ( bool(and(and((v_decl != null), function () { return (!( bool(and(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl']), function () { return (v_decl._class_.decl([v_decl]) == 'my'); })))); }), function () { return (!( bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Sub'])))); })) ) { (function () {
									(v_str = (string(v_str) + string((v_decl)._class_.emit_javascript_indented([(v_decl),add(v_level, 1)])) + string((';' + String.fromCharCode(10)))));;
								})(); };; })(a_[i_]) } })(interpolate_array(List_body));
							return((v_str = (string(v_str) + '}' + ')()' + string((String.fromCharCode(10))))));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_program", function (List__) {
	try {
		var v_comp_units = null;

		var v_str = null;

		(v_comp_units = PKG.shift([List__]));
		(v_str = '');
		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_comp_unit) {
			(v_str = (string(v_str) + string(v_comp_unit._class_.emit_javascript([v_comp_unit])) + string((String.fromCharCode(10)))));; })(a_[i_]) } })(interpolate_array((v_comp_units || (v_comp_units = new ArrayRef([])))._array_));
		throw(v_str);;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Val::Int");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Int";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		return((string(NAMESPACE["Javascript"].tab([v_level])) + string((v_self || (v_self = new HashRef({})))._hash_[('int')])));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Val::Num");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Num";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		return((string(NAMESPACE["Javascript"].tab([v_level])) + string((v_self || (v_self = new HashRef({})))._hash_[('num')])));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Val::Buf");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Val::Buf";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		return((string(NAMESPACE["Javascript"].tab([v_level])) + string(NAMESPACE["Javascript"].escape_string([(v_self || (v_self = new HashRef({})))._hash_[('buf')]]))));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Lit::Block");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Lit::Block";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_sig = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_sig = 'v__');
		if ( bool((v_self || (v_self = new HashRef({})))._hash_[('sig')]) ) { (function () {
			(v_sig = (v_self || (v_self = new HashRef({})))._hash_[('sig')]._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('sig')],add(v_level, 1)]));;
		})(); };
		throw((string(NAMESPACE["Javascript"].tab([v_level])) + string(('(function (' + string(v_sig) + ') ' + '{' + String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('stmts')],'needs_return', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('stmts')],'needs_return', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Index");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Index";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		if ( bool(and((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('obj')],'Perlito5::AST::Var']), function () { return ((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.sigil([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]) == '$'); })) ) { (function () {
			var v_v = null;

			(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '@','namespace', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.namespace([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]),'name', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.name([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])]));
			throw((string(v_v._class_.emit_javascript_indented([v_v,v_level])) + '[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));;
		})(); };
		return((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' || (' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' = new ArrayRef([]))' + ')._array_[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Lookup");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Lookup";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		if ( bool(and((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('obj')],'Perlito5::AST::Var']), function () { return ((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.sigil([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]) == '$'); })) ) { (function () {
			var v_v = null;

			(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '%','namespace', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.namespace([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]),'name', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.name([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])]));
			throw((string(v_v._class_.emit_javascript_indented([v_v,v_level])) + '[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));;
		})(); };
		return((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' || (' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' = new HashRef({}))' + ')._hash_[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Var");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Var";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
					var v_table = null;

					(v_table = (new HashRef(array_to_hash(interpolate_array('$', 'v_', '@', 'List_', '%', 'Hash_', '&', 'Code_')))));
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_ns = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('sigil')] == '*')) ) { (function () {
			var v_ns = null;

			(v_ns = 'PKG');
			if ( bool((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) ) { (function () {
				(v_ns = ('NAMESPACE[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + ']'));;
			})(); };
			throw((string(v_ns) + '[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ']'));;
		})(); };
		(v_ns = '');
		if ( bool((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) ) { (function () {
			(v_ns = ('NAMESPACE[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].'));;
		})(); };
		return((string(v_ns) + string((v_table || (v_table = new HashRef({})))._hash_[(v_self || (v_self = new HashRef({})))._hash_[('sigil')]]) + string((v_self || (v_self = new HashRef({})))._hash_[('name')])));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Proto");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Proto";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		return((string(NAMESPACE["Javascript"].tab([v_level])) + 'CLASS[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ']'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Call");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Call";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_invocant = null;

		var v_meth = null;

		var List_args = [];

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_invocant = (v_self || (v_self = new HashRef({})))._hash_[('invocant')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('invocant')]]));
		(v_meth = (v_self || (v_self = new HashRef({})))._hash_[('method')]);
		if ( bool((v_meth == 'postcircumfix:<[ ]>')) ) { (function () {
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_invocant) + ' || (' + string(v_invocant) + ' = new ArrayRef([]))' + ')._array_[' + string((v_self || (v_self = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ']'));;
		})(); };
		if ( bool((v_meth == 'postcircumfix:<{ }>')) ) { (function () {
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_invocant) + ' || (' + string(v_invocant) + ' = new HashRef({}))' + ')._hash_[' + string((v_self || (v_self = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ']'));;
		})(); };
		if ( bool((v_meth == 'postcircumfix:<( )>')) ) { (function () {
			var List_args = [];

			(List_args = []);
			(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
				PKG.push([List_args, v__._class_.emit_javascript([v__])]);; })(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_invocant) + ')([' + string(PKG.join([',', List_args])) + '])'));;
		})(); };
		(List_args = interpolate_array(v_invocant));
		(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
			PKG.push([List_args, v__._class_.emit_javascript([v__])]);; })(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
		throw((string(NAMESPACE["Javascript"].tab([v_level])) + string(v_invocant) + '._class_.' + string(v_meth) + '([' + string(PKG.join([',', List_args])) + '])'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Apply");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Apply";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
					var Hash_op_infix_js = {};

					(Hash_op_infix_js = array_to_hash(interpolate_array('infix:<->', ' - ', 'infix:<*>', ' * ', 'infix:<' + String.fromCharCode(47) + '>', ' ' + String.fromCharCode(47) + ' ', 'infix:<>>', ' > ', 'infix:<<>', ' < ', 'infix:<>=>', ' >= ', 'infix:<<=>', ' <= ', 'infix:<eq>', ' == ', 'infix:<ne>', ' ' + String.fromCharCode(33) + '= ', 'infix:<le>', ' <= ', 'infix:<ge>', ' >= ', 'infix:<==>', ' == ', 'infix:<' + String.fromCharCode(33) + '=>', ' ' + String.fromCharCode(33) + '= ')));
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
						try {
							var v_self = null;

							var v_level = null;

							var v_apply = null;

							var v_code = null;

							var List_args = [];

							(v_self = PKG.shift([List__]));
							(v_level = PKG.shift([List__]));
							(v_apply = v_self._class_.op_assign([v_self]));
							if ( bool(v_apply) ) { (function () {
								throw(v_apply._class_.emit_javascript_indented([v_apply,v_level]));;
							})(); };
							(v_code = (v_self || (v_self = new HashRef({})))._hash_[('code')]);
							if ( bool(PKG.ref([(v_code != '')])) ) { (function () {
								var List_args = [];

								(List_args = []);
								(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
									PKG.push([List_args, v__._class_.emit_javascript([v__])]);; })(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string((v_self || (v_self = new HashRef({})))._hash_[('code')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('code')]])) + ')(' + string(PKG.join([',', List_args])) + ')'));;
							})(); };
							if ( bool((v_code == 'infix:<=>>')) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)]))));;
							})(); };
							if ( bool((Hash_op_infix_js).hasOwnProperty(v_code)) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(PKG.join([Hash_op_infix_js[v_code], (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'eval')) ) { (function () {
								throw(('eval(perl5_to_js(' + string(NAMESPACE["Javascript"].to_str([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + '))'));;
							})(); };
							if ( bool((v_code == 'undef')) ) { (function () {
								if ( bool(and((v_self || (v_self = new HashRef({})))._hash_[('arguments')], function () { return ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_; })) ) { (function () {
									throw(('(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' = null)'));;
								})(); };
								throw('null');;
							})(); };
							if ( bool((v_code == 'defined')) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(PKG.join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ' ' + String.fromCharCode(33) + '= null)'));;
							})(); };
							if ( bool((v_code == 'shift')) ) { (function () {
								if ( bool(and((v_self || (v_self = new HashRef({})))._hash_[('arguments')], function () { return ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_; })) ) { (function () {
									throw(('PKG.shift([' + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + '])'));;
								})(); };
								throw('PKG.shift([List__])');;
							})(); };
							if ( bool((v_code == 'map')) ) { (function () {
								var v_fun = null;

								var v_list = null;

								(v_fun = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								(v_list = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]);
								throw(('(function (a_) { ' + 'var out = []; ' + 'if ( a_ == null ) { return out; }; ' + 'for(var i = 0; i < a_.length; i++) { ' + 'var v__ = a_[i]; ' + 'out.push(' + string(v_fun._class_.emit_javascript([v_fun])) + ')' + '}; ' + 'return out;' + ' })(' + string(v_list._class_.emit_javascript([v_list])) + ')'));;
							})(); };
							if ( bool((v_code == 'prefix:<' + String.fromCharCode(33) + '>')) ) { (function () {
								throw((String.fromCharCode(33) + '( ' + string(NAMESPACE["Javascript"].to_bool([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ')'));;
							})(); };
							if ( bool((v_code == 'prefix:<$>')) ) { (function () {
								var v_arg = null;

								(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								throw(('(' + string(v_arg._class_.emit_javascript([v_arg])) + ')._scalar_'));;
							})(); };
							if ( bool((v_code == 'prefix:<@>')) ) { (function () {
								var v_arg = null;

								(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_arg._class_.emit_javascript([v_arg])) + ' || (' + string(v_arg._class_.emit_javascript([v_arg])) + ' = new ArrayRef([]))' + ')._array_'));;
							})(); };
							if ( bool((v_code == 'prefix:<%>')) ) { (function () {
								var v_arg = null;

								(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								throw(('(' + string(v_arg._class_.emit_javascript([v_arg])) + ')._hash_'));;
							})(); };
							if ( bool((v_code == 'circumfix:<[ ]>')) ) { (function () {
								throw(('(new ArrayRef(' + string(NAMESPACE["Javascript"].to_list([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + '))'));;
							})(); };
							if ( bool((v_code == 'circumfix:<{ }>')) ) { (function () {
								throw(('(new HashRef(array_to_hash(' + string(NAMESPACE["Javascript"].to_list([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ')))'));;
							})(); };
							if ( bool((v_code == 'prefix:<' + String.fromCharCode(92) + '>')) ) { (function () {
								var v_arg = null;

								(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Var'])) ) { (function () {
									if ( bool((v_arg._class_.sigil([v_arg]) == '@')) ) { (function () {
										throw(('(new ArrayRef(' + string(v_arg._class_.emit_javascript([v_arg])) + '))'));;
									})(); };
									if ( bool((v_arg._class_.sigil([v_arg]) == '%')) ) { (function () {
										throw(('(new HashRef(' + string(v_arg._class_.emit_javascript([v_arg])) + '))'));;
									})(); };
									if ( bool((v_arg._class_.sigil([v_arg]) == '&')) ) { (function () {
										if ( bool((v_arg || (v_arg = new HashRef({})))._hash_[('namespace')]) ) { (function () {
											throw(('NAMESPACE[' + String.fromCharCode(34) + string((v_arg || (v_arg = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].' + string((v_arg || (v_arg = new HashRef({})))._hash_[('name')])));;
										})(); }
										else { (function () {
											throw(('PKG.' + string((v_arg || (v_arg = new HashRef({})))._hash_[('name')])));;
										})(); };;
									})(); };;
								})(); };
								throw(('(new ScalarRef(' + string(v_arg._class_.emit_javascript([v_arg])) + '))'));;
							})(); };
							if ( bool((v_code == 'postfix:<++>')) ) { (function () {
								throw(('(' + string(PKG.join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')++'));;
							})(); };
							if ( bool((v_code == 'postfix:<-->')) ) { (function () {
								throw(('(' + string(PKG.join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')--'));;
							})(); };
							if ( bool((v_code == 'prefix:<++>')) ) { (function () {
								throw(('++(' + string(PKG.join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'prefix:<-->')) ) { (function () {
								throw(('--(' + string(PKG.join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'infix:<x>')) ) { (function () {
								throw(('str_replicate(' + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'list:<.>')) ) { (function () {
								throw(('(' + string(PKG.join([' + ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(NAMESPACE["Javascript"].to_str([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'infix:<+>')) ) { (function () {
								throw(('add' + '(' + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'prefix:<+>')) ) { (function () {
								throw(('(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ')'));;
							})(); };
							if ( bool((v_code == 'infix:<..>')) ) { (function () {
								throw(('(function (a) { ' + 'for (var i=' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', l=' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; ' + 'i<=l; ++i)' + '{ ' + 'a.push(i) ' + '}; ' + 'return a ' + '})([])'));;
							})(); };
							if ( bool(or((v_code == 'infix:<&&>'), function () { return (v_code == 'infix:<and>'); })) ) { (function () {
								throw(('and' + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));;
							})(); };
							if ( bool(or((v_code == 'infix:<||>'), function () { return (v_code == 'infix:<or>'); })) ) { (function () {
								throw(('or' + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));;
							})(); };
							if ( bool((v_code == 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '>')) ) { (function () {
								throw((string(('defined_or')) + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));;
							})(); };
							if ( bool((v_code == 'exists')) ) { (function () {
								var v_arg = null;

								(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
								if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Lookup'])) ) { (function () {
									var v_v = null;

									(v_v = v_arg._class_.obj([v_arg]));
									if ( bool(and(v_v._class_.isa([v_v,'Perlito5::AST::Var']), function () { return (v_v._class_.sigil([v_v]) == '$'); })) ) { (function () {
										(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '%','namespace', v_v._class_.namespace([v_v]),'name', v_v._class_.name([v_v])]));
										throw(('(' + string(v_v._class_.emit_javascript([v_v])) + ').hasOwnProperty(' + string((v_arg._class_.index_exp([v_arg]))._class_.emit_javascript([(v_arg._class_.index_exp([v_arg]))])) + ')'));;
									})(); };
									throw(('(' + string(v_v._class_.emit_javascript([v_v])) + ')._hash_.hasOwnProperty(' + string((v_arg._class_.index_exp([v_arg]))._class_.emit_javascript([(v_arg._class_.index_exp([v_arg]))])) + ')'));;
								})(); };
								if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Call'])) ) { (function () {
									if ( bool((v_arg._class_.method([v_arg]) == 'postcircumfix:<{ }>')) ) { (function () {
										throw(('(' + string(v_arg._class_.invocant([v_arg])._class_.emit_javascript([v_arg._class_.invocant([v_arg])])) + ')._hash_.hasOwnProperty(' + string((v_arg || (v_arg = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_arg || (v_arg = new HashRef({})))._hash_[('arguments')]])) + ')'));;
									})(); };;
								})(); };;
							})(); };
							if ( bool((v_code == 'ternary:<' + String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33) + '>')) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '( ' + string(NAMESPACE["Javascript"].to_bool([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' ' + String.fromCharCode(63) + ' ' + string((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1])._class_.emit_javascript([(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1])])) + ' : ' + string((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[2])._class_.emit_javascript([(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[2])])) + ')'));;
							})(); };
							if ( bool((v_code == 'circumfix:<( )>')) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(PKG.join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));;
							})(); };
							if ( bool((v_code == 'infix:<=>')) ) { (function () {
								throw(PKG.emit_javascript_bind([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0], ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1], v_level]));;
							})(); };
							if ( bool((v_code == 'return')) ) { (function () {
								throw((string(NAMESPACE["Javascript"].tab([v_level])) + 'throw(' + string((( bool(and((v_self || (v_self = new HashRef({})))._hash_[('arguments')], function () { return ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_; })) ? ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]]) : 'null'))) + ')'));;
							})(); };
							if ( bool((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) ) { (function () {
								if ( bool(and(((v_self || (v_self = new HashRef({})))._hash_[('namespace')] == 'JS'), function () { return (v_code == 'inline'); })) ) { (function () {
									if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.isa([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0],'Perlito5::AST::Val::Buf'])) ) { (function () {
										throw((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0] || (((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0] = new HashRef({})))._hash_[('buf')]);;
									})(); }
									else { (function () {
										PKG.die([('JS::inline needs a string constant')]);;
									})(); };;
								})(); };
								(v_code = ('NAMESPACE[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].' + string(v_code)));;
							})(); }
							else { (function () {
								(v_code = ('PKG.' + string(v_code)));;
							})(); };
							(List_args = []);
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
								PKG.push([List_args, v__._class_.emit_javascript([v__])]);; })(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
							return((string(NAMESPACE["Javascript"].tab([v_level])) + string(v_code) + '([' + string(PKG.join([', ', List_args])) + '])'));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_bind", function (List__) {
	try {
		var v_parameters = null;

		var v_arguments = null;

		var v_level = null;

		(v_parameters = PKG.shift([List__]));
		(v_arguments = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		if ( bool(or(and(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Var']), function () { return (v_parameters._class_.sigil([v_parameters]) == '@'); }), function () { return and(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Decl']), function () { return (v_parameters._class_.var([v_parameters])._class_.sigil([v_parameters._class_.var([v_parameters])]) == '@'); }); })) ) { (function () {
			throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_parameters._class_.emit_javascript([v_parameters])) + ' = ' + string(NAMESPACE["Javascript"].to_list([(new ArrayRef(interpolate_array(v_arguments)))])) + ')'));;
		})(); }
		else { (function () {
			if ( bool(or(and(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Var']), function () { return (v_parameters._class_.sigil([v_parameters]) == '%'); }), function () { return and(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Decl']), function () { return (v_parameters._class_.var([v_parameters])._class_.sigil([v_parameters._class_.var([v_parameters])]) == '%'); }); })) ) { (function () {
				throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_parameters._class_.emit_javascript([v_parameters])) + ' = array_to_hash(' + string(NAMESPACE["Javascript"].to_list([(new ArrayRef(interpolate_array(v_arguments)))])) + '))'));;
			})(); };;
		})(); };
		return((string(NAMESPACE["Javascript"].tab([v_level])) + '(' + string(v_parameters._class_.emit_javascript([v_parameters])) + ' = ' + string(v_arguments._class_.emit_javascript([v_arguments])) + ')'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::If");
(function () {
  var __PACKAGE__ = "Perlito5::AST::If";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_cond = null;

		var v_body = null;

		var v_s = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_cond = (v_self || (v_self = new HashRef({})))._hash_[('cond')]);
		(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0]));
		(v_s = (string(NAMESPACE["Javascript"].tab([v_level])) + 'if ( ' + string(NAMESPACE["Javascript"].to_bool([v_cond])) + ' ) { ' + '(function () {' + string((String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})(); }'));
		if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]) || ((v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]) = new ArrayRef([])))._array_) ) { (function () {
			var v_otherwise = null;

			(v_otherwise = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]),'needs_return', 0]));
			(v_s = (string(v_s) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + 'else { ' + '(function () {' + string((String.fromCharCode(10))) + string(v_otherwise._class_.emit_javascript_indented([v_otherwise,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})(); }'));;
		})(); };
		throw(v_s);;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::While");
(function () {
  var __PACKAGE__ = "Perlito5::AST::While";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_body = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0]));
		throw((string(NAMESPACE["Javascript"].tab([v_level])) + 'for ( ' + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('init')]) ? (string((v_self || (v_self = new HashRef({})))._hash_[('init')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('init')]])) + '; ') : '; '))) + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('cond')]) ? (string(NAMESPACE["Javascript"].to_bool([(v_self || (v_self = new HashRef({})))._hash_[('cond')]])) + '; ') : '; '))) + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('continue')]) ? (string((v_self || (v_self = new HashRef({})))._hash_[('continue')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('continue')]])) + ' ') : ' '))) + ') { ' + '(function () {' + string((String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + ' })()' + ' }'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::For");
(function () {
  var __PACKAGE__ = "Perlito5::AST::For";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_cond = null;

		var v_body = null;

		var v_sig = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_cond = NAMESPACE["Javascript"].to_list([(new ArrayRef(interpolate_array((v_self || (v_self = new HashRef({})))._hash_[('cond')])))]));
		(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0]));
		(v_sig = 'v__');
		if ( bool((v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]])) ) { (function () {
			(v_sig = (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]])._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),add(v_level, 1)]));;
		})(); };
		return((string(NAMESPACE["Javascript"].tab([v_level])) + '(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { ' + string(('(function (' + string(v_sig) + ') {' + String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + ' })(a_[i_]) } })' + '(' + string(v_cond) + ')'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Decl");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Decl";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
						try {
							var v_self = null;

							var v_level = null;

							(v_self = PKG.shift([List__]));
							(v_level = PKG.shift([List__]));
							return((string(NAMESPACE["Javascript"].tab([v_level])) + string((v_self || (v_self = new HashRef({})))._hash_[('var')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('var')]]))));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_init", function (List__) {
	try {
		var v_self = null;

		(v_self = PKG.shift([List__]));
		if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('decl')] == 'my')) ) { return (function () {
			var v_str = null;

			(v_str = '');
			(v_str = (string(v_str) + 'var ' + string(((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('var')])])) + ' = '));
			if ( bool((((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.sigil([((v_self || (v_self = new HashRef({})))._hash_[('var')])]) == '%')) ) { (function () {
				(v_str = (string(v_str) + '{};' + string((String.fromCharCode(10)))));;
			})(); }
			else { (function () {
				if ( bool((((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.sigil([((v_self || (v_self = new HashRef({})))._hash_[('var')])]) == '@')) ) { (function () {
					(v_str = (string(v_str) + '[];' + string((String.fromCharCode(10)))));;
				})(); }
				else { (function () {
					(v_str = (string(v_str) + 'null;' + string((String.fromCharCode(10)))));;
				})(); };;
			})(); };
			throw(v_str);
		})(); }
		else { return (function () {
			return(PKG.die([('not implemented: Perlito5::AST::Decl ' + String.fromCharCode(39) + string((v_self || (v_self = new HashRef({})))._hash_[('decl')]) + string((String.fromCharCode(39))))]));
		})(); };;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Sub");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Sub";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_s = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_s = ('function (List__) {' + string((String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('block')],'needs_return', 1,'top_level', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('block')],'needs_return', 1,'top_level', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '}'));
		return((( bool((v_self || (v_self = new HashRef({})))._hash_[('name')]) ? ('make_sub(__PACKAGE__, ' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ', ' + string(v_s) + ')') : v_s)));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Do");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Do";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		var v_block = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		(v_block = v_self._class_.simplify([v_self])._class_.block([v_self._class_.simplify([v_self])]));
		throw((string(NAMESPACE["Javascript"].tab([v_level])) + '(function () {' + string((String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_block,'needs_return', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_block,'needs_return', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Javascript"].tab([v_level])) + '})()'));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
make_package("Perlito5::AST::Use");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Use";
  var PKG = NAMESPACE[__PACKAGE__];
				(function () {
make_sub(__PACKAGE__, "emit_javascript", function (List__) {
						try {
							return(List__[0]._class_.emit_javascript_indented([List__[0],0]));;
						}
						catch(err) {
							if ( err instanceof Error ) {
								throw(err);
							}
							else {
								return(err);
							}
						}
					});
					return(make_sub(__PACKAGE__, "emit_javascript_indented", function (List__) {
	try {
		var v_self = null;

		var v_level = null;

		(v_self = PKG.shift([List__]));
		(v_level = PKG.shift([List__]));
		return((string(NAMESPACE["Javascript"].tab([v_level])) + String.fromCharCode(47) + String.fromCharCode(47) + ' use ' + string((v_self || (v_self = new HashRef({})))._hash_[('mod')]) + string((String.fromCharCode(10)))));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}));
				})();
})()
;
})()
;
		// use Perlito5::Javascript::Emitter
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5::Precedence");
(function () {
  var __PACKAGE__ = "Perlito5::Precedence";
  var PKG = NAMESPACE[__PACKAGE__];
  var v_Operator = null;
  var v_Precedence = null;
  var v_Assoc = null;
  var v_Allow_space_before = null;
  var List_Term_chars = [];
  var List_Term = [];
  var v_End_token = null;
  var v_End_token_chars = null;
  var List_Op = [];
  var List_Op_chars = [];
  var v_prec = null;
make_sub(__PACKAGE__, "new", function (List__) {
					try {
						var v_class = null;

						(v_class = PKG.shift([List__]));
						return(PKG.bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "is_assoc_type", function (List__) {
					try {
						var v_assoc_type = null;

						var v_op_name = null;

						(v_assoc_type = PKG.shift([List__]));
						(v_op_name = PKG.shift([List__]));
						throw(((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc_type] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc_type] = new HashRef({})))._hash_[v_op_name]);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "is_fixity_type", function (List__) {
					try {
						var v_fixity_type = null;

						var v_op_name = null;

						(v_fixity_type = PKG.shift([List__]));
						(v_op_name = PKG.shift([List__]));
						throw(((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity_type] || ((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity_type] = new HashRef({})))._hash_[v_op_name]);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "is_term", function (List__) {
					try {
						var v_token = null;

						(v_token = PKG.shift([List__]));
						return(or((((v_token || (v_token = new ArrayRef([])))._array_[0] == 'term')), function () { return (((v_token || (v_token = new ArrayRef([])))._array_[0] == 'postfix_or_term')); }));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "is_ident_middle", function (List__) {
					try {
						var v_c = null;

						(v_c = PKG.shift([List__]));
						return(or(or((and((v_c >= 'a'), function () { return (v_c <= 'z'); })), function () { return (and((v_c >= '0'), function () { return (v_c <= '9'); })); }), function () { return ((v_c == '_')); }));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "add_term", function (List__) {
					try {
						var v_name = null;

						var v_param = null;

						(v_name = PKG.shift([List__]));
						(v_param = PKG.shift([List__]));
						return(((List_Term[PKG.length([v_name])] || (List_Term[PKG.length([v_name])] = new HashRef({})))._hash_[v_name] = v_param));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "op_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						(v_self = PKG.shift([List__]));
						(v_str = PKG.shift([List__]));
						(v_pos = PKG.shift([List__]));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
							var v_term = null;

							(v_term = PKG.substr([v_str, v_pos, v_len]));
							if ( bool(((v_End_token || (v_End_token = new ArrayRef([])))._array_[v_len])._hash_.hasOwnProperty(v_term)) ) { (function () {
								var v_c1 = null;

								var v_c2 = null;

								(v_c1 = PKG.substr([v_str, (add(v_pos, v_len) - 1), 1]));
								(v_c2 = PKG.substr([v_str, add(v_pos, v_len), 1]));
								if ( !( bool(and(PKG.is_ident_middle([v_c1]), function () { return (or(PKG.is_ident_middle([v_c2]), function () { return (v_c2 == '('); })); }))) ) { (function () {
									throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1,'capture', (new ArrayRef(interpolate_array('end', v_term)))]));;
								})(); };;
							})(); };; })(a_[i_]) } })(interpolate_array((v_End_token_chars || (v_End_token_chars = new ArrayRef([])))._array_));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
							var v_term = null;

							(v_term = PKG.substr([v_str, v_pos, v_len]));
							if ( bool((List_Term[v_len])._hash_.hasOwnProperty(v_term)) ) { (function () {
								var v_m = null;

								(v_m = ((List_Term[v_len] || (List_Term[v_len] = new HashRef({})))._hash_[v_term])([v_str,v_pos]));
								if ( bool((v_m || (v_m = new HashRef({})))._hash_[('bool')]) ) { (function () {
									throw(v_m);;
								})(); };;
							})(); };; })(a_[i_]) } })(interpolate_array(List_Term_chars));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
							var v_op = null;

							(v_op = PKG.substr([v_str, v_pos, v_len]));
							if ( bool((List_Op[v_len])._hash_.hasOwnProperty(v_op)) ) { (function () {
								var v_c1 = null;

								var v_c2 = null;

								(v_c1 = PKG.substr([v_str, (add(v_pos, v_len) - 1), 1]));
								(v_c2 = PKG.substr([v_str, add(v_pos, v_len), 1]));
								if ( !( bool(and(PKG.is_ident_middle([v_c1]), function () { return (or(PKG.is_ident_middle([v_c2]), function () { return (v_c2 == '('); })); }))) ) { (function () {
									throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', add(v_pos, v_len),'bool', 1,'capture', (new ArrayRef(interpolate_array('op', v_op)))]));;
								})(); };;
							})(); };; })(a_[i_]) } })(interpolate_array(List_Op_chars));
						throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'bool', 0]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "add_op", function (List__) {
					try {
						var v_fixity = null;

						var v_name = null;

						var v_precedence = null;

						var v_param = null;

						var v_assoc = null;

						(v_fixity = PKG.shift([List__]));
						(v_name = PKG.shift([List__]));
						(v_precedence = PKG.shift([List__]));
						(v_param = PKG.shift([List__]));
						if ( !( bool((v_param != null))) ) { (function () {
							(v_param = (new HashRef(array_to_hash([]))));;
						})(); };
						(v_assoc = or((v_param || (v_param = new HashRef({})))._hash_['assoc'], function () { return 'left'; }));
						(((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity] || ((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity] = new HashRef({})))._hash_[v_name] = 1);
						((v_Precedence || (v_Precedence = new HashRef({})))._hash_[v_name] = v_precedence);
						(((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc] = new HashRef({})))._hash_[v_name] = 1);
						(((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_[v_fixity] || ((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_[v_fixity] = new HashRef({})))._hash_[v_name] = ( bool((v_param || (v_param = new HashRef({})))._hash_['no_space_before']) ? 0 : 1));
						return(((List_Op[PKG.length([v_name])] || (List_Op[PKG.length([v_name])] = new HashRef({})))._hash_[v_name] = 1));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "precedence_parse", function (List__) {
					try {
						var v_self = null;

						var v_get_token = null;

						var v_reduce = null;

						var v_last_end_token = null;

						var v_last_end_token_chars = null;

						var v_op_stack = null;

						var v_num_stack = null;

						var v_last = null;

						var v_last_has_space = null;

						var v_token = null;

						(v_self = PKG.shift([List__]));
						(v_get_token = (v_self || (v_self = new HashRef({})))._hash_['get_token']);
						(v_reduce = (v_self || (v_self = new HashRef({})))._hash_['reduce']);
						(v_last_end_token = v_End_token);
						(v_last_end_token_chars = v_End_token_chars);
						(v_End_token = (v_self || (v_self = new HashRef({})))._hash_['end_token']);
						(v_End_token_chars = (v_self || (v_self = new HashRef({})))._hash_['end_token_chars']);
						(v_op_stack = (new ArrayRef([])));
						(v_num_stack = (new ArrayRef([])));
						(v_last = (new ArrayRef(interpolate_array('op', '*start*'))));
						(v_last_has_space = 0);
						(v_token = (v_get_token)([]));
						if ( bool((((v_token || (v_token = new ArrayRef([])))._array_[0]) == 'space')) ) { (function () {
							(v_token = (v_get_token)([]));;
						})(); };
						for ( ; bool(and(((v_token != null)), function () { return (((v_token || (v_token = new ArrayRef([])))._array_[0] != 'end')); }));  ) { (function () {
							if ( bool(and((((v_token || (v_token = new ArrayRef([])))._array_[1] == ',')), function () { return (or((((v_last || (v_last = new ArrayRef([])))._array_[1] == '*start*')), function () { return (((v_last || (v_last = new ArrayRef([])))._array_[1] == ',')); })); })) ) { (function () {
								PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('term', null)))]);;
							})(); };
							if ( bool(and(((v_Operator || (v_Operator = new HashRef({})))._hash_['prefix'] || ((v_Operator || (v_Operator = new HashRef({})))._hash_['prefix'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]], function () { return (or((((v_last || (v_last = new ArrayRef([])))._array_[1] == '*start*')), function () { return !( bool(PKG.is_term([v_last]))); })); })) ) { (function () {
								((v_token || (v_token = new ArrayRef([])))._array_[0] = 'prefix');
								PKG.unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);;
							})(); }
							else { (function () {
								if ( bool(and(and((((v_Operator || (v_Operator = new HashRef({})))._hash_['postfix']) || (((v_Operator || (v_Operator = new HashRef({})))._hash_['postfix']) = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]], function () { return PKG.is_term([v_last]); }), function () { return (or(((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_['postfix'] || ((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_['postfix'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]], function () { return !( bool(v_last_has_space)); })); })) ) { (function () {
									var v_pr = null;

									(v_pr = (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]);
									for ( ; bool(and(PKG.scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]), function () { return ((v_pr <= (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]])); }));  ) { (function () {
										(v_reduce)([v_op_stack,v_num_stack]);; })() };
									if ( bool((((v_token || (v_token = new ArrayRef([])))._array_[0]) != 'postfix_or_term')) ) { (function () {
										((v_token || (v_token = new ArrayRef([])))._array_[0] = 'postfix');;
									})(); };
									PKG.unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);;
								})(); }
								else { (function () {
									if ( bool(and(and((((v_token || (v_token = new ArrayRef([])))._array_[1] == 'block')), function () { return PKG.is_term([v_last]); }), function () { return v_last_has_space; })) ) { (function () {
										for ( ; bool(PKG.scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));  ) { (function () {
											(v_reduce)([v_op_stack,v_num_stack]);; })() };
										PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, v_token]);
										(v_End_token = v_last_end_token);
										(v_End_token_chars = v_last_end_token_chars);
										throw(v_num_stack);;
									})(); }
									else { (function () {
										if ( bool(PKG.is_term([v_token])) ) { (function () {
											if ( bool(PKG.is_term([v_last])) ) { (function () {
												PKG.say([(String.fromCharCode(35) + '      last:  '), v_last]);
												PKG.say([(String.fromCharCode(35) + '      token: '), v_token]);
												PKG.say([(String.fromCharCode(35) + '      space: '), v_last_has_space]);
												PKG.die([('Value tokens must be separated by an operator')]);;
											})(); };
											((v_token || (v_token = new ArrayRef([])))._array_[0] = 'term');
											PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, v_token]);;
										})(); }
										else { (function () {
											if ( bool((v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) { (function () {
												var v_pr = null;

												(v_pr = (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]);
												if ( bool(((v_Assoc || (v_Assoc = new HashRef({})))._hash_['right'] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_['right'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) { (function () {
													for ( ; bool(and(PKG.scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]), function () { return ((v_pr < (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]])); }));  ) { (function () {
														(v_reduce)([v_op_stack,v_num_stack]);; })() };;
												})(); }
												else { (function () {
													for ( ; bool(and(PKG.scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]), function () { return ((v_pr <= (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]])); }));  ) { (function () {
														(v_reduce)([v_op_stack,v_num_stack]);; })() };;
												})(); };
												if ( bool(((v_Operator || (v_Operator = new HashRef({})))._hash_['ternary'] || ((v_Operator || (v_Operator = new HashRef({})))._hash_['ternary'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) { (function () {
													((v_token || (v_token = new ArrayRef([])))._array_[0] = 'ternary');;
												})(); }
												else { (function () {
													((v_token || (v_token = new ArrayRef([])))._array_[0] = 'infix');;
												})(); };
												PKG.unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);;
											})(); }
											else { (function () {
												PKG.die([('Unknown token: ' + String.fromCharCode(39)), (v_token || (v_token = new ArrayRef([])))._array_[1], (String.fromCharCode(39))]);;
											})(); };;
										})(); };;
									})(); };;
								})(); };;
							})(); };
							(v_last = v_token);
							(v_token = (v_get_token)([]));
							if ( bool(((v_token || (v_token = new ArrayRef([])))._array_[0] == 'space')) ) { (function () {
								(v_token = (v_get_token)([]));
								(v_last_has_space = 1);;
							})(); }
							else { (function () {
								(v_last_has_space = 0);;
							})(); };; })() };
						if ( bool(and((v_token != null), function () { return (((v_token || (v_token = new ArrayRef([])))._array_[0] != 'end')); })) ) { (function () {
							PKG.die([('Unexpected end token: '), v_token]);;
						})(); };
						for ( ; bool(PKG.scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));  ) { (function () {
							(v_reduce)([v_op_stack,v_num_stack]);; })() };
						(v_End_token = v_last_end_token);
						(v_End_token_chars = v_last_end_token_chars);
						throw(v_num_stack);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				(v_Operator = (new HashRef(array_to_hash([]))));
				(v_Precedence = (new HashRef(array_to_hash([]))));
				(v_Assoc = (new HashRef(array_to_hash([]))));
				(v_Allow_space_before = (new HashRef(array_to_hash([]))));
				(List_Term_chars = interpolate_array(7, 5, 3, 2, 1));
				(List_Term = interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('$', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '@', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '%', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '&', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '*', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '0', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '1', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '2', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '3', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '4', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '5', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '6', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '7', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '8', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '9', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(63), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_ternary([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '(', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_paren([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '[', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_square([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '{', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_curly([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, (String.fromCharCode(39)), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_quote([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(34), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_quote([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(35), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, PKG.chr([9]), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, PKG.chr([10]), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, PKG.chr([12]), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, PKG.chr([13]), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, PKG.chr([32]), function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash(interpolate_array('->', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_arrow([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'my', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'do', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_do([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash(interpolate_array('our', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'sub', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_sub([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'use', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_use([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('state', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('package', function (List__) {
	try {
		return(CLASS["Perlito5::Expression"]._class_.term_package([CLASS["Perlito5::Expression"],List__[0],List__[1]]));;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}))))));
				(List_Op_chars = interpolate_array(3, 2, 1));
				(v_prec = 100);
				PKG.add_op(['postfix', '.( )', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', '.[ ]', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', '.{ }', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', '( )', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', '[ ]', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'funcall', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'funcall_no_params', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'methcall', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'methcall_no_params', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'block', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', 'hash', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['prefix', '++', v_prec]);
				PKG.add_op(['prefix', '--', v_prec]);
				PKG.add_op(['postfix', '++', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				PKG.add_op(['postfix', '--', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '**', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['prefix', String.fromCharCode(92), v_prec]);
				PKG.add_op(['prefix', '+', v_prec]);
				PKG.add_op(['prefix', '-', v_prec]);
				PKG.add_op(['prefix', '$', v_prec]);
				PKG.add_op(['prefix', '&', v_prec]);
				PKG.add_op(['prefix', '*', v_prec]);
				PKG.add_op(['prefix', '@', v_prec]);
				PKG.add_op(['prefix', '%', v_prec]);
				PKG.add_op(['prefix', String.fromCharCode(33), v_prec]);
				PKG.add_op(['prefix', String.fromCharCode(63), v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '*', v_prec]);
				PKG.add_op(['infix', String.fromCharCode(47), v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '+', v_prec]);
				PKG.add_op(['infix', '-', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', 'x', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '.', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '&', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
				PKG.add_op(['prefix', '&', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '|', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
				PKG.add_op(['prefix', '|', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '<=>', v_prec]);
				PKG.add_op(['infix', 'cmp', v_prec]);
				PKG.add_op(['infix', '..', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', 'ne', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', 'eq', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', 'lt', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', 'le', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', 'gt', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', 'ge', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', '<=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', '>=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', '==', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', String.fromCharCode(33) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', '<', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', '>', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				PKG.add_op(['infix', String.fromCharCode(126) + String.fromCharCode(126), v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '&&', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '||', v_prec]);
				PKG.add_op(['infix', String.fromCharCode(47) + String.fromCharCode(47), v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['ternary', String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33), v_prec]);
				PKG.add_op(['ternary', String.fromCharCode(63) + ' :', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '||=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '&&=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '|=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '&=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', String.fromCharCode(47) + String.fromCharCode(47) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '+=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '-=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '*=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', String.fromCharCode(47) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				PKG.add_op(['infix', '.=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['prefix', 'not', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '=>', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['list', ',', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', 'and', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', 'or', v_prec]);
				(v_prec = (v_prec - 1));
				PKG.add_op(['infix', '*start*', v_prec]);
				1;
})()
;
})()
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5::Expression");
(function () {
  var __PACKAGE__ = "Perlito5::Expression";
  var PKG = NAMESPACE[__PACKAGE__];
  var v_reduce_to_ast = null;
  var v_List_end_token = null;
  var v_List_end_token_chars = null;
  var v_Expr_end_token = null;
  var v_Expr_end_token_chars = null;
make_sub(__PACKAGE__, "expand_list", function (List__) {
					try {
						var v_param_list = null;

						(v_param_list = PKG.shift([List__]));
						if ( bool(and((PKG.ref([v_param_list]) == 'Perlito5::AST::Apply'), function () { return (v_param_list._class_.code([v_param_list]) == 'list:<,>'); })) ) { return (function () {
							var v_args = null;

							(v_args = (new ArrayRef([])));
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_v) {
								if ( bool((v_v != null)) ) { (function () {
									PKG.push([(v_args || (v_args = new ArrayRef([])))._array_, v_v]);;
								})(); };; })(a_[i_]) } })(interpolate_array((v_param_list._class_.arguments([v_param_list]) || (v_param_list._class_.arguments([v_param_list]) = new ArrayRef([])))._array_));
							throw(v_args);
						})(); }
						else { return (function () {
							if ( bool((v_param_list == '*undef*')) ) { return (function () {
								throw((new ArrayRef([])));
							})(); }
							else { return (function () {
								throw((new ArrayRef(interpolate_array(v_param_list))));
							})(); };
						})(); };;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "block_or_hash", function (List__) {
					try {
						var v_o = null;

						var v_stmts = null;

						var v_stmt = null;

						(v_o = PKG.shift([List__]));
						if ( bool((v_o._class_.sig([v_o]) != null)) ) { (function () {
							throw(v_o);;
						})(); };
						(v_stmts = v_o._class_.stmts([v_o]));
						if ( bool(or(!( bool((v_stmts != null))), function () { return (PKG.scalar([(v_stmts || (v_stmts = new ArrayRef([])))._array_]) == 0); })) ) { (function () {
							throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef([]))]));;
						})(); };
						if ( bool((PKG.scalar([(v_stmts || (v_stmts = new ArrayRef([])))._array_]) != 1)) ) { (function () {
							throw(v_o);;
						})(); };
						(v_stmt = (v_stmts || (v_stmts = new ArrayRef([])))._array_[0]);
						if ( bool((PKG.ref([v_stmt]) == 'Perlito5::AST::Var')) ) { (function () {
							throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef(interpolate_array(v_stmt)))]));;
						})(); };
						if ( bool((PKG.ref([v_stmt]) != 'Perlito5::AST::Apply')) ) { (function () {
							throw(v_o);;
						})(); };
						if ( bool((v_stmt._class_.code([v_stmt]) == 'infix:<=>>')) ) { (function () {
							throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef(interpolate_array(v_stmt)))]));;
						})(); };
						if ( bool((v_stmt._class_.code([v_stmt]) != 'list:<,>')) ) { (function () {
							throw(v_o);;
						})(); };
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_item) {
							if ( bool(and((PKG.ref([v_item]) == 'Perlito5::AST::Apply'), function () { return (v_item._class_.code([v_item]) == 'infix:<=>>'); })) ) { (function () {
								throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', PKG.expand_list([v_stmt])]));;
							})(); };; })(a_[i_]) } })(interpolate_array((v_stmt._class_.arguments([v_stmt]) || (v_stmt._class_.arguments([v_stmt]) = new ArrayRef([])))._array_));
						throw(v_o);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "pop_term", function (List__) {
					try {
						var v_num_stack = null;

						var v_v = null;

						(v_num_stack = PKG.shift([List__]));
						(v_v = PKG.pop([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]));
						if ( bool((PKG.ref([v_v]) == 'ARRAY')) ) { (function () {
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall_no_params')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', (new ArrayRef([]))]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall_no_params')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', (v_v || (v_v = new ArrayRef([])))._array_[3],'namespace', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall')) ) { (function () {
								var v_param_list = null;

								if ( bool((((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['end_block']) ) { (function () {
									PKG.unshift([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['end_block']]);;
								})(); };
								(v_param_list = PKG.expand_list([(((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['exp']]));
								(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', v_param_list]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall')) ) { (function () {
								var v_param_list = null;

								if ( bool((((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['end_block']) ) { (function () {
									PKG.unshift([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['end_block']]);;
								})(); };
								(v_param_list = PKG.expand_list([(((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['exp']]));
								(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', (v_v || (v_v = new ArrayRef([])))._array_[3],'arguments', v_param_list,'namespace', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '( )')) ) { (function () {
								var v_param_list = null;

								(v_param_list = PKG.expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
								(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<( )>','arguments', v_param_list,'namespace', '']));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '[ ]')) ) { (function () {
								var v_param_list = null;

								(v_param_list = PKG.expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
								(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<[ ]>','arguments', v_param_list,'namespace', '']));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_v || (v_v = new ArrayRef([])))._array_[2],'sig', (v_v || (v_v = new ArrayRef([])))._array_[3]]));
								(v_v = PKG.block_or_hash([v_v]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.( )')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', 'postcircumfix:<( )>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.[ ]')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Index"]._class_.new([CLASS["Perlito5::AST::Index"],'obj', null,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
								throw(v_v);;
							})(); };
							if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.{ }')) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Lookup"]._class_.new([CLASS["Perlito5::AST::Lookup"],'obj', null,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
								throw(v_v);;
							})(); };
							if ( bool(and((PKG.ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'ARRAY'), function () { return (PKG.scalar([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 2); })) ) { (function () {
								(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'pair','arguments', (v_v || (v_v = new ArrayRef([])))._array_[1],'namespace', '']));
								throw(v_v);;
							})(); };
							throw((v_v || (v_v = new ArrayRef([])))._array_[1]);;
						})(); };
						throw(v_v);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "reduce_postfix", function (List__) {
					try {
						var v_op = null;

						var v_value = null;

						var v_v = null;

						(v_op = PKG.shift([List__]));
						(v_value = PKG.shift([List__]));
						(v_v = v_op);
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall_no_params')) ) { (function () {
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', (new ArrayRef([]))]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall_no_params')) ) { (function () {
							PKG.die([('unexpected function call')]);
							PKG.push([(v_v || (v_v = new ArrayRef([])))._array_, v_value]);
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall')) ) { (function () {
							var v_param_list = null;

							(v_param_list = PKG.expand_list([((v_v || (v_v = new ArrayRef([])))._array_[3] || ((v_v || (v_v = new ArrayRef([])))._array_[3] = new HashRef({})))._hash_['exp']]));
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', v_param_list]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall')) ) { (function () {
							PKG.die([('unexpected function call')]);
							PKG.push([(v_v || (v_v = new ArrayRef([])))._array_, v_value]);
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '( )')) ) { (function () {
							var v_param_list = null;

							(v_param_list = PKG.expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
							if ( bool(and((PKG.ref([v_value]) == 'Perlito5::AST::Apply'), function () { return !( bool((v_value._class_.arguments([v_value]) != null))); })) ) { (function () {
								((v_value || (v_value = new HashRef({})))._hash_['arguments'] = v_param_list);
								throw(v_value);;
							})(); };
							if ( bool(and((PKG.ref([v_value]) == 'Perlito5::AST::Call'), function () { return !( bool((v_value._class_.arguments([v_value]) != null))); })) ) { (function () {
								((v_value || (v_value = new HashRef({})))._hash_['arguments'] = v_param_list);
								throw(v_value);;
							})(); };
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<( )>','arguments', v_param_list]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '[ ]')) ) { (function () {
							(v_v = CLASS["Perlito5::AST::Index"]._class_.new([CLASS["Perlito5::AST::Index"],'obj', v_value,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block')) ) { (function () {
							(v_v = CLASS["Perlito5::AST::Lookup"]._class_.new([CLASS["Perlito5::AST::Lookup"],'obj', v_value,'index_exp', (((v_v || (v_v = new ArrayRef([])))._array_[2]) || (((v_v || (v_v = new ArrayRef([])))._array_[2]) = new ArrayRef([])))._array_[0]]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.( )')) ) { (function () {
							var v_param_list = null;

							(v_param_list = PKG.expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<( )>','arguments', v_param_list]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.[ ]')) ) { (function () {
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<[ ]>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
							throw(v_v);;
						})(); };
						if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[1] == '.{ }')) ) { (function () {
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<{ }>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
							throw(v_v);;
						})(); };
						PKG.push([(v_op || (v_op = new ArrayRef([])))._array_, v_value]);
						throw(v_op);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_arrow", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and((and(('->' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(((function () {
	return(and(and(and((and(('(' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((')' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.( )', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]])))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and((and(('[' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.square_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['square_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((']' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.[ ]', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]])))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and((and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.curly_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['curly_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.{ }', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]])))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and((and(('(' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((')' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'methcall', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]), (new HashRef(array_to_hash(interpolate_array('end_block', null, 'exp', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]]), 'terminated', 0))))))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'methcall_no_params', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]])))));
	return(1);
})())));
})()); }));
})()); })));
})()); }));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_sigil", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_sigil([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_sigil'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and((and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.curly_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['curly_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'arguments', (new ArrayRef(interpolate_array((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]])))),'code', ('prefix:<' + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]])) + '>'),'namespace', ''])))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.optional_namespace_before_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.optional_namespace_before_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_name([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_name'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]]),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]),'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_name')]])])))));
	return(1);
})()); })));
})()); }));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_digit", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_num([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_num'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_num')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_num')]])))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_int([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_int'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_int')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_int')]])))));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_ternary", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and((String.fromCharCode(63) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ternary5_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ternary5_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((':' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('op', String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ternary5_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ternary5_parse')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_paren", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and(('(' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((')' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '( )', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_square", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and(('[' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.square_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['square_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((']' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '[ ]', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_curly", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and((and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.exp_stmts'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_declarator", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.declarator([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.declarator'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_type([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.opt_type'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Decl"]._class_.new([CLASS["Perlito5::AST::Decl"],'decl', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.declarator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.declarator')]]),'type', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.opt_type')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.opt_type')]]),'var', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]])])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_sub", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and(('sub' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.sub_def([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.sub_def'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.sub_def')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.sub_def')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_do", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and(('do' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.statement_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['statement_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]])])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_use", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and((and(('use' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.full_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.full_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and((and(('-' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('Perlito5::Grammar.ident')) ) { (function () {
			PKG.push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = new ArrayRef([])))._array_, v_m2]);;
		})(); }
		else { (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = (new ArrayRef(interpolate_array(v_m2))));;
		})(); };
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }));
})()));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.list_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['list_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Use"]._class_.new([CLASS["Perlito5::AST::Use"],'mod', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]])])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_package", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and((and(('package' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 7])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(7, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.full_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.full_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'package','arguments', (new ArrayRef([])),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]])])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_quote", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_buf([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_buf'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_buf')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_buf')]])))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "term_space", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('space', ' '))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "operator", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Precedence"]._class_.op_parse([CLASS["Perlito5::Precedence"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Precedence.op_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Precedence.op_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Precedence.op_parse')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.optional_namespace_before_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.optional_namespace_before_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()), function () { return (and(('=>' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_namespace = null;

	var v_name = null;

	(v_namespace = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]));
	(v_name = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]));
	if ( bool(v_namespace) ) { (function () {
		(v_name = (string(v_namespace) + '::' + string(v_name)));;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', v_name])))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.list_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['list_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'funcall', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('list_parse')]])))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('->' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_namespace = null;

	var v_name = null;

	(v_namespace = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]));
	(v_name = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]));
	if ( bool(v_namespace) ) { (function () {
		(v_name = (string(v_namespace) + '::' + string(v_name)));;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Proto"]._class_.new([CLASS["Perlito5::AST::Proto"],'name', v_name])))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'funcall_no_params', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]])))));
	return(1);
})())));
})()); }));
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('space', ' '))));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "has_newline_after", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and((String.fromCharCode(35) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.is_newline([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.space([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.has_newline_after([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "has_no_comma_or_colon_after", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((',' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and((':' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "list_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						var v_expr = null;

						var v_last_pos = null;

						var v_is_first_token = null;

						var v_lexer_stack = null;

						var v_terminated = null;

						var v_last_token_was_space = null;

						var v_get_token = null;

						var v_prec = null;

						var v_res = null;

						var v_block = null;

						var v_result = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_last_pos = v_pos);
						(v_is_first_token = 1);
						(v_lexer_stack = (new ArrayRef([])));
						(v_terminated = 0);
						(v_last_token_was_space = 1);
						(v_get_token = function (List__) {
	try {
		var v_v = null;

		if ( bool(PKG.scalar([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_])) ) { (function () {
			(v_v = PKG.pop([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_]));
			if ( bool(and(and(v_is_first_token, function () { return (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'op')); }), function () { return !( bool(NAMESPACE["Perlito5::Precedence"].is_fixity_type(['prefix', (v_v || (v_v = new ArrayRef([])))._array_[1]]))); })) ) { (function () {
				((v_v || (v_v = new ArrayRef([])))._array_[0] = 'end');;
			})(); };;
		})(); }
		else { (function () {
			var v_m = null;

			(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
			if ( !( bool(v_m._class_.bool([v_m]))) ) { (function () {
				throw((new ArrayRef(interpolate_array('end', '*end*'))));;
			})(); };
			(v_v = v_m._class_.flat([v_m]));
			if ( bool(and(and(v_is_first_token, function () { return (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'op')); }), function () { return !( bool(NAMESPACE["Perlito5::Precedence"].is_fixity_type(['prefix', (v_v || (v_v = new ArrayRef([])))._array_[1]]))); })) ) { (function () {
				((v_v || (v_v = new ArrayRef([])))._array_[0] = 'end');;
			})(); };
			if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end')) ) { (function () {
				(v_last_pos = v_m._class_.to([v_m]));;
			})(); };;
		})(); };
		if ( bool(and(and(((v_v || (v_v = new ArrayRef([])))._array_[0] == 'postfix_or_term'), function () { return ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block'); }), function () { return v_last_token_was_space; })) ) { (function () {
			if ( bool(v_self._class_.has_newline_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_newline_after([v_self,v_str,v_last_pos])])) ) { (function () {
				(v_terminated = 1);
				PKG.push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);;
			})(); }
			else { (function () {
				if ( bool(v_self._class_.has_no_comma_or_colon_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_no_comma_or_colon_after([v_self,v_str,v_last_pos])])) ) { (function () {
					(v_terminated = 1);
					PKG.push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);;
				})(); };;
			})(); };;
		})(); };
		(v_last_token_was_space = (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'space')));
		(v_is_first_token = 0);
		throw(v_v);;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
});
						(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', v_List_end_token,'end_token_chars', v_List_end_token_chars]));
						(v_res = v_prec._class_.precedence_parse([v_prec]));
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) == 0)) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', '*undef*', 'end_block', null, 'terminated', null))))]));;
						})(); };
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 1)) ) { (function () {
							(v_block = PKG.pop([(v_res || (v_res = new ArrayRef([])))._array_]));
							(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));;
						})(); };
						(v_result = PKG.pop_term([v_res]));
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 0)) ) { (function () {
							(v_block = PKG.pop([(v_res || (v_res = new ArrayRef([])))._array_]));
							(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));;
						})(); };
						throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', v_result, 'end_block', v_block, 'terminated', v_terminated))))]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "circumfix_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						var v_delimiter = null;

						var v_expr = null;

						var v_last_pos = null;

						var v_get_token = null;

						var List_delim_token = [];

						var v_prec = null;

						var v_res = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_delimiter = List__[3]);
						(v_last_pos = v_pos);
						(v_get_token = function (List__) {
	try {
		var v_m = null;

		var v_v = null;

		(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
		if ( !( bool(v_m._class_.bool([v_m]))) ) { (function () {
			PKG.die([('Expected closing delimiter: '), v_delimiter, ' near ', v_last_pos]);;
		})(); };
		(v_v = v_m._class_.flat([v_m]));
		if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end')) ) { (function () {
			(v_last_pos = v_m._class_.to([v_m]));;
		})(); };
		throw(v_v);;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
});
						(List_delim_token[PKG.length([v_delimiter])] = (new HashRef(array_to_hash(interpolate_array(v_delimiter, 1)))));
						(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', (new ArrayRef(List_delim_token)),'end_token_chars', (new ArrayRef(interpolate_array(PKG.length([v_delimiter]))))]));
						(v_res = v_prec._class_.precedence_parse([v_prec]));
						(v_res = PKG.pop_term([v_res]));
						if ( !( bool((v_res != null))) ) { (function () {
							(v_res = '*undef*');;
						})(); };
						throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', v_res]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "ternary5_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,':']));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "curly_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,'}']));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "square_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,']']));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "paren_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,')']));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						var v_expr = null;

						var v_last_pos = null;

						var v_lexer_stack = null;

						var v_terminated = null;

						var v_get_token = null;

						var v_prec = null;

						var v_res = null;

						var v_block = null;

						var v_result = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_last_pos = v_pos);
						(v_lexer_stack = (new ArrayRef([])));
						(v_terminated = 0);
						(v_get_token = function (List__) {
	try {
		var v_v = null;

		if ( bool(PKG.scalar([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_])) ) { (function () {
			(v_v = PKG.pop([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_]));;
		})(); }
		else { (function () {
			var v_m = null;

			(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
			if ( !( bool(v_m._class_.bool([v_m]))) ) { (function () {
				throw((new ArrayRef(interpolate_array('end', '*end*'))));;
			})(); };
			(v_v = v_m._class_.flat([v_m]));
			if ( bool(((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end')) ) { (function () {
				(v_last_pos = v_m._class_.to([v_m]));;
			})(); };;
		})(); };
		if ( bool(or(or(or((and(((v_v || (v_v = new ArrayRef([])))._array_[0] == 'postfix_or_term'), function () { return ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block'); })), function () { return (and(((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term'), function () { return (PKG.ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::Sub'); })); }), function () { return (and(((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term'), function () { return (PKG.ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::Do'); })); }), function () { return (and(((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term'), function () { return (PKG.ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::CompUnit'); })); })) ) { (function () {
			if ( bool(v_self._class_.has_newline_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_newline_after([v_self,v_str,v_last_pos])])) ) { (function () {
				(v_terminated = 1);
				PKG.push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);;
			})(); };;
		})(); };
		throw(v_v);;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
});
						(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', v_Expr_end_token,'end_token_chars', v_Expr_end_token_chars]));
						(v_res = v_prec._class_.precedence_parse([v_prec]));
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) == 0)) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'bool', 0]));;
						})(); };
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 1)) ) { (function () {
							(v_block = PKG.pop([(v_res || (v_res = new ArrayRef([])))._array_]));
							(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));;
						})(); };
						(v_result = PKG.pop_term([v_res]));
						if ( bool((PKG.scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 0)) ) { (function () {
							(v_block = PKG.pop([(v_res || (v_res = new ArrayRef([])))._array_]));
							if ( !( bool((PKG.ref([v_block]) == 'Perlito5::AST::Lit::Block'))) ) { (function () {
								(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));;
							})(); };;
						})(); };
						throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', v_result, 'end_block', v_block, 'terminated', v_terminated))))]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp_stmt", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(or(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.if([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.if'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.if')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.if')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.unless([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.unless'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.unless')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.unless')]]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.when([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.when'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.when')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.when')]]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.for([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.for'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.for')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.for')]]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.while([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.while'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.while')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.while')]]));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "statement_modifier", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(or(or(((function () {
	return(and(('if' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('unless' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 6])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(6, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('when' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('foreach' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 7])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(7, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('for' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('while' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "delimited_statement", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((and((';' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.statement_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['statement_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and((';' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]]));
	return(1);
})()); })));
})()); }));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "statement_parse", function (List__) {
					try {
						var v_self = null;

						var v_str = null;

						var v_pos = null;

						var v_expr = null;

						var v_last_pos = null;

						var v_lexer_stack = null;

						var v_res = null;

						var v_modifier = null;

						var v_modifier_exp = null;

						(v_self = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_last_pos = v_pos);
						(v_lexer_stack = (new ArrayRef([])));
						(v_res = v_self._class_.exp_stmt([v_self,v_str,v_pos]));
						if ( bool(v_res._class_.bool([v_res])) ) { (function () {
							throw(v_res);;
						})(); };
						(v_res = v_self._class_.exp_parse([v_self,v_str,v_pos]));
						if ( !( bool(v_res._class_.bool([v_res]))) ) { (function () {
							throw(v_res);;
						})(); };
						if ( bool((PKG.ref([(v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']]) == 'Perlito5::AST::Lit::Block')) ) { (function () {
							((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'] = CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']]));;
						})(); };
						if ( bool((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['end_block']) ) { (function () {
							PKG.die([('Unexpected block after expression near '), v_pos]);;
						})(); };
						if ( bool((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['terminated']) ) { (function () {
							((v_res || (v_res = new HashRef({})))._hash_[('capture')] = (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']);
							throw(v_res);;
						})(); };
						(v_modifier = v_self._class_.statement_modifier([v_self,v_str,v_res._class_.to([v_res])]));
						if ( !( bool(v_modifier._class_.bool([v_modifier]))) ) { (function () {
							((v_res || (v_res = new HashRef({})))._hash_[('capture')] = (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']);
							throw(v_res);;
						})(); };
						(v_modifier_exp = v_self._class_.exp_parse([v_self,v_str,v_modifier._class_.to([v_modifier])]));
						if ( !( bool(v_modifier_exp._class_.bool([v_modifier_exp]))) ) { (function () {
							PKG.die([('Expected expression after ' + String.fromCharCode(39)), v_modifier._class_.flat([v_modifier]), (String.fromCharCode(39))]);;
						})(); };
						if ( bool((v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['end_block']) ) { (function () {
							PKG.die([('Unexpected block after expression near '), v_modifier._class_.to([v_modifier])]);;
						})(); };
						(v_modifier = v_modifier._class_.flat([v_modifier]));
						if ( bool((v_modifier == 'if')) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))]),'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))])])]));;
						})(); };
						if ( bool((v_modifier == 'unless')) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))]),'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));;
						})(); };
						if ( bool((v_modifier == 'while')) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::While"]._class_.new([CLASS["Perlito5::AST::While"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));;
						})(); };
						if ( bool(or((v_modifier == 'for'), function () { return (v_modifier == 'foreach'); })) ) { (function () {
							throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));;
						})(); };
						return(PKG.die([('Unexpected statement modifier ' + String.fromCharCode(39) + string(v_modifier) + String.fromCharCode(39))]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				// use Perlito5::Precedence
;
				// use Perlito5::Grammar
;
				(v_reduce_to_ast = function (List__) {
	try {
		var v_op_stack = null;

		var v_num_stack = null;

		var v_last_op = null;

		(v_op_stack = PKG.shift([List__]));
		(v_num_stack = PKG.shift([List__]));
		(v_last_op = PKG.shift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));
		if ( bool(((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'prefix')) ) { return (function () {
			return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('prefix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]))))])]));
		})(); }
		else { return (function () {
			if ( bool(((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'postfix')) ) { return (function () {
				return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('postfix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]))))])]));
			})(); }
			else { return (function () {
				if ( bool(((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'postfix_or_term')) ) { return (function () {
					return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, PKG.reduce_postfix([v_last_op, PKG.pop_term([v_num_stack])])]));
				})(); }
				else { return (function () {
					if ( bool(NAMESPACE["Perlito5::Precedence"].is_assoc_type(['list', (v_last_op || (v_last_op = new ArrayRef([])))._array_[1]])) ) { return (function () {
						var v_arg = null;

						if ( bool((PKG.scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2)) ) { (function () {
							var v_v2 = null;

							(v_v2 = PKG.pop_term([v_num_stack]));
							if ( bool(and((PKG.ref([v_v2]) == 'Perlito5::AST::Apply'), function () { return (v_v2._class_.code([v_v2]) == (('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'))); })) ) { (function () {
								PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', v_v2._class_.namespace([v_v2]),'code', v_v2._class_.code([v_v2]),'arguments', (new ArrayRef(interpolate_array((v_v2._class_.arguments([v_v2]) || (v_v2._class_.arguments([v_v2]) = new ArrayRef([])))._array_, null)))])]);;
							})(); }
							else { (function () {
								PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(v_v2, null)))])]);;
							})(); };
							throw(null);;
						})(); }
						else { (function () {
							var v_v2 = null;

							(v_v2 = PKG.pop_term([v_num_stack]));
							(v_arg = (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]), v_v2))));;
						})(); };
						if ( bool(and(and((PKG.ref([(v_arg || (v_arg = new ArrayRef([])))._array_[0]]) == 'Perlito5::AST::Apply'), function () { return ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'infix'); }), function () { return (((v_arg || (v_arg = new ArrayRef([])))._array_[0]._class_.code([(v_arg || (v_arg = new ArrayRef([])))._array_[0]]) == ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'))); })) ) { (function () {
							PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.code([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]),'arguments', (new ArrayRef(interpolate_array((((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.arguments([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]) || (((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.arguments([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]) = new ArrayRef([])))._array_, (v_arg || (v_arg = new ArrayRef([])))._array_[1])))])]);
							throw(null);;
						})(); };
						return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', v_arg])]));
					})(); }
					else { return (function () {
						if ( bool(NAMESPACE["Perlito5::Precedence"].is_assoc_type(['chain', (v_last_op || (v_last_op = new ArrayRef([])))._array_[1]])) ) { return (function () {
							var v_v2 = null;

							var v_arg = null;

							if ( bool((PKG.scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2)) ) { (function () {
								PKG.die([('Missing value after operator ' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]))]);;
							})(); };
							(v_v2 = PKG.pop_term([v_num_stack]));
							(v_arg = (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]), v_v2))));
							return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('infix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', v_arg])]));
						})(); }
						else { return (function () {
							if ( bool(((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'ternary')) ) { return (function () {
								var v_v2 = null;

								if ( bool((PKG.scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2)) ) { (function () {
									PKG.die([('Missing value after ternary operator')]);;
								})(); };
								(v_v2 = PKG.pop_term([v_num_stack]));
								return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('ternary:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]), (v_last_op || (v_last_op = new ArrayRef([])))._array_[2], v_v2)))])]));
							})(); }
							else { return (function () {
								var v_v2 = null;

								if ( bool((PKG.scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2)) ) { (function () {
									PKG.die([('missing value after operator ' + String.fromCharCode(39) + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + string((String.fromCharCode(39))))]);;
								})(); };
								(v_v2 = PKG.pop_term([v_num_stack]));
								return(PKG.push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('infix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(PKG.pop_term([v_num_stack]), v_v2)))])]));
							})(); };
						})(); };
					})(); };
				})(); };
			})(); };
		})(); };;
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
});
				(v_List_end_token = (new ArrayRef(interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array(':', 1, ']', 1, ')', 1, '}', 1, ';', 1)))), (new HashRef(array_to_hash(interpolate_array('or', 1, 'if', 1)))), (new HashRef(array_to_hash(interpolate_array('for', 1, 'and', 1)))), (new HashRef(array_to_hash(interpolate_array('else', 1, 'when', 1)))), (new HashRef(array_to_hash(interpolate_array('while', 1, 'elsif', 1)))), (new HashRef(array_to_hash(interpolate_array('unless', 1)))), (new HashRef(array_to_hash(interpolate_array('foreach', 1))))))));
				(v_List_end_token_chars = (new ArrayRef(interpolate_array(7, 6, 5, 4, 3, 2, 1))));
				(v_Expr_end_token = (new ArrayRef(interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array(']', 1, ')', 1, '}', 1, ';', 1)))), (new HashRef(array_to_hash(interpolate_array('if', 1)))), (new HashRef(array_to_hash(interpolate_array('for', 1)))), (new HashRef(array_to_hash(interpolate_array('else', 1, 'when', 1)))), (new HashRef(array_to_hash(interpolate_array('while', 1, 'elsif', 1)))), (new HashRef(array_to_hash(interpolate_array('unless', 1)))), (new HashRef(array_to_hash(interpolate_array('foreach', 1))))))));
				(v_Expr_end_token_chars = (new ArrayRef(interpolate_array(7, 6, 5, 4, 3, 2, 1))));
				1;
})()
;
})()
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5::Grammar");
(function () {
  var __PACKAGE__ = "Perlito5::Grammar";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "unless", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and(and(and(and((and(('u' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('n' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'unless' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))]),'otherwise', v_body]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "if", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and((and(('i' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('f' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(and(and(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp2([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp2'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_body = null;

	var v_otherwise = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	(v_otherwise = (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]])) = new HashRef({})))._hash_['exp']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);;
	})(); };
	if ( !( bool((v_otherwise != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'else' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', v_otherwise]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.if([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['if'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('if')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('if')]]))))])]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))])]));
	return(1);
})())));
})()); }));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "when", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and(and((and(('w' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('h' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('n' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'when' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["When"]._class_.new([CLASS["When"],'parameters', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "for", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and((and(('f' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('o' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('r' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and(('each' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and(and(and(and(and(and(and(and(and(and(and(and((and(('m' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('y' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('(' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.paren_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.paren_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((')' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.exp_stmts'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.paren_parse')]]),'topic', null,'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]]),'sig', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]])])]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'when' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'topic', null,'body', v_body]));
	return(1);
})()); })));
})()); }));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "while", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and(and(and((and(('w' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('h' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('i' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_body = null;

	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) { (function () {
		PKG.die([('Missing code block in ' + String.fromCharCode(39) + 'while' + String.fromCharCode(39))]);;
	})(); };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::While"]._class_.new([CLASS["Perlito5::AST::While"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
})()
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5::Grammar");
(function () {
  var __PACKAGE__ = "Perlito5::Grammar";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "is_newline", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((and((String.fromCharCode(10) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and((String.fromCharCode(13) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and((String.fromCharCode(13) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and((String.fromCharCode(10) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "not_newline", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.is_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.word([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "full_ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and((and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }));
})()));
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "namespace_before_ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and((and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }));
})()));
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "optional_namespace_before_ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.namespace_before_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['namespace_before_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return (and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('namespace_before_ident')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = 'main');
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = '');
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "pod_begin", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.is_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return (and(('=end' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and((and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "ws", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and((and((String.fromCharCode(35) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((and((String.fromCharCode(10) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and((String.fromCharCode(13) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and((String.fromCharCode(13) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and((String.fromCharCode(10) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); })));
})()); }));
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and((and(('=begin' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 6])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(6, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and(('=for' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((1));
})()); }));
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.space([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())));
})()); }));
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_ws", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_ws2", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_ws3", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "declarator", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(('my' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('state' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp_stmts2", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.exp_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.exp_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp2", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.exp_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.exp_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = 'postcircumfix:<( )>');
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_type", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return(and(('::' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.full_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['full_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('full_ident')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = '');
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "var_sigil", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(or(((function () {
	return(and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('%' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('&' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('*' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "var_name", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.full_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['full_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digit'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "var_ident", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.var_sigil([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['var_sigil'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.optional_namespace_before_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['optional_namespace_before_ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.var_name([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['var_name'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_sigil')]]),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('optional_namespace_before_ident')]]),'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_name')]])]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exponent", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('E' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(('+' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('-' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((1));
})()); }));
})()); }), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "val_num", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and((and(('.' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and((and(('.' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()); }), function () { return ((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()); })));
})()); }));
})()); })));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Num"]._class_.new([CLASS["Perlito5::AST::Val::Num"],'num', v_MATCH._class_.flat([v_MATCH])]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "char_any", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "char_any_single_quote", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and((String.fromCharCode(39) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((String.fromCharCode(39) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
})()));
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "single_quoted_unescape", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(or(((function () {
	return(and(and(and((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(92) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and((String.fromCharCode(39) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(39) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(92) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.char_any_single_quote([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any_single_quote'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_single_quote')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_single_quote')]])) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((1));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "char_any_double_quote", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and((String.fromCharCode(34) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(((function () {
	return(and((String.fromCharCode(34) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return(((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
})()));
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "double_quoted_unescape", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and((and((String.fromCharCode(92) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(or(or(((function () {
	return(and((and(('c' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and((and(('[' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digits([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digits'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((']' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = PKG.chr([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]])]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digits([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digits'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = PKG.chr([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]])]));
	return(1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and(('e' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = PKG.chr([27]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and(('n' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(10)));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and((and(('t' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = PKG.chr([9]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]]));
	return(1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.char_any_double_quote([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any_double_quote'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_double_quote')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_double_quote')]]));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "double_quoted_buf", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and((and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.operator([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.operator'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) = new ArrayRef([])))._array_[1]);
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and(and((and(('$' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '$','name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]])]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]])]));
	return(1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(or(((function () {
	return(and(and(((function () {
	var v_tmp = null;

	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and((and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }));
})()));
})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return(( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.operator([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.operator'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'join','arguments', (new ArrayRef(interpolate_array(CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', ' ']), (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) = new ArrayRef([])))._array_[1])))]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and(and((and(('@' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'join','arguments', (new ArrayRef(interpolate_array(CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', ' ']), (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])) = new ArrayRef([])))._array_[0])))]));
	return(1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]])]));
	return(1);
})()); })));
})()); }));
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.double_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_unescape')]])]));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "val_buf", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and((and((String.fromCharCode(34) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.double_quoted_buf([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('double_quoted_buf')) ) { (function () {
			PKG.push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] = new ArrayRef([])))._array_, v_m2]);;
		})(); }
		else { (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] = (new ArrayRef(interpolate_array(v_m2))));;
		})(); };
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()); }), function () { return (and((String.fromCharCode(34) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_args = null;

	(v_args = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')]);
	if ( !( bool(v_args)) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', '']));;
	})(); }
	else { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'list:<.>','arguments', (new ArrayRef(interpolate_array((function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.capture([v__]))}; return out; })(((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')] = new ArrayRef([])))._array_))))]));;
	})(); };
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((and(and(and((and((String.fromCharCode(39) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((String.fromCharCode(39) == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]])]));
	return(1);
})()); })));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "digits", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "val_int", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	var v_count = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return((v_count > 0));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Int"]._class_.new([CLASS["Perlito5::AST::Val::Int"],'int', v_MATCH._class_.flat([v_MATCH])]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "exp_stmts", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_last_match_null = null;

	var v_last_pos = null;

	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; bool(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.delimited_statement([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('Perlito5::Expression.delimited_statement')) ) { (function () {
			PKG.push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] = new ArrayRef([])))._array_, v_m2]);;
		})(); }
		else { (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] = (new ArrayRef(interpolate_array(v_m2))));;
		})(); };
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((v_last_match_null < 2)); }));  ) { (function () {
		if ( bool((v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')])) ) { (function () {
			(v_last_match_null = add(v_last_match_null, 1));;
		})(); }
		else { (function () {
			(v_last_match_null = 0);;
		})(); };
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);; })() };
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return(1);
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array((function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.capture([v__]))}; return out; })(((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.delimited_statement')] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.delimited_statement')] = new ArrayRef([])))._array_)))));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "opt_name", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	var v_last_pos = null;

	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('ident')) ) { (function () {
			PKG.push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = new ArrayRef([])))._array_, v_m2]);;
		})(); }
		else { (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = (new ArrayRef(interpolate_array(v_m2))));;
		})(); };
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})())) ) { (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);;
	})(); };
	return(1);
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "args_sig", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(((function () {
	var v_m2 = null;

	(v_m2 = CLASS["Perlito5::Expression"]._class_.list_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.list_parse'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sig"]._class_.new([CLASS["Perlito5::AST::Sig"],'positional', NAMESPACE["Perlito5::Expression"].expand_list([((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]]) = new HashRef({})))._hash_['exp']]),'named', (new HashRef(array_to_hash([])))]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "method_sig", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(and(and(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return (and(('(' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.args_sig([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['args_sig'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and((')' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('args_sig')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('args_sig')]]));
	return(1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sig"]._class_.new([CLASS["Perlito5::AST::Sig"],'positional', (new ArrayRef([])),'named', (new HashRef(array_to_hash([])))]));
	return(1);
})())));
})()); }));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "sub_def", function (List__) {
					try {
						var v_grammar = null;

						var v_str = null;

						var v_pos = null;

						var v_MATCH = null;

						(v_grammar = List__[0]);
						(v_str = List__[1]);
						(v_pos = List__[2]);
						(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
						((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(((function () {
	return(and(and(and(and(and(and(and(and(and(((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_name([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['opt_name'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.method_sig([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['method_sig'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return (and(('{' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_m2 = null;

	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return(1);
	})(); }
	else { return (function () {
		return(0);
	})(); };
})()); }), function () { return ((function () {
	var v_pos1 = null;

	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return(or(((function () {
	return(and(('}' == PKG.substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return((((function () {
	PKG.die(['Syntax Error in sub ' + String.fromCharCode(39), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]]), String.fromCharCode(39)]);
	return(1);
})())));
})()); }));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sub"]._class_.new([CLASS["Perlito5::AST::Sub"],'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]]),'sig', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('method_sig')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('method_sig')]]),'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])]));
	return(1);
})()); }));
})()));
})())));
						return(v_MATCH);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				// use Perlito5::Expression
;
				// use Perlito5::Grammar::Control
;
})()
;
})()
;
		// use Perlito5::Grammar
;
		// use Perlito5::Grammar::Control
;
		// use Perlito5::Precedence
;
		// use Perlito5::Expression
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
			// use v5
;
make_package("Perlito5::AST::Apply");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Apply";
  var PKG = NAMESPACE[__PACKAGE__];
  var Hash_op = {};
make_sub(__PACKAGE__, "op_assign", function (List__) {
					try {
						var v_self = null;

						var v_code = null;

						(v_self = List__[0]);
						(v_code = (v_self || (v_self = new HashRef({})))._hash_[('code')]);
						if ( bool(PKG.ref([v_code])) ) { (function () {
							throw(0);;
						})(); };
						if ( bool((Hash_op).hasOwnProperty(v_code)) ) { (function () {
							throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'infix:<=>','arguments', (new ArrayRef(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0], CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', Hash_op[v_code],'arguments', (v_self || (v_self = new HashRef({})))._hash_[('arguments')]]))))]));;
						})(); };
						throw(0);;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				(Hash_op = array_to_hash(interpolate_array('infix:<+=>', 'infix:<+>', 'infix:<-=>', 'infix:<->', 'infix:<*=>', 'infix:<*>', 'infix:<' + String.fromCharCode(47) + '=>', 'infix:<' + String.fromCharCode(47) + '>', 'infix:<||=>', 'infix:<||>', 'infix:<&&=>', 'infix:<&&>', 'infix:<|=>', 'infix:<|>', 'infix:<&=>', 'infix:<&>', 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '=>', 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '>', 'infix:<.=>', 'list:<.>')));
})()
;
make_package("Perlito5::AST::Do");
(function () {
  var __PACKAGE__ = "Perlito5::AST::Do";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "simplify", function (List__) {
					try {
						var v_self = null;

						var v_block = null;

						(v_self = List__[0]);
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('block')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('block')],'Perlito5::AST::Lit::Block'])) ) { (function () {
							(v_block = (v_self || (v_self = new HashRef({})))._hash_[('block')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('block')]]));;
						})(); }
						else { (function () {
							(v_block = (new ArrayRef(interpolate_array((v_self || (v_self = new HashRef({})))._hash_[('block')]))));;
						})(); };
						if ( bool((PKG.scalar([(v_block || (v_block = new ArrayRef([])))._array_]) == 1)) ) { (function () {
							var v_stmt = null;

							(v_stmt = (v_block || (v_block = new ArrayRef([])))._array_[0]);
							if ( bool(and(v_stmt._class_.isa([v_stmt,'Perlito5::AST::Apply']), function () { return (v_stmt._class_.code([v_stmt]) == 'circumfix:<( )>'); })) ) { (function () {
								var v_args = null;

								(v_args = v_stmt._class_.arguments([v_stmt]));
								throw(CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_args || (v_args = new ArrayRef([])))._array_[0]])._class_.simplify([CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_args || (v_args = new ArrayRef([])))._array_[0]])]));;
							})(); };
							if ( bool(v_stmt._class_.isa([v_stmt,'Perlito5::AST::Do'])) ) { (function () {
								throw(v_stmt._class_.simplify([v_stmt]));;
							})(); };;
						})(); };
						throw(CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', v_block]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
})()
;
})()
;
		// use Perlito5::Macro
;
make_package("main");
(function () {
  var __PACKAGE__ = "main";
  var PKG = NAMESPACE[__PACKAGE__];
make_package("Perlito5::Runtime");
(function () {
  var __PACKAGE__ = "Perlito5::Runtime";
  var PKG = NAMESPACE[__PACKAGE__];
make_sub(__PACKAGE__, "_replace", function (List__) {
					try {
						var v_s = null;

						var v_old = null;

						var v_new = null;

						var v_p = null;

						(v_s = PKG.shift([List__]));
						(v_old = PKG.shift([List__]));
						(v_new = PKG.shift([List__]));
						(v_p = PKG.index([v_s, v_old]));
						return(( bool((v_p >= 0)) ? (string(PKG.substr([v_s, 0, v_p])) + string(v_new) + string(PKG._replace([PKG.substr([v_s, add(v_p, PKG.length([v_old]))]), v_old, v_new]))) : v_s));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "lisp_escape_string", function (List__) {
					try {
						var v_s = null;

						(v_s = PKG.shift([List__]));
						return(PKG._replace([v_s, (String.fromCharCode(92)), (String.fromCharCode(92) + String.fromCharCode(92))]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
make_sub(__PACKAGE__, "to_go_namespace", function (List__) {
					try {
						var v_s = null;

						(v_s = PKG.shift([List__]));
						return(PKG._replace([v_s, ('::'), ('__')]));;
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				1;
})()
;
})()
;
		// use Perlito5::Runtime
;
		1;
})()
;
})()

