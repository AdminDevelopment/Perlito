// Do not edit this file - Generated by Perlito5 8.0
//
// lib/Perlito5/Javascript/Runtime.js
//
// Runtime for "Perlito" Perl5-in-Javascript
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

if (typeof NAMESPACE !== "object") {
    NAMESPACE = {};
    CLASS = {};
    LOCAL = [];

    var universal = function () {};
    CLASS.UNIVERSAL = new universal();
    CLASS.UNIVERSAL._ref_ = "UNIVERSAL";
    CLASS.UNIVERSAL.isa = function (List__) {
        return List__[0]._class_._ref_ == List__[1]
    };
    CLASS.UNIVERSAL.can = function (List__) {
        var o = List__[0];
        var s = List__[1];
        if ( s.indexOf("::") == -1 ) {
            return o._class_[s]
        }
        var c = s.split("::");
        s = c.pop(); 
        return CLASS[c.join("::")][s]
    };
    CLASS.UNIVERSAL.DOES = CLASS.UNIVERSAL.can;

    NAMESPACE.UNIVERSAL = new universal();

    var core = function () {};
    CLASS.CORE = new core();
    CLASS.CORE._ref_ = "CORE";

    NAMESPACE.CORE = new core();
}

function make_package(pkg_name) {
    if (!CLASS.hasOwnProperty(pkg_name)) {
        var tmp = function () {};
        tmp.prototype = CLASS.UNIVERSAL;
        CLASS[pkg_name] = new tmp();
        CLASS[pkg_name]._ref_ = pkg_name;
        CLASS[pkg_name]._class_ = CLASS[pkg_name];  // XXX memory leak

        var tmp = function () {};
        tmp.prototype = NAMESPACE.CORE;
        NAMESPACE[pkg_name] = new tmp();
    }
}

make_package("main");

function make_sub(pkg_name, sub_name, func) {
    NAMESPACE[pkg_name][sub_name] = CLASS[pkg_name][sub_name] = func;
}

function set_local(namespace, name, sigil) {
    var v = name;
    if (sigil == "$") {
        v = "v_"+name;
    }
    LOCAL.push([namespace, v, namespace[v]]);
}

function cleanup_local(idx, value) {
    while (LOCAL.length > idx) {
        l = LOCAL.pop();
        l[0][l[1]] = l[2];
    }
    return value;
}

if (typeof arguments === "object") {
    List_ARGV = arguments;
}

function HashRef(o) {
    this._hash_ = o;
    this._ref_ = "HASH";
    this.bool = function() { return 1 };
}

function ArrayRef(o) {
    this._array_ = o;
    this._ref_ = "ARRAY";
    this.bool = function() { return 1 };
}

function ScalarRef(o) {
    this._scalar_ = o;
    this._ref_ = "SCALAR";
    this.bool = function() { return 1 };
}

make_package("Perlito5::IO");
make_package("Perlito5::Runtime");
make_package("Perlito5::Grammar");

make_sub("Perlito5::IO", "slurp", function(List__) {
    var filename = List__[0];
    if (typeof readFile == "function") {
        return readFile(filename);
    }
    if (typeof read == "function") {
        // v8
        return read(filename);
    }
    CLASS.CORE.die(["Perlito5::IO::slurp() not implemented"]);
});

interpolate_array = function() {
    var res = [];
    for (i = 0; i < arguments.length; i++) {
        var o = arguments[i];
        if  (  o == null
            || o._class_    // perl5 blessed reference
            || o._ref_      // perl5 un-blessed reference
            )
        {
            res.push(o);
        }
        else if (o instanceof Array) {
            // perl5 array
            for (j = 0; j < o.length; j++) {
                res.push(o[j]);
            }
        }
        else if (typeof o === "object") {
            // perl5 hash
            for(var j in o) {
                if (o.hasOwnProperty(j)) {
                    res.push(j);
                    res.push(o[j]);
                }
            }
        }
        else {
            // non-ref
            res.push(o);
        }
    }
    return res;
};

array_to_hash = function(a) {
    var res = {};
    for (i = 0; i < a.length; i+=2) {
        res[string(a[i])] = a[i+1];
    }
    return res;
};

string = function(o) {
    if (o == null) {
        return "";
    }
    if (typeof o === "object" && (o instanceof Array)) {
        var out = [];
        for (var i = 0; i < o.length; i++) {
            out.push(string(o[i]));
        }
        return out.join(" ");
    }
    if (typeof o.string === "function") {
        return o.string();
    }
    if (typeof o !== "string") {
        return "" + o;
    }
    return o;
};

num = function(o) {
    if (o == null) {
        return 0;
    }
    if (typeof o === "object" && (o instanceof Array)) {
        return o.length;
    }
    if (typeof o.num === "function") {
        return o.num();
    }
    if (typeof o !== "number") {
        return parseFloat(string(o));
    }
    return o;
};

add = function(o1, o2) {
    return num(o1) + num(o2)
};

bool = function(o) {
    if (o == null) {
        return o;
    }
    if (typeof o === "boolean") {
        return o;
    }
    if (typeof o === "number") {
        return o;
    }
    if (typeof o === "string") {
        return o != "" && o != "0";
    }
    if (typeof o.bool === "function") {
        return o.bool();
    }
    if (typeof o.length === "number") {
        return o.length;
    }
    for (var i in o) {
        return true;
    }
    return false;
};

and = function(a, fb) {
    if (bool(a)) {
        return fb();
    }
    return a;
};

or = function(a, fb) {
    if (bool(a)) {
        return a;
    }
    return fb();
};

defined_or = function(a, fb) {
    if (a == null) {
        return fb();
    }
    return a;
};

str_replicate = function(o, n) {
    n = num(n);
    return n ? Array(n + 1).join(o) : "";
};

make_sub("Perlito5::Grammar", "word", function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str: v_str,
            from: v_pos,
            to: v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\w/) != null,
        }),
        CLASS["Perlito5::Match"]
    ]);
});

make_sub("Perlito5::Grammar", "digit", function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str:  v_str,
            from: v_pos,
            to:   v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\d/) != null,
        }),
        CLASS["Perlito5::Match"]
    ]);
});

make_sub("Perlito5::Grammar", "space", function(List__) {
    var v_grammar = List__[0];
    var v_str     = List__[1];
    var v_pos     = List__[2];
    return NAMESPACE.CORE.bless([
        new HashRef({
            str:  v_str,
            from: v_pos,
            to:   v_pos + 1,
            bool: v_str.substr(v_pos, 1).match(/\s/) != null,
        }),
        CLASS["Perlito5::Match"]
    ]);
});

function perl5_to_js( source, namespace ) {
    // say( "source: [" + source + "]" );

    var namespace_old = NAMESPACE["Perlito5::Javascript"].v_PKG_NAME;
    NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = namespace;

    match = CLASS["Perlito5::Grammar"].exp_stmts([CLASS["Perlito5::Grammar"], source, 0]);

    ast = NAMESPACE.CORE.bless([
        new HashRef({
            block:  NAMESPACE.CORE.bless([
                        new HashRef({
                            stmts:   match._class_.flat([match]),
                        }),
                        CLASS["Perlito5::AST::Lit::Block"]
                    ]),
        }),
        CLASS["Perlito5::AST::Do"]
    ]);

    // CORE.say( "ast: [" + perl(ast) + "]" );
    js_code = ast._class_.emit_javascript([ast]);
    // CORE.say( "js-source: [" + js_code + "]" );

    NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = namespace_old;
    return js_code;
}
//
//
// lib/Perlito5/Javascript/CORE.js
//
// CORE functions for "Perlito" Perl5-in-Javascript
//
// AUTHORS
//
// Flavio Soibelmann Glock  fglock@gmail.com
//
// COPYRIGHT
//
// Copyright 2009, 2010, 2011, 2012 by Flavio Soibelmann Glock and others.
//
// This program is free software; you can redistribute it and/or modify it
// under the same terms as Perl itself.
//
// See http://www.perl.com/perl/misc/Artistic.html

var CORE = NAMESPACE.CORE;

var _print_buf = "";
CORE.print = function(List__) {
    var i;
    for (i = 0; i < List__.length; i++) {
        var s = string(List__[i]);
        if (s.substr(s.length - 2, 2) == "\n") {
            print(_print_buf + s.substr(0, s.length - 2));
            _print_buf = "";
        }
        else if (s.substr(s.length - 1, 1) == "\n") {
            print(_print_buf + s.substr(0, s.length - 1));
            _print_buf = "";
        }
        else {
            _print_buf = _print_buf + s;
        }
    }
    return true;
};

CORE.say = function(List__) {
    CORE.print(List__);
    return CORE.print(["\n"]);
};

CORE.die = function(List__) {
    var i;
    var s = "";
    for (i = 0; i < List__.length; i++) {
        s = s + string(List__[i]);
    }
    throw(new Error("Died: " + s));
};

CORE.warn = function(List__) {
    var i;
    var s = "";
    for (i = 0; i < List__.length; i++) {
        s = s + string(List__[i]);
    }
    CORE.print(["Warning: " + s + "\n"]);
};

CORE.bless = function(List__) {
    var o        = List__[0];
    var pkg_name = List__[1];
    if (typeof pkg_name === "object") {
        // bless {}, Class
        o._class_ = pkg_name;
        return o;
    }
    if (!CLASS.hasOwnProperty(pkg_name)) {
        make_package(pkg_name);
    }
    o._class_ = CLASS[pkg_name];
    return o;
};

CORE.chr = function(List__) {
    return String.fromCharCode(num(List__[0]));
};

CORE.ord = function(List__) {
    return string(List__[0]).charCodeAt(0);
};

CORE.substr = function(List__) {
    var expr        = List__[0];
    var offset      = List__[1];
    var length      = List__[2];
    var replacement = List__[3];
    return string(expr).substr(offset, length);
};

CORE.scalar = function(List__) {
    var o = List__[0];
    if (o == null) {
        return 1;
    };
    if (typeof o.scalar === "function") {
        return o.scalar();
    }
    if (typeof o === "object" && (o instanceof Array)) {
        return o.length;
    }
    switch (typeof o) {
        case "string": return 1;
        case "function": return 1;
        case "number": return 1;
        case "boolean": return 1;
    }
    var l = 0;
    for (var i in o) {
        l++;
    }
    return l;
};

CORE.values = function(List__) {
    var o = List__[0];
    if (o == null) {
        return [];
    };
    if (typeof o.values === "function") {
        return o.values();
    }
    var out = [];
    for (var i in o) {
        out.push(o[i]);
    }
    return out;
};

CORE.keys = function(List__) {
    var o = List__[0];
    if (o == null) {
        return [];
    }
    if (typeof o.keys === "function") {
        return o.keys();
    }
    var out = [];
    for (var i in o) {
        out.push(i);
    }
    return out;
};

CORE.pop = function(List__) {
    var o = List__[0];
    if (o.length == null) {
        return null;
    }
    return o.pop();
};

CORE.shift = function(List__) {
    var o = List__[0];
    if (o.length == null) {
        return null;
    }
    return o.shift();
};

CORE.push = function(List__) {
    var o = List__[0];
    var v = List__[1];
    return o.push(v);
};

CORE.unshift = function(List__) {
    var o = List__[0];
    var v = List__[1];
    return o.unshift(v);
};

CORE.join = function(List__) {
    var s = List__[0];
    var o = List__[1];
    return o.join(s);
};

CORE.index = function(List__) {
    var o = List__[0];
    var s = List__[1];
    try {
        return o.indexOf(s);
    }
    catch(err) {
        return -1;
    }
};

CORE.length = function(List__) {
    var o = List__[0];
    if (typeof o.string === "function") {
        return o.string().length;
    }
    return o.length;
};

CORE.ref = function(List__) {
    var o = List__[0];
    if (o == null) {
        return "";
    }
    if (o._class_ && typeof o._class_._ref_ === "string") {
        // blessed reference
        return o._class_._ref_;
    }
    if (typeof o._ref_ === "string") {
        // un-blessed reference
        return o._ref_;
    }
    if (typeof o === "function") {
        return "CODE";
    }
    return "";
};
(function () {
	make_package("Perlito5");
	(function () {
		// use v5
;
		make_package("Perlito5::Match");
		make_sub("Perlito5::Match", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::Match"].shift([List__]));
				return (NAMESPACE["Perlito5::Match"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "from", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['from']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "to", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['to']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "str", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['str']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "bool", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['bool']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "capture", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['capture']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Match", "flat", function (List__) {
			try {
				var v_self = null;
				(v_self = List__[0]);
				if ( bool((v_self || (v_self = new HashRef({})))._hash_['bool']) ) { return (function () {
									if ( bool(((v_self || (v_self = new HashRef({})))._hash_['capture'] != null)) ) {
						throw((v_self || (v_self = new HashRef({})))._hash_['capture']);
					};
					throw(NAMESPACE["Perlito5::Match"].substr([(v_self || (v_self = new HashRef({})))._hash_['str'], (v_self || (v_self = new HashRef({})))._hash_['from'], (((v_self || (v_self = new HashRef({})))._hash_['to'] - (v_self || (v_self = new HashRef({})))._hash_['from']))]))
				})(); }
								else { return (function () {
									throw('');
				})(); }
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
	})()
;
	// use Perlito5::Match
;
	(function () {
		// use v5
;
		make_package("Perlito5::AST::CompUnit");
		make_sub("Perlito5::AST::CompUnit", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::CompUnit"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::CompUnit"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::CompUnit", "name", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::CompUnit", "body", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Val::Int");
		make_sub("Perlito5::AST::Val::Int", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Val::Int"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Val::Int"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Val::Int", "int", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['int']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Val::Num");
		make_sub("Perlito5::AST::Val::Num", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Val::Num"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Val::Num"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Val::Num", "num", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['num']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Val::Buf");
		make_sub("Perlito5::AST::Val::Buf", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Val::Buf"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Val::Buf"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Val::Buf", "buf", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['buf']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Lit::Block");
		make_sub("Perlito5::AST::Lit::Block", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Lit::Block"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Lit::Block"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Lit::Block", "sig", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['sig']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Lit::Block", "stmts", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['stmts']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Index");
		make_sub("Perlito5::AST::Index", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Index"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Index"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Index", "obj", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['obj']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Index", "index_exp", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['index_exp']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Lookup");
		make_sub("Perlito5::AST::Lookup", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Lookup"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Lookup"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Lookup", "obj", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['obj']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Lookup", "index_exp", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['index_exp']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Var");
		make_sub("Perlito5::AST::Var", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Var"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Var"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Var", "sigil", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['sigil']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Var", "namespace", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['namespace']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Var", "name", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Proto");
		make_sub("Perlito5::AST::Proto", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Proto"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Proto"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Proto", "name", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Call");
		make_sub("Perlito5::AST::Call", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Call"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Call"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Call", "invocant", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['invocant']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Call", "method", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['method']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Call", "arguments", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['arguments']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Apply");
		make_sub("Perlito5::AST::Apply", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Apply"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Apply", "code", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['code']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Apply", "arguments", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['arguments']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Apply", "namespace", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['namespace']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::If");
		make_sub("Perlito5::AST::If", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::If"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::If"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::If", "cond", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::If", "body", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::If", "otherwise", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['otherwise']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::While");
		make_sub("Perlito5::AST::While", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::While"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::While"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::While", "init", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['init']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::While", "cond", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::While", "continue", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['continue']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::While", "body", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::For");
		make_sub("Perlito5::AST::For", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::For"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::For"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::For", "cond", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['cond']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::For", "body", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['body']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Decl");
		make_sub("Perlito5::AST::Decl", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Decl"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Decl"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Decl", "decl", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['decl']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Decl", "type", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['type']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Decl", "var", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['var']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Sig");
		make_sub("Perlito5::AST::Sig", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Sig"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Sig"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sig", "invocant", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['invocant']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sig", "positional", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['positional']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sig", "named", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['named']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Sub");
		make_sub("Perlito5::AST::Sub", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Sub"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Sub"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sub", "name", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['name']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sub", "sig", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['sig']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Sub", "block", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Do");
		make_sub("Perlito5::AST::Do", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Do"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Do"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Do", "block", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Use");
		make_sub("Perlito5::AST::Use", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::AST::Use"].shift([List__]));
				return (NAMESPACE["Perlito5::AST::Use"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::AST::Use", "mod", function (List__) {
			try {
				return ((List__[0] || (List__[0] = new HashRef({})))._hash_['mod']);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
	})()
;
	(function () {
		// use v5
;
		// use Perlito5::AST
;
		make_package("Perlito5::Javascript");
		(function () {
			var Hash_safe_char = {};
			make_sub("Perlito5::Javascript", "tab", function (List__) {
				try {
					var v_level = null;
					(v_level = NAMESPACE["Perlito5::Javascript"].shift([List__]));
					return (str_replicate((String.fromCharCode(9)), v_level));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			(Hash_safe_char = array_to_hash(interpolate_array('$', 1, '%', 1, '@', 1, '&', 1, '_', 1, ',', 1, '.', 1, ':', 1, ';', 1, '-', 1, '+', 1, '*', 1, ' ', 1, '(', 1, ')', 1, '<', 1, '=', 1, '>', 1, '[', 1, ']', 1, '{', 1, '|', 1, '}', 1)));
			make_sub("Perlito5::Javascript", "escape_string", function (List__) {
				try {
					var v_s = null;
					var List_out = [];
					var v_tmp = null;
					(v_s = NAMESPACE["Perlito5::Javascript"].shift([List__]));
					(v_tmp = '');
					if ( (v_s == '') ) {
						throw((String.fromCharCode(39) + String.fromCharCode(39)));
					};
					(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_i) {
						var v_c = null;
						(v_c = NAMESPACE["Perlito5::Javascript"].substr([v_s, v_i, 1]));
						if ( (((((v_c >= 'a') && (v_c <= 'z')) || ((v_c >= 'A') && (v_c <= 'Z'))) || ((v_c >= '0') && (v_c <= '9'))) || bool((Hash_safe_char).hasOwnProperty(v_c))) ) {
							(v_tmp = (string(v_tmp) + string(v_c)));
						}
						else {
							if ( (v_tmp != '') ) {
								NAMESPACE["Perlito5::Javascript"].push([List_out, (String.fromCharCode(39) + string(v_tmp) + String.fromCharCode(39))]);
							};
							NAMESPACE["Perlito5::Javascript"].push([List_out, ('String.fromCharCode(' + string(NAMESPACE["Perlito5::Javascript"].ord([v_c])) + string((')')))]);
							(v_tmp = '');
						};
					})(a_[i_]) } })(interpolate_array((function (a) { for (var i=0, l=(NAMESPACE["Perlito5::Javascript"].length([v_s]) - 1); i<=l; ++i){ a.push(i) }; return a })([])));
					if ( (v_tmp != '') ) {
						NAMESPACE["Perlito5::Javascript"].push([List_out, (String.fromCharCode(39) + string(v_tmp) + String.fromCharCode(39))]);
					};
					throw(NAMESPACE["Perlito5::Javascript"].join([' + ', List_out]))
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript", "to_str", function (List__) {
				try {
					var v_cond = null;
					(v_cond = NAMESPACE["Perlito5::Javascript"].shift([List__]));
					if ( bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Buf'])) ) { return (function () {
											throw(v_cond._class_.emit_javascript([v_cond]))
					})(); }
										else { return (function () {
											throw(('string(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
					})(); }
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript", "to_num", function (List__) {
				try {
					var v_cond = null;
					(v_cond = NAMESPACE["Perlito5::Javascript"].shift([List__]));
					if ( (bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Int'])) || bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Num']))) ) { return (function () {
											throw(v_cond._class_.emit_javascript([v_cond]))
					})(); }
										else { return (function () {
											throw(('num(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
					})(); }
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript", "to_bool", function (List__) {
				try {
					var v_cond = null;
					(v_cond = NAMESPACE["Perlito5::Javascript"].shift([List__]));
					if ( (((bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply'])) && (v_cond._class_.code([v_cond]) == 'circumfix:<( )>')) && bool((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')])) && bool(((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)) ) {
						throw(NAMESPACE["Perlito5::Javascript"].to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]]));
					};
					if ( (bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply'])) && ((v_cond._class_.code([v_cond]) == 'infix:<&&>') || (v_cond._class_.code([v_cond]) == 'infix:<and>'))) ) {
						throw(('(' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' && ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + ')'));
					};
					if ( (bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply'])) && ((v_cond._class_.code([v_cond]) == 'infix:<||>') || (v_cond._class_.code([v_cond]) == 'infix:<or>'))) ) {
						throw(('(' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' || ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] || ((v_cond || (v_cond = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + ')'));
					};
					if ( ((bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Int'])) || bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Val::Num']))) || (bool(v_cond._class_.isa([v_cond,'Perlito5::AST::Apply'])) && (((((((((((v_cond._class_.code([v_cond]) == 'prefix:<' + String.fromCharCode(33) + '>') || (v_cond._class_.code([v_cond]) == 'infix:<' + String.fromCharCode(33) + '=>')) || (v_cond._class_.code([v_cond]) == 'infix:<==>')) || (v_cond._class_.code([v_cond]) == 'infix:<<=>')) || (v_cond._class_.code([v_cond]) == 'infix:<>=>')) || (v_cond._class_.code([v_cond]) == 'infix:<>>')) || (v_cond._class_.code([v_cond]) == 'infix:<<>')) || (v_cond._class_.code([v_cond]) == 'infix:<eq>')) || (v_cond._class_.code([v_cond]) == 'infix:<ne>')) || (v_cond._class_.code([v_cond]) == 'infix:<ge>')) || (v_cond._class_.code([v_cond]) == 'infix:<le>')))) ) { return (function () {
											throw(v_cond._class_.emit_javascript([v_cond]))
					})(); }
										else { return (function () {
											throw(('bool(' + string(v_cond._class_.emit_javascript([v_cond])) + ')'));
					})(); }
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript", "to_list", function (List__) {
				try {
					var v_items = null;
					(v_items = NAMESPACE["Perlito5::Javascript"].to_list_preprocess([List__[0]]));
					return (( bool((v_items || (v_items = new ArrayRef([])))._array_) ? ('interpolate_array(' + string(NAMESPACE["Perlito5::Javascript"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })((v_items || (v_items = new ArrayRef([])))._array_)])) + ')') : '[]'));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::Javascript", "to_list_preprocess", function (List__) {
					try {
						var List_items = [];
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_item) {
							if ( (bool(v_item._class_.isa([v_item,'Perlito5::AST::Apply'])) && ((v_item._class_.code([v_item]) == 'circumfix:<( )>') || (v_item._class_.code([v_item]) == 'list:<,>'))) ) {
								(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_arg) {
									NAMESPACE["Perlito5::Javascript"].push([List_items, v_arg]);
								})(a_[i_]) } })(interpolate_array((NAMESPACE["Perlito5::Javascript"].to_list_preprocess([v_item._class_.arguments([v_item])]) || (NAMESPACE["Perlito5::Javascript"].to_list_preprocess([v_item._class_.arguments([v_item])]) = new ArrayRef([])))._array_));
							}
							else {
								if ( (bool(v_item._class_.isa([v_item,'Perlito5::AST::Apply'])) && (v_item._class_.code([v_item]) == 'infix:<=>>')) ) {
									NAMESPACE["Perlito5::Javascript"].push([List_items, (v_item._class_.arguments([v_item]) || (v_item._class_.arguments([v_item]) = new ArrayRef([])))._array_[0]]);
									NAMESPACE["Perlito5::Javascript"].push([List_items, (v_item._class_.arguments([v_item]) || (v_item._class_.arguments([v_item]) = new ArrayRef([])))._array_[1]]);
								}
								else {
									NAMESPACE["Perlito5::Javascript"].push([List_items, v_item]);
								};
							};
						})(a_[i_]) } })(interpolate_array((List__[0] || (List__[0] = new ArrayRef([])))._array_));
						throw((new ArrayRef(List_items)))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::Javascript::LexicalBlock");
		(function () {
			make_sub("Perlito5::Javascript::LexicalBlock", "new", function (List__) {
				try {
					var v_class = null;
					(v_class = NAMESPACE["Perlito5::Javascript::LexicalBlock"].shift([List__]));
					return (NAMESPACE["Perlito5::Javascript::LexicalBlock"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript::LexicalBlock", "block", function (List__) {
				try {
					return ((List__[0] || (List__[0] = new HashRef({})))._hash_['block']);
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript::LexicalBlock", "needs_return", function (List__) {
				try {
					return ((List__[0] || (List__[0] = new HashRef({})))._hash_['needs_return']);
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript::LexicalBlock", "top_level", function (List__) {
				try {
					return ((List__[0] || (List__[0] = new HashRef({})))._hash_['top_level']);
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript::LexicalBlock", "has_decl", function (List__) {
				try {
					var v_self = null;
					var v_type = null;
					(v_self = List__[0]);
					(v_type = List__[1]);
					(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
						if ( bool((v_decl != null)) ) {
							if ( (bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl'])) && (v_decl._class_.decl([v_decl]) == v_type)) ) {
								throw(1);
							};
							if ( (bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Apply'])) && (v_decl._class_.code([v_decl]) == 'infix:<=>')) ) {
								(function () {
									var v_var = null;
									(v_var = (v_decl._class_.arguments([v_decl]) || (v_decl._class_.arguments([v_decl]) = new ArrayRef([])))._array_[0]);
									if ( (bool(v_var._class_.isa([v_var,'Perlito5::AST::Decl'])) && (v_var._class_.decl([v_var]) == v_type)) ) {
										throw(1);
									};
									})();
							};
						};
					})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('block')] || ((v_self || (v_self = new HashRef({})))._hash_[('block')] = new ArrayRef([])))._array_));
					throw(0)
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::Javascript::LexicalBlock", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::Javascript::LexicalBlock", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var List_block = [];
						var v_out = null;
						var List_str = [];
						var v_has_local = null;
						var v_create_context = null;
						var v_outer_pkg = null;
						var v_tab = null;
						var v_last_statement = null;
						(v_self = NAMESPACE["Perlito5::Javascript::LexicalBlock"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::Javascript::LexicalBlock"].shift([List__]));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
							if ( bool((v__ != null)) ) {
								NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_block, v__]);
							};
						})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('block')] || ((v_self || (v_self = new HashRef({})))._hash_[('block')] = new ArrayRef([])))._array_));
						if ( !( bool(List_block)) ) {
							throw((string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + 'null;'));
						};
						(v_out = '');
						(v_has_local = v_self._class_.has_decl([v_self,('local')]));
						(v_create_context = and((v_self || (v_self = new HashRef({})))._hash_[('create_context')], function () { return v_self._class_.has_decl([v_self,('my')]); }));
						(v_outer_pkg = NAMESPACE["Perlito5::Javascript"].v_PKG_NAME);
						if ( bool(v_has_local) ) {
							(v_out = (string(v_out) + string((string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + string(('var local_idx = LOCAL.length;' + String.fromCharCode(10)))))));
						};
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('top_level')]) ) {
							(v_out = (string(v_out) + string((string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + string(('try {' + String.fromCharCode(10)))))));
							(v_level)++;
						};
						if ( bool(v_create_context) ) {
							(v_out = (string(v_out) + string((string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + string(('(function () {' + String.fromCharCode(10)))))));
							(v_level)++;
						};
						(v_tab = NAMESPACE["Perlito5::Javascript"].tab([v_level]));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
							if ( (bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl'])) && (v_decl._class_.decl([v_decl]) == 'my')) ) {
								NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, v_decl._class_.emit_javascript_init([v_decl])]);
							};
							if ( (bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Apply'])) && (v_decl._class_.code([v_decl]) == 'infix:<=>')) ) {
								(function () {
									var v_var = null;
									(v_var = (v_decl._class_.arguments([v_decl]) || (v_decl._class_.arguments([v_decl]) = new ArrayRef([])))._array_[0]);
									if ( (bool(v_var._class_.isa([v_var,'Perlito5::AST::Decl'])) && (v_var._class_.decl([v_var]) == 'my')) ) {
										NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, v_var._class_.emit_javascript_init([v_var])]);
									};
									})();
							};
						})(a_[i_]) } })(interpolate_array(List_block));
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('needs_return')]) ) {
							(v_last_statement = NAMESPACE["Perlito5::Javascript::LexicalBlock"].pop([List_block]));
						};
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_decl) {
							if ( ((NAMESPACE["Perlito5::Javascript::LexicalBlock"].ref([v_decl]) == 'Perlito5::AST::Apply') && (v_decl._class_.code([v_decl]) == 'package')) ) {
								(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = (v_decl || (v_decl = new HashRef({})))._hash_[('namespace')]);
							};
							if ( !( (bool(v_decl._class_.isa([v_decl,'Perlito5::AST::Decl'])) && (v_decl._class_.decl([v_decl]) == 'my'))) ) {
								NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, (string(v_decl._class_.emit_javascript_indented([v_decl,v_level])) + ';')]);
							};
						})(a_[i_]) } })(interpolate_array(List_block));
						if ( (bool((v_self || (v_self = new HashRef({})))._hash_[('needs_return')]) && bool(v_last_statement)) ) {
							if ( bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::If'])) ) {
								(function () {
									var v_cond = null;
									var v_body = null;
									var v_otherwise = null;
									(v_cond = v_last_statement._class_.cond([v_last_statement]));
									(v_body = v_last_statement._class_.body([v_last_statement]));
									(v_otherwise = v_last_statement._class_.otherwise([v_last_statement]));
									(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_body._class_.stmts([v_body]),'needs_return', 1]));
									NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, ('if ( ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([v_cond])) + ' ) { return (function () {' + string((String.fromCharCode(10))) + string(v_tab) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '})(); }')]);
									if ( bool(v_otherwise) ) {
										(v_otherwise = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_otherwise._class_.stmts([v_otherwise]),'needs_return', 0]));
										NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, (string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + 'else { return (function () {' + string((String.fromCharCode(10))) + string(v_tab) + string(v_otherwise._class_.emit_javascript_indented([v_otherwise,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '})(); }')]);
									};
									})();
							}
							else {
								if ( (((bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::For'])) || bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::While']))) || (bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::Apply'])) && (v_last_statement._class_.code([v_last_statement]) == 'return'))) || (bool(v_last_statement._class_.isa([v_last_statement,'Perlito5::AST::Apply'])) && (v_last_statement._class_.code([v_last_statement]) == 'goto'))) ) {
									NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, v_last_statement._class_.emit_javascript_indented([v_last_statement,v_level])]);
								}
								else {
									if ( bool(v_has_local) ) {
										NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, ('return cleanup_local(local_idx, (' + string(v_last_statement._class_.emit_javascript_indented([v_last_statement,add(v_level, 1)])) + '));')]);
									}
									else {
										NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, ('return (' + string(v_last_statement._class_.emit_javascript_indented([v_last_statement,add(v_level, 1)])) + ');')]);
									};
								};
							};
						};
						if ( bool(v_has_local) ) {
							NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, 'cleanup_local(local_idx, null);']);
						};
						if ( bool(v_create_context) ) {
							(v_level)--;
							NAMESPACE["Perlito5::Javascript::LexicalBlock"].push([List_str, ('})();')]);
						};
						(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = v_outer_pkg);
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('top_level')]) ) {
							(v_level)--;
							throw((string(v_out) + string(NAMESPACE["Perlito5::Javascript::LexicalBlock"].join([(String.fromCharCode(10)), (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push((string(v_tab) + string(v__)))}; return out; })(List_str)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + 'catch(err) {' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 1)])) + 'if ( err instanceof Error ) {' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 2)])) + 'throw(err);' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 1)])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 1)])) + 'else {' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 2)])) + string((( bool(v_has_local) ? 'return cleanup_local(local_idx, err)' : 'return(err)'))) + string((';' + String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([add(v_level, 1)])) + '}' + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}'));
						};
						throw((string(v_out) + string(NAMESPACE["Perlito5::Javascript::LexicalBlock"].join([(String.fromCharCode(10)), (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push((string(v_tab) + string(v__)))}; return out; })(List_str)]))))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::CompUnit");
		(function () {
			make_sub("Perlito5::AST::CompUnit", "emit_javascript", function (List__) {
				try {
					var v_self = null;
					(v_self = List__[0]);
					return (v_self._class_.emit_javascript_indented([v_self,0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::AST::CompUnit", "emit_javascript_indented", function (List__) {
				try {
					var v_self = null;
					var v_level = null;
					var v_outer_pkg = null;
					var v_str = null;
					(v_self = List__[0]);
					(v_level = List__[1]);
					(v_outer_pkg = NAMESPACE["Perlito5::Javascript"].v_PKG_NAME);
					(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = (v_self || (v_self = new HashRef({})))._hash_[('name')]);
					(v_str = ('(function () {' + String.fromCharCode(10) + string(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')],'needs_return', 0])._class_.emit_javascript_indented([CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')],'needs_return', 0]),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + string(('})()' + String.fromCharCode(10)))));
					(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME = v_outer_pkg);
					throw(v_str)
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::CompUnit", "emit_javascript_program", function (List__) {
					try {
						var v_comp_units = null;
						var v_str = null;
						(v_comp_units = NAMESPACE["Perlito5::AST::CompUnit"].shift([List__]));
						(v_str = '');
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_comp_unit) {
							(v_str = (string(v_str) + string(v_comp_unit._class_.emit_javascript([v_comp_unit])) + string((String.fromCharCode(10)))));
						})(a_[i_]) } })(interpolate_array((v_comp_units || (v_comp_units = new ArrayRef([])))._array_));
						throw(v_str)
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Val::Int");
		(function () {
			make_sub("Perlito5::AST::Val::Int", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Val::Int", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Val::Int"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Val::Int"].shift([List__]));
						return ((v_self || (v_self = new HashRef({})))._hash_[('int')]);
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Val::Num");
		(function () {
			make_sub("Perlito5::AST::Val::Num", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Val::Num", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Val::Num"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Val::Num"].shift([List__]));
						return ((v_self || (v_self = new HashRef({})))._hash_[('num')]);
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Val::Buf");
		(function () {
			make_sub("Perlito5::AST::Val::Buf", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Val::Buf", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Val::Buf"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Val::Buf"].shift([List__]));
						return (NAMESPACE["Perlito5::Javascript"].escape_string([(v_self || (v_self = new HashRef({})))._hash_[('buf')]]));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Lit::Block");
		(function () {
			make_sub("Perlito5::AST::Lit::Block", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Lit::Block", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_sig = null;
						(v_self = NAMESPACE["Perlito5::AST::Lit::Block"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Lit::Block"].shift([List__]));
						(v_sig = 'v__');
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('sig')]) ) {
							(v_sig = (v_self || (v_self = new HashRef({})))._hash_[('sig')]._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('sig')],add(v_level, 1)]));
						};
						throw((string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + string(('(function (' + string(v_sig) + ') ' + '{' + String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('stmts')],'needs_return', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('stmts')],'needs_return', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '})'))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Index");
		(function () {
			make_sub("Perlito5::AST::Index", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Index", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Index"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Index"].shift([List__]));
						if ( (bool((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('obj')],'Perlito5::AST::Var'])) && ((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.sigil([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]) == '$')) ) {
							(function () {
								var v_v = null;
								(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '@','namespace', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.namespace([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]),'name', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.name([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])]));
								throw((string(v_v._class_.emit_javascript_indented([v_v,v_level])) + '[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));
								})();
						};
						return (('(' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' || (' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' = new ArrayRef([]))' + ')._array_[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Lookup");
		(function () {
			make_sub("Perlito5::AST::Lookup", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Lookup", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Lookup"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Lookup"].shift([List__]));
						if ( (bool((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('obj')],'Perlito5::AST::Var'])) && ((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.sigil([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]) == '$')) ) {
							(function () {
								var v_v = null;
								(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '%','namespace', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.namespace([(v_self || (v_self = new HashRef({})))._hash_[('obj')]]),'name', (v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.name([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])]));
								throw((string(v_v._class_.emit_javascript_indented([v_v,v_level])) + '[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));
								})();
						};
						return (('(' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' || (' + string((v_self || (v_self = new HashRef({})))._hash_[('obj')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('obj')]])) + ' = new HashRef({}))' + ')._hash_[' + string((v_self || (v_self = new HashRef({})))._hash_[('index_exp')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('index_exp')]])) + ']'));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Var");
		(function () {
			var v_table = null;
			(v_table = (new HashRef(array_to_hash(interpolate_array('$', 'v_', '@', 'List_', '%', 'Hash_', '&', '')))));
			make_sub("Perlito5::AST::Var", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Var", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_ns = null;
						(v_self = NAMESPACE["Perlito5::AST::Var"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Var"].shift([List__]));
						if ( ((v_self || (v_self = new HashRef({})))._hash_[('sigil')] == '*') ) {
							throw(('NAMESPACE[' + String.fromCharCode(34) + string((or((v_self || (v_self = new HashRef({})))._hash_[('namespace')], function () { return NAMESPACE["Perlito5::Javascript"].v_PKG_NAME; }))) + String.fromCharCode(34) + '][' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ']'));
						};
						(v_ns = '');
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) ) {
							(v_ns = ('NAMESPACE[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].'));
						};
						return ((string(v_ns) + string((v_table || (v_table = new HashRef({})))._hash_[(v_self || (v_self = new HashRef({})))._hash_[('sigil')]]) + string((v_self || (v_self = new HashRef({})))._hash_[('name')])));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Proto");
		(function () {
			make_sub("Perlito5::AST::Proto", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Proto", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Proto"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Proto"].shift([List__]));
						return (('CLASS[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ']'));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Call");
		(function () {
			make_sub("Perlito5::AST::Call", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Call", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_invocant = null;
						var v_meth = null;
						var List_args = [];
						(v_self = NAMESPACE["Perlito5::AST::Call"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Call"].shift([List__]));
						(v_invocant = (v_self || (v_self = new HashRef({})))._hash_[('invocant')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('invocant')]]));
						(v_meth = (v_self || (v_self = new HashRef({})))._hash_[('method')]);
						if ( (v_meth == 'postcircumfix:<[ ]>') ) {
							throw(('(' + string(v_invocant) + ' || (' + string(v_invocant) + ' = new ArrayRef([]))' + ')._array_[' + string((v_self || (v_self = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ']'));
						};
						if ( (v_meth == 'postcircumfix:<{ }>') ) {
							throw(('(' + string(v_invocant) + ' || (' + string(v_invocant) + ' = new HashRef({}))' + ')._hash_[' + string((v_self || (v_self = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ']'));
						};
						if ( (v_meth == 'postcircumfix:<( )>') ) {
							(function () {
								var List_args = [];
								(List_args = []);
								(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
									NAMESPACE["Perlito5::AST::Call"].push([List_args, v__._class_.emit_javascript([v__])]);
								})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
								throw(('(' + string(v_invocant) + ')([' + string(NAMESPACE["Perlito5::AST::Call"].join([',', List_args])) + '])'));
								})();
						};
						(List_args = interpolate_array(v_invocant));
						(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
							NAMESPACE["Perlito5::AST::Call"].push([List_args, v__._class_.emit_javascript([v__])]);
						})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
						throw((string(v_invocant) + '._class_.' + string(v_meth) + '([' + string(NAMESPACE["Perlito5::AST::Call"].join([',', List_args])) + '])'))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Apply");
		(function () {
			var Hash_op_infix_js = {};
			(Hash_op_infix_js = array_to_hash(interpolate_array('infix:<->', ' - ', 'infix:<*>', ' * ', 'infix:<' + String.fromCharCode(47) + '>', ' ' + String.fromCharCode(47) + ' ', 'infix:<>>', ' > ', 'infix:<<>', ' < ', 'infix:<>=>', ' >= ', 'infix:<<=>', ' <= ', 'infix:<eq>', ' == ', 'infix:<ne>', ' ' + String.fromCharCode(33) + '= ', 'infix:<le>', ' <= ', 'infix:<ge>', ' >= ', 'infix:<==>', ' == ', 'infix:<' + String.fromCharCode(33) + '=>', ' ' + String.fromCharCode(33) + '= ')));
			make_sub("Perlito5::AST::Apply", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::AST::Apply", "emit_javascript_indented", function (List__) {
				try {
					var v_self = null;
					var v_level = null;
					var v_apply = null;
					var v_code = null;
					var List_args = [];
					(v_self = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
					(v_level = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
					(v_apply = v_self._class_.op_assign([v_self]));
					if ( bool(v_apply) ) {
						throw(v_apply._class_.emit_javascript_indented([v_apply,v_level]));
					};
					(v_code = (v_self || (v_self = new HashRef({})))._hash_[('code')]);
					if ( bool(NAMESPACE["Perlito5::AST::Apply"].ref([(v_code != '')])) ) {
						(function () {
							var List_args = [];
							(List_args = []);
							(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
								NAMESPACE["Perlito5::AST::Apply"].push([List_args, v__._class_.emit_javascript([v__])]);
							})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
							throw(('(' + string((v_self || (v_self = new HashRef({})))._hash_[('code')]._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('code')],v_level])) + ')(' + string(NAMESPACE["Perlito5::AST::Apply"].join([',', List_args])) + ')'));
							})();
					};
					if ( (v_code == 'package') ) {
						throw(('make_package(' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + ')'));
					};
					if ( (v_code == 'infix:<=>>') ) {
						throw(NAMESPACE["Perlito5::AST::Apply"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript_indented([v__,v_level]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)]));
					};
					if ( bool((Hash_op_infix_js).hasOwnProperty(v_code)) ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([Hash_op_infix_js[v_code], (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript_indented([v__,v_level]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'eval') ) {
						throw(('eval(perl5_to_js(' + string(NAMESPACE["Perlito5::Javascript"].to_str([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + string((', ')) + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + '))'));
					};
					if ( (v_code == 'undef') ) {
						if ( (bool((v_self || (v_self = new HashRef({})))._hash_[('arguments')]) && bool(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)) ) {
							throw(('(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' = null)'));
						};
						throw('null');
					};
					if ( (v_code == 'defined') ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript_indented([v__,v_level]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ' ' + String.fromCharCode(33) + '= null)'));
					};
					if ( (v_code == 'shift') ) {
						if ( (bool((v_self || (v_self = new HashRef({})))._hash_[('arguments')]) && bool(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)) ) {
							throw(('NAMESPACE[' + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + '].shift([' + string(NAMESPACE["Perlito5::AST::Apply"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript_indented([v__,v_level]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + '])'));
						};
						throw(('NAMESPACE[' + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + '].shift([List__])'));
					};
					if ( (v_code == 'map') ) {
						(function () {
							var v_fun = null;
							var v_list = null;
							(v_fun = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							(v_list = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]);
							throw(('(function (a_) { ' + 'var out = []; ' + 'if ( a_ == null ) { return out; }; ' + 'for(var i = 0; i < a_.length; i++) { ' + 'var v__ = a_[i]; ' + 'out.push(' + string(v_fun._class_.emit_javascript_indented([v_fun,v_level])) + ')' + '}; ' + 'return out;' + ' })(' + string(v_list._class_.emit_javascript([v_list])) + ')'));
							})();
					};
					if ( (v_code == 'prefix:<' + String.fromCharCode(33) + '>') ) {
						throw((String.fromCharCode(33) + '( ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ')'));
					};
					if ( (v_code == 'prefix:<$>') ) {
						(function () {
							var v_arg = null;
							(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							throw(('(' + string(v_arg._class_.emit_javascript([v_arg])) + ')._scalar_'));
							})();
					};
					if ( (v_code == 'prefix:<@>') ) {
						(function () {
							var v_arg = null;
							(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							throw(('(' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + ' || (' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + ' = new ArrayRef([]))' + ')._array_'));
							})();
					};
					if ( (v_code == 'prefix:<%>') ) {
						(function () {
							var v_arg = null;
							(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							throw(('(' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + ')._hash_'));
							})();
					};
					if ( (v_code == 'circumfix:<[ ]>') ) {
						throw(('(new ArrayRef(' + string(NAMESPACE["Perlito5::Javascript"].to_list([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + '))'));
					};
					if ( (v_code == 'circumfix:<{ }>') ) {
						throw(('(new HashRef(array_to_hash(' + string(NAMESPACE["Perlito5::Javascript"].to_list([(v_self || (v_self = new HashRef({})))._hash_[('arguments')]])) + ')))'));
					};
					if ( (v_code == 'prefix:<' + String.fromCharCode(92) + '>') ) {
						(function () {
							var v_arg = null;
							(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Var'])) ) {
								if ( (v_arg._class_.sigil([v_arg]) == '@') ) {
									throw(('(new ArrayRef(' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + '))'));
								};
								if ( (v_arg._class_.sigil([v_arg]) == '%') ) {
									throw(('(new HashRef(' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + '))'));
								};
								if ( (v_arg._class_.sigil([v_arg]) == '&') ) {
									if ( bool((v_arg || (v_arg = new HashRef({})))._hash_[('namespace')]) ) {
										throw(('NAMESPACE[' + String.fromCharCode(34) + string((v_arg || (v_arg = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].' + string((v_arg || (v_arg = new HashRef({})))._hash_[('name')])));
									}
									else {
										throw(('NAMESPACE[' + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + '].' + string((v_arg || (v_arg = new HashRef({})))._hash_[('name')])));
									};
								};
							};
							throw(('(new ScalarRef(' + string(v_arg._class_.emit_javascript_indented([v_arg,v_level])) + '))'));
							})();
					};
					if ( (v_code == 'postfix:<++>') ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')++'));
					};
					if ( (v_code == 'postfix:<-->') ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')--'));
					};
					if ( (v_code == 'prefix:<++>') ) {
						throw(('++(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'prefix:<-->') ) {
						throw(('--(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'infix:<x>') ) {
						throw(('str_replicate(' + string(NAMESPACE["Perlito5::AST::Apply"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'list:<.>') ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([' + ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(NAMESPACE["Perlito5::Javascript"].to_str([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'infix:<+>') ) {
						throw(('add' + '(' + string(NAMESPACE["Perlito5::AST::Apply"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript([v__]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'prefix:<+>') ) {
						throw(('(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ')'));
					};
					if ( (v_code == 'infix:<..>') ) {
						throw(('(function (a) { ' + 'for (var i=' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', l=' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; ' + 'i<=l; ++i)' + '{ ' + 'a.push(i) ' + '}; ' + 'return a ' + '})([])'));
					};
					if ( ((v_code == 'infix:<&&>') || (v_code == 'infix:<and>')) ) {
						throw(('and' + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));
					};
					if ( ((v_code == 'infix:<||>') || (v_code == 'infix:<or>')) ) {
						throw(('or' + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));
					};
					if ( (v_code == 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '>') ) {
						throw((string(('defined_or')) + '(' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ', ' + 'function () { return ' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1]])) + '; })'));
					};
					if ( (v_code == 'exists') ) {
						(function () {
							var v_arg = null;
							(v_arg = ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]);
							if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Lookup'])) ) {
								(function () {
									var v_v = null;
									(v_v = v_arg._class_.obj([v_arg]));
									if ( (bool(v_v._class_.isa([v_v,'Perlito5::AST::Var'])) && (v_v._class_.sigil([v_v]) == '$')) ) {
										(v_v = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '%','namespace', v_v._class_.namespace([v_v]),'name', v_v._class_.name([v_v])]));
										throw(('(' + string(v_v._class_.emit_javascript([v_v])) + ').hasOwnProperty(' + string((v_arg._class_.index_exp([v_arg]))._class_.emit_javascript([(v_arg._class_.index_exp([v_arg]))])) + ')'));
									};
									throw(('(' + string(v_v._class_.emit_javascript([v_v])) + ')._hash_.hasOwnProperty(' + string((v_arg._class_.index_exp([v_arg]))._class_.emit_javascript([(v_arg._class_.index_exp([v_arg]))])) + ')'));
									})();
							};
							if ( bool(v_arg._class_.isa([v_arg,'Perlito5::AST::Call'])) ) {
								if ( (v_arg._class_.method([v_arg]) == 'postcircumfix:<{ }>') ) {
									throw(('(' + string(v_arg._class_.invocant([v_arg])._class_.emit_javascript([v_arg._class_.invocant([v_arg])])) + ')._hash_.hasOwnProperty(' + string((v_arg || (v_arg = new HashRef({})))._hash_[('arguments')]._class_.emit_javascript([(v_arg || (v_arg = new HashRef({})))._hash_[('arguments')]])) + ')'));
								};
							};
							})();
					};
					if ( (v_code == 'ternary:<' + String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33) + '>') ) {
						throw(('( ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ' ' + String.fromCharCode(63) + ' ' + string((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1])._class_.emit_javascript([(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1])])) + ' : ' + string((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[2])._class_.emit_javascript([(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[2])])) + ')'));
					};
					if ( (v_code == 'circumfix:<( )>') ) {
						throw(('(' + string(NAMESPACE["Perlito5::AST::Apply"].join([', ', (function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.emit_javascript_indented([v__,v_level]))}; return out; })(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)])) + ')'));
					};
					if ( (v_code == 'infix:<=>') ) {
						throw(NAMESPACE["Perlito5::AST::Apply"].emit_javascript_bind([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0], ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[1], v_level]));
					};
					if ( (v_code == 'return') ) {
						throw(('throw(' + string((( (bool((v_self || (v_self = new HashRef({})))._hash_[('arguments')]) && bool(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_)) ? ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]]) : 'null'))) + ')'));
					};
					if ( (v_code == 'goto') ) {
						throw(('throw((' + string(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]])) + ')([List__]))'));
					};
					if ( bool((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) ) {
						if ( (((v_self || (v_self = new HashRef({})))._hash_[('namespace')] == 'JS') && (v_code == 'inline')) ) {
							if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0]._class_.isa([((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0],'Perlito5::AST::Val::Buf'])) ) {
								throw((((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0] || (((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0] = new HashRef({})))._hash_[('buf')]);
							}
							else {
								NAMESPACE["Perlito5::AST::Apply"].die([('JS::inline needs a string constant')]);
							};
						};
						(v_code = ('NAMESPACE[' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('namespace')]) + String.fromCharCode(34) + '].' + string(v_code)));
					}
					else {
						(v_code = ('NAMESPACE[' + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + '].' + string(v_code)));
					};
					(List_args = []);
					(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v__) {
						NAMESPACE["Perlito5::AST::Apply"].push([List_args, v__._class_.emit_javascript_indented([v__,v_level])]);
					})(a_[i_]) } })(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_));
					return ((string(v_code) + '([' + string(NAMESPACE["Perlito5::AST::Apply"].join([', ', List_args])) + '])'));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Apply", "emit_javascript_bind", function (List__) {
					try {
						var v_parameters = null;
						var v_arguments = null;
						var v_level = null;
						(v_parameters = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
						(v_arguments = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Apply"].shift([List__]));
						if ( ((bool(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Var'])) && (v_parameters._class_.sigil([v_parameters]) == '@')) || (bool(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Decl'])) && (v_parameters._class_.var([v_parameters])._class_.sigil([v_parameters._class_.var([v_parameters])]) == '@'))) ) {
							throw(('(' + string(v_parameters._class_.emit_javascript([v_parameters])) + ' = ' + string(NAMESPACE["Perlito5::Javascript"].to_list([(new ArrayRef(interpolate_array(v_arguments)))])) + ')'));
						}
						else {
							if ( ((bool(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Var'])) && (v_parameters._class_.sigil([v_parameters]) == '%')) || (bool(v_parameters._class_.isa([v_parameters,'Perlito5::AST::Decl'])) && (v_parameters._class_.var([v_parameters])._class_.sigil([v_parameters._class_.var([v_parameters])]) == '%'))) ) {
								throw(('(' + string(v_parameters._class_.emit_javascript([v_parameters])) + ' = array_to_hash(' + string(NAMESPACE["Perlito5::Javascript"].to_list([(new ArrayRef(interpolate_array(v_arguments)))])) + '))'));
							};
						};
						return (('(' + string(v_parameters._class_.emit_javascript_indented([v_parameters,v_level])) + ' = ' + string(v_arguments._class_.emit_javascript_indented([v_arguments,v_level])) + ')'));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::If");
		(function () {
			make_sub("Perlito5::AST::If", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::If", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_cond = null;
						var v_body = null;
						var v_s = null;
						(v_self = NAMESPACE["Perlito5::AST::If"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::If"].shift([List__]));
						(v_cond = (v_self || (v_self = new HashRef({})))._hash_[('cond')]);
						(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0,'create_context', 1]));
						(v_s = ('if ( ' + string(NAMESPACE["Perlito5::Javascript"].to_bool([v_cond])) + ' ) {' + string((String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}'));
						if ( bool(((v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]) || ((v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]) = new ArrayRef([])))._array_) ) {
							(function () {
								var v_otherwise = null;
								(v_otherwise = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('otherwise')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('otherwise')]]),'needs_return', 0,'create_context', 1]));
								(v_s = (string(v_s) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + 'else {' + string((String.fromCharCode(10))) + string(v_otherwise._class_.emit_javascript_indented([v_otherwise,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}'));
								})();
						};
						throw(v_s)
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::While");
		(function () {
			make_sub("Perlito5::AST::While", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::While", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_body = null;
						(v_self = NAMESPACE["Perlito5::AST::While"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::While"].shift([List__]));
						(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0,'create_context', 1]));
						throw(('for ( ' + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('init')]) ? (string((v_self || (v_self = new HashRef({})))._hash_[('init')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('init')]])) + '; ') : '; '))) + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('cond')]) ? (string(NAMESPACE["Perlito5::Javascript"].to_bool([(v_self || (v_self = new HashRef({})))._hash_[('cond')]])) + '; ') : '; '))) + string((( bool((v_self || (v_self = new HashRef({})))._hash_[('continue')]) ? (string((v_self || (v_self = new HashRef({})))._hash_[('continue')]._class_.emit_javascript([(v_self || (v_self = new HashRef({})))._hash_[('continue')]])) + ' ') : ' '))) + ') {' + string((String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}'))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::For");
		(function () {
			make_sub("Perlito5::AST::For", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::For", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_cond = null;
						var v_body = null;
						var v_sig = null;
						(v_self = NAMESPACE["Perlito5::AST::For"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::For"].shift([List__]));
						(v_cond = NAMESPACE["Perlito5::Javascript"].to_list([(new ArrayRef(interpolate_array((v_self || (v_self = new HashRef({})))._hash_[('cond')])))]));
						(v_body = CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),'needs_return', 0]));
						(v_sig = 'v__');
						if ( bool((v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]])) ) {
							(v_sig = (v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]])._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('body')]._class_.sig([(v_self || (v_self = new HashRef({})))._hash_[('body')]]),add(v_level, 1)]));
						};
						return (('(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { ' + string(('(function (' + string(v_sig) + ') {' + String.fromCharCode(10))) + string(v_body._class_.emit_javascript_indented([v_body,add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '})(a_[i_]) } })' + '(' + string(v_cond) + ')'));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Decl");
		(function () {
			make_sub("Perlito5::AST::Decl", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			make_sub("Perlito5::AST::Decl", "emit_javascript_indented", function (List__) {
				try {
					var v_self = null;
					var v_level = null;
					(v_self = NAMESPACE["Perlito5::AST::Decl"].shift([List__]));
					(v_level = NAMESPACE["Perlito5::AST::Decl"].shift([List__]));
					if ( ((v_self || (v_self = new HashRef({})))._hash_[('decl')] == 'local') ) {
						(function () {
							var v_ns = null;
							(v_ns = ('NAMESPACE[' + String.fromCharCode(34) + string((or(((v_self || (v_self = new HashRef({})))._hash_[('var')] || ((v_self || (v_self = new HashRef({})))._hash_[('var')] = new HashRef({})))._hash_[('namespace')], function () { return NAMESPACE["Perlito::Javascript"].v_PKG_NAME; }))) + String.fromCharCode(34) + ']'));
							throw(('set_local(' + string(v_ns) + ',' + string(NAMESPACE["Perlito5::Javascript"].escape_string([((v_self || (v_self = new HashRef({})))._hash_[('var')] || ((v_self || (v_self = new HashRef({})))._hash_[('var')] = new HashRef({})))._hash_[('name')]])) + ',' + string(NAMESPACE["Perlito5::Javascript"].escape_string([((v_self || (v_self = new HashRef({})))._hash_[('var')] || ((v_self || (v_self = new HashRef({})))._hash_[('var')] = new HashRef({})))._hash_[('sigil')]])) + '); ' + string((v_self || (v_self = new HashRef({})))._hash_[('var')]._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('var')],v_level]))));
							})();
					};
					return ((v_self || (v_self = new HashRef({})))._hash_[('var')]._class_.emit_javascript_indented([(v_self || (v_self = new HashRef({})))._hash_[('var')],v_level]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Decl", "emit_javascript_init", function (List__) {
					try {
						var v_self = null;
						(v_self = NAMESPACE["Perlito5::AST::Decl"].shift([List__]));
						if ( ((v_self || (v_self = new HashRef({})))._hash_[('decl')] == 'my') ) { return (function () {
													var v_str = null;
							(v_str = '');
							(v_str = (string(v_str) + 'var ' + string(((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.emit_javascript([((v_self || (v_self = new HashRef({})))._hash_[('var')])])) + ' = '));
							if ( (((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.sigil([((v_self || (v_self = new HashRef({})))._hash_[('var')])]) == '%') ) {
								(v_str = (string(v_str) + '{};'));
							}
							else {
								if ( (((v_self || (v_self = new HashRef({})))._hash_[('var')])._class_.sigil([((v_self || (v_self = new HashRef({})))._hash_[('var')])]) == '@') ) {
									(v_str = (string(v_str) + '[];'));
								}
								else {
									(v_str = (string(v_str) + 'null;'));
								};
							};
							throw(v_str)
						})(); }
												else { return (function () {
													NAMESPACE["Perlito5::AST::Decl"].die([('not implemented: Perlito5::AST::Decl ' + String.fromCharCode(39) + string((v_self || (v_self = new HashRef({})))._hash_[('decl')]) + string((String.fromCharCode(39))))]);
						})(); }
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Sub");
		(function () {
			make_sub("Perlito5::AST::Sub", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Sub", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_s = null;
						(v_self = NAMESPACE["Perlito5::AST::Sub"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Sub"].shift([List__]));
						(v_s = ('function (List__) {' + string((String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('block')],'needs_return', 1,'top_level', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', (v_self || (v_self = new HashRef({})))._hash_[('block')],'needs_return', 1,'top_level', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '}'));
						return ((( bool((v_self || (v_self = new HashRef({})))._hash_[('name')]) ? ('make_sub(' + String.fromCharCode(34) + string(NAMESPACE["Perlito5::Javascript"].v_PKG_NAME) + String.fromCharCode(34) + ', ' + String.fromCharCode(34) + string((v_self || (v_self = new HashRef({})))._hash_[('name')]) + String.fromCharCode(34) + ', ' + string(v_s) + ')') : v_s)));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Do");
		(function () {
			make_sub("Perlito5::AST::Do", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Do", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						var v_block = null;
						(v_self = NAMESPACE["Perlito5::AST::Do"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Do"].shift([List__]));
						(v_block = v_self._class_.simplify([v_self])._class_.block([v_self._class_.simplify([v_self])]));
						throw(('(function () {' + string((String.fromCharCode(10))) + string((CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_block,'needs_return', 1]))._class_.emit_javascript_indented([(CLASS["Perlito5::Javascript::LexicalBlock"]._class_.new([CLASS["Perlito5::Javascript::LexicalBlock"],'block', v_block,'needs_return', 1])),add(v_level, 1)])) + string((String.fromCharCode(10))) + string(NAMESPACE["Perlito5::Javascript"].tab([v_level])) + '})()'))
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
		make_package("Perlito5::AST::Use");
		(function () {
			make_sub("Perlito5::AST::Use", "emit_javascript", function (List__) {
				try {
					return (List__[0]._class_.emit_javascript_indented([List__[0],0]));
				}
				catch(err) {
					if ( err instanceof Error ) {
						throw(err);
					}
					else {
						return(err);
					}
				}
			});
			return (make_sub("Perlito5::AST::Use", "emit_javascript_indented", function (List__) {
					try {
						var v_self = null;
						var v_level = null;
						(v_self = NAMESPACE["Perlito5::AST::Use"].shift([List__]));
						(v_level = NAMESPACE["Perlito5::AST::Use"].shift([List__]));
						return ((String.fromCharCode(47) + String.fromCharCode(47) + ' use ' + string((v_self || (v_self = new HashRef({})))._hash_[('mod')]) + string((String.fromCharCode(10)))));
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				}));
		})();
	})()
;
	// use Perlito5::Javascript::Emitter
;
	(function () {
		var v_Operator = null;
		var v_Precedence = null;
		var v_Assoc = null;
		var v_Allow_space_before = null;
		var List_Term_chars = [];
		var List_Term = [];
		var v_End_token = null;
		var v_End_token_chars = null;
		var List_Op = [];
		var List_Op_chars = [];
		var v_prec = null;
		make_package("Perlito5::Precedence");
		make_sub("Perlito5::Precedence", "new", function (List__) {
			try {
				var v_class = null;
				(v_class = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				return (NAMESPACE["Perlito5::Precedence"].bless([(new HashRef(array_to_hash(interpolate_array(List__)))), v_class]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(v_Operator = (new HashRef(array_to_hash([]))));
		(v_Precedence = (new HashRef(array_to_hash([]))));
		(v_Assoc = (new HashRef(array_to_hash([]))));
		(v_Allow_space_before = (new HashRef(array_to_hash([]))));
		make_sub("Perlito5::Precedence", "is_assoc_type", function (List__) {
			try {
				var v_assoc_type = null;
				var v_op_name = null;
				(v_assoc_type = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_op_name = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				throw(((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc_type] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc_type] = new HashRef({})))._hash_[v_op_name])
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Precedence", "is_fixity_type", function (List__) {
			try {
				var v_fixity_type = null;
				var v_op_name = null;
				(v_fixity_type = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_op_name = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				throw(((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity_type] || ((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity_type] = new HashRef({})))._hash_[v_op_name])
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Precedence", "is_term", function (List__) {
			try {
				var v_token = null;
				(v_token = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				return (or((((v_token || (v_token = new ArrayRef([])))._array_[0] == 'term')), function () { return (((v_token || (v_token = new ArrayRef([])))._array_[0] == 'postfix_or_term')); }));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Precedence", "is_ident_middle", function (List__) {
			try {
				var v_c = null;
				(v_c = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				return (or(or((and((v_c >= 'a'), function () { return (v_c <= 'z'); })), function () { return (and((v_c >= '0'), function () { return (v_c <= '9'); })); }), function () { return ((v_c == '_')); }));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(List_Term_chars = interpolate_array(7, 5, 3, 2, 1));
		(List_Term = interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('$', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '@', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '%', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '&', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '*', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sigil([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '0', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '1', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '2', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '3', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '4', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '5', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '6', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '7', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '8', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '9', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_digit([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(63), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_ternary([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '(', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_paren([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '[', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_square([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '{', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_curly([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, (String.fromCharCode(39)), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_quote([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(34), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_quote([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, String.fromCharCode(35), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, NAMESPACE["Perlito5::Precedence"].chr([9]), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, NAMESPACE["Perlito5::Precedence"].chr([10]), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, NAMESPACE["Perlito5::Precedence"].chr([12]), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, NAMESPACE["Perlito5::Precedence"].chr([13]), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, NAMESPACE["Perlito5::Precedence"].chr([32]), function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_space([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash(interpolate_array('->', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_arrow([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'my', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'do', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_do([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, '<<', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.here_doc_wanted([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash(interpolate_array('our', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'sub', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_sub([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'use', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_use([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('state', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, 'local', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_declarator([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
})))), (new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array('package', function (List__) {
	try {
		return (CLASS["Perlito5::Expression"]._class_.term_package([CLASS["Perlito5::Expression"],List__[0],List__[1]]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}))))));
		make_sub("Perlito5::Precedence", "add_term", function (List__) {
			try {
				var v_name = null;
				var v_param = null;
				(v_name = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_param = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				return (((List_Term[NAMESPACE["Perlito5::Precedence"].length([v_name])] || (List_Term[NAMESPACE["Perlito5::Precedence"].length([v_name])] = new HashRef({})))._hash_[v_name] = v_param));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(List_Op_chars = interpolate_array(3, 2, 1));
		make_sub("Perlito5::Precedence", "op_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				(v_self = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_str = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_pos = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
					var v_term = null;
					(v_term = NAMESPACE["Perlito5::Precedence"].substr([v_str, v_pos, v_len]));
					if ( bool(((v_End_token || (v_End_token = new ArrayRef([])))._array_[v_len])._hash_.hasOwnProperty(v_term)) ) {
						(function () {
							var v_c1 = null;
							var v_c2 = null;
							(v_c1 = NAMESPACE["Perlito5::Precedence"].substr([v_str, (add(v_pos, v_len) - 1), 1]));
							(v_c2 = NAMESPACE["Perlito5::Precedence"].substr([v_str, add(v_pos, v_len), 1]));
							if ( !( (bool(NAMESPACE["Perlito5::Precedence"].is_ident_middle([v_c1])) && (bool(NAMESPACE["Perlito5::Precedence"].is_ident_middle([v_c2])) || (v_c2 == '(')))) ) {
								throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1,'capture', (new ArrayRef(interpolate_array('end', v_term)))]));
							};
							})();
					};
				})(a_[i_]) } })(interpolate_array((v_End_token_chars || (v_End_token_chars = new ArrayRef([])))._array_));
				(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
					var v_term = null;
					(v_term = NAMESPACE["Perlito5::Precedence"].substr([v_str, v_pos, v_len]));
					if ( bool((List_Term[v_len])._hash_.hasOwnProperty(v_term)) ) {
						(function () {
							var v_m = null;
							(v_m = ((List_Term[v_len] || (List_Term[v_len] = new HashRef({})))._hash_[v_term])([v_str,v_pos]));
							if ( bool((v_m || (v_m = new HashRef({})))._hash_[('bool')]) ) {
								throw(v_m);
							};
							})();
					};
				})(a_[i_]) } })(interpolate_array(List_Term_chars));
				(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_len) {
					var v_op = null;
					(v_op = NAMESPACE["Perlito5::Precedence"].substr([v_str, v_pos, v_len]));
					if ( bool((List_Op[v_len])._hash_.hasOwnProperty(v_op)) ) {
						(function () {
							var v_c1 = null;
							var v_c2 = null;
							(v_c1 = NAMESPACE["Perlito5::Precedence"].substr([v_str, (add(v_pos, v_len) - 1), 1]));
							(v_c2 = NAMESPACE["Perlito5::Precedence"].substr([v_str, add(v_pos, v_len), 1]));
							if ( !( (bool(NAMESPACE["Perlito5::Precedence"].is_ident_middle([v_c1])) && (bool(NAMESPACE["Perlito5::Precedence"].is_ident_middle([v_c2])) || (v_c2 == '(')))) ) {
								throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', add(v_pos, v_len),'bool', 1,'capture', (new ArrayRef(interpolate_array('op', v_op)))]));
							};
							})();
					};
				})(a_[i_]) } })(interpolate_array(List_Op_chars));
				throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'bool', 0]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Precedence", "add_op", function (List__) {
			try {
				var v_fixity = null;
				var v_name = null;
				var v_precedence = null;
				var v_param = null;
				var v_assoc = null;
				(v_fixity = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_name = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_precedence = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_param = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				if ( !( bool((v_param != null))) ) {
					(v_param = (new HashRef(array_to_hash([]))));
				};
				(v_assoc = or((v_param || (v_param = new HashRef({})))._hash_['assoc'], function () { return 'left'; }));
				(((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity] || ((v_Operator || (v_Operator = new HashRef({})))._hash_[v_fixity] = new HashRef({})))._hash_[v_name] = 1);
				((v_Precedence || (v_Precedence = new HashRef({})))._hash_[v_name] = v_precedence);
				(((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_[v_assoc] = new HashRef({})))._hash_[v_name] = 1);
				(((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_[v_fixity] || ((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_[v_fixity] = new HashRef({})))._hash_[v_name] = ( bool((v_param || (v_param = new HashRef({})))._hash_['no_space_before']) ? 0 : 1));
				return (((List_Op[NAMESPACE["Perlito5::Precedence"].length([v_name])] || (List_Op[NAMESPACE["Perlito5::Precedence"].length([v_name])] = new HashRef({})))._hash_[v_name] = 1));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(v_prec = 100);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '.( )', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '.[ ]', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '.{ }', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '( )', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '[ ]', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'funcall', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'funcall_no_params', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'methcall', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'methcall_no_params', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'block', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', 'hash', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '++', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '--', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '++', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['postfix', '--', v_prec, (new HashRef(array_to_hash(interpolate_array('no_space_before', 1))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '**', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', String.fromCharCode(92), v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '+', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '-', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '$', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '&', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '*', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '@', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '%', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', String.fromCharCode(33), v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', String.fromCharCode(63), v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '*', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(47), v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '+', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '-', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'x', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '.', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '&', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '&', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '|', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', '|', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '<=>', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'cmp', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '..', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'ne', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'eq', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'lt', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'le', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'gt', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'ge', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '<=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '>=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '==', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(33) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '<', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '>', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(126) + String.fromCharCode(126), v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'chain'))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '&&', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '||', v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(47) + String.fromCharCode(47), v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['ternary', String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33), v_prec]);
		NAMESPACE["Perlito5::Precedence"].add_op(['ternary', String.fromCharCode(63) + ' :', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '||=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '&&=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '|=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '&=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(47) + String.fromCharCode(47) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '+=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '-=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '*=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', String.fromCharCode(47) + '=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '.=', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'right'))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['prefix', 'not', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '=>', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['list', ',', v_prec, (new HashRef(array_to_hash(interpolate_array('assoc', 'list'))))]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'and', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', 'or', v_prec]);
		(v_prec = (v_prec - 1));
		NAMESPACE["Perlito5::Precedence"].add_op(['infix', '*start*', v_prec]);
		make_sub("Perlito5::Precedence", "precedence_parse", function (List__) {
			try {
				var v_self = null;
				var v_get_token = null;
				var v_reduce = null;
				var v_last_end_token = null;
				var v_last_end_token_chars = null;
				var v_op_stack = null;
				var v_num_stack = null;
				var v_last = null;
				var v_last_has_space = null;
				var v_token = null;
				(v_self = NAMESPACE["Perlito5::Precedence"].shift([List__]));
				(v_get_token = (v_self || (v_self = new HashRef({})))._hash_['get_token']);
				(v_reduce = (v_self || (v_self = new HashRef({})))._hash_['reduce']);
				(v_last_end_token = v_End_token);
				(v_last_end_token_chars = v_End_token_chars);
				(v_End_token = (v_self || (v_self = new HashRef({})))._hash_['end_token']);
				(v_End_token_chars = (v_self || (v_self = new HashRef({})))._hash_['end_token_chars']);
				(v_op_stack = (new ArrayRef([])));
				(v_num_stack = (new ArrayRef([])));
				(v_last = (new ArrayRef(interpolate_array('op', '*start*'))));
				(v_last_has_space = 0);
				(v_token = (v_get_token)([]));
				if ( (((v_token || (v_token = new ArrayRef([])))._array_[0]) == 'space') ) {
					(v_token = (v_get_token)([]));
				};
				for ( ; (bool((v_token != null)) && ((v_token || (v_token = new ArrayRef([])))._array_[0] != 'end'));  ) {
					if ( (((v_token || (v_token = new ArrayRef([])))._array_[1] == ',') && (((v_last || (v_last = new ArrayRef([])))._array_[1] == '*start*') || ((v_last || (v_last = new ArrayRef([])))._array_[1] == ','))) ) {
						NAMESPACE["Perlito5::Precedence"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('term', null)))]);
					};
					if ( (bool(((v_Operator || (v_Operator = new HashRef({})))._hash_['prefix'] || ((v_Operator || (v_Operator = new HashRef({})))._hash_['prefix'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) && (((v_last || (v_last = new ArrayRef([])))._array_[1] == '*start*') || !( bool(NAMESPACE["Perlito5::Precedence"].is_term([v_last]))))) ) {
						((v_token || (v_token = new ArrayRef([])))._array_[0] = 'prefix');
						NAMESPACE["Perlito5::Precedence"].unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);
					}
					else {
						if ( ((bool((((v_Operator || (v_Operator = new HashRef({})))._hash_['postfix']) || (((v_Operator || (v_Operator = new HashRef({})))._hash_['postfix']) = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) && bool(NAMESPACE["Perlito5::Precedence"].is_term([v_last]))) && (bool(((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_['postfix'] || ((v_Allow_space_before || (v_Allow_space_before = new HashRef({})))._hash_['postfix'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) || !( bool(v_last_has_space)))) ) {
							(function () {
								var v_pr = null;
								(v_pr = (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]);
								for ( ; (bool(NAMESPACE["Perlito5::Precedence"].scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_])) && (v_pr <= (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]]));  ) {
									(v_reduce)([v_op_stack,v_num_stack]);
								};
								if ( (((v_token || (v_token = new ArrayRef([])))._array_[0]) != 'postfix_or_term') ) {
									((v_token || (v_token = new ArrayRef([])))._array_[0] = 'postfix');
								};
								NAMESPACE["Perlito5::Precedence"].unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);
								})();
						}
						else {
							if ( ((((v_token || (v_token = new ArrayRef([])))._array_[1] == 'block') && bool(NAMESPACE["Perlito5::Precedence"].is_term([v_last]))) && bool(v_last_has_space)) ) {
								for ( ; bool(NAMESPACE["Perlito5::Precedence"].scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));  ) {
									(v_reduce)([v_op_stack,v_num_stack]);
								};
								NAMESPACE["Perlito5::Precedence"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, v_token]);
								(v_End_token = v_last_end_token);
								(v_End_token_chars = v_last_end_token_chars);
								throw(v_num_stack);
							}
							else {
								if ( bool(NAMESPACE["Perlito5::Precedence"].is_term([v_token])) ) {
									if ( bool(NAMESPACE["Perlito5::Precedence"].is_term([v_last])) ) {
										NAMESPACE["Perlito5::Precedence"].say([(String.fromCharCode(35) + '      last:  '), v_last]);
										NAMESPACE["Perlito5::Precedence"].say([(String.fromCharCode(35) + '      token: '), v_token]);
										NAMESPACE["Perlito5::Precedence"].say([(String.fromCharCode(35) + '      space: '), v_last_has_space]);
										NAMESPACE["Perlito5::Precedence"].die([('Value tokens must be separated by an operator')]);
									};
									((v_token || (v_token = new ArrayRef([])))._array_[0] = 'term');
									NAMESPACE["Perlito5::Precedence"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, v_token]);
								}
								else {
									if ( bool((v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) {
										(function () {
											var v_pr = null;
											(v_pr = (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]);
											if ( bool(((v_Assoc || (v_Assoc = new HashRef({})))._hash_['right'] || ((v_Assoc || (v_Assoc = new HashRef({})))._hash_['right'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) {
												for ( ; (bool(NAMESPACE["Perlito5::Precedence"].scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_])) && (v_pr < (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]]));  ) {
													(v_reduce)([v_op_stack,v_num_stack]);
												};
											}
											else {
												for ( ; (bool(NAMESPACE["Perlito5::Precedence"].scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_])) && (v_pr <= (v_Precedence || (v_Precedence = new HashRef({})))._hash_[(((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) || (((v_op_stack || (v_op_stack = new ArrayRef([])))._array_[0]) = new ArrayRef([])))._array_[1]]));  ) {
													(v_reduce)([v_op_stack,v_num_stack]);
												};
											};
											if ( bool(((v_Operator || (v_Operator = new HashRef({})))._hash_['ternary'] || ((v_Operator || (v_Operator = new HashRef({})))._hash_['ternary'] = new HashRef({})))._hash_[(v_token || (v_token = new ArrayRef([])))._array_[1]]) ) {
												((v_token || (v_token = new ArrayRef([])))._array_[0] = 'ternary');
											}
											else {
												((v_token || (v_token = new ArrayRef([])))._array_[0] = 'infix');
											};
											NAMESPACE["Perlito5::Precedence"].unshift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_, v_token]);
											})();
									}
									else {
										NAMESPACE["Perlito5::Precedence"].die([('Unknown token: ' + String.fromCharCode(39)), (v_token || (v_token = new ArrayRef([])))._array_[1], (String.fromCharCode(39))]);
									};
								};
							};
						};
					};
					(v_last = v_token);
					(v_token = (v_get_token)([]));
					if ( ((v_token || (v_token = new ArrayRef([])))._array_[0] == 'space') ) {
						(v_token = (v_get_token)([]));
						(v_last_has_space = 1);
					}
					else {
						(v_last_has_space = 0);
					};
				};
				if ( (bool((v_token != null)) && ((v_token || (v_token = new ArrayRef([])))._array_[0] != 'end')) ) {
					NAMESPACE["Perlito5::Precedence"].die([('Unexpected end token: '), v_token]);
				};
				for ( ; bool(NAMESPACE["Perlito5::Precedence"].scalar([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));  ) {
					(v_reduce)([v_op_stack,v_num_stack]);
				};
				(v_End_token = v_last_end_token);
				(v_End_token_chars = v_last_end_token_chars);
				throw(v_num_stack)
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		1;
	})()
;
	(function () {
		var v_reduce_to_ast = null;
		var v_List_end_token = null;
		var v_List_end_token_chars = null;
		var v_Expr_end_token = null;
		var v_Expr_end_token_chars = null;
		var List_Here_doc = [];
		make_package("Perlito5::Expression");
		// use Perlito5::Precedence
;
		// use Perlito5::Grammar
;
		make_sub("Perlito5::Expression", "expand_list", function (List__) {
			try {
				var v_param_list = null;
				(v_param_list = NAMESPACE["Perlito5::Expression"].shift([List__]));
				if ( ((NAMESPACE["Perlito5::Expression"].ref([v_param_list]) == 'Perlito5::AST::Apply') && (v_param_list._class_.code([v_param_list]) == 'list:<,>')) ) { return (function () {
									var v_args = null;
					(v_args = (new ArrayRef([])));
					(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_v) {
						if ( bool((v_v != null)) ) {
							NAMESPACE["Perlito5::Expression"].push([(v_args || (v_args = new ArrayRef([])))._array_, v_v]);
						};
					})(a_[i_]) } })(interpolate_array((v_param_list._class_.arguments([v_param_list]) || (v_param_list._class_.arguments([v_param_list]) = new ArrayRef([])))._array_));
					throw(v_args)
				})(); }
								else { return (function () {
									if ( (v_param_list == '*undef*') ) {
						throw((new ArrayRef([])));
					}
					else {
						throw((new ArrayRef(interpolate_array(v_param_list))));
					};
				})(); }
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "block_or_hash", function (List__) {
			try {
				var v_o = null;
				var v_stmts = null;
				var v_stmt = null;
				(v_o = NAMESPACE["Perlito5::Expression"].shift([List__]));
				if ( bool((v_o._class_.sig([v_o]) != null)) ) {
					throw(v_o);
				};
				(v_stmts = v_o._class_.stmts([v_o]));
				if ( (!( bool((v_stmts != null))) || (NAMESPACE["Perlito5::Expression"].scalar([(v_stmts || (v_stmts = new ArrayRef([])))._array_]) == 0)) ) {
					throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef([]))]));
				};
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_stmts || (v_stmts = new ArrayRef([])))._array_]) != 1) ) {
					throw(v_o);
				};
				(v_stmt = (v_stmts || (v_stmts = new ArrayRef([])))._array_[0]);
				if ( (NAMESPACE["Perlito5::Expression"].ref([v_stmt]) == 'Perlito5::AST::Var') ) {
					throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef(interpolate_array(v_stmt)))]));
				};
				if ( (NAMESPACE["Perlito5::Expression"].ref([v_stmt]) != 'Perlito5::AST::Apply') ) {
					throw(v_o);
				};
				if ( (v_stmt._class_.code([v_stmt]) == 'infix:<=>>') ) {
					throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', (new ArrayRef(interpolate_array(v_stmt)))]));
				};
				if ( (v_stmt._class_.code([v_stmt]) != 'list:<,>') ) {
					throw(v_o);
				};
				(function (a_) { for (var i_ = 0; i_ < a_.length ; i_++) { (function (v_item) {
					if ( ((NAMESPACE["Perlito5::Expression"].ref([v_item]) == 'Perlito5::AST::Apply') && (v_item._class_.code([v_item]) == 'infix:<=>>')) ) {
						throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<{ }>','namespace', '','arguments', NAMESPACE["Perlito5::Expression"].expand_list([v_stmt])]));
					};
				})(a_[i_]) } })(interpolate_array((v_stmt._class_.arguments([v_stmt]) || (v_stmt._class_.arguments([v_stmt]) = new ArrayRef([])))._array_));
				throw(v_o)
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "pop_term", function (List__) {
			try {
				var v_num_stack = null;
				var v_v = null;
				(v_num_stack = NAMESPACE["Perlito5::Expression"].shift([List__]));
				(v_v = NAMESPACE["Perlito5::Expression"].pop([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]));
				if ( (NAMESPACE["Perlito5::Expression"].ref([v_v]) == 'ARRAY') ) {
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall_no_params') ) {
						(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', (new ArrayRef([]))]));
						throw(v_v);
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall_no_params') ) {
						(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', (v_v || (v_v = new ArrayRef([])))._array_[3],'namespace', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
						throw(v_v);
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall') ) {
						(function () {
							var v_param_list = null;
							if ( bool((((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['end_block']) ) {
								NAMESPACE["Perlito5::Expression"].unshift([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['end_block']]);
							};
							(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(((v_v || (v_v = new ArrayRef([])))._array_[3]) || (((v_v || (v_v = new ArrayRef([])))._array_[3]) = new HashRef({})))._hash_['exp']]));
							(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', v_param_list]));
							throw(v_v);
							})();
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall') ) {
						(function () {
							var v_param_list = null;
							if ( bool((((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['end_block']) ) {
								NAMESPACE["Perlito5::Expression"].unshift([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, (((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['end_block']]);
							};
							(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(((v_v || (v_v = new ArrayRef([])))._array_[4]) || (((v_v || (v_v = new ArrayRef([])))._array_[4]) = new HashRef({})))._hash_['exp']]));
							(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', (v_v || (v_v = new ArrayRef([])))._array_[3],'arguments', v_param_list,'namespace', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
							throw(v_v);
							})();
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '( )') ) {
						(function () {
							var v_param_list = null;
							(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
							(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<( )>','arguments', v_param_list,'namespace', '']));
							throw(v_v);
							})();
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '[ ]') ) {
						(function () {
							var v_param_list = null;
							(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
							(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'circumfix:<[ ]>','arguments', v_param_list,'namespace', '']));
							throw(v_v);
							})();
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block') ) {
						(v_v = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_v || (v_v = new ArrayRef([])))._array_[2],'sig', (v_v || (v_v = new ArrayRef([])))._array_[3]]));
						(v_v = NAMESPACE["Perlito5::Expression"].block_or_hash([v_v]));
						throw(v_v);
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.( )') ) {
						(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', null,'method', 'postcircumfix:<( )>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
						throw(v_v);
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.[ ]') ) {
						(v_v = CLASS["Perlito5::AST::Index"]._class_.new([CLASS["Perlito5::AST::Index"],'obj', null,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
						throw(v_v);
					};
					if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.{ }') ) {
						(v_v = CLASS["Perlito5::AST::Lookup"]._class_.new([CLASS["Perlito5::AST::Lookup"],'obj', null,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
						throw(v_v);
					};
					if ( ((NAMESPACE["Perlito5::Expression"].ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'ARRAY') && (NAMESPACE["Perlito5::Expression"].scalar([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 2)) ) {
						(v_v = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'pair','arguments', (v_v || (v_v = new ArrayRef([])))._array_[1],'namespace', '']));
						throw(v_v);
					};
					throw((v_v || (v_v = new ArrayRef([])))._array_[1]);
				};
				throw(v_v)
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "reduce_postfix", function (List__) {
			try {
				var v_op = null;
				var v_value = null;
				var v_v = null;
				(v_op = NAMESPACE["Perlito5::Expression"].shift([List__]));
				(v_value = NAMESPACE["Perlito5::Expression"].shift([List__]));
				(v_v = v_op);
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall_no_params') ) {
					(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', (new ArrayRef([]))]));
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall_no_params') ) {
					NAMESPACE["Perlito5::Expression"].die([('unexpected function call')]);
					NAMESPACE["Perlito5::Expression"].push([(v_v || (v_v = new ArrayRef([])))._array_, v_value]);
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'methcall') ) {
					(function () {
						var v_param_list = null;
						(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([((v_v || (v_v = new ArrayRef([])))._array_[3] || ((v_v || (v_v = new ArrayRef([])))._array_[3] = new HashRef({})))._hash_['exp']]));
						(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', (v_v || (v_v = new ArrayRef([])))._array_[2],'arguments', v_param_list]));
						throw(v_v);
						})();
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'funcall') ) {
					NAMESPACE["Perlito5::Expression"].die([('unexpected function call')]);
					NAMESPACE["Perlito5::Expression"].push([(v_v || (v_v = new ArrayRef([])))._array_, v_value]);
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '( )') ) {
					(function () {
						var v_param_list = null;
						(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
						if ( ((NAMESPACE["Perlito5::Expression"].ref([v_value]) == 'Perlito5::AST::Apply') && !( bool((v_value._class_.arguments([v_value]) != null)))) ) {
							((v_value || (v_value = new HashRef({})))._hash_['arguments'] = v_param_list);
							throw(v_value);
						};
						if ( ((NAMESPACE["Perlito5::Expression"].ref([v_value]) == 'Perlito5::AST::Call') && !( bool((v_value._class_.arguments([v_value]) != null)))) ) {
							((v_value || (v_value = new HashRef({})))._hash_['arguments'] = v_param_list);
							throw(v_value);
						};
						(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<( )>','arguments', v_param_list]));
						throw(v_v);
						})();
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '[ ]') ) {
					(v_v = CLASS["Perlito5::AST::Index"]._class_.new([CLASS["Perlito5::AST::Index"],'obj', v_value,'index_exp', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block') ) {
					(v_v = CLASS["Perlito5::AST::Lookup"]._class_.new([CLASS["Perlito5::AST::Lookup"],'obj', v_value,'index_exp', (((v_v || (v_v = new ArrayRef([])))._array_[2]) || (((v_v || (v_v = new ArrayRef([])))._array_[2]) = new ArrayRef([])))._array_[0]]));
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.( )') ) {
					(function () {
						var v_param_list = null;
						(v_param_list = NAMESPACE["Perlito5::Expression"].expand_list([(v_v || (v_v = new ArrayRef([])))._array_[2]]));
						(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<( )>','arguments', v_param_list]));
						throw(v_v);
						})();
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.[ ]') ) {
					(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<[ ]>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
					throw(v_v);
				};
				if ( ((v_v || (v_v = new ArrayRef([])))._array_[1] == '.{ }') ) {
					(v_v = CLASS["Perlito5::AST::Call"]._class_.new([CLASS["Perlito5::AST::Call"],'invocant', v_value,'method', 'postcircumfix:<{ }>','arguments', (v_v || (v_v = new ArrayRef([])))._array_[2]]));
					throw(v_v);
				};
				NAMESPACE["Perlito5::Expression"].push([(v_op || (v_op = new ArrayRef([])))._array_, v_value]);
				throw(v_op)
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(v_reduce_to_ast = function (List__) {
			try {
				var v_op_stack = null;
				var v_num_stack = null;
				var v_last_op = null;
				(v_op_stack = NAMESPACE["Perlito5::Expression"].shift([List__]));
				(v_num_stack = NAMESPACE["Perlito5::Expression"].shift([List__]));
				(v_last_op = NAMESPACE["Perlito5::Expression"].shift([(v_op_stack || (v_op_stack = new ArrayRef([])))._array_]));
				if ( ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'prefix') ) { return (function () {
									return (NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('prefix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]))))])]));
				})(); }
								else { return (function () {
									if ( ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'postfix') ) {
						NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('postfix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]))))])]);
					}
					else {
						if ( ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'postfix_or_term') ) {
							NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, NAMESPACE["Perlito5::Expression"].reduce_postfix([v_last_op, NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack])])]);
						}
						else {
							if ( bool(NAMESPACE["Perlito5::Precedence"].is_assoc_type(['list', (v_last_op || (v_last_op = new ArrayRef([])))._array_[1]])) ) {
								(function () {
									var v_arg = null;
									if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2) ) {
										(function () {
											var v_v2 = null;
											(v_v2 = NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]));
											if ( ((NAMESPACE["Perlito5::Expression"].ref([v_v2]) == 'Perlito5::AST::Apply') && (v_v2._class_.code([v_v2]) == (('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>')))) ) {
												NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', v_v2._class_.namespace([v_v2]),'code', v_v2._class_.code([v_v2]),'arguments', (new ArrayRef(interpolate_array((v_v2._class_.arguments([v_v2]) || (v_v2._class_.arguments([v_v2]) = new ArrayRef([])))._array_, null)))])]);
											}
											else {
												NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(v_v2, null)))])]);
											};
											throw(null);
											})();
									}
									else {
										(function () {
											var v_v2 = null;
											(v_v2 = NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]));
											(v_arg = (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]), v_v2))));
											})();
									};
									if ( (((NAMESPACE["Perlito5::Expression"].ref([(v_arg || (v_arg = new ArrayRef([])))._array_[0]]) == 'Perlito5::AST::Apply') && ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'infix')) && ((v_arg || (v_arg = new ArrayRef([])))._array_[0]._class_.code([(v_arg || (v_arg = new ArrayRef([])))._array_[0]]) == ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'))) ) {
										NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.code([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]),'arguments', (new ArrayRef(interpolate_array((((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.arguments([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]) || (((v_arg || (v_arg = new ArrayRef([])))._array_[0])._class_.arguments([((v_arg || (v_arg = new ArrayRef([])))._array_[0])]) = new ArrayRef([])))._array_, (v_arg || (v_arg = new ArrayRef([])))._array_[1])))])]);
										throw(null);
									};
									NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('list:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', v_arg])]);
									})();
							}
							else {
								if ( bool(NAMESPACE["Perlito5::Precedence"].is_assoc_type(['chain', (v_last_op || (v_last_op = new ArrayRef([])))._array_[1]])) ) {
									(function () {
										var v_v2 = null;
										var v_arg = null;
										if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2) ) {
											NAMESPACE["Perlito5::Expression"].die([('Missing value after operator ' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]))]);
										};
										(v_v2 = NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]));
										(v_arg = (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]), v_v2))));
										NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('infix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', v_arg])]);
										})();
								}
								else {
									if ( ((v_last_op || (v_last_op = new ArrayRef([])))._array_[0] == 'ternary') ) {
										(function () {
											var v_v2 = null;
											if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2) ) {
												NAMESPACE["Perlito5::Expression"].die([('Missing value after ternary operator')]);
											};
											(v_v2 = NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]));
											NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('ternary:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]), (v_last_op || (v_last_op = new ArrayRef([])))._array_[2], v_v2)))])]);
											})();
									}
									else {
										(function () {
											var v_v2 = null;
											if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_]) < 2) ) {
												NAMESPACE["Perlito5::Expression"].die([('missing value after operator ' + String.fromCharCode(39) + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + string((String.fromCharCode(39))))]);
											};
											(v_v2 = NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]));
											NAMESPACE["Perlito5::Expression"].push([(v_num_stack || (v_num_stack = new ArrayRef([])))._array_, CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', ('infix:<' + string((v_last_op || (v_last_op = new ArrayRef([])))._array_[1]) + '>'),'arguments', (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].pop_term([v_num_stack]), v_v2)))])]);
											})();
									};
								};
							};
						};
					};
				})(); }
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_arrow", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and((and(('->' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(or(((function () {
	return (and(and(and((and(('(' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((')' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.( )', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]])))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and((and(('[' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.square_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['square_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((']' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.[ ]', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]])))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and((and(('{' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.curly_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['curly_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '.{ }', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]])))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(and(and((and(('(' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((')' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'methcall', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]), (new HashRef(array_to_hash(interpolate_array('end_block', null, 'exp', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]]), 'terminated', 0))))))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'methcall_no_params', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]])))));
			return (1);
		})())));
})()); }));
})()); })));
})()); }));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_sigil", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_sigil([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_sigil'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(and(and((and(('{' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.curly_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['curly_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'arguments', (new ArrayRef(interpolate_array((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('curly_parse')]])))),'code', ('prefix:<' + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]])) + '>'),'namespace', ''])))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.optional_namespace_before_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.optional_namespace_before_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_name([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_name'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_sigil')]]),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]),'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_name')]])])))));
	return (1);
})()); })));
})()); }));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_digit", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_num([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_num'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_num')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_num')]])))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_int([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_int'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_int')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_int')]])))));
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_ternary", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and((String.fromCharCode(63) == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ternary5_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ternary5_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((':' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('op', String.fromCharCode(63) + String.fromCharCode(63) + ' ' + String.fromCharCode(33) + String.fromCharCode(33), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ternary5_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ternary5_parse')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_paren", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and(('(' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.paren_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['paren_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((')' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '( )', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('paren_parse')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_square", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and(('[' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.square_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['square_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((']' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', '[ ]', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('square_parse')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_curly", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and((and(('{' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.exp_stmts'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_declarator", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.declarator([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.declarator'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_type([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.opt_type'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.opt_ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Decl"]._class_.new([CLASS["Perlito5::AST::Decl"],'decl', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.declarator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.declarator')]]),'type', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.opt_type')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.opt_type')]]),'var', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]])])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_sub", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and(('sub' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.sub_def([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.sub_def'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.sub_def')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.sub_def')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_do", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and(('do' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.statement_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['statement_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]])])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_use", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and((and(('use' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.full_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.full_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (((function () {
			return (and((and(('-' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('Perlito5::Grammar.ident')) ) {
			NAMESPACE["Perlito5::Expression"].push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = new ArrayRef([])))._array_, v_m2]);
		}
		else {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = (new ArrayRef(interpolate_array(v_m2))));
		};
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }));
		})()));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.list_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['list_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Use"]._class_.new([CLASS["Perlito5::AST::Use"],'mod', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]])])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_package", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and((and(('package' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 7])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(7, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.full_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.full_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'package','arguments', (new ArrayRef([])),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.full_ident')]])])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_quote", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.val_buf([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.val_buf'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_buf')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.val_buf')]])))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "term_space", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('space', ' '))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "operator", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Precedence"]._class_.op_parse([CLASS["Perlito5::Precedence"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Precedence.op_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Precedence.op_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Precedence.op_parse')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.optional_namespace_before_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.optional_namespace_before_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(or(((function () {
	return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()), function () { return (and(('=>' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_namespace = null;
	var v_name = null;
	(v_namespace = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]));
	(v_name = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]));
	if ( bool(v_namespace) ) {
		(v_name = (string(v_namespace) + '::' + string(v_name)));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', v_name])))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.list_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['list_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'funcall', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('list_parse')]])))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(('->' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_namespace = null;
	var v_name = null;
	(v_namespace = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]));
	(v_name = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]]));
	if ( bool(v_namespace) ) {
		(v_name = (string(v_namespace) + '::' + string(v_name)));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('term', CLASS["Perlito5::AST::Proto"]._class_.new([CLASS["Perlito5::AST::Proto"],'name', v_name])))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array('postfix_or_term', 'funcall_no_params', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.optional_namespace_before_ident')]]), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.ident')]])))));
			return (1);
		})())));
})()); }));
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "has_newline_after", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(((function () {
	return (and((String.fromCharCode(35) == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			var v_m2 = null;
			(v_m2 = CLASS["Perlito5::Grammar"]._class_.is_newline([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
			if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
							((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
				return (1);
			})(); }
						else { return (function () {
							0;
			})(); }
		})())));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.space([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.has_newline_after([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "has_no_comma_or_colon_after", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_pos1 = null;
				(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
				return (or(((function () {
	return (and((',' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and((':' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }), function () { return (and(('' != NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		(v_List_end_token = (new ArrayRef(interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array(':', 1, ']', 1, ')', 1, '}', 1, ';', 1)))), (new HashRef(array_to_hash(interpolate_array('or', 1, 'if', 1)))), (new HashRef(array_to_hash(interpolate_array('for', 1, 'and', 1)))), (new HashRef(array_to_hash(interpolate_array('else', 1, 'when', 1)))), (new HashRef(array_to_hash(interpolate_array('while', 1, 'elsif', 1)))), (new HashRef(array_to_hash(interpolate_array('unless', 1)))), (new HashRef(array_to_hash(interpolate_array('foreach', 1))))))));
		(v_List_end_token_chars = (new ArrayRef(interpolate_array(7, 6, 5, 4, 3, 2, 1))));
		(v_Expr_end_token = (new ArrayRef(interpolate_array((new HashRef(array_to_hash([]))), (new HashRef(array_to_hash(interpolate_array(']', 1, ')', 1, '}', 1, ';', 1)))), (new HashRef(array_to_hash(interpolate_array('if', 1)))), (new HashRef(array_to_hash(interpolate_array('for', 1)))), (new HashRef(array_to_hash(interpolate_array('else', 1, 'when', 1)))), (new HashRef(array_to_hash(interpolate_array('while', 1, 'elsif', 1)))), (new HashRef(array_to_hash(interpolate_array('unless', 1)))), (new HashRef(array_to_hash(interpolate_array('foreach', 1))))))));
		(v_Expr_end_token_chars = (new ArrayRef(interpolate_array(7, 6, 5, 4, 3, 2, 1))));
		make_sub("Perlito5::Expression", "list_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_expr = null;
				var v_last_pos = null;
				var v_is_first_token = null;
				var v_lexer_stack = null;
				var v_terminated = null;
				var v_last_token_was_space = null;
				var v_get_token = null;
				var v_prec = null;
				var v_res = null;
				var v_block = null;
				var v_result = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_last_pos = v_pos);
				(v_is_first_token = 1);
				(v_lexer_stack = (new ArrayRef([])));
				(v_terminated = 0);
				(v_last_token_was_space = 1);
				(v_get_token = function (List__) {
					try {
						var v_v = null;
						if ( bool(NAMESPACE["Perlito5::Expression"].scalar([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_])) ) {
							(v_v = NAMESPACE["Perlito5::Expression"].pop([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_]));
							if ( ((bool(v_is_first_token) && ((v_v || (v_v = new ArrayRef([])))._array_[0] == 'op')) && !( bool(NAMESPACE["Perlito5::Precedence"].is_fixity_type(['prefix', (v_v || (v_v = new ArrayRef([])))._array_[1]])))) ) {
								((v_v || (v_v = new ArrayRef([])))._array_[0] = 'end');
							};
						}
						else {
							(function () {
								var v_m = null;
								(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
								if ( !( bool(v_m._class_.bool([v_m]))) ) {
									throw((new ArrayRef(interpolate_array('end', '*end*'))));
								};
								(v_v = v_m._class_.flat([v_m]));
								if ( ((bool(v_is_first_token) && ((v_v || (v_v = new ArrayRef([])))._array_[0] == 'op')) && !( bool(NAMESPACE["Perlito5::Precedence"].is_fixity_type(['prefix', (v_v || (v_v = new ArrayRef([])))._array_[1]])))) ) {
									((v_v || (v_v = new ArrayRef([])))._array_[0] = 'end');
								};
								if ( ((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end') ) {
									(v_last_pos = v_m._class_.to([v_m]));
								};
								})();
						};
						if ( ((((v_v || (v_v = new ArrayRef([])))._array_[0] == 'postfix_or_term') && ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block')) && bool(v_last_token_was_space)) ) {
							if ( bool(v_self._class_.has_newline_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_newline_after([v_self,v_str,v_last_pos])])) ) {
								(v_terminated = 1);
								NAMESPACE["Perlito5::Expression"].push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);
							}
							else {
								if ( bool(v_self._class_.has_no_comma_or_colon_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_no_comma_or_colon_after([v_self,v_str,v_last_pos])])) ) {
									(v_terminated = 1);
									NAMESPACE["Perlito5::Expression"].push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);
								};
							};
						};
						(v_last_token_was_space = (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'space')));
						(v_is_first_token = 0);
						throw(v_v)
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', v_List_end_token,'end_token_chars', v_List_end_token_chars]));
				(v_res = v_prec._class_.precedence_parse([v_prec]));
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) == 0) ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', '*undef*', 'end_block', null, 'terminated', null))))]));
				};
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 1) ) {
					(v_block = NAMESPACE["Perlito5::Expression"].pop([(v_res || (v_res = new ArrayRef([])))._array_]));
					(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));
				};
				(v_result = NAMESPACE["Perlito5::Expression"].pop_term([v_res]));
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 0) ) {
					(v_block = NAMESPACE["Perlito5::Expression"].pop([(v_res || (v_res = new ArrayRef([])))._array_]));
					(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));
				};
				throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', v_result, 'end_block', v_block, 'terminated', v_terminated))))]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "circumfix_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_delimiter = null;
				var v_expr = null;
				var v_last_pos = null;
				var v_get_token = null;
				var List_delim_token = [];
				var v_prec = null;
				var v_res = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_delimiter = List__[3]);
				(v_last_pos = v_pos);
				(v_get_token = function (List__) {
					try {
						var v_m = null;
						var v_v = null;
						(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
						if ( !( bool(v_m._class_.bool([v_m]))) ) {
							NAMESPACE["Perlito5::Expression"].die([('Expected closing delimiter: '), v_delimiter, ' near ', v_last_pos]);
						};
						(v_v = v_m._class_.flat([v_m]));
						if ( ((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end') ) {
							(v_last_pos = v_m._class_.to([v_m]));
						};
						throw(v_v)
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				(List_delim_token[NAMESPACE["Perlito5::Expression"].length([v_delimiter])] = (new HashRef(array_to_hash(interpolate_array(v_delimiter, 1)))));
				(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', (new ArrayRef(List_delim_token)),'end_token_chars', (new ArrayRef(interpolate_array(NAMESPACE["Perlito5::Expression"].length([v_delimiter]))))]));
				(v_res = v_prec._class_.precedence_parse([v_prec]));
				(v_res = NAMESPACE["Perlito5::Expression"].pop_term([v_res]));
				if ( !( bool((v_res != null))) ) {
					(v_res = '*undef*');
				};
				throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', v_res]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "ternary5_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,':']))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "curly_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,'}']))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "square_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,']']))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "paren_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				throw(v_self._class_.circumfix_parse([v_self,v_str,v_pos,')']))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "here_doc_wanted", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_delimiter = null;
				var v_p = null;
				var v_placeholder = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_p = v_pos);
				if ( (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 2]) == '<<') ) {
					(v_p = add(v_p, 2));
					if ( (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) == (String.fromCharCode(39))) ) {
						(function () {
							var v_m = null;
							(v_p = add(v_p, 1));
							(v_m = CLASS["Perlito5::Grammar"]._class_.single_quoted_unescape([CLASS["Perlito5::Grammar"],v_str,v_p]));
							if ( bool((v_m || (v_m = new HashRef({})))._hash_[('bool')]) ) {
								(v_p = (v_m || (v_m = new HashRef({})))._hash_[('to')]);
								if ( (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) == (String.fromCharCode(39))) ) {
									(v_p = add(v_p, 1));
									(v_delimiter = v_m._class_.flat([v_m]));
								};
							};
							})();
					};
				};
				if ( !( bool((v_delimiter != null))) ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 0,'capture', null]));
				};
				(v_placeholder = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', 'HEREDOC']));
				NAMESPACE["Perlito5::Expression"].push([List_Here_doc, (new ArrayRef(interpolate_array('single_quote', function (List__) {
	try {
		return (((v_placeholder || (v_placeholder = new HashRef({})))._hash_[('buf')] = List__[0]));
	}
	catch(err) {
		if ( err instanceof Error ) {
			throw(err);
		}
		else {
			return(err);
		}
	}
}, v_delimiter)))]);
				throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_p,'bool', 1,'capture', (new ArrayRef(interpolate_array('term', v_placeholder)))]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "here_doc", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_p = null;
				var v_here = null;
				var v_delimiter = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				if ( !( bool(List_Here_doc)) ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1,'capture', null]));
				};
				(v_p = v_pos);
				(v_here = NAMESPACE["Perlito5::Expression"].shift([List_Here_doc]));
				(v_delimiter = (v_here || (v_here = new ArrayRef([])))._array_[2]);
				for ( ; (v_p < NAMESPACE["Perlito5::Expression"].length([v_str]));  ) {
					if ( (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, NAMESPACE["Perlito5::Expression"].length([v_delimiter])]) == v_delimiter) ) {
						((v_here || (v_here = new ArrayRef([])))._array_[1])([NAMESPACE["Perlito5::Expression"].substr([v_str, v_pos, (v_p - v_pos)])]);
						throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', add(v_p, NAMESPACE["Perlito5::Expression"].length([v_delimiter])),'bool', 1,'capture', null]));
					};
					for ( ; ((v_p < NAMESPACE["Perlito5::Expression"].length([v_str])) && ((NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) != NAMESPACE["Perlito5::Expression"].chr([10])) && (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) != NAMESPACE["Perlito5::Expression"].chr([13]))));  ) {
						(v_p)++;
					};
					for ( ; ((v_p < NAMESPACE["Perlito5::Expression"].length([v_str])) && ((NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) == NAMESPACE["Perlito5::Expression"].chr([10])) || (NAMESPACE["Perlito5::Expression"].substr([v_str, v_p, 1]) == NAMESPACE["Perlito5::Expression"].chr([13]))));  ) {
						(v_p)++;
					};
				};
				return (NAMESPACE["Perlito5::Expression"].die([('Can' + String.fromCharCode(39) + 't find string terminator ' + String.fromCharCode(34) + string(v_delimiter) + String.fromCharCode(34) + ' anywhere before EOF')]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "exp_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_expr = null;
				var v_last_pos = null;
				var v_lexer_stack = null;
				var v_terminated = null;
				var v_get_token = null;
				var v_prec = null;
				var v_res = null;
				var v_block = null;
				var v_result = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_last_pos = v_pos);
				(v_lexer_stack = (new ArrayRef([])));
				(v_terminated = 0);
				(v_get_token = function (List__) {
					try {
						var v_v = null;
						if ( bool(NAMESPACE["Perlito5::Expression"].scalar([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_])) ) {
							(v_v = NAMESPACE["Perlito5::Expression"].pop([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_]));
						}
						else {
							(function () {
								var v_m = null;
								(v_m = v_self._class_.operator([v_self,v_str,v_last_pos]));
								if ( !( bool(v_m._class_.bool([v_m]))) ) {
									throw((new ArrayRef(interpolate_array('end', '*end*'))));
								};
								(v_v = v_m._class_.flat([v_m]));
								if ( ((v_v || (v_v = new ArrayRef([])))._array_[0] != 'end') ) {
									(v_last_pos = v_m._class_.to([v_m]));
								};
								})();
						};
						if ( ((((((v_v || (v_v = new ArrayRef([])))._array_[0] == 'postfix_or_term') && ((v_v || (v_v = new ArrayRef([])))._array_[1] == 'block')) || (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term') && (NAMESPACE["Perlito5::Expression"].ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::Sub'))) || (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term') && (NAMESPACE["Perlito5::Expression"].ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::Do'))) || (((v_v || (v_v = new ArrayRef([])))._array_[0] == 'term') && (NAMESPACE["Perlito5::Expression"].ref([(v_v || (v_v = new ArrayRef([])))._array_[1]]) == 'Perlito5::AST::CompUnit'))) ) {
							if ( bool(v_self._class_.has_newline_after([v_self,v_str,v_last_pos])._class_.bool([v_self._class_.has_newline_after([v_self,v_str,v_last_pos])])) ) {
								(v_terminated = 1);
								NAMESPACE["Perlito5::Expression"].push([(v_lexer_stack || (v_lexer_stack = new ArrayRef([])))._array_, (new ArrayRef(interpolate_array('end', '*end*')))]);
							};
						};
						throw(v_v)
					}
					catch(err) {
						if ( err instanceof Error ) {
							throw(err);
						}
						else {
							return(err);
						}
					}
				});
				(v_prec = CLASS["Perlito5::Precedence"]._class_.new([CLASS["Perlito5::Precedence"],'get_token', v_get_token,'reduce', v_reduce_to_ast,'end_token', v_Expr_end_token,'end_token_chars', v_Expr_end_token_chars]));
				(v_res = v_prec._class_.precedence_parse([v_prec]));
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) == 0) ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'bool', 0]));
				};
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 1) ) {
					(v_block = NAMESPACE["Perlito5::Expression"].pop([(v_res || (v_res = new ArrayRef([])))._array_]));
					(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));
				};
				(v_result = NAMESPACE["Perlito5::Expression"].pop_term([v_res]));
				if ( (NAMESPACE["Perlito5::Expression"].scalar([(v_res || (v_res = new ArrayRef([])))._array_]) > 0) ) {
					(v_block = NAMESPACE["Perlito5::Expression"].pop([(v_res || (v_res = new ArrayRef([])))._array_]));
					if ( !( (NAMESPACE["Perlito5::Expression"].ref([v_block]) == 'Perlito5::AST::Lit::Block')) ) {
						(v_block = CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_block || (v_block = new ArrayRef([])))._array_[2],'sig', (v_block || (v_block = new ArrayRef([])))._array_[3]]));
					};
				};
				throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_last_pos,'bool', 1,'capture', (new HashRef(array_to_hash(interpolate_array('exp', v_result, 'end_block', v_block, 'terminated', v_terminated))))]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "exp_stmt", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(or(or(((function () {
	return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.if([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.if'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.if')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.if')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.unless([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.unless'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.unless')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.unless')]]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.when([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.when'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.when')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.when')]]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.for([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.for'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.for')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.for')]]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.while([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.while'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.while')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.while')]]));
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "statement_modifier", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(or(or(or(((function () {
	return (and(('if' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('unless' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 6])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(6, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('when' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('foreach' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 7])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(7, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('for' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('while' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "delimited_statement", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and((and((';' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.statement_parse([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['statement_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return (and((';' == NAMESPACE["Perlito5::Expression"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.ws([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('statement_parse')]]));
	return (1);
})()); })));
})()); }));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Expression", "statement_parse", function (List__) {
			try {
				var v_self = null;
				var v_str = null;
				var v_pos = null;
				var v_expr = null;
				var v_last_pos = null;
				var v_lexer_stack = null;
				var v_res = null;
				var v_modifier = null;
				var v_modifier_exp = null;
				(v_self = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_last_pos = v_pos);
				(v_lexer_stack = (new ArrayRef([])));
				(v_res = v_self._class_.exp_stmt([v_self,v_str,v_pos]));
				if ( bool(v_res._class_.bool([v_res])) ) {
					throw(v_res);
				};
				(v_res = v_self._class_.exp_parse([v_self,v_str,v_pos]));
				if ( !( bool(v_res._class_.bool([v_res]))) ) {
					throw(v_res);
				};
				if ( (NAMESPACE["Perlito5::Expression"].ref([(v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']]) == 'Perlito5::AST::Lit::Block') ) {
					((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'] = CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']]));
				};
				if ( bool((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['end_block']) ) {
					NAMESPACE["Perlito5::Expression"].die([('Unexpected block after expression near '), v_pos]);
				};
				if ( bool((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['terminated']) ) {
					((v_res || (v_res = new HashRef({})))._hash_[('capture')] = (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']);
					throw(v_res);
				};
				(v_modifier = v_self._class_.statement_modifier([v_self,v_str,v_res._class_.to([v_res])]));
				if ( !( bool(v_modifier._class_.bool([v_modifier]))) ) {
					((v_res || (v_res = new HashRef({})))._hash_[('capture')] = (v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp']);
					throw(v_res);
				};
				(v_modifier_exp = v_self._class_.exp_parse([v_self,v_str,v_modifier._class_.to([v_modifier])]));
				if ( !( bool(v_modifier_exp._class_.bool([v_modifier_exp]))) ) {
					NAMESPACE["Perlito5::Expression"].die([('Expected expression after ' + String.fromCharCode(39)), v_modifier._class_.flat([v_modifier]), (String.fromCharCode(39))]);
				};
				if ( bool((v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['end_block']) ) {
					NAMESPACE["Perlito5::Expression"].die([('Unexpected block after expression near '), v_modifier._class_.to([v_modifier])]);
				};
				(v_modifier = v_modifier._class_.flat([v_modifier]));
				if ( (v_modifier == 'if') ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))]),'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))])])]));
				};
				if ( (v_modifier == 'unless') ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))]),'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));
				};
				if ( (v_modifier == 'while') ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::While"]._class_.new([CLASS["Perlito5::AST::While"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));
				};
				if ( ((v_modifier == 'for') || (v_modifier == 'foreach')) ) {
					throw(CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_modifier_exp._class_.to([v_modifier_exp]),'bool', 1,'capture', CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', (v_modifier_exp._class_.flat([v_modifier_exp]) || (v_modifier_exp._class_.flat([v_modifier_exp]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_res._class_.flat([v_res]) || (v_res._class_.flat([v_res]) = new HashRef({})))._hash_['exp'])))])])]));
				};
				return (NAMESPACE["Perlito5::Expression"].die([('Unexpected statement modifier ' + String.fromCharCode(39) + string(v_modifier) + String.fromCharCode(39))]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		1;
	})()
;
	(function () {
		make_package("Perlito5::Grammar");
		make_sub("Perlito5::Grammar", "unless", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and(and(and(and((and(('u' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('n' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_body = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'unless' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))]),'otherwise', v_body]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "if", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and((and(('i' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('f' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(((function () {
	return (and(and(and(and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp2([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp2'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_body = null;
	var v_otherwise = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	(v_otherwise = (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp2')]])) = new HashRef({})))._hash_['exp']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);
	};
	if ( !( bool((v_otherwise != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'else' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', v_otherwise]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('s' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.if([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['if'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_body = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef(interpolate_array((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('if')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('if')]]))))])]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			var v_body = null;
			(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
			if ( !( bool((v_body != null))) ) {
				NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'if' + String.fromCharCode(39))]);
			};
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::If"]._class_.new([CLASS["Perlito5::AST::If"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body,'otherwise', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (new ArrayRef([]))])]));
			return (1);
		})())));
})()); }));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "when", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and(and((and(('w' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('h' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('n' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_body = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'when' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["When"]._class_.new([CLASS["When"],'parameters', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "for", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and((and(('f' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('o' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('r' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return (and(('each' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(and(and(and(and(and(and(and(and(and(and(and(and(and((and(('m' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('y' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.var_ident([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.var_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('(' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.paren_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.paren_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((')' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('{' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Grammar.exp_stmts'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.paren_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.paren_parse')]]),'topic', null,'body', CLASS["Perlito5::AST::Lit::Block"]._class_.new([CLASS["Perlito5::AST::Lit::Block"],'stmts', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.exp_stmts')]]),'sig', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Grammar.var_ident')]])])]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_body = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'when' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::For"]._class_.new([CLASS["Perlito5::AST::For"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'topic', null,'body', v_body]));
	return (1);
})()); })));
})()); }));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "while", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and(and(and((and(('w' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('h' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('i' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('l' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_body = null;
	(v_body = ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['end_block']);
	if ( !( bool((v_body != null))) ) {
		NAMESPACE["Perlito5::Grammar"].die([('Missing code block in ' + String.fromCharCode(39) + 'while' + String.fromCharCode(39))]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::While"]._class_.new([CLASS["Perlito5::AST::While"],'cond', ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp')]]) = new HashRef({})))._hash_['exp'],'body', v_body]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
	})()
;
	(function () {
		make_package("Perlito5::Grammar");
		// use Perlito5::Expression
;
		// use Perlito5::Grammar::Control
;
		make_sub("Perlito5::Grammar", "is_newline", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and((String.fromCharCode(10) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and((String.fromCharCode(13) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "not_newline", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_m2 = null;
				(v_m2 = v_grammar._class_.is_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
				if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
									((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
					return (1);
				})(); }
								else { return (function () {
									0;
				})(); }
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_m2 = null;
				(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
				if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
									((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
					return (1);
				})(); }
								else { return (function () {
									0;
				})(); }
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.word([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "full_ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (((function () {
			return (and((and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }));
		})()));
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "namespace_before_ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (((function () {
			return (and(and((and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()); }));
		})()));
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "optional_namespace_before_ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(((function () {
	return (and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.namespace_before_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['namespace_before_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('namespace_before_ident')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = 'main');
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = '');
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "pod_pod_begin", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.is_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('=cut' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and((and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "pod_begin", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.is_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('=end' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 4])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(4, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and((and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "ws", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_match_null = null;
							var v_last_pos = null;
							var v_count = null;
							(v_last_match_null = 0);
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							(v_count = 0);
							for ( ; (bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(((function () {
	return (and((and((String.fromCharCode(35) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.not_newline([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and((and((String.fromCharCode(10) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return (and((String.fromCharCode(13) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and((String.fromCharCode(13) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return (and((String.fromCharCode(10) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); })));
})()); }));
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.here_doc([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and((and(('=' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(or(((function () {
	return (and((and(('pod' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('head1' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('begin' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('for' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.pod_begin([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((1));
})()); }));
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			var v_m2 = null;
			(v_m2 = v_grammar._class_.space([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
			if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
							((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
				return (1);
			})(); }
						else { return (function () {
							0;
			})(); }
		})())));
})()); }));
})()) && (v_last_match_null < 2));  ) {
								if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
									(v_last_match_null = add(v_last_match_null, 1));
								}
								else {
									(v_last_match_null = 0);
								};
								(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
								(v_count = add(v_count, 1));
							};
							((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							return ((v_count > 0));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_ws", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_pos = null;
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
								((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							};
							return (1);
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_ws2", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_pos = null;
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
								((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							};
							return (1);
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_ws3", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_pos = null;
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
								((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							};
							return (1);
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "declarator", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(or(((function () {
	return (and(('my' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('state' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('our' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 3])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(3, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('local' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 5])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(5, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "exp_stmts2", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "exp", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.exp_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.exp_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "exp2", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.exp_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.exp_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.exp_parse')]]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = 'postcircumfix:<( )>');
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_type", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(and(((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	return (and(('::' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 2])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(2, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.full_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['full_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('full_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('full_ident')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(1, function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = '');
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "var_sigil", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(or(or(((function () {
	return (and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('%' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('&' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('*' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "var_name", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.full_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['full_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			var v_m2 = null;
			(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
			if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
							((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digit'] = v_m2);
				return (1);
			})(); }
						else { return (function () {
							0;
			})(); }
		})())));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "var_ident", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.var_sigil([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['var_sigil'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.optional_namespace_before_ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['optional_namespace_before_ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.var_name([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['var_name'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_sigil')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_sigil')]]),'namespace', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('optional_namespace_before_ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('optional_namespace_before_ident')]]),'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('var_name')]])]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "exponent", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('E' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(((function () {
	return (and(('+' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('-' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((1));
})()); }));
})()); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "val_num", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(and((and(('.' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and((and(('.' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()); }), function () { return ((function () {
	var v_last_pos = null;
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exponent([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	};
	return (1);
})()); })));
})()); }));
})()); })));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Num"]._class_.new([CLASS["Perlito5::AST::Val::Num"],'num', v_MATCH._class_.flat([v_MATCH])]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "char_any", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "char_any_single_quote", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and((String.fromCharCode(39) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (((function () {
			return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_pos1 = null;
				(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
				return (or(((function () {
	return (and((String.fromCharCode(39) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
		})()));
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "single_quoted_unescape", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(or(or(((function () {
	return (and(and(and((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(92) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and((String.fromCharCode(39) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(39) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(92) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.char_any_single_quote([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any_single_quote'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_single_quote')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_single_quote')]])) + string((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]]))));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((1));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "char_any_double_quote", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_pos1 = null;
				(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
				return (or(or(((function () {
	return (and((String.fromCharCode(34) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (((function () {
			return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				var v_pos1 = null;
				(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
				return (or(or(or(((function () {
	return (and((String.fromCharCode(34) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return (((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }))));
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = !( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')])));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return (and(('' != NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }));
		})()));
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "double_quoted_unescape", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and((and((String.fromCharCode(92) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(or(or(((function () {
	return (and((and(('c' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(and(and((and(('[' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digits([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digits'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((']' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = NAMESPACE["Perlito5::Grammar"].chr([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]])]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digits([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['digits'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = NAMESPACE["Perlito5::Grammar"].chr([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('digits')]])]));
	return (1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('e' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = NAMESPACE["Perlito5::Grammar"].chr([27]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('n' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (String.fromCharCode(10)));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and((and(('t' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = NAMESPACE["Perlito5::Grammar"].chr([9]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]]));
	return (1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.char_any_double_quote([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any_double_quote'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_double_quote')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any_double_quote')]]));
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "double_quoted_buf", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(or(((function () {
	return (and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(((function () {
	return (and(and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and((and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.operator([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.operator'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) = new ArrayRef([])))._array_[1]);
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and(and((and(('$' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('{' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Var"]._class_.new([CLASS["Perlito5::AST::Var"],'sigil', '$','name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('ident')]])]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]])]));
	return (1);
})()); })));
})()); }));
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(or(((function () {
	return (and(and(((function () {
	var v_tmp = null;
	(v_tmp = v_MATCH);
	(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'to', (v_tmp || (v_tmp = new HashRef({})))._hash_[('to')],'bool', 1]));
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = ((function () {
		var v_pos1 = null;
		(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		return (((function () {
				return (and((and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }));
			})()));
	})()));
	((v_tmp || (v_tmp = new HashRef({})))._hash_[('bool')] = ( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
	(v_MATCH = v_tmp);
	return (( bool((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')]) ? 1 : 0));
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.operator([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.operator'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'join','arguments', (new ArrayRef(interpolate_array(CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', ' ']), (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.operator')]])) = new ArrayRef([])))._array_[1])))]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and(and((and(('@' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return (and(('{' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('}' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'join','arguments', (new ArrayRef(interpolate_array(CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', ' ']), (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])) || (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])) = new ArrayRef([])))._array_[0])))]));
	return (1);
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.char_any([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['char_any'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('char_any')]])]));
	return (1);
})()); })));
})()); }));
})()); })));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.double_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_unescape')]])]));
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "val_buf", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(and(and((and((String.fromCharCode(34) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.double_quoted_buf([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('double_quoted_buf')) ) {
			NAMESPACE["Perlito5::Grammar"].push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] = new ArrayRef([])))._array_, v_m2]);
		}
		else {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['double_quoted_buf'] = (new ArrayRef(interpolate_array(v_m2))));
		};
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()); }), function () { return (and((String.fromCharCode(34) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_args = null;
	(v_args = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')]);
	if ( !( bool(v_args)) ) {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', '']));
	}
	else {
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'namespace', '','code', 'list:<.>','arguments', (new ArrayRef(interpolate_array((function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.capture([v__]))}; return out; })(((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('double_quoted_buf')] = new ArrayRef([])))._array_))))]));
	};
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((and(and(and((and((String.fromCharCode(39) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.single_quoted_unescape([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['single_quoted_unescape'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((String.fromCharCode(39) == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Buf"]._class_.new([CLASS["Perlito5::AST::Val::Buf"],'buf', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('single_quoted_unescape')]])]));
	return (1);
})()); })));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "digits", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_match_null = null;
							var v_last_pos = null;
							var v_count = null;
							(v_last_match_null = 0);
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							(v_count = 0);
							for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
								if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
									(v_last_match_null = add(v_last_match_null, 1));
								}
								else {
									(v_last_match_null = 0);
								};
								(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
								(v_count = add(v_count, 1));
							};
							((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							return ((v_count > 0));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "val_int", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	var v_count = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	(v_count = 0);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.digit([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
		(v_count = add(v_count, 1));
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return ((v_count > 0));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Val::Int"]._class_.new([CLASS["Perlito5::AST::Val::Int"],'int', v_MATCH._class_.flat([v_MATCH])]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "exp_stmts", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_last_match_null = null;
	var v_last_pos = null;
	(v_last_match_null = 0);
	(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	for ( ; (bool((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.delimited_statement([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('Perlito5::Expression.delimited_statement')) ) {
			NAMESPACE["Perlito5::Grammar"].push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] = new ArrayRef([])))._array_, v_m2]);
		}
		else {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.delimited_statement'] = (new ArrayRef(interpolate_array(v_m2))));
		};
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()) && (v_last_match_null < 2));  ) {
		if ( (v_last_pos == (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]) ) {
			(v_last_match_null = add(v_last_match_null, 1));
		}
		else {
			(v_last_match_null = 0);
		};
		(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	};
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
	return (1);
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (new ArrayRef(interpolate_array((function (a_) { var out = []; if ( a_ == null ) { return out; }; for(var i = 0; i < a_.length; i++) { var v__ = a_[i]; out.push(v__._class_.capture([v__]))}; return out; })(((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.delimited_statement')] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.delimited_statement')] = new ArrayRef([])))._array_)))));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "opt_name", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							var v_last_pos = null;
							(v_last_pos = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
							if ( !( bool((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.ident([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		if ( bool((v_MATCH)._hash_.hasOwnProperty('ident')) ) {
			NAMESPACE["Perlito5::Grammar"].push([((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = new ArrayRef([])))._array_, v_m2]);
		}
		else {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_['ident'] = (new ArrayRef(interpolate_array(v_m2))));
		};
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})())) ) {
								((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_last_pos);
							};
							return (1);
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "args_sig", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(((function () {
	var v_m2 = null;
	(v_m2 = CLASS["Perlito5::Expression"]._class_.list_parse([CLASS["Perlito5::Expression"],v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['Perlito5::Expression.list_parse'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sig"]._class_.new([CLASS["Perlito5::AST::Sig"],'positional', NAMESPACE["Perlito5::Expression"].expand_list([((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]]) || ((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('Perlito5::Expression.list_parse')]]) = new HashRef({})))._hash_['exp']]),'named', (new HashRef(array_to_hash([])))]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "method_sig", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (or(((function () {
	return (and(and(and(and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return (and(('(' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.args_sig([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['args_sig'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and((')' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('args_sig')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('args_sig')]]));
	return (1);
})()); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sig"]._class_.new([CLASS["Perlito5::AST::Sig"],'positional', (new ArrayRef([])),'named', (new HashRef(array_to_hash([])))]));
			return (1);
		})())));
})()); }));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Grammar", "sub_def", function (List__) {
			try {
				var v_grammar = null;
				var v_str = null;
				var v_pos = null;
				var v_MATCH = null;
				(v_grammar = List__[0]);
				(v_str = List__[1]);
				(v_pos = List__[2]);
				(v_MATCH = CLASS["Perlito5::Match"]._class_.new([CLASS["Perlito5::Match"],'str', v_str,'from', v_pos,'to', v_pos,'bool', 1]));
				((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('bool')] = (((function () {
					var v_pos1 = null;
					(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
					return (((function () {
							return (and(and(and(and(and(and(and(and(and(((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_name([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['opt_name'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.method_sig([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['method_sig'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return (and(('{' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); })); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.exp_stmts([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		((v_MATCH || (v_MATCH = new HashRef({})))._hash_['exp_stmts'] = v_m2);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_m2 = null;
	(v_m2 = v_grammar._class_.opt_ws([v_grammar,v_str,(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]]));
	if ( bool((v_m2 || (v_m2 = new HashRef({})))._hash_[('bool')]) ) { return (function () {
			((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = (v_m2 || (v_m2 = new HashRef({})))._hash_[('to')]);
		return (1);
	})(); }
		else { return (function () {
			0;
	})(); }
})()); }), function () { return ((function () {
	var v_pos1 = null;
	(v_pos1 = (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]);
	return (or(((function () {
	return (and(('}' == NAMESPACE["Perlito5::Grammar"].substr([v_str, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')], 1])), function () { return (((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = add(1, (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')]))); }));
})()), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('to')] = v_pos1);
	return ((((function () {
			NAMESPACE["Perlito5::Grammar"].die(['Syntax Error in sub ' + String.fromCharCode(39), (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]]), String.fromCharCode(39)]);
			return (1);
		})())));
})()); }));
})()); }), function () { return ((function () {
	((v_MATCH || (v_MATCH = new HashRef({})))._hash_[('capture')] = CLASS["Perlito5::AST::Sub"]._class_.new([CLASS["Perlito5::AST::Sub"],'name', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('opt_name')]]),'sig', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('method_sig')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('method_sig')]]),'block', (v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]._class_.flat([(v_MATCH || (v_MATCH = new HashRef({})))._hash_[('exp_stmts')]])]));
	return (1);
})()); }));
						})()));
				})())));
				return (v_MATCH);
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
	})()
;
	// use Perlito5::Grammar
;
	// use Perlito5::Grammar::Control
;
	// use Perlito5::Precedence
;
	// use Perlito5::Expression
;
	(function () {
		var Hash_op = {};
		// use v5
;
		make_package("Perlito5::AST::Apply");
		(Hash_op = array_to_hash(interpolate_array('infix:<+=>', 'infix:<+>', 'infix:<-=>', 'infix:<->', 'infix:<*=>', 'infix:<*>', 'infix:<' + String.fromCharCode(47) + '=>', 'infix:<' + String.fromCharCode(47) + '>', 'infix:<||=>', 'infix:<||>', 'infix:<&&=>', 'infix:<&&>', 'infix:<|=>', 'infix:<|>', 'infix:<&=>', 'infix:<&>', 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '=>', 'infix:<' + String.fromCharCode(47) + String.fromCharCode(47) + '>', 'infix:<.=>', 'list:<.>')));
		make_sub("Perlito5::AST::Apply", "op_assign", function (List__) {
			try {
				var v_self = null;
				var v_code = null;
				(v_self = List__[0]);
				(v_code = (v_self || (v_self = new HashRef({})))._hash_[('code')]);
				if ( bool(NAMESPACE["Perlito5::AST::Apply"].ref([v_code])) ) {
					throw(0);
				};
				if ( bool((Hash_op).hasOwnProperty(v_code)) ) {
					throw(CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', 'infix:<=>','arguments', (new ArrayRef(interpolate_array(((v_self || (v_self = new HashRef({})))._hash_[('arguments')] || ((v_self || (v_self = new HashRef({})))._hash_[('arguments')] = new ArrayRef([])))._array_[0], CLASS["Perlito5::AST::Apply"]._class_.new([CLASS["Perlito5::AST::Apply"],'code', Hash_op[v_code],'arguments', (v_self || (v_self = new HashRef({})))._hash_[('arguments')]]))))]));
				};
				throw(0)
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_package("Perlito5::AST::Do");
		make_sub("Perlito5::AST::Do", "simplify", function (List__) {
			try {
				var v_self = null;
				var v_block = null;
				(v_self = List__[0]);
				if ( bool((v_self || (v_self = new HashRef({})))._hash_[('block')]._class_.isa([(v_self || (v_self = new HashRef({})))._hash_[('block')],'Perlito5::AST::Lit::Block'])) ) {
					(v_block = (v_self || (v_self = new HashRef({})))._hash_[('block')]._class_.stmts([(v_self || (v_self = new HashRef({})))._hash_[('block')]]));
				}
				else {
					(v_block = (new ArrayRef(interpolate_array((v_self || (v_self = new HashRef({})))._hash_[('block')]))));
				};
				if ( (NAMESPACE["Perlito5::AST::Do"].scalar([(v_block || (v_block = new ArrayRef([])))._array_]) == 1) ) {
					(function () {
						var v_stmt = null;
						(v_stmt = (v_block || (v_block = new ArrayRef([])))._array_[0]);
						if ( (bool(v_stmt._class_.isa([v_stmt,'Perlito5::AST::Apply'])) && (v_stmt._class_.code([v_stmt]) == 'circumfix:<( )>')) ) {
							(function () {
								var v_args = null;
								(v_args = v_stmt._class_.arguments([v_stmt]));
								throw(CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_args || (v_args = new ArrayRef([])))._array_[0]])._class_.simplify([CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', (v_args || (v_args = new ArrayRef([])))._array_[0]])]));
								})();
						};
						if ( bool(v_stmt._class_.isa([v_stmt,'Perlito5::AST::Do'])) ) {
							throw(v_stmt._class_.simplify([v_stmt]));
						};
						})();
				};
				throw(CLASS["Perlito5::AST::Do"]._class_.new([CLASS["Perlito5::AST::Do"],'block', v_block]))
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
	})()
;
	// use Perlito5::Macro
;
	(function () {
		make_package("Perlito5::Runtime");
		make_sub("Perlito5::Runtime", "_replace", function (List__) {
			try {
				var v_s = null;
				var v_old = null;
				var v_new = null;
				var v_p = null;
				(v_s = NAMESPACE["Perlito5::Runtime"].shift([List__]));
				(v_old = NAMESPACE["Perlito5::Runtime"].shift([List__]));
				(v_new = NAMESPACE["Perlito5::Runtime"].shift([List__]));
				(v_p = NAMESPACE["Perlito5::Runtime"].index([v_s, v_old]));
				return (( (v_p >= 0) ? (string(NAMESPACE["Perlito5::Runtime"].substr([v_s, 0, v_p])) + string(v_new) + string(NAMESPACE["Perlito5::Runtime"]._replace([NAMESPACE["Perlito5::Runtime"].substr([v_s, add(v_p, NAMESPACE["Perlito5::Runtime"].length([v_old]))]), v_old, v_new]))) : v_s));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Runtime", "lisp_escape_string", function (List__) {
			try {
				var v_s = null;
				(v_s = NAMESPACE["Perlito5::Runtime"].shift([List__]));
				return (NAMESPACE["Perlito5::Runtime"]._replace([v_s, (String.fromCharCode(92)), (String.fromCharCode(92) + String.fromCharCode(92))]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		make_sub("Perlito5::Runtime", "to_go_namespace", function (List__) {
			try {
				var v_s = null;
				(v_s = NAMESPACE["Perlito5::Runtime"].shift([List__]));
				return (NAMESPACE["Perlito5::Runtime"]._replace([v_s, ('::'), ('__')]));
			}
			catch(err) {
				if ( err instanceof Error ) {
					throw(err);
				}
				else {
					return(err);
				}
			}
		});
		1;
	})()
;
	// use Perlito5::Runtime
;
	make_sub("Perlito5", "compile_p5_to_js", function (List__) {
		try {
			var v_s = null;
			var v_ast = null;
			(v_s = NAMESPACE["Perlito5"].shift([List__]));
			(v_ast = CLASS["Perlito5::Grammar"]._class_.exp_stmts([CLASS["Perlito5::Grammar"],v_s,0]));
			return (CLASS["Perlito5::AST::CompUnit"]._class_.new([CLASS["Perlito5::AST::CompUnit"],'name', 'main','body', v_ast._class_.flat([v_ast])])._class_.emit_javascript([CLASS["Perlito5::AST::CompUnit"]._class_.new([CLASS["Perlito5::AST::CompUnit"],'name', 'main','body', v_ast._class_.flat([v_ast])])]));
		}
		catch(err) {
			if ( err instanceof Error ) {
				throw(err);
			}
			else {
				return(err);
			}
		}
	});
	1;
})()

